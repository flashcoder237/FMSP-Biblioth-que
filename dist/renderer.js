/*! For license information please see renderer.js.LICENSE.txt */
(()=>{"use strict";var e={20:(e,n,t)=>{var r=t(540),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,t){var r,i={},c=null,d=null;for(r in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(d=n.ref),n)s.call(n,r)&&!l.hasOwnProperty(r)&&(i[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===i[r]&&(i[r]=n[r]);return{$$typeof:a,type:e,key:c,ref:d,props:i,_owner:o.current}}n.Fragment=i,n.jsx=c,n.jsxs=c},45:function(e,n,t){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=r(t(825));n.default=class{constructor(e,{headers:n={},schema:t,fetch:r}){this.url=e,this.headers=n,this.schema=t,this.fetch=r}select(e,{head:n=!1,count:t}={}){const r=n?"HEAD":"GET";let i=!1;const s=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",s),t&&(this.headers.Prefer=`count=${t}`),new a.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:t=!0}={}){const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push(`count=${n}`),t||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const n=e.reduce((e,n)=>e.concat(Object.keys(n)),[]);if(n.length>0){const e=[...new Set(n)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:t=!1,count:r,defaultToNull:i=!0}={}){const s=[`resolution=${t?"ignore":"merge"}-duplicates`];if(void 0!==n&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),i||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const n=e.reduce((e,n)=>e.concat(Object.keys(n)),[]);if(n.length>0){const e=[...new Set(n)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const t=[];return this.headers.Prefer&&t.push(this.headers.Prefer),n&&t.push(`count=${n}`),this.headers.Prefer=t.join(","),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},261:function(e,n,t){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=r(t(660));class i extends a.default{select(e){let n=!1;const t=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!n?"":('"'===e&&(n=!n),e)).join("");return this.url.searchParams.set("select",t),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:t,foreignTable:r,referencedTable:a=r}={}){const i=a?`${a}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${n?"asc":"desc"}${void 0===t?"":t?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:t=n}={}){const r=void 0===t?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,n,{foreignTable:t,referencedTable:r=t}={}){const a=void 0===r?"offset":`${r}.offset`,i=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,""+(n-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:t=!1,buffers:r=!1,wal:a=!1,format:i="text"}={}){var s;const o=[e?"analyze":null,n?"verbose":null,t?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(s=this.headers.Accept)&&void 0!==s?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}n.default=i},279:function(e,n,t){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PostgrestError=n.PostgrestBuilder=n.PostgrestTransformBuilder=n.PostgrestFilterBuilder=n.PostgrestQueryBuilder=n.PostgrestClient=void 0;const a=r(t(342));n.PostgrestClient=a.default;const i=r(t(45));n.PostgrestQueryBuilder=i.default;const s=r(t(825));n.PostgrestFilterBuilder=s.default;const o=r(t(261));n.PostgrestTransformBuilder=o.default;const l=r(t(660));n.PostgrestBuilder=l.default;const c=r(t(818));n.PostgrestError=c.default,n.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}},287:(e,n)=>{var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator,m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function x(e,n,t){this.props=e,this.context=n,this.refs=g,this.updater=t||m}function b(){}function v(e,n,t){this.props=e,this.context=n,this.refs=g,this.updater=t||m}x.prototype.isReactComponent={},x.prototype.setState=function(e,n){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var y=v.prototype=new b;y.constructor=v,f(y,x.prototype),y.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function N(e,n,r){var a,i={},s=null,o=null;if(null!=n)for(a in void 0!==n.ref&&(o=n.ref),void 0!==n.key&&(s=""+n.key),n)j.call(n,a)&&!E.hasOwnProperty(a)&&(i[a]=n[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:t,type:e,key:s,ref:o,props:i,_owner:k.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}var S=/\/+/g;function _(e,n){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return n[e]})}(""+e.key):n.toString(36)}function F(e,n,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case t:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+_(l,0):i,w(s)?(a="",null!=e&&(a=e.replace(S,"$&/")+"/"),F(s,n,a,"",function(e){return e})):null!=s&&(C(s)&&(s=function(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(S,"$&/")+"/")+e)),n.push(s)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var d=i+_(o=e[c],c);l+=F(o,n,a,d,s)}else if(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=F(o=o.value,n,a,d=i+_(o,c++),s);else if("object"===o)throw n=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return l}function z(e,n,t){if(null==e)return e;var r=[],a=0;return F(e,r,"","",function(e){return n.call(t,e,a++)}),r}function D(e){if(-1===e._status){var n=e._result;(n=n()).then(function(n){0!==e._status&&-1!==e._status||(e._status=1,e._result=n)},function(n){0!==e._status&&-1!==e._status||(e._status=2,e._result=n)}),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},P={transition:null},A={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:P,ReactCurrentOwner:k};function I(){throw Error("act(...) is not supported in production builds of React.")}n.Children={map:z,forEach:function(e,n,t){z(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return z(e,function(){n++}),n},toArray:function(e){return z(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n.Component=x,n.Fragment=a,n.Profiler=s,n.PureComponent=v,n.StrictMode=i,n.Suspense=d,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,n.act=I,n.cloneElement=function(e,n,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=n){if(void 0!==n.ref&&(s=n.ref,o=k.current),void 0!==n.key&&(i=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in n)j.call(n,c)&&!E.hasOwnProperty(c)&&(a[c]=void 0===n[c]&&void 0!==l?l[c]:n[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:t,type:e.type,key:i,ref:s,props:a,_owner:o}},n.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},n.createElement=N,n.createFactory=function(e){var n=N.bind(null,e);return n.type=e,n},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:c,render:e}},n.isValidElement=C,n.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:D}},n.memo=function(e,n){return{$$typeof:u,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=P.transition;P.transition={};try{e()}finally{P.transition=n}},n.unstable_act=I,n.useCallback=function(e,n){return T.current.useCallback(e,n)},n.useContext=function(e){return T.current.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e){return T.current.useDeferredValue(e)},n.useEffect=function(e,n){return T.current.useEffect(e,n)},n.useId=function(){return T.current.useId()},n.useImperativeHandle=function(e,n,t){return T.current.useImperativeHandle(e,n,t)},n.useInsertionEffect=function(e,n){return T.current.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return T.current.useLayoutEffect(e,n)},n.useMemo=function(e,n){return T.current.useMemo(e,n)},n.useReducer=function(e,n,t){return T.current.useReducer(e,n,t)},n.useRef=function(e){return T.current.useRef(e)},n.useState=function(e){return T.current.useState(e)},n.useSyncExternalStore=function(e,n,t){return T.current.useSyncExternalStore(e,n,t)},n.useTransition=function(){return T.current.useTransition()},n.version="18.3.1"},338:(e,n,t)=>{var r=t(961);n.H=r.createRoot,r.hydrateRoot},342:function(e,n,t){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=r(t(45)),i=r(t(825)),s=t(530);class o{constructor(e,{headers:n={},schema:t,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),n),this.schemaName=t,this.fetch=r}from(e){const n=new URL(`${this.url}/${e}`);return new a.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:t=!1,get:r=!1,count:a}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let l;t||r?(s=t?"HEAD":"GET",Object.entries(n).filter(([e,n])=>void 0!==n).map(([e,n])=>[e,Array.isArray(n)?`{${n.join(",")}}`:`${n}`]).forEach(([e,n])=>{o.searchParams.append(e,n)})):(s="POST",l=n);const c=Object.assign({},this.headers);return a&&(c.Prefer=`count=${a}`),new i.default({method:s,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}n.default=o},463:(e,n)=>{function t(e,n){var t=e.length;e.push(n);e:for(;0<t;){var r=t-1>>>1,a=e[r];if(!(0<i(a,n)))break e;e[r]=n,e[t]=a,t=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var n=e[0],t=e.pop();if(t!==n){e[0]=t;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>i(l,t))c<a&&0>i(d,l)?(e[r]=d,e[c]=t,r=c):(e[r]=l,e[o]=t,r=o);else{if(!(c<a&&0>i(d,t)))break e;e[r]=d,e[c]=t,r=c}}}return n}function i(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,p=null,h=3,m=!1,f=!1,g=!1,x="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function y(e){for(var n=r(d);null!==n;){if(null===n.callback)a(d);else{if(!(n.startTime<=e))break;a(d),n.sortIndex=n.expirationTime,t(c,n)}n=r(d)}}function w(e){if(g=!1,y(e),!f)if(null!==r(c))f=!0,P(j);else{var n=r(d);null!==n&&A(w,n.startTime-e)}}function j(e,t){f=!1,g&&(g=!1,b(C),C=-1),m=!0;var i=h;try{for(y(t),p=r(c);null!==p&&(!(p.expirationTime>t)||e&&!F());){var s=p.callback;if("function"==typeof s){p.callback=null,h=p.priorityLevel;var o=s(p.expirationTime<=t);t=n.unstable_now(),"function"==typeof o?p.callback=o:p===r(c)&&a(c),y(t)}else a(c);p=r(c)}if(null!==p)var l=!0;else{var u=r(d);null!==u&&A(w,u.startTime-t),l=!1}return l}finally{p=null,h=i,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,N=null,C=-1,S=5,_=-1;function F(){return!(n.unstable_now()-_<S)}function z(){if(null!==N){var e=n.unstable_now();_=e;var t=!0;try{t=N(!0,e)}finally{t?k():(E=!1,N=null)}}else E=!1}if("function"==typeof v)k=function(){v(z)};else if("undefined"!=typeof MessageChannel){var D=new MessageChannel,T=D.port2;D.port1.onmessage=z,k=function(){T.postMessage(null)}}else k=function(){x(z,0)};function P(e){N=e,E||(E=!0,k())}function A(e,t){C=x(function(){e(n.unstable_now())},t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){f||m||(f=!0,P(j))},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return r(c)},n.unstable_next=function(e){switch(h){case 1:case 2:case 3:var n=3;break;default:n=h}var t=h;h=n;try{return e()}finally{h=t}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=h;h=e;try{return n()}finally{h=t}},n.unstable_scheduleCallback=function(e,a,i){var s=n.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?s+i:s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,t(d,e),null===r(c)&&e===r(d)&&(g?(b(C),C=-1):g=!0,A(w,i-s))):(e.sortIndex=o,t(c,e),f||m||(f=!0,P(j))),e},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(e){var n=h;return function(){var t=h;h=n;try{return e.apply(this,arguments)}finally{h=t}}}},519:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.version=void 0,n.version="0.0.0-automated"},530:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_HEADERS=void 0;const r=t(519);n.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`}},540:(e,n,t)=>{e.exports=t(287)},551:(e,n,t)=>{var r=t(540),a=t(982);function i(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,n){c(e,n),c(e+"Capture",n)}function c(e,n){for(o[e]=n,e=0;e<n.length;e++)s.add(n[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function f(e,n,t,r,a,i,s){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];g[n]=new f(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,n,t,r){var a=g.hasOwnProperty(n)?g[n]:null;(null!==a?0!==a.type:r||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&(function(e,n,t,r){if(null==n||function(e,n,t,r){if(null!==t&&0===t.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==t?!t.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,n,t,r))return!0;if(r)return!1;if(null!==t)switch(t.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}(n,t,a,r)&&(t=null),r||null===a?function(e){return!!u.call(m,e)||!u.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(n)&&(null===t?e.removeAttribute(n):e.setAttribute(n,""+t)):a.mustUseProperty?e[a.propertyName]=null===t?3!==a.type&&"":t:(n=a.attributeName,r=a.attributeNamespace,null===t?e.removeAttribute(n):(t=3===(a=a.type)||4===a&&!0===t?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(x,b);g[n]=new f(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(x,b);g[n]=new f(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(x,b);g[n]=new f(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),S=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function I(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}var R,L=Object.assign;function B(e){if(void 0===R)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);R=n&&n[1]||""}return"\n"+R+e}var O=!1;function M(e,n){if(!e||O)return"";O=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(n){if(n&&r&&"string"==typeof n.stack){for(var a=n.stack.split("\n"),i=r.stack.split("\n"),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||a[s]!==i[o]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{O=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?B(e):""}function $(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return M(e.type,!1);case 11:return M(e.type.render,!1);case 1:return M(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case j:return"Portal";case N:return"Profiler";case E:return"StrictMode";case F:return"Suspense";case z:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case _:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(n=e.displayName||null)?n:U(e.type)||"Memo";case T:n=e._payload,e=e._init;try{return U(e(n))}catch(e){}}return null}function q(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(n);case 8:return n===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function W(e){e._valueTracker||(e._valueTracker=function(e){var n=V(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&void 0!==t&&"function"==typeof t.get&&"function"==typeof t.set){var a=t.get,i=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e))}function K(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==t&&(n.setValue(e),!0)}function G(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}function Y(e,n){var t=n.checked;return L({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=t?t:e._wrapperState.initialChecked})}function J(e,n){var t=null==n.defaultValue?"":n.defaultValue,r=null!=n.checked?n.checked:n.defaultChecked;t=H(null!=n.value?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function Q(e,n){null!=(n=n.checked)&&v(e,"checked",n,!1)}function X(e,n){Q(e,n);var t=H(n.value),r=n.type;if(null!=t)"number"===r?(0===t&&""===e.value||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");n.hasOwnProperty("value")?ee(e,n.type,t):n.hasOwnProperty("defaultValue")&&ee(e,n.type,H(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(e.defaultChecked=!!n.defaultChecked)}function Z(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!("submit"!==r&&"reset"!==r||void 0!==n.value&&null!==n.value))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}""!==(t=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==t&&(e.name=t)}function ee(e,n,t){"number"===n&&G(e.ownerDocument)===e||(null==t?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var ne=Array.isArray;function te(e,n,t,r){if(e=e.options,n){n={};for(var a=0;a<t.length;a++)n["$"+t[a]]=!0;for(t=0;t<e.length;t++)a=n.hasOwnProperty("$"+e[t].value),e[t].selected!==a&&(e[t].selected=a),a&&r&&(e[t].defaultSelected=!0)}else{for(t=""+H(t),n=null,a=0;a<e.length;a++){if(e[a].value===t)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==n||e[a].disabled||(n=e[a])}null!==n&&(n.selected=!0)}}function re(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(i(91));return L({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,n){var t=n.value;if(null==t){if(t=n.children,n=n.defaultValue,null!=t){if(null!=n)throw Error(i(92));if(ne(t)){if(1<t.length)throw Error(i(93));t=t[0]}n=t}null==n&&(n=""),t=n}e._wrapperState={initialValue:H(t)}}function ie(e,n){var t=H(n.value),r=H(n.defaultValue);null!=t&&((t=""+t)!==e.value&&(e.value=t),null==n.defaultValue&&e.defaultValue!==t&&(e.defaultValue=t)),null!=r&&(e.defaultValue=""+r)}function se(e){var n=e.textContent;n===e._wrapperState.initialValue&&""!==n&&null!==n&&(e.value=n)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,n){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(n):"http://www.w3.org/2000/svg"===e&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,n){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=n;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,t,r){MSApp.execUnsafeLocalFunction(function(){return de(e,n)})}:de);function pe(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,n,t){return null==n||"boolean"==typeof n||""===n?"":t||"number"!=typeof n||0===n||he.hasOwnProperty(e)&&he[e]?(""+n).trim():n+"px"}function ge(e,n){for(var t in e=e.style,n)if(n.hasOwnProperty(t)){var r=0===t.indexOf("--"),a=fe(t,n[t],r);"float"===t&&(t="cssFloat"),r?e.setProperty(t,a):e[t]=a}}Object.keys(he).forEach(function(e){me.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),he[n]=he[e]})});var xe=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,n){if(n){if(xe[e]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(i(60));if("object"!=typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=n.style&&"object"!=typeof n.style)throw Error(i(62))}}function ve(e,n){if(-1===e.indexOf("-"))return"string"==typeof n.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,ke=null,Ee=null;function Ne(e){if(e=va(e)){if("function"!=typeof je)throw Error(i(280));var n=e.stateNode;n&&(n=wa(n),je(e.stateNode,e.type,n))}}function Ce(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Se(){if(ke){var e=ke,n=Ee;if(Ee=ke=null,Ne(e),n)for(e=0;e<n.length;e++)Ne(n[e])}}function _e(e,n){return e(n)}function Fe(){}var ze=!1;function De(e,n,t){if(ze)return e(n,t);ze=!0;try{return _e(e,n,t)}finally{ze=!1,(null!==ke||null!==Ee)&&(Fe(),Se())}}function Te(e,n){var t=e.stateNode;if(null===t)return null;var r=wa(t);if(null===r)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(t&&"function"!=typeof t)throw Error(i(231,n,typeof t));return t}var Pe=!1;if(d)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(de){Pe=!1}function Ie(e,n,t,r,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{n.apply(t,c)}catch(e){this.onError(e)}}var Re=!1,Le=null,Be=!1,Oe=null,Me={onError:function(e){Re=!0,Le=e}};function $e(e,n,t,r,a,i,s,o,l){Re=!1,Le=null,Ie.apply(Me,arguments)}function Ue(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{!!(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function qe(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&null!==(e=e.alternate)&&(n=e.memoizedState),null!==n)return n.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(i(188))}function Ve(e){return null!==(e=function(e){var n=e.alternate;if(!n){if(null===(n=Ue(e)))throw Error(i(188));return n!==e?null:e}for(var t=e,r=n;;){var a=t.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){t=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===t)return He(a),e;if(s===r)return He(a),n;s=s.sibling}throw Error(i(188))}if(t.return!==r.return)t=a,r=s;else{for(var o=!1,l=a.child;l;){if(l===t){o=!0,t=a,r=s;break}if(l===r){o=!0,r=a,t=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===t){o=!0,t=s,r=a;break}if(l===r){o=!0,r=s,t=a;break}l=l.sibling}if(!o)throw Error(i(189))}}if(t.alternate!==r)throw Error(i(190))}if(3!==t.tag)throw Error(i(188));return t.stateNode.current===t?e:n}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var n=We(e);if(null!==n)return n;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Je=a.unstable_requestPaint,Qe=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,en=a.unstable_UserBlockingPriority,nn=a.unstable_NormalPriority,tn=a.unstable_LowPriority,rn=a.unstable_IdlePriority,an=null,sn=null,on=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ln(e)/cn|0)|0},ln=Math.log,cn=Math.LN2,dn=64,un=4194304;function pn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hn(e,n){var t=e.pendingLanes;if(0===t)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,s=268435455&t;if(0!==s){var o=s&~a;0!==o?r=pn(o):0!==(i&=s)&&(r=pn(i))}else 0!==(s=t&~a)?r=pn(s):0!==i&&(r=pn(i));if(0===r)return 0;if(0!==n&&n!==r&&0===(n&a)&&((a=r&-r)>=(i=n&-n)||16===a&&4194240&i))return n;if(4&r&&(r|=16&t),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=r;0<n;)a=1<<(t=31-on(n)),r|=e[t],n&=~a;return r}function mn(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function fn(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gn(){var e=dn;return!(4194240&(dn<<=1))&&(dn=64),e}function xn(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function bn(e,n,t){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[n=31-on(n)]=t}function vn(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-on(t),a=1<<r;a&n|e[r]&n&&(e[r]|=n),t&=~a}}var yn=0;function wn(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var jn,kn,En,Nn,Cn,Sn=!1,_n=[],Fn=null,zn=null,Dn=null,Tn=new Map,Pn=new Map,An=[],In="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rn(e,n){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Tn.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pn.delete(n.pointerId)}}function Ln(e,n,t,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==n&&null!==(n=va(n))&&kn(n),e):(e.eventSystemFlags|=r,n=e.targetContainers,null!==a&&-1===n.indexOf(a)&&n.push(a),e)}function Bn(e){var n=ba(e.target);if(null!==n){var t=Ue(n);if(null!==t)if(13===(n=t.tag)){if(null!==(n=qe(t)))return e.blockedOn=n,void Cn(e.priority,function(){En(t)})}else if(3===n&&t.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===t.tag?t.stateNode.containerInfo:null)}e.blockedOn=null}function On(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var t=Jn(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(null!==t)return null!==(n=va(t))&&kn(n),e.blockedOn=t,!1;var r=new(t=e.nativeEvent).constructor(t.type,t);ye=r,t.target.dispatchEvent(r),ye=null,n.shift()}return!0}function Mn(e,n,t){On(e)&&t.delete(n)}function $n(){Sn=!1,null!==Fn&&On(Fn)&&(Fn=null),null!==zn&&On(zn)&&(zn=null),null!==Dn&&On(Dn)&&(Dn=null),Tn.forEach(Mn),Pn.forEach(Mn)}function Un(e,n){e.blockedOn===n&&(e.blockedOn=null,Sn||(Sn=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,$n)))}function qn(e){function n(n){return Un(n,e)}if(0<_n.length){Un(_n[0],e);for(var t=1;t<_n.length;t++){var r=_n[t];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Fn&&Un(Fn,e),null!==zn&&Un(zn,e),null!==Dn&&Un(Dn,e),Tn.forEach(n),Pn.forEach(n),t=0;t<An.length;t++)(r=An[t]).blockedOn===e&&(r.blockedOn=null);for(;0<An.length&&null===(t=An[0]).blockedOn;)Bn(t),null===t.blockedOn&&An.shift()}var Hn=y.ReactCurrentBatchConfig,Vn=!0;function Wn(e,n,t,r){var a=yn,i=Hn.transition;Hn.transition=null;try{yn=1,Gn(e,n,t,r)}finally{yn=a,Hn.transition=i}}function Kn(e,n,t,r){var a=yn,i=Hn.transition;Hn.transition=null;try{yn=4,Gn(e,n,t,r)}finally{yn=a,Hn.transition=i}}function Gn(e,n,t,r){if(Vn){var a=Jn(e,n,t,r);if(null===a)Hr(e,n,r,Yn,t),Rn(e,r);else if(function(e,n,t,r,a){switch(n){case"focusin":return Fn=Ln(Fn,e,n,t,r,a),!0;case"dragenter":return zn=Ln(zn,e,n,t,r,a),!0;case"mouseover":return Dn=Ln(Dn,e,n,t,r,a),!0;case"pointerover":var i=a.pointerId;return Tn.set(i,Ln(Tn.get(i)||null,e,n,t,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Pn.set(i,Ln(Pn.get(i)||null,e,n,t,r,a)),!0}return!1}(a,e,n,t,r))r.stopPropagation();else if(Rn(e,r),4&n&&-1<In.indexOf(e)){for(;null!==a;){var i=va(a);if(null!==i&&jn(i),null===(i=Jn(e,n,t,r))&&Hr(e,n,r,Yn,t),i===a)break;a=i}null!==a&&r.stopPropagation()}else Hr(e,n,r,null,t)}}var Yn=null;function Jn(e,n,t,r){if(Yn=null,null!==(e=ba(e=we(r))))if(null===(n=Ue(e)))e=null;else if(13===(t=n.tag)){if(null!==(e=qe(n)))return e;e=null}else if(3===t){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Yn=e,null}function Qn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case en:return 4;case nn:case tn:return 16;case rn:return 536870912;default:return 16}default:return 16}}var Xn=null,Zn=null,et=null;function nt(){if(et)return et;var e,n,t=Zn,r=t.length,a="value"in Xn?Xn.value:Xn.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return et=a.slice(e,1<n?1-n:void 0)}function tt(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function rt(){return!0}function at(){return!1}function it(e){function n(n,t,r,a,i){for(var s in this._reactName=n,this._targetInst=r,this.type=t,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rt:at,this.isPropagationStopped=at,this}return L(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rt)},persist:function(){},isPersistent:rt}),n}var st,ot,lt,ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dt=it(ct),ut=L({},ct,{view:0,detail:0}),pt=it(ut),ht=L({},ut,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nt,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lt&&(lt&&"mousemove"===e.type?(st=e.screenX-lt.screenX,ot=e.screenY-lt.screenY):ot=st=0,lt=e),st)},movementY:function(e){return"movementY"in e?e.movementY:ot}}),mt=it(ht),ft=it(L({},ht,{dataTransfer:0})),gt=it(L({},ut,{relatedTarget:0})),xt=it(L({},ct,{animationName:0,elapsedTime:0,pseudoElement:0})),bt=L({},ct,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vt=it(bt),yt=it(L({},ct,{data:0})),wt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Et(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=kt[e])&&!!n[e]}function Nt(){return Et}var Ct=L({},ut,{key:function(e){if(e.key){var n=wt[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=tt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nt,charCode:function(e){return"keypress"===e.type?tt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),St=it(Ct),_t=it(L({},ht,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ft=it(L({},ut,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nt})),zt=it(L({},ct,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dt=L({},ht,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tt=it(Dt),Pt=[9,13,27,32],At=d&&"CompositionEvent"in window,It=null;d&&"documentMode"in document&&(It=document.documentMode);var Rt=d&&"TextEvent"in window&&!It,Lt=d&&(!At||It&&8<It&&11>=It),Bt=String.fromCharCode(32),Ot=!1;function Mt(e,n){switch(e){case"keyup":return-1!==Pt.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $t(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ut=!1,qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ht(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!qt[e.type]:"textarea"===n}function Vt(e,n,t,r){Ce(r),0<(n=Wr(n,"onChange")).length&&(t=new dt("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var Wt=null,Kt=null;function Gt(e){Br(e,0)}function Yt(e){if(K(ya(e)))return e}function Jt(e,n){if("change"===e)return n}var Qt=!1;if(d){var Xt;if(d){var Zt="oninput"in document;if(!Zt){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zt="function"==typeof er.oninput}Xt=Zt}else Xt=!1;Qt=Xt&&(!document.documentMode||9<document.documentMode)}function nr(){Wt&&(Wt.detachEvent("onpropertychange",tr),Kt=Wt=null)}function tr(e){if("value"===e.propertyName&&Yt(Kt)){var n=[];Vt(n,Kt,e,we(e)),De(Gt,n)}}function rr(e,n,t){"focusin"===e?(nr(),Kt=t,(Wt=n).attachEvent("onpropertychange",tr)):"focusout"===e&&nr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yt(Kt)}function ir(e,n){if("click"===e)return Yt(n)}function sr(e,n){if("input"===e||"change"===e)return Yt(n)}var or="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n};function lr(e,n){if(or(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var a=t[r];if(!u.call(n,a)||!or(e[a],n[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,n){var t,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(t=e+r.textContent.length,e<=n&&t>=n)return{node:r,offset:n-e};e=t}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?ur(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}function pr(){for(var e=window,n=G();n instanceof e.HTMLIFrameElement;){try{var t="string"==typeof n.contentWindow.location.href}catch(e){t=!1}if(!t)break;n=G((e=n.contentWindow).document)}return n}function hr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}function mr(e){var n=pr(),t=e.focusedElem,r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&ur(t.ownerDocument.documentElement,t)){if(null!==r&&hr(t))if(n=r.start,void 0===(e=r.end)&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if((e=(n=t.ownerDocument||document)&&n.defaultView||window).getSelection){e=e.getSelection();var a=t.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=dr(t,i);var s=dr(t,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((n=n.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(n),e.extend(s.node,s.offset)):(n.setEnd(s.node,s.offset),e.addRange(n)))}for(n=[],e=t;e=e.parentNode;)1===e.nodeType&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof t.focus&&t.focus(),t=0;t<n.length;t++)(e=n[t]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=d&&"documentMode"in document&&11>=document.documentMode,gr=null,xr=null,br=null,vr=!1;function yr(e,n,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;vr||null==gr||gr!==G(r)||(r="selectionStart"in(r=gr)&&hr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Wr(xr,"onSelect")).length&&(n=new dt("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=gr)))}function wr(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Er={};function Nr(e){if(kr[e])return kr[e];if(!jr[e])return e;var n,t=jr[e];for(n in t)if(t.hasOwnProperty(n)&&n in Er)return kr[e]=t[n];return e}d&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var Cr=Nr("animationend"),Sr=Nr("animationiteration"),_r=Nr("animationstart"),Fr=Nr("transitionend"),zr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,n){zr.set(e,n),l(n,[e])}for(var Pr=0;Pr<Dr.length;Pr++){var Ar=Dr[Pr];Tr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Tr(Cr,"onAnimationEnd"),Tr(Sr,"onAnimationIteration"),Tr(_r,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Fr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Lr(e,n,t){var r=e.type||"unknown-event";e.currentTarget=t,function(e,n,t,r,a,s,o,l,c){if($e.apply(this,arguments),Re){if(!Re)throw Error(i(198));var d=Le;Re=!1,Le=null,Be||(Be=!0,Oe=d)}}(r,n,void 0,e),e.currentTarget=null}function Br(e,n){n=!!(4&n);for(var t=0;t<e.length;t++){var r=e[t],a=r.event;r=r.listeners;e:{var i=void 0;if(n)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;Lr(a,o,c),i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;Lr(a,o,c),i=l}}}if(Be)throw e=Oe,Be=!1,Oe=null,e}function Or(e,n){var t=n[fa];void 0===t&&(t=n[fa]=new Set);var r=e+"__bubble";t.has(r)||(qr(n,e,2,!1),t.add(r))}function Mr(e,n,t){var r=0;n&&(r|=4),qr(t,e,r,n)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[$r]){e[$r]=!0,s.forEach(function(n){"selectionchange"!==n&&(Rr.has(n)||Mr(n,!1,e),Mr(n,!0,e))});var n=9===e.nodeType?e:e.ownerDocument;null===n||n[$r]||(n[$r]=!0,Mr("selectionchange",!1,n))}}function qr(e,n,t,r){switch(Qn(n)){case 1:var a=Wn;break;case 4:a=Kn;break;default:a=Gn}t=a.bind(null,n,t,e),a=void 0,!Pe||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(a=!0),r?void 0!==a?e.addEventListener(n,t,{capture:!0,passive:a}):e.addEventListener(n,t,!0):void 0!==a?e.addEventListener(n,t,{passive:a}):e.addEventListener(n,t,!1)}function Hr(e,n,t,r,a){var i=r;if(!(1&n||2&n||null===r))e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==o;){if(null===(s=ba(o)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}o=o.parentNode}}r=r.return}De(function(){var r=i,a=we(t),s=[];e:{var o=zr.get(e);if(void 0!==o){var l=dt,c=e;switch(e){case"keypress":if(0===tt(t))break e;case"keydown":case"keyup":l=St;break;case"focusin":c="focus",l=gt;break;case"focusout":c="blur",l=gt;break;case"beforeblur":case"afterblur":l=gt;break;case"click":if(2===t.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=ft;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ft;break;case Cr:case Sr:case _r:l=xt;break;case Fr:l=zt;break;case"scroll":l=pt;break;case"wheel":l=Tt;break;case"copy":case"cut":case"paste":l=vt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_t}var d=!!(4&n),u=!d&&"scroll"===e,p=d?null!==o?o+"Capture":null:o;d=[];for(var h,m=r;null!==m;){var f=(h=m).stateNode;if(5===h.tag&&null!==f&&(h=f,null!==p&&null!=(f=Te(m,p))&&d.push(Vr(m,f,h))),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,t,a),s.push({event:o,listeners:d}))}}if(!(7&n)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||t===ye||!(c=t.relatedTarget||t.fromElement)||!ba(c)&&!c[ma])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=t.relatedTarget||t.toElement)?ba(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=mt,f="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=_t,f="onPointerLeave",p="onPointerEnter",m="pointer"),u=null==l?o:ya(l),h=null==c?o:ya(c),(o=new d(f,m+"leave",l,t,a)).target=u,o.relatedTarget=h,f=null,ba(a)===r&&((d=new d(p,m+"enter",c,t,a)).target=h,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(p=c,m=0,h=d=l;h;h=Kr(h))m++;for(h=0,f=p;f;f=Kr(f))h++;for(;0<m-h;)d=Kr(d),m--;for(;0<h-m;)p=Kr(p),h--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Kr(d),p=Kr(p)}d=null}else d=null;null!==l&&Gr(s,o,l,d,!1),null!==c&&null!==u&&Gr(s,u,c,d,!0)}if("select"===(l=(o=r?ya(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Jt;else if(Ht(o))if(Qt)g=sr;else{g=ar;var x=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(e,r))?Vt(s,g,t,a):(x&&x(e,o,r),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&ee(o,"number",o.value)),x=r?ya(r):window,e){case"focusin":(Ht(x)||"true"===x.contentEditable)&&(gr=x,xr=r,br=null);break;case"focusout":br=xr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,yr(s,t,a);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":yr(s,t,a)}var b;if(At)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ut?Mt(e,t)&&(v="onCompositionEnd"):"keydown"===e&&229===t.keyCode&&(v="onCompositionStart");v&&(Lt&&"ko"!==t.locale&&(Ut||"onCompositionStart"!==v?"onCompositionEnd"===v&&Ut&&(b=nt()):(Zn="value"in(Xn=a)?Xn.value:Xn.textContent,Ut=!0)),0<(x=Wr(r,v)).length&&(v=new yt(v,e,null,t,a),s.push({event:v,listeners:x}),(b||null!==(b=$t(t)))&&(v.data=b))),(b=Rt?function(e,n){switch(e){case"compositionend":return $t(n);case"keypress":return 32!==n.which?null:(Ot=!0,Bt);case"textInput":return(e=n.data)===Bt&&Ot?null:e;default:return null}}(e,t):function(e,n){if(Ut)return"compositionend"===e||!At&&Mt(e,n)?(e=nt(),et=Zn=Xn=null,Ut=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Lt&&"ko"!==n.locale?null:n.data}}(e,t))&&0<(r=Wr(r,"onBeforeInput")).length&&(a=new yt("onBeforeInput","beforeinput",null,t,a),s.push({event:a,listeners:r}),a.data=b)}Br(s,n)})}function Vr(e,n,t){return{instance:e,listener:n,currentTarget:t}}function Wr(e,n){for(var t=n+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Te(e,t))&&r.unshift(Vr(e,i,a)),null!=(i=Te(e,n))&&r.push(Vr(e,i,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,n,t,r,a){for(var i=n._reactName,s=[];null!==t&&t!==r;){var o=t,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Te(t,i))&&s.unshift(Vr(t,l,o)):a||null!=(l=Te(t,i))&&s.push(Vr(t,l,o))),t=t.return}0!==s.length&&e.push({event:n,listeners:s})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Qr(e){return("string"==typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Xr(e,n,t){if(n=Qr(n),Qr(e)!==n&&t)throw Error(i(425))}function Zr(){}var ea=null,na=null;function ta(e,n){return"textarea"===e||"noscript"===e||"string"==typeof n.children||"number"==typeof n.children||"object"==typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var ra="function"==typeof setTimeout?setTimeout:void 0,aa="function"==typeof clearTimeout?clearTimeout:void 0,ia="function"==typeof Promise?Promise:void 0,sa="function"==typeof queueMicrotask?queueMicrotask:void 0!==ia?function(e){return ia.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout(function(){throw e})}function la(e,n){var t=n,r=0;do{var a=t.nextSibling;if(e.removeChild(t),a&&8===a.nodeType)if("/$"===(t=a.data)){if(0===r)return e.removeChild(a),void qn(n);r--}else"$"!==t&&"$?"!==t&&"$!"!==t||r++;t=a}while(t);qn(n)}function ca(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n)break;if("/$"===n)return null}}return e}function da(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("$"===t||"$!"===t||"$?"===t){if(0===n)return e;n--}else"/$"===t&&n++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),pa="__reactFiber$"+ua,ha="__reactProps$"+ua,ma="__reactContainer$"+ua,fa="__reactEvents$"+ua,ga="__reactListeners$"+ua,xa="__reactHandles$"+ua;function ba(e){var n=e[pa];if(n)return n;for(var t=e.parentNode;t;){if(n=t[ma]||t[pa]){if(t=n.alternate,null!==n.child||null!==t&&null!==t.child)for(e=da(e);null!==e;){if(t=e[pa])return t;e=da(e)}return n}t=(e=t).parentNode}return null}function va(e){return!(e=e[pa]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ya(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[ha]||null}var ja=[],ka=-1;function Ea(e){return{current:e}}function Na(e){0>ka||(e.current=ja[ka],ja[ka]=null,ka--)}function Ca(e,n){ka++,ja[ka]=e.current,e.current=n}var Sa={},_a=Ea(Sa),Fa=Ea(!1),za=Sa;function Da(e,n){var t=e.type.contextTypes;if(!t)return Sa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in t)i[a]=n[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ta(e){return null!=e.childContextTypes}function Pa(){Na(Fa),Na(_a)}function Aa(e,n,t){if(_a.current!==Sa)throw Error(i(168));Ca(_a,n),Ca(Fa,t)}function Ia(e,n,t){var r=e.stateNode;if(n=n.childContextTypes,"function"!=typeof r.getChildContext)return t;for(var a in r=r.getChildContext())if(!(a in n))throw Error(i(108,q(e)||"Unknown",a));return L({},t,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sa,za=_a.current,Ca(_a,e),Ca(Fa,Fa.current),!0}function La(e,n,t){var r=e.stateNode;if(!r)throw Error(i(169));t?(e=Ia(e,n,za),r.__reactInternalMemoizedMergedChildContext=e,Na(Fa),Na(_a),Ca(_a,e)):Na(Fa),Ca(Fa,t)}var Ba=null,Oa=!1,Ma=!1;function $a(e){null===Ba?Ba=[e]:Ba.push(e)}function Ua(){if(!Ma&&null!==Ba){Ma=!0;var e=0,n=yn;try{var t=Ba;for(yn=1;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}Ba=null,Oa=!1}catch(n){throw null!==Ba&&(Ba=Ba.slice(e+1)),Ke(Ze,Ua),n}finally{yn=n,Ma=!1}}return null}var qa=[],Ha=0,Va=null,Wa=0,Ka=[],Ga=0,Ya=null,Ja=1,Qa="";function Xa(e,n){qa[Ha++]=Wa,qa[Ha++]=Va,Va=e,Wa=n}function Za(e,n,t){Ka[Ga++]=Ja,Ka[Ga++]=Qa,Ka[Ga++]=Ya,Ya=e;var r=Ja;e=Qa;var a=32-on(r)-1;r&=~(1<<a),t+=1;var i=32-on(n)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Ja=1<<32-on(n)+a|t<<a|r,Qa=i+e}else Ja=1<<i|t<<a|r,Qa=e}function ei(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function ni(e){for(;e===Va;)Va=qa[--Ha],qa[Ha]=null,Wa=qa[--Ha],qa[Ha]=null;for(;e===Ya;)Ya=Ka[--Ga],Ka[Ga]=null,Qa=Ka[--Ga],Ka[Ga]=null,Ja=Ka[--Ga],Ka[Ga]=null}var ti=null,ri=null,ai=!1,ii=null;function si(e,n){var t=Dc(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)}function oi(e,n){switch(e.tag){case 5:var t=e.type;return null!==(n=1!==n.nodeType||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(e.stateNode=n,ti=e,ri=ca(n.firstChild),!0);case 6:return null!==(n=""===e.pendingProps||3!==n.nodeType?null:n)&&(e.stateNode=n,ti=e,ri=null,!0);case 13:return null!==(n=8!==n.nodeType?null:n)&&(t=null!==Ya?{id:Ja,overflow:Qa}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},(t=Dc(18,null,null,0)).stateNode=n,t.return=e,e.child=t,ti=e,ri=null,!0);default:return!1}}function li(e){return!(!(1&e.mode)||128&e.flags)}function ci(e){if(ai){var n=ri;if(n){var t=n;if(!oi(e,n)){if(li(e))throw Error(i(418));n=ca(t.nextSibling);var r=ti;n&&oi(e,n)?si(r,t):(e.flags=-4097&e.flags|2,ai=!1,ti=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ti=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ti=e}function ui(e){if(e!==ti)return!1;if(!ai)return di(e),ai=!0,!1;var n;if((n=3!==e.tag)&&!(n=5!==e.tag)&&(n="head"!==(n=e.type)&&"body"!==n&&!ta(e.type,e.memoizedProps)),n&&(n=ri)){if(li(e))throw pi(),Error(i(418));for(;n;)si(e,n),n=ca(n.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType){var t=e.data;if("/$"===t){if(0===n){ri=ca(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++}e=e.nextSibling}ri=null}}else ri=ti?ca(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=ri;e;)e=ca(e.nextSibling)}function hi(){ri=ti=null,ai=!1}function mi(e){null===ii?ii=[e]:ii.push(e)}var fi=y.ReactCurrentBatchConfig;function gi(e,n,t){if(null!==(e=t.ref)&&"function"!=typeof e&&"object"!=typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error(i(309));var r=t.stateNode}if(!r)throw Error(i(147,e));var a=r,s=""+e;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===s?n.ref:(n=function(e){var n=a.refs;null===e?delete n[s]:n[s]=e},n._stringRef=s,n)}if("string"!=typeof e)throw Error(i(284));if(!t._owner)throw Error(i(290,e))}return e}function xi(e,n){throw e=Object.prototype.toString.call(n),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function vi(e){function n(n,t){if(e){var r=n.deletions;null===r?(n.deletions=[t],n.flags|=16):r.push(t)}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function a(e,n){return(e=Pc(e,n)).index=0,e.sibling=null,e}function s(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags|=2,t):r:(n.flags|=2,t):(n.flags|=1048576,t)}function o(n){return e&&null===n.alternate&&(n.flags|=2),n}function l(e,n,t,r){return null===n||6!==n.tag?((n=Lc(t,e.mode,r)).return=e,n):((n=a(n,t)).return=e,n)}function c(e,n,t,r){var i=t.type;return i===k?u(e,n,t.props.children,r,t.key):null!==n&&(n.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===T&&bi(i)===n.type)?((r=a(n,t.props)).ref=gi(e,n,t),r.return=e,r):((r=Ac(t.type,t.key,t.props,null,e.mode,r)).ref=gi(e,n,t),r.return=e,r)}function d(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Bc(t,e.mode,r)).return=e,n):((n=a(n,t.children||[])).return=e,n)}function u(e,n,t,r,i){return null===n||7!==n.tag?((n=Ic(t,e.mode,r,i)).return=e,n):((n=a(n,t)).return=e,n)}function p(e,n,t){if("string"==typeof n&&""!==n||"number"==typeof n)return(n=Lc(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return(t=Ac(n.type,n.key,n.props,null,e.mode,t)).ref=gi(e,null,n),t.return=e,t;case j:return(n=Bc(n,e.mode,t)).return=e,n;case T:return p(e,(0,n._init)(n._payload),t)}if(ne(n)||I(n))return(n=Ic(n,e.mode,t,null)).return=e,n;xi(e,n)}return null}function h(e,n,t,r){var a=null!==n?n.key:null;if("string"==typeof t&&""!==t||"number"==typeof t)return null!==a?null:l(e,n,""+t,r);if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return t.key===a?c(e,n,t,r):null;case j:return t.key===a?d(e,n,t,r):null;case T:return h(e,n,(a=t._init)(t._payload),r)}if(ne(t)||I(t))return null!==a?null:u(e,n,t,r,null);xi(e,t)}return null}function m(e,n,t,r,a){if("string"==typeof r&&""!==r||"number"==typeof r)return l(n,e=e.get(t)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return c(n,e=e.get(null===r.key?t:r.key)||null,r,a);case j:return d(n,e=e.get(null===r.key?t:r.key)||null,r,a);case T:return m(e,n,t,(0,r._init)(r._payload),a)}if(ne(r)||I(r))return u(n,e=e.get(t)||null,r,a,null);xi(n,r)}return null}function f(a,i,o,l){for(var c=null,d=null,u=i,f=i=0,g=null;null!==u&&f<o.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var x=h(a,u,o[f],l);if(null===x){null===u&&(u=g);break}e&&u&&null===x.alternate&&n(a,u),i=s(x,i,f),null===d?c=x:d.sibling=x,d=x,u=g}if(f===o.length)return t(a,u),ai&&Xa(a,f),c;if(null===u){for(;f<o.length;f++)null!==(u=p(a,o[f],l))&&(i=s(u,i,f),null===d?c=u:d.sibling=u,d=u);return ai&&Xa(a,f),c}for(u=r(a,u);f<o.length;f++)null!==(g=m(u,a,f,o[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),i=s(g,i,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return n(a,e)}),ai&&Xa(a,f),c}function g(a,o,l,c){var d=I(l);if("function"!=typeof d)throw Error(i(150));if(null==(l=d.call(l)))throw Error(i(151));for(var u=d=null,f=o,g=o=0,x=null,b=l.next();null!==f&&!b.done;g++,b=l.next()){f.index>g?(x=f,f=null):x=f.sibling;var v=h(a,f,b.value,c);if(null===v){null===f&&(f=x);break}e&&f&&null===v.alternate&&n(a,f),o=s(v,o,g),null===u?d=v:u.sibling=v,u=v,f=x}if(b.done)return t(a,f),ai&&Xa(a,g),d;if(null===f){for(;!b.done;g++,b=l.next())null!==(b=p(a,b.value,c))&&(o=s(b,o,g),null===u?d=b:u.sibling=b,u=b);return ai&&Xa(a,g),d}for(f=r(a,f);!b.done;g++,b=l.next())null!==(b=m(f,a,g,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?g:b.key),o=s(b,o,g),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach(function(e){return n(a,e)}),ai&&Xa(a,g),d}return function e(r,i,s,l){if("object"==typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,d=i;null!==d;){if(d.key===c){if((c=s.type)===k){if(7===d.tag){t(r,d.sibling),(i=a(d,s.props.children)).return=r,r=i;break e}}else if(d.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===T&&bi(c)===d.type){t(r,d.sibling),(i=a(d,s.props)).ref=gi(r,d,s),i.return=r,r=i;break e}t(r,d);break}n(r,d),d=d.sibling}s.type===k?((i=Ic(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Ac(s.type,s.key,s.props,null,r.mode,l)).ref=gi(r,i,s),l.return=r,r=l)}return o(r);case j:e:{for(d=s.key;null!==i;){if(i.key===d){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){t(r,i.sibling),(i=a(i,s.children||[])).return=r,r=i;break e}t(r,i);break}n(r,i),i=i.sibling}(i=Bc(s,r.mode,l)).return=r,r=i}return o(r);case T:return e(r,i,(d=s._init)(s._payload),l)}if(ne(s))return f(r,i,s,l);if(I(s))return g(r,i,s,l);xi(r,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==i&&6===i.tag?(t(r,i.sibling),(i=a(i,s)).return=r,r=i):(t(r,i),(i=Lc(s,r.mode,l)).return=r,r=i),o(r)):t(r,i)}}var yi=vi(!0),wi=vi(!1),ji=Ea(null),ki=null,Ei=null,Ni=null;function Ci(){Ni=Ei=ki=null}function Si(e){var n=ji.current;Na(ji),e._currentValue=n}function _i(e,n,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==r&&(r.childLanes|=n)):null!==r&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function Fi(e,n){ki=e,Ni=Ei=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&n)&&(vo=!0),e.firstContext=null)}function zi(e){var n=e._currentValue;if(Ni!==e)if(e={context:e,memoizedValue:n,next:null},null===Ei){if(null===ki)throw Error(i(308));Ei=e,ki.dependencies={lanes:0,firstContext:e}}else Ei=Ei.next=e;return n}var Di=null;function Ti(e){null===Di?Di=[e]:Di.push(e)}function Pi(e,n,t,r){var a=n.interleaved;return null===a?(t.next=t,Ti(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ai(e,r)}function Ai(e,n){e.lanes|=n;var t=e.alternate;for(null!==t&&(t.lanes|=n),t=e,e=e.return;null!==e;)e.childLanes|=n,null!==(t=e.alternate)&&(t.childLanes|=n),t=e,e=e.return;return 3===t.tag?t.stateNode:null}var Ii=!1;function Ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Li(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bi(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Oi(e,n,t){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&_l){var a=r.pending;return null===a?n.next=n:(n.next=a.next,a.next=n),r.pending=n,Ai(e,t)}return null===(a=r.interleaved)?(n.next=n,Ti(r)):(n.next=a.next,a.next=n),r.interleaved=n,Ai(e,t)}function Mi(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,4194240&t)){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,vn(e,t)}}function $i(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var a=null,i=null;if(null!==(t=t.firstBaseUpdate)){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===i?a=i=s:i=i.next=s,t=t.next}while(null!==t);null===i?a=i=n:i=i.next=n}else a=i=n;return t={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function Ui(e,n,t,r){var a=e.updateQueue;Ii=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var d=e.alternate;null!==d&&(o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l)}if(null!==i){var u=a.baseState;for(s=0,d=c=l=null,o=i;;){var p=o.lane,h=o.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,f=o;switch(p=n,h=t,f.tag){case 1:if("function"==typeof(m=f.payload)){u=m.call(h,u,p);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(p="function"==typeof(m=f.payload)?m.call(h,u,p):m))break e;u=L({},u,p);break e;case 2:Ii=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,s|=p;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(n=a.shared.interleaved)){a=n;do{s|=a.lane,a=a.next}while(a!==n)}else null===i&&(a.shared.lanes=0);Rl|=s,e.lanes=s,e.memoizedState=u}}function qi(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var r=e[n],a=r.callback;if(null!==a){if(r.callback=null,r=t,"function"!=typeof a)throw Error(i(191,a));a.call(r)}}}var Hi={},Vi=Ea(Hi),Wi=Ea(Hi),Ki=Ea(Hi);function Gi(e){if(e===Hi)throw Error(i(174));return e}function Yi(e,n){switch(Ca(Ki,n),Ca(Wi,e),Ca(Vi,Hi),e=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:le(null,"");break;default:n=le(n=(e=8===e?n.parentNode:n).namespaceURI||null,e=e.tagName)}Na(Vi),Ca(Vi,n)}function Ji(){Na(Vi),Na(Wi),Na(Ki)}function Qi(e){Gi(Ki.current);var n=Gi(Vi.current),t=le(n,e.type);n!==t&&(Ca(Wi,e),Ca(Vi,t))}function Xi(e){Wi.current===e&&(Na(Vi),Na(Wi))}var Zi=Ea(0);function es(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||"$?"===t.data||"$!"===t.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(128&n.flags)return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ns=[];function ts(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var rs=y.ReactCurrentDispatcher,as=y.ReactCurrentBatchConfig,is=0,ss=null,os=null,ls=null,cs=!1,ds=!1,us=0,ps=0;function hs(){throw Error(i(321))}function ms(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!or(e[t],n[t]))return!1;return!0}function fs(e,n,t,r,a,s){if(is=s,ss=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,rs.current=null===e||null===e.memoizedState?Xs:Zs,e=t(r,a),ds){s=0;do{if(ds=!1,us=0,25<=s)throw Error(i(301));s+=1,ls=os=null,n.updateQueue=null,rs.current=eo,e=t(r,a)}while(ds)}if(rs.current=Qs,n=null!==os&&null!==os.next,is=0,ls=os=ss=null,cs=!1,n)throw Error(i(300));return e}function gs(){var e=0!==us;return us=0,e}function xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function bs(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var n=null===ls?ss.memoizedState:ls.next;if(null!==n)ls=n,os=e;else{if(null===e)throw Error(i(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function vs(e,n){return"function"==typeof n?n(e):n}function ys(e){var n=bs(),t=n.queue;if(null===t)throw Error(i(311));t.lastRenderedReducer=e;var r=os,a=r.baseQueue,s=t.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}r.baseQueue=a=s,t.pending=null}if(null!==a){s=a.next,r=r.baseState;var l=o=null,c=null,d=s;do{var u=d.lane;if((is&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,o=r):c=c.next=p,ss.lanes|=u,Rl|=u}d=d.next}while(null!==d&&d!==s);null===c?o=r:c.next=l,or(r,n.memoizedState)||(vo=!0),n.memoizedState=r,n.baseState=o,n.baseQueue=c,t.lastRenderedState=r}if(null!==(e=t.interleaved)){a=e;do{s=a.lane,ss.lanes|=s,Rl|=s,a=a.next}while(a!==e)}else null===a&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function ws(e){var n=bs(),t=n.queue;if(null===t)throw Error(i(311));t.lastRenderedReducer=e;var r=t.dispatch,a=t.pending,s=n.memoizedState;if(null!==a){t.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);or(s,n.memoizedState)||(vo=!0),n.memoizedState=s,null===n.baseQueue&&(n.baseState=s),t.lastRenderedState=s}return[s,r]}function js(){}function ks(e,n){var t=ss,r=bs(),a=n(),s=!or(r.memoizedState,a);if(s&&(r.memoizedState=a,vo=!0),r=r.queue,Is(Cs.bind(null,t,r,e),[e]),r.getSnapshot!==n||s||null!==ls&&1&ls.memoizedState.tag){if(t.flags|=2048,zs(9,Ns.bind(null,t,r,a,n),void 0,null),null===Fl)throw Error(i(349));30&is||Es(t,n,a)}return a}function Es(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=ss.updateQueue)?(n={lastEffect:null,stores:null},ss.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function Ns(e,n,t,r){n.value=t,n.getSnapshot=r,Ss(n)&&_s(e)}function Cs(e,n,t){return t(function(){Ss(n)&&_s(e)})}function Ss(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!or(e,t)}catch(e){return!0}}function _s(e){var n=Ai(e,1);null!==n&&tc(n,e,1,-1)}function Fs(e){var n=xs();return"function"==typeof e&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:e},n.queue=e,e=e.dispatch=Ks.bind(null,ss,e),[n.memoizedState,e]}function zs(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=ss.updateQueue)?(n={lastEffect:null,stores:null},ss.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function Ds(){return bs().memoizedState}function Ts(e,n,t,r){var a=xs();ss.flags|=e,a.memoizedState=zs(1|n,t,void 0,void 0===r?null:r)}function Ps(e,n,t,r){var a=bs();r=void 0===r?null:r;var i=void 0;if(null!==os){var s=os.memoizedState;if(i=s.destroy,null!==r&&ms(r,s.deps))return void(a.memoizedState=zs(n,t,i,r))}ss.flags|=e,a.memoizedState=zs(1|n,t,i,r)}function As(e,n){return Ts(8390656,8,e,n)}function Is(e,n){return Ps(2048,8,e,n)}function Rs(e,n){return Ps(4,2,e,n)}function Ls(e,n){return Ps(4,4,e,n)}function Bs(e,n){return"function"==typeof n?(e=e(),n(e),function(){n(null)}):null!=n?(e=e(),n.current=e,function(){n.current=null}):void 0}function Os(e,n,t){return t=null!=t?t.concat([e]):null,Ps(4,4,Bs.bind(null,n,e),t)}function Ms(){}function $s(e,n){var t=bs();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&ms(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function Us(e,n){var t=bs();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&ms(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function qs(e,n,t){return 21&is?(or(t,n)||(t=gn(),ss.lanes|=t,Rl|=t,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=t)}function Hs(e,n){var t=yn;yn=0!==t&&4>t?t:4,e(!0);var r=as.transition;as.transition={};try{e(!1),n()}finally{yn=t,as.transition=r}}function Vs(){return bs().memoizedState}function Ws(e,n,t){var r=nc(e);t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},Gs(e)?Ys(n,t):null!==(t=Pi(e,n,t,r))&&(tc(t,e,r,ec()),Js(t,n,r))}function Ks(e,n,t){var r=nc(e),a={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(Gs(e))Ys(n,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=n.lastRenderedReducer))try{var s=n.lastRenderedState,o=i(s,t);if(a.hasEagerState=!0,a.eagerState=o,or(o,s)){var l=n.interleaved;return null===l?(a.next=a,Ti(n)):(a.next=l.next,l.next=a),void(n.interleaved=a)}}catch(e){}null!==(t=Pi(e,n,a,r))&&(tc(t,e,r,a=ec()),Js(t,n,r))}}function Gs(e){var n=e.alternate;return e===ss||null!==n&&n===ss}function Ys(e,n){ds=cs=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function Js(e,n,t){if(4194240&t){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,vn(e,t)}}var Qs={readContext:zi,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},Xs={readContext:zi,useCallback:function(e,n){return xs().memoizedState=[e,void 0===n?null:n],e},useContext:zi,useEffect:As,useImperativeHandle:function(e,n,t){return t=null!=t?t.concat([e]):null,Ts(4194308,4,Bs.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Ts(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ts(4,2,e,n)},useMemo:function(e,n){var t=xs();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=xs();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},r.queue=e,e=e.dispatch=Ws.bind(null,ss,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xs().memoizedState=e},useState:Fs,useDebugValue:Ms,useDeferredValue:function(e){return xs().memoizedState=e},useTransition:function(){var e=Fs(!1),n=e[0];return e=Hs.bind(null,e[1]),xs().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var r=ss,a=xs();if(ai){if(void 0===t)throw Error(i(407));t=t()}else{if(t=n(),null===Fl)throw Error(i(349));30&is||Es(r,n,t)}a.memoizedState=t;var s={value:t,getSnapshot:n};return a.queue=s,As(Cs.bind(null,r,s,e),[e]),r.flags|=2048,zs(9,Ns.bind(null,r,s,t,n),void 0,null),t},useId:function(){var e=xs(),n=Fl.identifierPrefix;if(ai){var t=Qa;n=":"+n+"R"+(t=(Ja&~(1<<32-on(Ja)-1)).toString(32)+t),0<(t=us++)&&(n+="H"+t.toString(32)),n+=":"}else n=":"+n+"r"+(t=ps++).toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Zs={readContext:zi,useCallback:$s,useContext:zi,useEffect:Is,useImperativeHandle:Os,useInsertionEffect:Rs,useLayoutEffect:Ls,useMemo:Us,useReducer:ys,useRef:Ds,useState:function(){return ys(vs)},useDebugValue:Ms,useDeferredValue:function(e){return qs(bs(),os.memoizedState,e)},useTransition:function(){return[ys(vs)[0],bs().memoizedState]},useMutableSource:js,useSyncExternalStore:ks,useId:Vs,unstable_isNewReconciler:!1},eo={readContext:zi,useCallback:$s,useContext:zi,useEffect:Is,useImperativeHandle:Os,useInsertionEffect:Rs,useLayoutEffect:Ls,useMemo:Us,useReducer:ws,useRef:Ds,useState:function(){return ws(vs)},useDebugValue:Ms,useDeferredValue:function(e){var n=bs();return null===os?n.memoizedState=e:qs(n,os.memoizedState,e)},useTransition:function(){return[ws(vs)[0],bs().memoizedState]},useMutableSource:js,useSyncExternalStore:ks,useId:Vs,unstable_isNewReconciler:!1};function no(e,n){if(e&&e.defaultProps){for(var t in n=L({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}return n}function to(e,n,t,r){t=null==(t=t(r,n=e.memoizedState))?n:L({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=ec(),a=nc(e),i=Bi(r,a);i.payload=n,null!=t&&(i.callback=t),null!==(n=Oi(e,i,a))&&(tc(n,e,a,r),Mi(n,e,a))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=ec(),a=nc(e),i=Bi(r,a);i.tag=1,i.payload=n,null!=t&&(i.callback=t),null!==(n=Oi(e,i,a))&&(tc(n,e,a,r),Mi(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=ec(),r=nc(e),a=Bi(t,r);a.tag=2,null!=n&&(a.callback=n),null!==(n=Oi(e,a,r))&&(tc(n,e,r,t),Mi(n,e,r))}};function ao(e,n,t,r,a,i,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!(n.prototype&&n.prototype.isPureReactComponent&&lr(t,r)&&lr(a,i))}function io(e,n,t){var r=!1,a=Sa,i=n.contextType;return"object"==typeof i&&null!==i?i=zi(i):(a=Ta(n)?za:_a.current,i=(r=null!=(r=n.contextTypes))?Da(e,a):Sa),n=new n(t,i),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=ro,e.stateNode=n,n._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),n}function so(e,n,t,r){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&ro.enqueueReplaceState(n,n.state,null)}function oo(e,n,t,r){var a=e.stateNode;a.props=t,a.state=e.memoizedState,a.refs={},Ri(e);var i=n.contextType;"object"==typeof i&&null!==i?a.context=zi(i):(i=Ta(n)?za:_a.current,a.context=Da(e,i)),a.state=e.memoizedState,"function"==typeof(i=n.getDerivedStateFromProps)&&(to(e,n,i,t),a.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(n=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),n!==a.state&&ro.enqueueReplaceState(a,a.state,null),Ui(e,t,a,r),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,n){try{var t="",r=n;do{t+=$(r),r=r.return}while(r);var a=t}catch(e){a="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:n,stack:a,digest:null}}function co(e,n,t){return{value:e,source:null,stack:null!=t?t:null,digest:null!=n?n:null}}function uo(e,n){try{console.error(n.value)}catch(e){setTimeout(function(){throw e})}}var po="function"==typeof WeakMap?WeakMap:Map;function ho(e,n,t){(t=Bi(-1,t)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Hl||(Hl=!0,Vl=r),uo(0,n)},t}function mo(e,n,t){(t=Bi(-1,t)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var a=n.value;t.payload=function(){return r(a)},t.callback=function(){uo(0,n)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(t.callback=function(){uo(0,n),"function"!=typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})}),t}function fo(e,n,t){var r=e.pingCache;if(null===r){r=e.pingCache=new po;var a=new Set;r.set(n,a)}else void 0===(a=r.get(n))&&(a=new Set,r.set(n,a));a.has(t)||(a.add(t),e=Nc.bind(null,e,n,t),n.then(e,e))}function go(e){do{var n;if((n=13===e.tag)&&(n=null===(n=e.memoizedState)||null!==n.dehydrated),n)return e;e=e.return}while(null!==e);return null}function xo(e,n,t,r,a){return 1&e.mode?(e.flags|=65536,e.lanes=a,e):(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,1===t.tag&&(null===t.alternate?t.tag=17:((n=Bi(-1,1)).tag=2,Oi(t,n,1))),t.lanes|=1),e)}var bo=y.ReactCurrentOwner,vo=!1;function yo(e,n,t,r){n.child=null===e?wi(n,null,t,r):yi(n,e.child,t,r)}function wo(e,n,t,r,a){t=t.render;var i=n.ref;return Fi(n,a),r=fs(e,n,t,r,i,a),t=gs(),null===e||vo?(ai&&t&&ei(n),n.flags|=1,yo(e,n,r,a),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,Ho(e,n,a))}function jo(e,n,t,r,a){if(null===e){var i=t.type;return"function"!=typeof i||Tc(i)||void 0!==i.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=Ac(t.type,null,r,n,n.mode,a)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=i,ko(e,n,i,r,a))}if(i=e.child,0===(e.lanes&a)){var s=i.memoizedProps;if((t=null!==(t=t.compare)?t:lr)(s,r)&&e.ref===n.ref)return Ho(e,n,a)}return n.flags|=1,(e=Pc(i,r)).ref=n.ref,e.return=n,n.child=e}function ko(e,n,t,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===n.ref){if(vo=!1,n.pendingProps=r=i,0===(e.lanes&a))return n.lanes=e.lanes,Ho(e,n,a);131072&e.flags&&(vo=!0)}}return Co(e,n,t,r,a)}function Eo(e,n,t){var r=n.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&n.mode){if(!(1073741824&t))return e=null!==i?i.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ca(Pl,Tl),Tl|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:t,Ca(Pl,Tl),Tl|=r}else n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Pl,Tl),Tl|=t;else null!==i?(r=i.baseLanes|t,n.memoizedState=null):r=t,Ca(Pl,Tl),Tl|=r;return yo(e,n,a,t),n.child}function No(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function Co(e,n,t,r,a){var i=Ta(t)?za:_a.current;return i=Da(n,i),Fi(n,a),t=fs(e,n,t,r,i,a),r=gs(),null===e||vo?(ai&&r&&ei(n),n.flags|=1,yo(e,n,t,a),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,Ho(e,n,a))}function So(e,n,t,r,a){if(Ta(t)){var i=!0;Ra(n)}else i=!1;if(Fi(n,a),null===n.stateNode)qo(e,n),io(n,t,r),oo(n,t,r,a),r=!0;else if(null===e){var s=n.stateNode,o=n.memoizedProps;s.props=o;var l=s.context,c=t.contextType;c="object"==typeof c&&null!==c?zi(c):Da(n,c=Ta(t)?za:_a.current);var d=t.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate;u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==r||l!==c)&&so(n,s,r,c),Ii=!1;var p=n.memoizedState;s.state=p,Ui(n,r,s,a),l=n.memoizedState,o!==r||p!==l||Fa.current||Ii?("function"==typeof d&&(to(n,t,d,r),l=n.memoizedState),(o=Ii||ao(n,t,o,r,p,l,c))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(n.flags|=4194308)):("function"==typeof s.componentDidMount&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"==typeof s.componentDidMount&&(n.flags|=4194308),r=!1)}else{s=n.stateNode,Li(e,n),o=n.memoizedProps,c=n.type===n.elementType?o:no(n.type,o),s.props=c,u=n.pendingProps,p=s.context,l="object"==typeof(l=t.contextType)&&null!==l?zi(l):Da(n,l=Ta(t)?za:_a.current);var h=t.getDerivedStateFromProps;(d="function"==typeof h||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==u||p!==l)&&so(n,s,r,l),Ii=!1,p=n.memoizedState,s.state=p,Ui(n,r,s,a);var m=n.memoizedState;o!==u||p!==m||Fa.current||Ii?("function"==typeof h&&(to(n,t,h,r),m=n.memoizedState),(c=Ii||ao(n,t,c,r,p,m,l)||!1)?(d||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,m,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,m,l)),"function"==typeof s.componentDidUpdate&&(n.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),r=!1)}return _o(e,n,t,r,i,a)}function _o(e,n,t,r,a,i){No(e,n);var s=!!(128&n.flags);if(!r&&!s)return a&&La(n,t,!1),Ho(e,n,i);r=n.stateNode,bo.current=n;var o=s&&"function"!=typeof t.getDerivedStateFromError?null:r.render();return n.flags|=1,null!==e&&s?(n.child=yi(n,e.child,null,i),n.child=yi(n,null,o,i)):yo(e,n,o,i),n.memoizedState=r.state,a&&La(n,t,!0),n.child}function Fo(e){var n=e.stateNode;n.pendingContext?Aa(0,n.pendingContext,n.pendingContext!==n.context):n.context&&Aa(0,n.context,!1),Yi(e,n.containerInfo)}function zo(e,n,t,r,a){return hi(),mi(a),n.flags|=256,yo(e,n,t,r),n.child}var Do,To,Po,Ao,Io={dehydrated:null,treeContext:null,retryLane:0};function Ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,n,t){var r,a=n.pendingProps,s=Zi.current,o=!1,l=!!(128&n.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&s)),r?(o=!0,n.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ca(Zi,1&s),null===e)return ci(n),null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)?(1&n.mode?"$!"===e.data?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(l=a.children,e=a.fallback,o?(a=n.mode,o=n.child,l={mode:"hidden",children:l},1&a||null===o?o=Rc(l,a,0,null):(o.childLanes=0,o.pendingProps=l),e=Ic(e,a,t,null),o.return=n,e.return=n,o.sibling=e,n.child=o,n.child.memoizedState=Ro(t),n.memoizedState=Io,e):Bo(n,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,n,t,r,a,s,o){if(t)return 256&n.flags?(n.flags&=-257,Oo(e,n,o,r=co(Error(i(422))))):null!==n.memoizedState?(n.child=e.child,n.flags|=128,null):(s=r.fallback,a=n.mode,r=Rc({mode:"visible",children:r.children},a,0,null),(s=Ic(s,a,o,null)).flags|=2,r.return=n,s.return=n,r.sibling=s,n.child=r,1&n.mode&&yi(n,e.child,null,o),n.child.memoizedState=Ro(o),n.memoizedState=Io,s);if(!(1&n.mode))return Oo(e,n,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Oo(e,n,o,r=co(s=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),vo||l){if(null!==(r=Fl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Ai(e,a),tc(r,e,a,-1))}return fc(),Oo(e,n,o,r=co(Error(i(421))))}return"$?"===a.data?(n.flags|=128,n.child=e.child,n=Sc.bind(null,e),a._reactRetry=n,null):(e=s.treeContext,ri=ca(a.nextSibling),ti=n,ai=!0,ii=null,null!==e&&(Ka[Ga++]=Ja,Ka[Ga++]=Qa,Ka[Ga++]=Ya,Ja=e.id,Qa=e.overflow,Ya=n),(n=Bo(n,r.children)).flags|=4096,n)}(e,n,l,a,r,s,t);if(o){o=a.fallback,l=n.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:a.children};return 1&l||n.child===s?(a=Pc(s,c)).subtreeFlags=14680064&s.subtreeFlags:((a=n.child).childLanes=0,a.pendingProps=c,n.deletions=null),null!==r?o=Pc(r,o):(o=Ic(o,l,t,null)).flags|=2,o.return=n,a.return=n,a.sibling=o,n.child=a,a=o,o=n.child,l=null===(l=e.child.memoizedState)?Ro(t):{baseLanes:l.baseLanes|t,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~t,n.memoizedState=Io,a}return e=(o=e.child).sibling,a=Pc(o,{mode:"visible",children:a.children}),!(1&n.mode)&&(a.lanes=t),a.return=n,a.sibling=null,null!==e&&(null===(t=n.deletions)?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=a,n.memoizedState=null,a}function Bo(e,n){return(n=Rc({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function Oo(e,n,t,r){return null!==r&&mi(r),yi(n,e.child,null,t),(e=Bo(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function Mo(e,n,t){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n),_i(e.return,n,t)}function $o(e,n,t,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:a}:(i.isBackwards=n,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=a)}function Uo(e,n,t){var r=n.pendingProps,a=r.revealOrder,i=r.tail;if(yo(e,n,r.children,t),2&(r=Zi.current))r=1&r|2,n.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mo(e,t,n);else if(19===e.tag)Mo(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ca(Zi,r),1&n.mode)switch(a){case"forwards":for(t=n.child,a=null;null!==t;)null!==(e=t.alternate)&&null===es(e)&&(a=t),t=t.sibling;null===(t=a)?(a=n.child,n.child=null):(a=t.sibling,t.sibling=null),$o(n,!1,a,t,i);break;case"backwards":for(t=null,a=n.child,n.child=null;null!==a;){if(null!==(e=a.alternate)&&null===es(e)){n.child=a;break}e=a.sibling,a.sibling=t,t=a,a=e}$o(n,!0,t,null,i);break;case"together":$o(n,!1,null,null,void 0);break;default:n.memoizedState=null}else n.memoizedState=null;return n.child}function qo(e,n){!(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Ho(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),Rl|=n.lanes,0===(t&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error(i(153));if(null!==n.child){for(t=Pc(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=Pc(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function Vo(e,n){if(!ai)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,r=0;if(n)for(var a=e.child;null!==a;)t|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)t|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function Ko(e,n,t){var r=n.pendingProps;switch(ni(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(n),null;case 1:case 17:return Ta(n.type)&&Pa(),Wo(n),null;case 3:return r=n.stateNode,Ji(),Na(Fa),Na(_a),ts(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ui(n)?n.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&n.flags)||(n.flags|=1024,null!==ii&&(sc(ii),ii=null))),To(e,n),Wo(n),null;case 5:Xi(n);var a=Gi(Ki.current);if(t=n.type,null!==e&&null!=n.stateNode)Po(e,n,t,r,a),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!r){if(null===n.stateNode)throw Error(i(166));return Wo(n),null}if(e=Gi(Vi.current),ui(n)){r=n.stateNode,t=n.type;var s=n.memoizedProps;switch(r[pa]=n,r[ha]=s,e=!!(1&n.mode),t){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(a=0;a<Ir.length;a++)Or(Ir[a],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":J(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":ae(r,s),Or("invalid",r)}for(var l in be(t,s),a=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Or("scroll",r)}switch(t){case"input":W(r),Z(r,s,!0);break;case"textarea":W(r),se(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Zr)}r=a,n.updateQueue=r,null!==r&&(n.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(t)),"http://www.w3.org/1999/xhtml"===e?"script"===t?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(t,{is:r.is}):(e=l.createElement(t),"select"===t&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,t),e[pa]=n,e[ha]=r,Do(e,n,!1,!1),n.stateNode=e;e:{switch(l=ve(t,r),t){case"dialog":Or("cancel",e),Or("close",e),a=r;break;case"iframe":case"object":case"embed":Or("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Or(Ir[a],e);a=r;break;case"source":Or("error",e),a=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),a=r;break;case"details":Or("toggle",e),a=r;break;case"input":J(e,r),a=Y(e,r),Or("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Or("invalid",e)}for(s in be(t,a),c=a)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?ge(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"==typeof d?("textarea"!==t||""!==d)&&pe(e,d):"number"==typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Or("scroll",e):null!=d&&v(e,s,d,l))}switch(t){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?te(e,!!r.multiple,s,!1):null!=r.defaultValue&&te(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Zr)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(n.flags|=4)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return Wo(n),null;case 6:if(e&&null!=n.stateNode)Ao(e,n,e.memoizedProps,r);else{if("string"!=typeof r&&null===n.stateNode)throw Error(i(166));if(t=Gi(Ki.current),Gi(Vi.current),ui(n)){if(r=n.stateNode,t=n.memoizedProps,r[pa]=n,(s=r.nodeValue!==t)&&null!==(e=ti))switch(e.tag){case 3:Xr(r.nodeValue,t,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,t,!!(1&e.mode))}s&&(n.flags|=4)}else(r=(9===t.nodeType?t:t.ownerDocument).createTextNode(r))[pa]=n,n.stateNode=r}return Wo(n),null;case 13:if(Na(Zi),r=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&1&n.mode&&!(128&n.flags))pi(),hi(),n.flags|=98560,s=!1;else if(s=ui(n),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=n.memoizedState)?s.dehydrated:null))throw Error(i(317));s[pa]=n}else hi(),!(128&n.flags)&&(n.memoizedState=null),n.flags|=4;Wo(n),s=!1}else null!==ii&&(sc(ii),ii=null),s=!0;if(!s)return 65536&n.flags?n:null}return 128&n.flags?(n.lanes=t,n):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(n.child.flags|=8192,1&n.mode&&(null===e||1&Zi.current?0===Al&&(Al=3):fc())),null!==n.updateQueue&&(n.flags|=4),Wo(n),null);case 4:return Ji(),To(e,n),null===e&&Ur(n.stateNode.containerInfo),Wo(n),null;case 10:return Si(n.type._context),Wo(n),null;case 19:if(Na(Zi),null===(s=n.memoizedState))return Wo(n),null;if(r=!!(128&n.flags),null===(l=s.rendering))if(r)Vo(s,!1);else{if(0!==Al||null!==e&&128&e.flags)for(e=n.child;null!==e;){if(null!==(l=es(e))){for(n.flags|=128,Vo(s,!1),null!==(r=l.updateQueue)&&(n.updateQueue=r,n.flags|=4),n.subtreeFlags=0,r=t,t=n.child;null!==t;)e=r,(s=t).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return Ca(Zi,1&Zi.current|2),n.child}e=e.sibling}null!==s.tail&&Qe()>Ul&&(n.flags|=128,r=!0,Vo(s,!1),n.lanes=4194304)}else{if(!r)if(null!==(e=es(l))){if(n.flags|=128,r=!0,null!==(t=e.updateQueue)&&(n.updateQueue=t,n.flags|=4),Vo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ai)return Wo(n),null}else 2*Qe()-s.renderingStartTime>Ul&&1073741824!==t&&(n.flags|=128,r=!0,Vo(s,!1),n.lanes=4194304);s.isBackwards?(l.sibling=n.child,n.child=l):(null!==(t=s.last)?t.sibling=l:n.child=l,s.last=l)}return null!==s.tail?(n=s.tail,s.rendering=n,s.tail=n.sibling,s.renderingStartTime=Qe(),n.sibling=null,t=Zi.current,Ca(Zi,r?1&t|2:1&t),n):(Wo(n),null);case 22:case 23:return uc(),r=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==r&&(n.flags|=8192),r&&1&n.mode?!!(1073741824&Tl)&&(Wo(n),6&n.subtreeFlags&&(n.flags|=8192)):Wo(n),null;case 24:case 25:return null}throw Error(i(156,n.tag))}function Go(e,n){switch(ni(n),n.tag){case 1:return Ta(n.type)&&Pa(),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return Ji(),Na(Fa),Na(_a),ts(),65536&(e=n.flags)&&!(128&e)?(n.flags=-65537&e|128,n):null;case 5:return Xi(n),null;case 13:if(Na(Zi),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(i(340));hi()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return Na(Zi),null;case 4:return Ji(),null;case 10:return Si(n.type._context),null;case 22:case 23:return uc(),null;default:return null}}Do=function(e,n){for(var t=n.child;null!==t;){if(5===t.tag||6===t.tag)e.appendChild(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}},To=function(){},Po=function(e,n,t,r){var a=e.memoizedProps;if(a!==r){e=n.stateNode,Gi(Vi.current);var i,s=null;switch(t){case"input":a=Y(e,a),r=Y(e,r),s=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=Zr)}for(d in be(t,r),t=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(i in l)l.hasOwnProperty(i)&&(t||(t={}),t[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(t||(t={}),t[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(t||(t={}),t[i]=c[i])}else t||(s||(s=[]),s.push(d,t)),t=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Or("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}t&&(s=s||[]).push("style",t);var d=s;(n.updateQueue=d)&&(n.flags|=4)}},Ao=function(e,n,t,r){t!==r&&(n.flags|=4)};var Yo=!1,Jo=!1,Qo="function"==typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,n){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ec(e,n,t)}else t.current=null}function el(e,n,t){try{t()}catch(t){Ec(e,n,t)}}var nl=!1;function tl(e,n,t){var r=n.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(n,t,i)}a=a.next}while(a!==r)}}function rl(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function al(e){var n=e.ref;if(null!==n){var t=e.stateNode;e.tag,e=t,"function"==typeof n?n(e):n.current=e}}function il(e){var n=e.alternate;null!==n&&(e.alternate=null,il(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(n=e.stateNode)&&(delete n[pa],delete n[ha],delete n[fa],delete n[ga],delete n[xa]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?8===t.nodeType?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(8===t.nodeType?(n=t.parentNode).insertBefore(e,t):(n=t).appendChild(e),null!=(t=t._reactRootContainer)||null!==n.onclick||(n.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,n,t),e=e.sibling;null!==e;)ll(e,n,t),e=e.sibling}function cl(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,n,t),e=e.sibling;null!==e;)cl(e,n,t),e=e.sibling}var dl=null,ul=!1;function pl(e,n,t){for(t=t.child;null!==t;)hl(e,n,t),t=t.sibling}function hl(e,n,t){if(sn&&"function"==typeof sn.onCommitFiberUnmount)try{sn.onCommitFiberUnmount(an,t)}catch(e){}switch(t.tag){case 5:Jo||Zo(t,n);case 6:var r=dl,a=ul;dl=null,pl(e,n,t),ul=a,null!==(dl=r)&&(ul?(e=dl,t=t.stateNode,8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)):dl.removeChild(t.stateNode));break;case 18:null!==dl&&(ul?(e=dl,t=t.stateNode,8===e.nodeType?la(e.parentNode,t):1===e.nodeType&&la(e,t),qn(e)):la(dl,t.stateNode));break;case 4:r=dl,a=ul,dl=t.stateNode.containerInfo,ul=!0,pl(e,n,t),dl=r,ul=a;break;case 0:case 11:case 14:case 15:if(!Jo&&null!==(r=t.updateQueue)&&null!==(r=r.lastEffect)){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,void 0!==s&&(2&i||4&i)&&el(t,n,s),a=a.next}while(a!==r)}pl(e,n,t);break;case 1:if(!Jo&&(Zo(t,n),"function"==typeof(r=t.stateNode).componentWillUnmount))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(e){Ec(t,n,e)}pl(e,n,t);break;case 21:pl(e,n,t);break;case 22:1&t.mode?(Jo=(r=Jo)||null!==t.memoizedState,pl(e,n,t),Jo=r):pl(e,n,t);break;default:pl(e,n,t)}}function ml(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new Qo),n.forEach(function(n){var r=_c.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))})}}function fl(e,n){var t=n.deletions;if(null!==t)for(var r=0;r<t.length;r++){var a=t[r];try{var s=e,o=n,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(i(160));hl(s,o,a),dl=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(e){Ec(a,n,e)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)gl(n,e),n=n.sibling}function gl(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(n,e),xl(e),4&r){try{tl(3,e,e.return),rl(3,e)}catch(n){Ec(e,e.return,n)}try{tl(5,e,e.return)}catch(n){Ec(e,e.return,n)}}break;case 1:fl(n,e),xl(e),512&r&&null!==t&&Zo(t,t.return);break;case 5:if(fl(n,e),xl(e),512&r&&null!==t&&Zo(t,t.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(n){Ec(e,e.return,n)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==t?t.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Q(a,s),ve(l,o);var d=ve(l,s);for(o=0;o<c.length;o+=2){var u=c[o],p=c[o+1];"style"===u?ge(a,p):"dangerouslySetInnerHTML"===u?ue(a,p):"children"===u?pe(a,p):v(a,u,p,d)}switch(l){case"input":X(a,s);break;case"textarea":ie(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;null!=m?te(a,!!s.multiple,m,!1):h!==!!s.multiple&&(null!=s.defaultValue?te(a,!!s.multiple,s.defaultValue,!0):te(a,!!s.multiple,s.multiple?[]:"",!1))}a[ha]=s}catch(n){Ec(e,e.return,n)}}break;case 6:if(fl(n,e),xl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(n){Ec(e,e.return,n)}}break;case 3:if(fl(n,e),xl(e),4&r&&null!==t&&t.memoizedState.isDehydrated)try{qn(n.containerInfo)}catch(n){Ec(e,e.return,n)}break;case 4:default:fl(n,e),xl(e);break;case 13:fl(n,e),xl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||($l=Qe())),4&r&&ml(e);break;case 22:if(u=null!==t&&null!==t.memoizedState,1&e.mode?(Jo=(d=Jo)||u,fl(n,e),Jo=d):fl(n,e),xl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&1&e.mode)for(Xo=e,u=e.child;null!==u;){for(p=Xo=u;null!==Xo;){switch(m=(h=Xo).child,h.tag){case 0:case 11:case 14:case 15:tl(4,h,h.return);break;case 1:Zo(h,h.return);var f=h.stateNode;if("function"==typeof f.componentWillUnmount){r=h,t=h.return;try{n=r,f.props=n.memoizedProps,f.state=n.memoizedState,f.componentWillUnmount()}catch(e){Ec(r,t,e)}}break;case 5:Zo(h,h.return);break;case 22:if(null!==h.memoizedState){wl(p);continue}}null!==m?(m.return=h,Xo=m):wl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{a=p.stateNode,d?"function"==typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=p.stateNode,o=null!=(c=p.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(n){Ec(e,e.return,n)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(n){Ec(e,e.return,n)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fl(n,e),xl(e),4&r&&ml(e);case 21:}}function xl(e){var n=e.flags;if(2&n){try{e:{for(var t=e.return;null!==t;){if(sl(t)){var r=t;break e}t=t.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(pe(a,""),r.flags&=-33),cl(e,ol(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(i(161))}}catch(n){Ec(e,e.return,n)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function bl(e,n,t){Xo=e,vl(e,n,t)}function vl(e,n,t){for(var r=!!(1&e.mode);null!==Xo;){var a=Xo,i=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||Yo;if(!s){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Yo;var c=Jo;if(Yo=s,(Jo=l)&&!c)for(Xo=a;null!==Xo;)l=(s=Xo).child,22===s.tag&&null!==s.memoizedState?jl(a):null!==l?(l.return=s,Xo=l):jl(a);for(;null!==i;)Xo=i,vl(i,n,t),i=i.sibling;Xo=a,Yo=o,Jo=c}yl(e)}else 8772&a.subtreeFlags&&null!==i?(i.return=a,Xo=i):yl(e)}}function yl(e){for(;null!==Xo;){var n=Xo;if(8772&n.flags){var t=n.alternate;try{if(8772&n.flags)switch(n.tag){case 0:case 11:case 15:Jo||rl(5,n);break;case 1:var r=n.stateNode;if(4&n.flags&&!Jo)if(null===t)r.componentDidMount();else{var a=n.elementType===n.type?t.memoizedProps:no(n.type,t.memoizedProps);r.componentDidUpdate(a,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=n.updateQueue;null!==s&&qi(n,s,r);break;case 3:var o=n.updateQueue;if(null!==o){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}qi(n,o,t)}break;case 5:var l=n.stateNode;if(null===t&&4&n.flags){t=l;var c=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===n.memoizedState){var d=n.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&qn(p)}}}break;default:throw Error(i(163))}Jo||512&n.flags&&al(n)}catch(e){Ec(n,n.return,e)}}if(n===e){Xo=null;break}if(null!==(t=n.sibling)){t.return=n.return,Xo=t;break}Xo=n.return}}function wl(e){for(;null!==Xo;){var n=Xo;if(n===e){Xo=null;break}var t=n.sibling;if(null!==t){t.return=n.return,Xo=t;break}Xo=n.return}}function jl(e){for(;null!==Xo;){var n=Xo;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{rl(4,n)}catch(e){Ec(n,t,e)}break;case 1:var r=n.stateNode;if("function"==typeof r.componentDidMount){var a=n.return;try{r.componentDidMount()}catch(e){Ec(n,a,e)}}var i=n.return;try{al(n)}catch(e){Ec(n,i,e)}break;case 5:var s=n.return;try{al(n)}catch(e){Ec(n,s,e)}}}catch(e){Ec(n,n.return,e)}if(n===e){Xo=null;break}var o=n.sibling;if(null!==o){o.return=n.return,Xo=o;break}Xo=n.return}}var kl,El=Math.ceil,Nl=y.ReactCurrentDispatcher,Cl=y.ReactCurrentOwner,Sl=y.ReactCurrentBatchConfig,_l=0,Fl=null,zl=null,Dl=0,Tl=0,Pl=Ea(0),Al=0,Il=null,Rl=0,Ll=0,Bl=0,Ol=null,Ml=null,$l=0,Ul=1/0,ql=null,Hl=!1,Vl=null,Wl=null,Kl=!1,Gl=null,Yl=0,Jl=0,Ql=null,Xl=-1,Zl=0;function ec(){return 6&_l?Qe():-1!==Xl?Xl:Xl=Qe()}function nc(e){return 1&e.mode?2&_l&&0!==Dl?Dl&-Dl:null!==fi.transition?(0===Zl&&(Zl=gn()),Zl):0!==(e=yn)?e:e=void 0===(e=window.event)?16:Qn(e.type):1}function tc(e,n,t,r){if(50<Jl)throw Jl=0,Ql=null,Error(i(185));bn(e,t,r),2&_l&&e===Fl||(e===Fl&&(!(2&_l)&&(Ll|=t),4===Al&&oc(e,Dl)),rc(e,r),1===t&&0===_l&&!(1&n.mode)&&(Ul=Qe()+500,Oa&&Ua()))}function rc(e,n){var t=e.callbackNode;!function(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-on(i),o=1<<s,l=a[s];-1===l?0!==(o&t)&&0===(o&r)||(a[s]=mn(o,n)):l<=n&&(e.expiredLanes|=o),i&=~o}}(e,n);var r=hn(e,e===Fl?Dl:0);if(0===r)null!==t&&Ge(t),e.callbackNode=null,e.callbackPriority=0;else if(n=r&-r,e.callbackPriority!==n){if(null!=t&&Ge(t),1===n)0===e.tag?function(e){Oa=!0,$a(e)}(lc.bind(null,e)):$a(lc.bind(null,e)),sa(function(){!(6&_l)&&Ua()}),t=null;else{switch(wn(r)){case 1:t=Ze;break;case 4:t=en;break;case 16:default:t=nn;break;case 536870912:t=rn}t=Fc(t,ac.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function ac(e,n){if(Xl=-1,Zl=0,6&_l)throw Error(i(327));var t=e.callbackNode;if(jc()&&e.callbackNode!==t)return null;var r=hn(e,e===Fl?Dl:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||n)n=gc(e,r);else{n=r;var a=_l;_l|=2;var s=mc();for(Fl===e&&Dl===n||(ql=null,Ul=Qe()+500,pc(e,n));;)try{bc();break}catch(n){hc(e,n)}Ci(),Nl.current=s,_l=a,null!==zl?n=0:(Fl=null,Dl=0,n=Al)}if(0!==n){if(2===n&&0!==(a=fn(e))&&(r=a,n=ic(e,a)),1===n)throw t=Il,pc(e,0),oc(e,r),rc(e,Qe()),t;if(6===n)oc(e,r);else{if(a=e.current.alternate,!(30&r||function(e){for(var n=e;;){if(16384&n.flags){var t=n.updateQueue;if(null!==t&&null!==(t=t.stores))for(var r=0;r<t.length;r++){var a=t[r],i=a.getSnapshot;a=a.value;try{if(!or(i(),a))return!1}catch(e){return!1}}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}(a)||(n=gc(e,r),2===n&&(s=fn(e),0!==s&&(r=s,n=ic(e,s))),1!==n)))throw t=Il,pc(e,0),oc(e,r),rc(e,Qe()),t;switch(e.finishedWork=a,e.finishedLanes=r,n){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Ml,ql);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(n=$l+500-Qe())){if(0!==hn(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Ml,ql),n);break}wc(e,Ml,ql);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(n=e.eventTimes,a=-1;0<r;){var o=31-on(r);s=1<<o,(o=n[o])>a&&(a=o),r&=~s}if(r=a,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Ml,ql),r);break}wc(e,Ml,ql);break;default:throw Error(i(329))}}}return rc(e,Qe()),e.callbackNode===t?ac.bind(null,e):null}function ic(e,n){var t=Ol;return e.current.memoizedState.isDehydrated&&(pc(e,n).flags|=256),2!==(e=gc(e,n))&&(n=Ml,Ml=t,null!==n&&sc(n)),e}function sc(e){null===Ml?Ml=e:Ml.push.apply(Ml,e)}function oc(e,n){for(n&=~Bl,n&=~Ll,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-on(n),r=1<<t;e[t]=-1,n&=~r}}function lc(e){if(6&_l)throw Error(i(327));jc();var n=hn(e,0);if(!(1&n))return rc(e,Qe()),null;var t=gc(e,n);if(0!==e.tag&&2===t){var r=fn(e);0!==r&&(n=r,t=ic(e,r))}if(1===t)throw t=Il,pc(e,0),oc(e,n),rc(e,Qe()),t;if(6===t)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,wc(e,Ml,ql),rc(e,Qe()),null}function cc(e,n){var t=_l;_l|=1;try{return e(n)}finally{0===(_l=t)&&(Ul=Qe()+500,Oa&&Ua())}}function dc(e){null!==Gl&&0===Gl.tag&&!(6&_l)&&jc();var n=_l;_l|=1;var t=Sl.transition,r=yn;try{if(Sl.transition=null,yn=1,e)return e()}finally{yn=r,Sl.transition=t,!(6&(_l=n))&&Ua()}}function uc(){Tl=Pl.current,Na(Pl)}function pc(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,aa(t)),null!==zl)for(t=zl.return;null!==t;){var r=t;switch(ni(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Pa();break;case 3:Ji(),Na(Fa),Na(_a),ts();break;case 5:Xi(r);break;case 4:Ji();break;case 13:case 19:Na(Zi);break;case 10:Si(r.type._context);break;case 22:case 23:uc()}t=t.return}if(Fl=e,zl=e=Pc(e.current,null),Dl=Tl=n,Al=0,Il=null,Bl=Ll=Rl=0,Ml=Ol=null,null!==Di){for(n=0;n<Di.length;n++)if(null!==(r=(t=Di[n]).interleaved)){t.interleaved=null;var a=r.next,i=t.pending;if(null!==i){var s=i.next;i.next=a,r.next=s}t.pending=r}Di=null}return e}function hc(e,n){for(;;){var t=zl;try{if(Ci(),rs.current=Qs,cs){for(var r=ss.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}cs=!1}if(is=0,ls=os=ss=null,ds=!1,us=0,Cl.current=null,null===t||null===t.return){Al=1,Il=n,zl=null;break}e:{var s=e,o=t.return,l=t,c=n;if(n=Dl,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var d=c,u=l,p=u.tag;if(!(1&u.mode||0!==p&&11!==p&&15!==p)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=go(o);if(null!==m){m.flags&=-257,xo(m,o,l,0,n),1&m.mode&&fo(s,d,n),c=d;var f=(n=m).updateQueue;if(null===f){var g=new Set;g.add(c),n.updateQueue=g}else f.add(c);break e}if(!(1&n)){fo(s,d,n),fc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var x=go(o);if(null!==x){!(65536&x.flags)&&(x.flags|=256),xo(x,o,l,0,n),mi(lo(c,l));break e}}s=c=lo(c,l),4!==Al&&(Al=2),null===Ol?Ol=[s]:Ol.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,n&=-n,s.lanes|=n,$i(s,ho(0,c,n));break e;case 1:l=c;var b=s.type,v=s.stateNode;if(!(128&s.flags||"function"!=typeof b.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==Wl&&Wl.has(v)))){s.flags|=65536,n&=-n,s.lanes|=n,$i(s,mo(s,l,n));break e}}s=s.return}while(null!==s)}yc(t)}catch(e){n=e,zl===t&&null!==t&&(zl=t=t.return);continue}break}}function mc(){var e=Nl.current;return Nl.current=Qs,null===e?Qs:e}function fc(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Fl||!(268435455&Rl)&&!(268435455&Ll)||oc(Fl,Dl)}function gc(e,n){var t=_l;_l|=2;var r=mc();for(Fl===e&&Dl===n||(ql=null,pc(e,n));;)try{xc();break}catch(n){hc(e,n)}if(Ci(),_l=t,Nl.current=r,null!==zl)throw Error(i(261));return Fl=null,Dl=0,Al}function xc(){for(;null!==zl;)vc(zl)}function bc(){for(;null!==zl&&!Ye();)vc(zl)}function vc(e){var n=kl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===n?yc(e):zl=n,Cl.current=null}function yc(e){var n=e;do{var t=n.alternate;if(e=n.return,32768&n.flags){if(null!==(t=Go(t,n)))return t.flags&=32767,void(zl=t);if(null===e)return Al=6,void(zl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(t=Ko(t,n,Tl)))return void(zl=t);if(null!==(n=n.sibling))return void(zl=n);zl=n=e}while(null!==n);0===Al&&(Al=5)}function wc(e,n,t){var r=yn,a=Sl.transition;try{Sl.transition=null,yn=1,function(e,n,t,r){do{jc()}while(null!==Gl);if(6&_l)throw Error(i(327));t=e.finishedWork;var a=e.finishedLanes;if(null===t)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=t.lanes|t.childLanes;if(function(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<t;){var a=31-on(t),i=1<<a;n[a]=0,r[a]=-1,e[a]=-1,t&=~i}}(e,s),e===Fl&&(zl=Fl=null,Dl=0),!(2064&t.subtreeFlags)&&!(2064&t.flags)||Kl||(Kl=!0,Fc(nn,function(){return jc(),null})),s=!!(15990&t.flags),15990&t.subtreeFlags||s){s=Sl.transition,Sl.transition=null;var o=yn;yn=1;var l=_l;_l|=4,Cl.current=null,function(e,n){if(ea=Vn,hr(e=pr())){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(r&&0!==r.rangeCount){t=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch(e){t=null;break e}var o=0,l=-1,c=-1,d=0,u=0,p=e,h=null;n:for(;;){for(var m;p!==t||0!==a&&3!==p.nodeType||(l=o+a),p!==s||0!==r&&3!==p.nodeType||(c=o+r),3===p.nodeType&&(o+=p.nodeValue.length),null!==(m=p.firstChild);)h=p,p=m;for(;;){if(p===e)break n;if(h===t&&++d===a&&(l=o),h===s&&++u===r&&(c=o),null!==(m=p.nextSibling))break;h=(p=h).parentNode}p=m}t=-1===l||-1===c?null:{start:l,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(na={focusedElem:e,selectionRange:t},Vn=!1,Xo=n;null!==Xo;)if(e=(n=Xo).child,1028&n.subtreeFlags&&null!==e)e.return=n,Xo=e;else for(;null!==Xo;){n=Xo;try{var f=n.alternate;if(1024&n.flags)switch(n.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,x=f.memoizedState,b=n.stateNode,v=b.getSnapshotBeforeUpdate(n.elementType===n.type?g:no(n.type,g),x);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=n.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(i(163))}}catch(e){Ec(n,n.return,e)}if(null!==(e=n.sibling)){e.return=n.return,Xo=e;break}Xo=n.return}f=nl,nl=!1}(e,t),gl(t,e),mr(na),Vn=!!ea,na=ea=null,e.current=t,bl(t,e,a),Je(),_l=l,yn=o,Sl.transition=s}else e.current=t;if(Kl&&(Kl=!1,Gl=e,Yl=a),0===(s=e.pendingLanes)&&(Wl=null),function(e){if(sn&&"function"==typeof sn.onCommitFiberRoot)try{sn.onCommitFiberRoot(an,e,void 0,!(128&~e.current.flags))}catch(e){}}(t.stateNode),rc(e,Qe()),null!==n)for(r=e.onRecoverableError,t=0;t<n.length;t++)r((a=n[t]).value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;!!(1&Yl)&&0!==e.tag&&jc(),1&(s=e.pendingLanes)?e===Ql?Jl++:(Jl=0,Ql=e):Jl=0,Ua()}(e,n,t,r)}finally{Sl.transition=a,yn=r}return null}function jc(){if(null!==Gl){var e=wn(Yl),n=Sl.transition,t=yn;try{if(Sl.transition=null,yn=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Yl=0,6&_l)throw Error(i(331));var a=_l;for(_l|=4,Xo=e.current;null!==Xo;){var s=Xo,o=s.child;if(16&Xo.flags){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xo=d;null!==Xo;){var u=Xo;switch(u.tag){case 0:case 11:case 15:tl(8,u,s)}var p=u.child;if(null!==p)p.return=u,Xo=p;else for(;null!==Xo;){var h=(u=Xo).sibling,m=u.return;if(il(u),u===d){Xo=null;break}if(null!==h){h.return=m,Xo=h;break}Xo=m}}}var f=s.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}Xo=s}}if(2064&s.subtreeFlags&&null!==o)o.return=s,Xo=o;else e:for(;null!==Xo;){if(2048&(s=Xo).flags)switch(s.tag){case 0:case 11:case 15:tl(9,s,s.return)}var b=s.sibling;if(null!==b){b.return=s.return,Xo=b;break e}Xo=s.return}}var v=e.current;for(Xo=v;null!==Xo;){var y=(o=Xo).child;if(2064&o.subtreeFlags&&null!==y)y.return=o,Xo=y;else e:for(o=v;null!==Xo;){if(2048&(l=Xo).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){Ec(l,l.return,e)}if(l===o){Xo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xo=w;break e}Xo=l.return}}if(_l=a,Ua(),sn&&"function"==typeof sn.onPostCommitFiberRoot)try{sn.onPostCommitFiberRoot(an,e)}catch(e){}r=!0}return r}finally{yn=t,Sl.transition=n}}return!1}function kc(e,n,t){e=Oi(e,n=ho(0,n=lo(t,n),1),1),n=ec(),null!==e&&(bn(e,1,n),rc(e,n))}function Ec(e,n,t){if(3===e.tag)kc(e,e,t);else for(;null!==n;){if(3===n.tag){kc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){n=Oi(n,e=mo(n,e=lo(t,e),1),1),e=ec(),null!==n&&(bn(n,1,e),rc(n,e));break}}n=n.return}}function Nc(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),n=ec(),e.pingedLanes|=e.suspendedLanes&t,Fl===e&&(Dl&t)===t&&(4===Al||3===Al&&(130023424&Dl)===Dl&&500>Qe()-$l?pc(e,0):Bl|=t),rc(e,n)}function Cc(e,n){0===n&&(1&e.mode?(n=un,!(130023424&(un<<=1))&&(un=4194304)):n=1);var t=ec();null!==(e=Ai(e,n))&&(bn(e,n,t),rc(e,t))}function Sc(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),Cc(e,t)}function _c(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(t=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(n),Cc(e,t)}function Fc(e,n){return Ke(e,n)}function zc(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,n,t,r){return new zc(e,n,t,r)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,n){var t=e.alternate;return null===t?((t=Dc(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=14680064&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Ac(e,n,t,r,a,s){var o=2;if(r=e,"function"==typeof e)Tc(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case k:return Ic(t.children,a,s,n);case E:o=8,a|=8;break;case N:return(e=Dc(12,t,n,2|a)).elementType=N,e.lanes=s,e;case F:return(e=Dc(13,t,n,a)).elementType=F,e.lanes=s,e;case z:return(e=Dc(19,t,n,a)).elementType=z,e.lanes=s,e;case P:return Rc(t,a,s,n);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case S:o=9;break e;case _:o=11;break e;case D:o=14;break e;case T:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(n=Dc(o,t,n,a)).elementType=e,n.type=r,n.lanes=s,n}function Ic(e,n,t,r){return(e=Dc(7,e,r,n)).lanes=t,e}function Rc(e,n,t,r){return(e=Dc(22,e,r,n)).elementType=P,e.lanes=t,e.stateNode={isHidden:!1},e}function Lc(e,n,t){return(e=Dc(6,e,null,n)).lanes=t,e}function Bc(e,n,t){return(n=Dc(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Oc(e,n,t,r,a){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xn(0),this.expirationTimes=xn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xn(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Mc(e,n,t,r,a,i,s,o,l){return e=new Oc(e,n,t,o,l),1===n?(n=1,!0===i&&(n|=8)):n=0,i=Dc(3,null,null,n),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ri(i),e}function $c(e){if(!e)return Sa;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ta(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(null!==n);throw Error(i(171))}if(1===e.tag){var t=e.type;if(Ta(t))return Ia(e,t,n)}return n}function Uc(e,n,t,r,a,i,s,o,l){return(e=Mc(t,r,!0,e,0,i,0,o,l)).context=$c(null),t=e.current,(i=Bi(r=ec(),a=nc(t))).callback=null!=n?n:null,Oi(t,i,a),e.current.lanes=a,bn(e,a,r),rc(e,r),e}function qc(e,n,t,r){var a=n.current,i=ec(),s=nc(a);return t=$c(t),null===n.context?n.context=t:n.pendingContext=t,(n=Bi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),null!==(e=Oi(a,n,s))&&(tc(e,a,s,i),Mi(e,a,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var t=e.retryLane;e.retryLane=0!==t&&t<n?t:n}}function Wc(e,n){Vc(e,n),(e=e.alternate)&&Vc(e,n)}kl=function(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps||Fa.current)vo=!0;else{if(0===(e.lanes&t)&&!(128&n.flags))return vo=!1,function(e,n,t){switch(n.tag){case 3:Fo(n),hi();break;case 5:Qi(n);break;case 1:Ta(n.type)&&Ra(n);break;case 4:Yi(n,n.stateNode.containerInfo);break;case 10:var r=n.type._context,a=n.memoizedProps.value;Ca(ji,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=n.memoizedState))return null!==r.dehydrated?(Ca(Zi,1&Zi.current),n.flags|=128,null):0!==(t&n.child.childLanes)?Lo(e,n,t):(Ca(Zi,1&Zi.current),null!==(e=Ho(e,n,t))?e.sibling:null);Ca(Zi,1&Zi.current);break;case 19:if(r=0!==(t&n.childLanes),128&e.flags){if(r)return Uo(e,n,t);n.flags|=128}if(null!==(a=n.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(Zi,Zi.current),r)break;return null;case 22:case 23:return n.lanes=0,Eo(e,n,t)}return Ho(e,n,t)}(e,n,t);vo=!!(131072&e.flags)}else vo=!1,ai&&1048576&n.flags&&Za(n,Wa,n.index);switch(n.lanes=0,n.tag){case 2:var r=n.type;qo(e,n),e=n.pendingProps;var a=Da(n,_a.current);Fi(n,t),a=fs(null,n,r,e,a,t);var s=gs();return n.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ta(r)?(s=!0,Ra(n)):s=!1,n.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ri(n),a.updater=ro,n.stateNode=a,a._reactInternals=n,oo(n,r,e,t),n=_o(null,n,r,!0,s,t)):(n.tag=0,ai&&s&&ei(n),yo(null,n,a,t),n=n.child),n;case 16:r=n.elementType;e:{switch(qo(e,n),e=n.pendingProps,r=(a=r._init)(r._payload),n.type=r,a=n.tag=function(e){if("function"==typeof e)return Tc(e)?1:0;if(null!=e){if((e=e.$$typeof)===_)return 11;if(e===D)return 14}return 2}(r),e=no(r,e),a){case 0:n=Co(null,n,r,e,t);break e;case 1:n=So(null,n,r,e,t);break e;case 11:n=wo(null,n,r,e,t);break e;case 14:n=jo(null,n,r,no(r.type,e),t);break e}throw Error(i(306,r,""))}return n;case 0:return r=n.type,a=n.pendingProps,Co(e,n,r,a=n.elementType===r?a:no(r,a),t);case 1:return r=n.type,a=n.pendingProps,So(e,n,r,a=n.elementType===r?a:no(r,a),t);case 3:e:{if(Fo(n),null===e)throw Error(i(387));r=n.pendingProps,a=(s=n.memoizedState).element,Li(e,n),Ui(n,r,null,t);var o=n.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},n.updateQueue.baseState=s,n.memoizedState=s,256&n.flags){n=zo(e,n,r,t,a=lo(Error(i(423)),n));break e}if(r!==a){n=zo(e,n,r,t,a=lo(Error(i(424)),n));break e}for(ri=ca(n.stateNode.containerInfo.firstChild),ti=n,ai=!0,ii=null,t=wi(n,null,r,t),n.child=t;t;)t.flags=-3&t.flags|4096,t=t.sibling}else{if(hi(),r===a){n=Ho(e,n,t);break e}yo(e,n,r,t)}n=n.child}return n;case 5:return Qi(n),null===e&&ci(n),r=n.type,a=n.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,ta(r,a)?o=null:null!==s&&ta(r,s)&&(n.flags|=32),No(e,n),yo(e,n,o,t),n.child;case 6:return null===e&&ci(n),null;case 13:return Lo(e,n,t);case 4:return Yi(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=yi(n,null,r,t):yo(e,n,r,t),n.child;case 11:return r=n.type,a=n.pendingProps,wo(e,n,r,a=n.elementType===r?a:no(r,a),t);case 7:return yo(e,n,n.pendingProps,t),n.child;case 8:case 12:return yo(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(r=n.type._context,a=n.pendingProps,s=n.memoizedProps,o=a.value,Ca(ji,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===a.children&&!Fa.current){n=Ho(e,n,t);break e}}else for(null!==(s=n.child)&&(s.return=n);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Bi(-1,t&-t)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=t,null!==(c=s.alternate)&&(c.lanes|=t),_i(s.return,t,n),l.lanes|=t;break}c=c.next}}else if(10===s.tag)o=s.type===n.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=t,null!==(l=o.alternate)&&(l.lanes|=t),_i(o,t,n),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===n){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}yo(e,n,a.children,t),n=n.child}return n;case 9:return a=n.type,r=n.pendingProps.children,Fi(n,t),r=r(a=zi(a)),n.flags|=1,yo(e,n,r,t),n.child;case 14:return a=no(r=n.type,n.pendingProps),jo(e,n,r,a=no(r.type,a),t);case 15:return ko(e,n,n.type,n.pendingProps,t);case 17:return r=n.type,a=n.pendingProps,a=n.elementType===r?a:no(r,a),qo(e,n),n.tag=1,Ta(r)?(e=!0,Ra(n)):e=!1,Fi(n,t),io(n,r,a),oo(n,r,a,t),_o(null,n,r,!0,e,t);case 19:return Uo(e,n,t);case 22:return Eo(e,n,t)}throw Error(i(156,n.tag))};var Kc="function"==typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,n,t,r,a){var i=t._reactRootContainer;if(i){var s=i;if("function"==typeof a){var o=a;a=function(){var e=Hc(s);o.call(e)}}qc(n,s,e,a)}else s=function(e,n,t,r,a){if(a){if("function"==typeof r){var i=r;r=function(){var e=Hc(s);i.call(e)}}var s=Uc(n,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=s,e[ma]=s.current,Ur(8===e.nodeType?e.parentNode:e),dc(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"==typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Mc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[ma]=l.current,Ur(8===e.nodeType?e.parentNode:e),dc(function(){qc(n,l,t,r)}),l}(t,n,e,a,r);return Hc(s)}Yc.prototype.render=Gc.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(i(409));qc(e,n,null,null)},Yc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;dc(function(){qc(null,e,null,null)}),n[ma]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Nn();e={blockedOn:null,target:e,priority:n};for(var t=0;t<An.length&&0!==n&&n<An[t].priority;t++);An.splice(t,0,e),0===t&&Bn(e)}},jn=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=pn(n.pendingLanes);0!==t&&(vn(n,1|t),rc(n,Qe()),!(6&_l)&&(Ul=Qe()+500,Ua()))}break;case 13:dc(function(){var n=Ai(e,1);if(null!==n){var t=ec();tc(n,e,1,t)}}),Wc(e,1)}},kn=function(e){if(13===e.tag){var n=Ai(e,134217728);null!==n&&tc(n,e,134217728,ec()),Wc(e,134217728)}},En=function(e){if(13===e.tag){var n=nc(e),t=Ai(e,n);null!==t&&tc(t,e,n,ec()),Wc(e,n)}},Nn=function(){return yn},Cn=function(e,n){var t=yn;try{return yn=e,n()}finally{yn=t}},je=function(e,n,t){switch(n){case"input":if(X(e,t),n=t.name,"radio"===t.type&&null!=n){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(i(90));K(r),X(r,a)}}}break;case"textarea":ie(e,t);break;case"select":null!=(n=t.value)&&te(e,!!t.multiple,n,!1)}},_e=cc,Fe=dc;var ed={usingClientEntryPoint:!1,Events:[va,ya,wa,Ce,Se,cc]},nd={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},td={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{an=rd.inject(td),sn=rd}catch(de){}}n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,n.createPortal=function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(n))throw Error(i(200));return function(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}(e,n,null,t)},n.createRoot=function(e,n){if(!Jc(e))throw Error(i(299));var t=!1,r="",a=Kc;return null!=n&&(!0===n.unstable_strictMode&&(t=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),n=Mc(e,1,!1,null,0,t,0,r,a),e[ma]=n.current,Ur(8===e.nodeType?e.parentNode:e),new Gc(n)},n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return null===(e=Ve(n))?null:e.stateNode},n.flushSync=function(e){return dc(e)},n.hydrate=function(e,n,t){if(!Qc(n))throw Error(i(200));return Zc(null,e,n,!0,t)},n.hydrateRoot=function(e,n,t){if(!Jc(e))throw Error(i(405));var r=null!=t&&t.hydratedSources||null,a=!1,s="",o=Kc;if(null!=t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),n=Uc(n,null,e,1,null!=t?t:null,a,0,s,o),e[ma]=n.current,Ur(e),r)for(e=0;e<r.length;e++)a=(a=(t=r[e])._getVersion)(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a);return new Yc(n)},n.render=function(e,n,t){if(!Qc(n))throw Error(i(200));return Zc(null,e,n,!1,t)},n.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(i(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ma]=null})}),!0)},n.unstable_batchedUpdates=cc,n.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!Qc(t))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,n,t,!1,r)},n.version="18.3.1-next-f1338f8080-20240426"},660:function(e,n,t){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=r(t(907)),i=r(t(818));n.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let t=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var n,t,r;let a=null,s=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const n=await e.text();""===n||(s="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?n:JSON.parse(n))}const r=null===(n=this.headers.Prefer)||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),i=null===(t=e.headers.get("content-range"))||void 0===t?void 0:t.split("/");r&&i&&i.length>1&&(o=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,o=null,l=406,c="Not Acceptable"):s=1===s.length?s[0]:null)}else{const n=await e.text();try{a=JSON.parse(n),Array.isArray(a)&&404===e.status&&(s=[],a=null,l=200,c="OK")}catch(t){404===e.status&&""===n?(l=204,c="No Content"):a={message:n}}if(a&&this.isMaybeSingle&&(null===(r=null==a?void 0:a.details)||void 0===r?void 0:r.includes("0 rows"))&&(a=null,l=200,c="OK"),a&&this.shouldThrowOnError)throw new i.default(a)}return{error:a,data:s,count:o,status:l,statusText:c}});return this.shouldThrowOnError||(t=t.catch(e=>{var n,t,r;return{error:{message:`${null!==(n=null==e?void 0:e.name)&&void 0!==n?n:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(t=null==e?void 0:e.stack)&&void 0!==t?t:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}})),t.then(e,n)}returns(){return this}overrideTypes(){return this}}},818:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0});class t extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}n.default=t},825:function(e,n,t){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const a=r(t(261));class i extends a.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const t=Array.from(new Set(n)).map(e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${t})`),this}contains(e,n){return"string"==typeof n?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return"string"==typeof n?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return"string"==typeof n?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:t,type:r}={}){let a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const i=void 0===t?"":`(${t})`;return this.url.searchParams.append(e,`${a}fts${i}.${n}`),this}match(e){return Object.entries(e).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(e,n,t){return this.url.searchParams.append(e,`not.${n}.${t}`),this}or(e,{foreignTable:n,referencedTable:t=n}={}){const r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,n,t){return this.url.searchParams.append(e,`${n}.${t}`),this}}n.default=i},848:(e,n,t)=>{e.exports=t(20)},907:(e,n,t)=>{t.r(n),t.d(n,{Headers:()=>s,Request:()=>o,Response:()=>l,default:()=>i,fetch:()=>a});var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();const a=r.fetch,i=r.fetch.bind(r),s=r.Headers,o=r.Request,l=r.Response},961:(e,n,t)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=t(551)},982:(e,n,t)=>{e.exports=t(463)}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var i=n[r]={exports:{}};return e[r].call(i.exports,i,i.exports,t),i.exports}t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=t(848),a=t(338),i=t(540),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},o=(e,n)=>{const t=(0,i.forwardRef)(({color:t="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:o,children:l,...c},d)=>{return(0,i.createElement)("svg",{ref:d,...s,width:r,height:r,stroke:t,strokeWidth:o?24*Number(a)/Number(r):a,className:`lucide lucide-${u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,...c},[...n.map(([e,n])=>(0,i.createElement)(e,n)),...(Array.isArray(l)?l:[l])||[]]);var u});return t.displayName=`${e}`,t};const l=o("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),c=o("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),d=o("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),u=o("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),p=()=>(0,r.jsxs)("div",{className:"titlebar",children:[(0,r.jsxs)("div",{className:"titlebar-content",children:[(0,r.jsxs)("div",{className:"titlebar-left",children:[(0,r.jsx)("div",{className:"app-logo",children:(0,r.jsx)(l,{size:18})}),(0,r.jsx)("span",{className:"app-title",children:"Bibliothèque"}),(0,r.jsx)("div",{className:"title-separator"}),(0,r.jsx)("span",{className:"app-subtitle",children:"Gestion moderne de collection"})]}),(0,r.jsx)("div",{className:"titlebar-center"}),(0,r.jsxs)("div",{className:"titlebar-controls",children:[(0,r.jsx)("button",{className:"control-button minimize",onClick:()=>{window.electronAPI.minimizeWindow()},title:"Réduire",children:(0,r.jsx)(c,{size:12})}),(0,r.jsx)("button",{className:"control-button maximize",onClick:()=>{window.electronAPI.maximizeWindow()},title:"Agrandir",children:(0,r.jsx)(d,{size:10})}),(0,r.jsx)("button",{className:"control-button close",onClick:()=>{window.electronAPI.closeWindow()},title:"Fermer",children:(0,r.jsx)(u,{size:12})})]})]}),(0,r.jsx)("style",{children:"\n        .titlebar {\n          height: 48px;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          border-bottom: 1px solid rgba(46, 69, 58, 0.2);\n          -webkit-app-region: drag;\n          position: relative;\n          z-index: 1000;\n        }\n        \n        .titlebar::after {\n          content: '';\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          height: 1px;\n          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.3), transparent);\n        }\n        \n        .titlebar-content {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          height: 100%;\n          padding: 0 8px 0 16px;\n          position: relative;\n        }\n        \n        .titlebar-left {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          flex: 1;\n          min-width: 0;\n        }\n        \n        .app-logo {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 32px;\n          height: 32px;\n          background: rgba(243, 238, 217, 0.15);\n          border-radius: 8px;\n          color: #F3EED9;\n          flex-shrink: 0;\n        }\n        \n        .app-title {\n          font-size: 14px;\n          font-weight: 700;\n          color: #F3EED9;\n          letter-spacing: -0.2px;\n          flex-shrink: 0;\n        }\n        \n        .title-separator {\n          width: 1px;\n          height: 16px;\n          background: rgba(243, 238, 217, 0.3);\n          flex-shrink: 0;\n        }\n        \n        .app-subtitle {\n          font-size: 12px;\n          font-weight: 400;\n          color: rgba(243, 238, 217, 0.8);\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        \n        .titlebar-center {\n          flex: 2;\n          display: flex;\n          justify-content: center;\n          margin: 0 16px;\n        }\n        \n        .titlebar-controls {\n          display: flex;\n          align-items: center;\n          -webkit-app-region: no-drag;\n          flex-shrink: 0;\n        }\n        \n        .control-button {\n          width: 44px;\n          height: 32px;\n          border: none;\n          background: transparent;\n          color: #F3EED9;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-radius: 4px;\n          transition: all 0.15s ease;\n          opacity: 0.8;\n          position: relative;\n        }\n        \n        .control-button::before {\n          content: '';\n          position: absolute;\n          inset: 4px;\n          border-radius: 2px;\n          background: transparent;\n          transition: background 0.15s ease;\n        }\n        \n        .control-button:hover {\n          opacity: 1;\n        }\n        \n        .control-button:hover::before {\n          background: rgba(243, 238, 217, 0.1);\n        }\n        \n        .control-button:active::before {\n          background: rgba(243, 238, 217, 0.2);\n        }\n        \n        .control-button.close:hover::before {\n          background: #E81123;\n        }\n        \n        .control-button.close:hover {\n          color: #FFFFFF;\n        }\n        \n        .control-button.close:active::before {\n          background: #C50E1F;\n        }\n        \n        /* Responsive adjustments */\n        @media (max-width: 768px) {\n          .app-subtitle {\n            display: none;\n          }\n          \n          .title-separator {\n            display: none;\n          }\n          \n          .titlebar-content {\n            padding: 0 4px 0 12px;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .titlebar-left {\n            gap: 8px;\n          }\n          \n          .app-title {\n            font-size: 13px;\n          }\n          \n          .control-button {\n            width: 40px;\n            height: 30px;\n          }\n        }\n      "})]}),h=o("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),m=o("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]),f=o("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),g=o("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),x=o("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),b=o("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),v=o("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),y=o("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),w=o("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),j=o("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),k=o("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),E=o("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),N=o("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),C=o("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),S=o("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),_=({currentView:e,onNavigate:n,stats:t})=>{const[a,s]=(0,i.useState)(!1),o=[{id:"dashboard",label:"Tableau de bord",icon:h,description:"Vue d'ensemble et statistiques",gradient:"linear-gradient(135deg, #3E5C49 0%, #2E453A 100%)"},{id:"books",label:"Ma Collection",icon:m,description:"Parcourir tous les livres",count:t.totalBooks,gradient:"linear-gradient(135deg, #3E5C49 0%, #4A6B57 100%)"},{id:"borrowed",label:"Emprunts Actifs",icon:l,description:"Livres actuellement empruntés",count:t.borrowedBooks,badge:t.borrowedBooks>0,urgent:t.overdueBooks>0,gradient:"linear-gradient(135deg, #C2571B 0%, #A8481A 100%)"}],c=[{id:"add-book",label:"Nouveau Livre",icon:f,description:"Ajouter à la collection",accent:!0,gradient:"linear-gradient(135deg, #C2571B 0%, #E65100 100%)",highlight:!0},{id:"borrowers",label:"Gestion Emprunteurs",icon:g,description:"Gérer les utilisateurs",count:t.totalBorrowers,badge:t.totalBorrowers>0,gradient:"linear-gradient(135deg, #6E6E6E 0%, #5A5A5A 100%)"}],d=[{id:"history",label:"Historique Complet",icon:x,description:"Tous les emprunts et retours",gradient:"linear-gradient(135deg, #607D8B 0%, #455A64 100%)"}],u=[{id:"donation",label:"Soutenir le projet",icon:b,description:"Faire une donation",gradient:"linear-gradient(135deg, #E91E63 0%, #C2185B 100%)",support:!0},{id:"about",label:"À propos",icon:v,description:"Développeur & crédits",gradient:"linear-gradient(135deg, #607D8B 0%, #455A64 100%)"}],p=[{label:"Collection",value:t.totalBooks,icon:m,color:"#3E5C49",trend:"+2 ce mois"},{label:"Disponibles",value:t.availableBooks,icon:l,color:"#3E5C49",percentage:t.totalBooks>0?Math.round(t.availableBooks/t.totalBooks*100):0},{label:"Empruntés",value:t.borrowedBooks,icon:y,color:"#C2571B",percentage:t.totalBooks>0?Math.round(t.borrowedBooks/t.totalBooks*100):0},{label:"En retard",value:t.overdueBooks,icon:w,color:"#DC2626",urgent:t.overdueBooks>0}],_=[{label:"Étudiants",value:t.totalStudents,icon:j,color:"#3E5C49"},{label:"Personnel",value:t.totalStaff,icon:k,color:"#C2571B"}];return(0,r.jsxs)("div",{className:"sidebar "+(a?"collapsed":""),children:[(0,r.jsxs)("div",{className:"sidebar-header",children:[(0,r.jsx)("div",{className:"sidebar-toggle",children:(0,r.jsx)("button",{className:"toggle-button",onClick:()=>s(!a),title:a?"Développer le menu":"Réduire le menu",children:a?(0,r.jsx)(E,{size:18}):(0,r.jsx)(N,{size:18})})}),!a&&(0,r.jsxs)("div",{className:"sidebar-brand",children:[(0,r.jsx)("div",{className:"brand-logo",children:(0,r.jsx)(m,{size:24})}),(0,r.jsxs)("div",{className:"brand-text",children:[(0,r.jsx)("h2",{className:"brand-title",children:"Bibliothèque"}),(0,r.jsx)("p",{className:"brand-subtitle",children:"Système de gestion moderne"})]})]})]}),(0,r.jsxs)("div",{className:"sidebar-content",children:[(0,r.jsxs)("nav",{className:"sidebar-nav",children:[(0,r.jsxs)("div",{className:"nav-section",children:[!a&&(0,r.jsx)("h3",{className:"nav-title",children:"Principal"}),(0,r.jsx)("ul",{className:"nav-list",children:o.map(i=>(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsxs)("button",{className:`nav-button ${e===i.id?"active":""} ${i.accent?"accent":""} ${i.urgent?"urgent":""} ${i.highlight?"highlight":""}`,onClick:()=>n(i.id),title:a?i.label:"",style:{"--item-gradient":i.gradient},children:[(0,r.jsx)("div",{className:"nav-icon",children:(0,r.jsx)(i.icon,{size:20})}),!a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"nav-content",children:[(0,r.jsx)("span",{className:"nav-label",children:i.label}),(0,r.jsx)("span",{className:"nav-description",children:i.description})]}),void 0!==i.count&&i.count>0&&(0,r.jsx)("div",{className:`nav-count ${i.badge?"badge":""} ${i.urgent?"urgent":""}`,children:i.count}),i.highlight&&(0,r.jsx)("div",{className:"nav-highlight",children:(0,r.jsx)(C,{size:14})})]}),a&&i.badge&&t.borrowedBooks>0&&(0,r.jsx)("div",{className:"nav-indicator "+(i.urgent?"urgent":"")})]})},i.id))})]}),(0,r.jsxs)("div",{className:"nav-section",children:[!a&&(0,r.jsx)("h3",{className:"nav-title",children:"Actions"}),(0,r.jsx)("ul",{className:"nav-list",children:c.map(t=>(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsxs)("button",{className:`nav-button ${e===t.id?"active":""} ${t.accent?"accent":""} ${t.highlight?"highlight":""}`,onClick:()=>n(t.id),title:a?t.label:"",style:{"--item-gradient":t.gradient},children:[(0,r.jsx)("div",{className:"nav-icon",children:(0,r.jsx)(t.icon,{size:20})}),!a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"nav-content",children:[(0,r.jsx)("span",{className:"nav-label",children:t.label}),(0,r.jsx)("span",{className:"nav-description",children:t.description})]}),void 0!==t.count&&t.count>0&&(0,r.jsx)("div",{className:"nav-count "+(t.badge?"badge":""),children:t.count}),t.highlight&&(0,r.jsx)("div",{className:"nav-highlight",children:(0,r.jsx)(C,{size:14})})]})]})},t.id))})]}),(0,r.jsxs)("div",{className:"nav-section",children:[!a&&(0,r.jsx)("h3",{className:"nav-title",children:"Rapports"}),(0,r.jsx)("ul",{className:"nav-list",children:d.map(t=>(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsxs)("button",{className:"nav-button "+(e===t.id?"active":""),onClick:()=>n(t.id),title:a?t.label:"",style:{"--item-gradient":t.gradient},children:[(0,r.jsx)("div",{className:"nav-icon",children:(0,r.jsx)(t.icon,{size:20})}),!a&&(0,r.jsxs)("div",{className:"nav-content",children:[(0,r.jsx)("span",{className:"nav-label",children:t.label}),(0,r.jsx)("span",{className:"nav-description",children:t.description})]})]})},t.id))})]}),(0,r.jsxs)("div",{className:"nav-section",children:[!a&&(0,r.jsx)("h3",{className:"nav-title",children:"Communauté"}),(0,r.jsx)("ul",{className:"nav-list",children:u.map(t=>(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsxs)("button",{className:`nav-button ${e===t.id?"active":""} ${t.support?"support":""}`,onClick:()=>n(t.id),title:a?t.label:"",style:{"--item-gradient":t.gradient},children:[(0,r.jsx)("div",{className:"nav-icon",children:(0,r.jsx)(t.icon,{size:20})}),!a&&(0,r.jsxs)("div",{className:"nav-content",children:[(0,r.jsx)("span",{className:"nav-label",children:t.label}),(0,r.jsx)("span",{className:"nav-description",children:t.description})]})]})},t.id))})]})]}),!a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"stats-section",children:[(0,r.jsxs)("div",{className:"stats-header",children:[(0,r.jsx)("h3",{className:"stats-title",children:"Statistiques de collection"}),(0,r.jsxs)("div",{className:"popularity-score",children:[(0,r.jsx)(S,{size:14}),(0,r.jsxs)("span",{children:[0===t.totalBooks?0:Math.round(t.borrowedBooks/t.totalBooks*100),"% popularité"]})]})]}),(0,r.jsx)("div",{className:"stats-grid",children:p.map((e,n)=>(0,r.jsxs)("div",{className:"stat-card "+(e.urgent?"urgent":""),children:[(0,r.jsx)("div",{className:"stat-icon",style:{color:e.color},children:(0,r.jsx)(e.icon,{size:16})}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("div",{className:"stat-value",children:e.value}),(0,r.jsx)("div",{className:"stat-label",children:e.label}),e.trend&&(0,r.jsx)("div",{className:"stat-trend",children:e.trend}),void 0!==e.percentage&&(0,r.jsxs)("div",{className:"stat-percentage",children:[e.percentage,"%"]})]})]},n))})]}),(0,r.jsxs)("div",{className:"stats-section",children:[(0,r.jsx)("h3",{className:"stats-title",children:"Utilisateurs"}),(0,r.jsx)("div",{className:"users-stats",children:_.map((e,n)=>(0,r.jsxs)("div",{className:"user-stat",children:[(0,r.jsx)("div",{className:"user-stat-icon",style:{color:e.color},children:(0,r.jsx)(e.icon,{size:18})}),(0,r.jsxs)("div",{className:"user-stat-content",children:[(0,r.jsx)("div",{className:"user-stat-value",children:e.value}),(0,r.jsx)("div",{className:"user-stat-label",children:e.label})]})]},n))}),(0,r.jsxs)("div",{className:"total-users",children:[(0,r.jsx)("span",{className:"total-label",children:"Total des utilisateurs"}),(0,r.jsx)("span",{className:"total-value",children:t.totalBorrowers})]})]}),(0,r.jsxs)("div",{className:"activity-section",children:[(0,r.jsxs)("div",{className:"activity-header",children:[(0,r.jsx)("h3",{className:"stats-title",children:"Activité récente"}),(0,r.jsx)("div",{className:"activity-pulse"})]}),(0,r.jsxs)("div",{className:"activity-summary",children:[(0,r.jsxs)("div",{className:"activity-item",children:[(0,r.jsx)("div",{className:"activity-dot available"}),(0,r.jsxs)("span",{children:[t.availableBooks," livres prêts à emprunter"]})]}),(0,r.jsxs)("div",{className:"activity-item",children:[(0,r.jsx)("div",{className:"activity-dot borrowed"}),(0,r.jsxs)("span",{children:[t.borrowedBooks," emprunts en cours"]})]}),t.overdueBooks>0&&(0,r.jsxs)("div",{className:"activity-item urgent",children:[(0,r.jsx)("div",{className:"activity-dot overdue"}),(0,r.jsxs)("span",{children:[t.overdueBooks," livre(s) en retard"]})]})]})]})]})]}),(0,r.jsx)("style",{children:"\n        .sidebar {\n          width: 300px;\n          background: linear-gradient(180deg, #3E5C49 0%, #2E453A 100%);\n          display: flex;\n          flex-direction: column;\n          position: relative;\n          transition: width 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          border-right: 1px solid rgba(46, 69, 58, 0.3);\n          box-shadow: 4px 0 16px rgba(62, 92, 73, 0.1);\n        }\n        \n        .sidebar.collapsed {\n          width: 72px;\n        }\n        \n        .sidebar::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: \n            radial-gradient(circle at 20% 80%, rgba(243, 238, 217, 0.03) 0%, transparent 50%),\n            radial-gradient(circle at 80% 20%, rgba(194, 87, 27, 0.02) 0%, transparent 50%);\n          pointer-events: none;\n        }\n        \n        .sidebar-header {\n          padding: 24px 20px;\n          border-bottom: 1px solid rgba(243, 238, 217, 0.1);\n          position: relative;\n          z-index: 1;\n        }\n        \n        .sidebar-toggle {\n          display: flex;\n          justify-content: flex-end;\n          margin-bottom: 16px;\n        }\n        \n        .toggle-button {\n          width: 40px;\n          height: 40px;\n          border: none;\n          background: rgba(243, 238, 217, 0.1);\n          color: #F3EED9;\n          border-radius: 12px;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s ease;\n          backdrop-filter: blur(10px);\n          border: 1px solid rgba(243, 238, 217, 0.2);\n        }\n        \n        .toggle-button:hover {\n          background: rgba(243, 238, 217, 0.2);\n          transform: scale(1.05);\n        }\n        \n        .sidebar-brand {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          opacity: 1;\n          transition: opacity 0.2s ease;\n        }\n        \n        .collapsed .sidebar-brand {\n          opacity: 0;\n          pointer-events: none;\n        }\n        \n        .brand-logo {\n          width: 48px;\n          height: 48px;\n          background: rgba(243, 238, 217, 0.15);\n          border-radius: 14px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n          border: 1px solid rgba(243, 238, 217, 0.2);\n        }\n        \n        .brand-title {\n          font-size: 20px;\n          font-weight: 800;\n          color: #F3EED9;\n          margin: 0 0 4px 0;\n          letter-spacing: -0.3px;\n        }\n        \n        .brand-subtitle {\n          font-size: 13px;\n          color: rgba(243, 238, 217, 0.7);\n          margin: 0;\n          line-height: 1.3;\n        }\n        \n        .sidebar-content {\n          flex: 1;\n          overflow-y: auto;\n          padding: 8px 20px 20px;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .collapsed .sidebar-content {\n          padding: 8px 12px 20px;\n        }\n        \n        .nav-section {\n          margin-bottom: 32px;\n        }\n        \n        .nav-title {\n          font-size: 11px;\n          font-weight: 700;\n          text-transform: uppercase;\n          letter-spacing: 1px;\n          color: rgba(243, 238, 217, 0.6);\n          margin-bottom: 16px;\n          margin-top: 0;\n          padding: 0 4px;\n        }\n        \n        .nav-list {\n          list-style: none;\n          padding: 0;\n          margin: 0;\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        \n        .nav-item {\n          width: 100%;\n        }\n        \n        .nav-button {\n          width: 100%;\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          padding: 16px;\n          border: none;\n          background: transparent;\n          color: #F3EED9;\n          cursor: pointer;\n          border-radius: 16px;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          font-size: 14px;\n          position: relative;\n          text-align: left;\n          overflow: hidden;\n          border: 1px solid transparent;\n        }\n        \n        .collapsed .nav-button {\n          justify-content: center;\n          padding: 16px 12px;\n        }\n        \n        .nav-button::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(243, 238, 217, 0.08);\n          border-radius: 16px;\n          transform: scaleX(0);\n          transform-origin: left;\n          transition: transform 0.3s ease;\n        }\n        \n        .nav-button:hover::before {\n          transform: scaleX(1);\n        }\n        \n        .nav-button:hover {\n          color: #FFFFFF;\n          transform: translateX(4px);\n          border-color: rgba(243, 238, 217, 0.2);\n        }\n        \n        .collapsed .nav-button:hover {\n          transform: scale(1.05);\n        }\n        \n        .nav-button.active {\n          background: var(--item-gradient, rgba(243, 238, 217, 0.15));\n          color: #FFFFFF;\n          box-shadow: \n            0 8px 24px rgba(0, 0, 0, 0.15),\n            0 4px 12px rgba(62, 92, 73, 0.2);\n          border-color: rgba(243, 238, 217, 0.3);\n        }\n        \n        .nav-button.active::before {\n          transform: scaleX(1);\n          background: rgba(243, 238, 217, 0.1);\n        }\n        \n        .nav-button.highlight {\n          background: var(--item-gradient);\n          animation: pulse-highlight 3s ease-in-out infinite;\n        }\n        \n        .nav-button.highlight:hover {\n          background: linear-gradient(135deg, #A8481A 0%, #D84315 100%);\n          transform: translateX(4px) translateY(-2px);\n          box-shadow: 0 12px 32px rgba(194, 87, 27, 0.4);\n        }\n        \n        .nav-button.support {\n          position: relative;\n        }\n        \n        .nav-button.support::after {\n          content: '♥';\n          position: absolute;\n          top: 8px;\n          right: 8px;\n          font-size: 12px;\n          color: #E91E63;\n          animation: heartbeat 2s ease-in-out infinite;\n        }\n        \n        @keyframes heartbeat {\n          0%, 100% {\n            transform: scale(1);\n            opacity: 0.8;\n          }\n          50% {\n            transform: scale(1.2);\n            opacity: 1;\n          }\n        }\n        \n        @keyframes pulse-highlight {\n          0%, 100% {\n            box-shadow: 0 4px 16px rgba(194, 87, 27, 0.3);\n          }\n          50% {\n            box-shadow: 0 8px 24px rgba(194, 87, 27, 0.5);\n          }\n        }\n        \n        .nav-button.urgent {\n          position: relative;\n        }\n        \n        .nav-button.urgent::after {\n          content: '';\n          position: absolute;\n          top: 12px;\n          right: 12px;\n          width: 8px;\n          height: 8px;\n          background: #DC2626;\n          border-radius: 50%;\n          animation: pulse-urgent 2s infinite;\n        }\n        \n        @keyframes pulse-urgent {\n          0%, 100% {\n            opacity: 1;\n            transform: scale(1);\n          }\n          50% {\n            opacity: 0.7;\n            transform: scale(1.2);\n          }\n        }\n        \n        .nav-icon {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 24px;\n          height: 24px;\n          flex-shrink: 0;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .nav-content {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          min-width: 0;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .nav-label {\n          font-weight: 700;\n          line-height: 1.2;\n          margin-bottom: 3px;\n          font-size: 15px;\n        }\n        \n        .nav-description {\n          font-size: 12px;\n          opacity: 0.8;\n          line-height: 1.2;\n        }\n        \n        .nav-count {\n          background: rgba(243, 238, 217, 0.2);\n          color: #F3EED9;\n          font-size: 12px;\n          font-weight: 700;\n          padding: 4px 8px;\n          border-radius: 10px;\n          min-width: 20px;\n          text-align: center;\n          flex-shrink: 0;\n          position: relative;\n          z-index: 1;\n          border: 1px solid rgba(243, 238, 217, 0.3);\n        }\n        \n        .nav-count.badge {\n          background: #C2571B;\n          color: #FFFFFF;\n          animation: pulse-badge 2s infinite;\n          border-color: rgba(255, 255, 255, 0.3);\n        }\n        \n        .nav-count.urgent {\n          background: #DC2626;\n          color: #FFFFFF;\n          animation: pulse-urgent 1.5s infinite;\n          border-color: rgba(255, 255, 255, 0.3);\n        }\n        \n        @keyframes pulse-badge {\n          0%, 100% {\n            opacity: 1;\n            transform: scale(1);\n          }\n          50% {\n            opacity: 0.8;\n            transform: scale(1.05);\n          }\n        }\n        \n        .nav-highlight {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 28px;\n          height: 28px;\n          background: rgba(255, 255, 255, 0.2);\n          border-radius: 50%;\n          color: #F3EED9;\n          animation: sparkle 2s ease-in-out infinite;\n        }\n        \n        @keyframes sparkle {\n          0%, 100% {\n            opacity: 0.7;\n            transform: rotate(0deg) scale(1);\n          }\n          50% {\n            opacity: 1;\n            transform: rotate(180deg) scale(1.1);\n          }\n        }\n        \n        .nav-indicator {\n          width: 10px;\n          height: 10px;\n          background: #C2571B;\n          border-radius: 50%;\n          position: absolute;\n          top: 12px;\n          right: 12px;\n          animation: pulse-badge 2s infinite;\n          border: 2px solid rgba(243, 238, 217, 0.3);\n        }\n        \n        .nav-indicator.urgent {\n          background: #DC2626;\n          animation: pulse-urgent 1.5s infinite;\n        }\n        \n        .stats-section {\n          margin-bottom: 24px;\n          padding-top: 20px;\n          border-top: 1px solid rgba(243, 238, 217, 0.1);\n          position: relative;\n          isolation: isolate;\n        }\n        \n        .stats-section:first-of-type {\n          border-top: none;\n          padding-top: 0;\n        }\n        \n        .stats-header {\n          display: flex !important;\n          align-items: center !important;\n          justify-content: space-between !important;\n          margin-bottom: 16px !important;\n          position: relative !important;\n          z-index: 10 !important;\n        }\n        \n        .stats-title {\n          font-size: 11px !important;\n          font-weight: 700 !important;\n          text-transform: uppercase !important;\n          letter-spacing: 1px !important;\n          color: rgba(243, 238, 217, 0.6) !important;\n          margin: 0 !important;\n          font-family: inherit !important;\n        }\n        \n        .popularity-score {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          font-size: 10px;\n          color: rgba(243, 238, 217, 0.8);\n          font-weight: 600;\n        }\n        \n        .stats-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 12px;\n        }\n        \n        .stat-card {\n          background: rgba(243, 238, 217, 0.08) !important;\n          border-radius: 12px !important;\n          padding: 14px 12px !important;\n          display: flex !important;\n          align-items: center !important;\n          gap: 12px !important;\n          transition: all 0.2s ease !important;\n          border: 1px solid rgba(243, 238, 217, 0.1) !important;\n          position: relative !important;\n          overflow: hidden !important;\n          isolation: isolate !important;\n        }\n        \n        .stat-card::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: linear-gradient(135deg, rgba(243, 238, 217, 0.05) 0%, transparent 100%);\n          opacity: 0;\n          transition: opacity 0.2s ease;\n        }\n        \n        .stat-card:hover {\n          background: rgba(243, 238, 217, 0.12);\n          transform: translateY(-1px);\n        }\n        \n        .stat-card:hover::before {\n          opacity: 1;\n        }\n        \n        .stat-card.urgent {\n          background: rgba(220, 38, 38, 0.15);\n          border-color: rgba(220, 38, 38, 0.3);\n          animation: pulse-card 3s ease-in-out infinite;\n        }\n        \n        @keyframes pulse-card {\n          0%, 100% {\n            background: rgba(220, 38, 38, 0.15);\n          }\n          50% {\n            background: rgba(220, 38, 38, 0.2);\n          }\n        }\n        \n        .stat-icon {\n          opacity: 0.9;\n          flex-shrink: 0;\n        }\n        \n        .stat-content {\n          flex: 1;\n          min-width: 0;\n        }\n        \n        .stat-value {\n          font-size: 18px !important;\n          font-weight: 800 !important;\n          line-height: 1.2 !important;\n          color: #F3EED9 !important;\n          margin-bottom: 2px !important;\n          font-family: inherit !important;\n        }\n        \n        .stat-label {\n          font-size: 10px !important;\n          color: rgba(243, 238, 217, 0.7) !important;\n          line-height: 1.2 !important;\n          text-transform: uppercase !important;\n          letter-spacing: 0.5px !important;\n          font-weight: 600 !important;\n          font-family: inherit !important;\n        }\n        \n        .stat-trend {\n          font-size: 9px;\n          color: #4CAF50;\n          font-weight: 600;\n          margin-top: 2px;\n        }\n        \n        .stat-percentage {\n          font-size: 9px;\n          color: rgba(243, 238, 217, 0.8);\n          font-weight: 600;\n          margin-top: 2px;\n        }\n        \n        .users-stats {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n          margin-bottom: 16px;\n        }\n        \n        .user-stat {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          background: rgba(243, 238, 217, 0.06);\n          border-radius: 10px;\n          padding: 12px;\n          border: 1px solid rgba(243, 238, 217, 0.1);\n        }\n        \n        .user-stat-icon {\n          opacity: 0.9;\n        }\n        \n        .user-stat-content {\n          flex: 1;\n        }\n        \n        .user-stat-value {\n          font-size: 16px;\n          font-weight: 700;\n          color: #F3EED9;\n          line-height: 1.2;\n        }\n        \n        .user-stat-label {\n          font-size: 11px;\n          color: rgba(243, 238, 217, 0.7);\n          font-weight: 500;\n        }\n        \n        .total-users {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 12px 16px;\n          background: rgba(243, 238, 217, 0.1);\n          border-radius: 12px;\n          border: 1px solid rgba(243, 238, 217, 0.2);\n        }\n        \n        .total-label {\n          font-size: 12px;\n          color: rgba(243, 238, 217, 0.8);\n          font-weight: 600;\n        }\n        \n        .total-value {\n          font-size: 16px;\n          font-weight: 800;\n          color: #F3EED9;\n        }\n        \n        .activity-section {\n          margin-top: auto;\n        }\n        \n        .activity-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 16px;\n        }\n        \n        .activity-pulse {\n          width: 8px;\n          height: 8px;\n          background: #4CAF50;\n          border-radius: 50%;\n          animation: pulse-activity 2s ease-in-out infinite;\n        }\n        \n        @keyframes pulse-activity {\n          0%, 100% {\n            opacity: 1;\n            transform: scale(1);\n          }\n          50% {\n            opacity: 0.6;\n            transform: scale(1.3);\n          }\n        }\n        \n        .activity-summary {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        \n        .activity-item {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 11px;\n          color: rgba(243, 238, 217, 0.8);\n          line-height: 1.3;\n        }\n        \n        .activity-item.urgent {\n          color: #FFCDD2;\n        }\n        \n        .activity-dot {\n          width: 6px;\n          height: 6px;\n          border-radius: 50%;\n          flex-shrink: 0;\n        }\n        \n        .activity-dot.available {\n          background: #4CAF50;\n        }\n        \n        .activity-dot.borrowed {\n          background: #FF9800;\n        }\n        \n        .activity-dot.overdue {\n          background: #F44336;\n          animation: pulse-urgent 1.5s infinite;\n        }\n        \n        /* Enhanced scrollbar */\n        .sidebar-content::-webkit-scrollbar {\n          width: 4px;\n        }\n        \n        .sidebar-content::-webkit-scrollbar-track {\n          background: rgba(243, 238, 217, 0.1);\n          border-radius: 2px;\n        }\n        \n        .sidebar-content::-webkit-scrollbar-thumb {\n          background: rgba(243, 238, 217, 0.3);\n          border-radius: 2px;\n        }\n        \n        .sidebar-content::-webkit-scrollbar-thumb:hover {\n          background: rgba(243, 238, 217, 0.5);\n        }\n        \n        /* Responsive Design */\n        @media (max-width: 768px) {\n          .sidebar {\n            width: 100%;\n            height: auto;\n            flex-direction: row;\n            border-right: none;\n            border-bottom: 1px solid rgba(46, 69, 58, 0.3);\n            overflow-x: auto;\n            background: linear-gradient(90deg, #3E5C49 0%, #2E453A 100%);\n          }\n          \n          .sidebar.collapsed {\n            width: 100%;\n          }\n          \n          .sidebar-header {\n            display: none;\n          }\n          \n          .sidebar-content {\n            flex: 1;\n            padding: 16px 20px;\n            overflow-x: auto;\n            display: flex;\n            gap: 20px;\n            overflow-y: visible;\n          }\n          \n          .nav-section {\n            margin-bottom: 0;\n            flex-shrink: 0;\n          }\n          \n          .nav-list {\n            flex-direction: row;\n            gap: 12px;\n          }\n          \n          .nav-button {\n            flex-direction: column;\n            gap: 6px;\n            padding: 12px 16px;\n            min-width: 80px;\n            white-space: nowrap;\n            border-radius: 12px;\n          }\n          \n          .nav-content {\n            align-items: center;\n            text-align: center;\n          }\n          \n          .nav-label {\n            font-size: 12px;\n          }\n          \n          .nav-description {\n            display: none;\n          }\n          \n          .nav-count {\n            position: absolute;\n            top: 8px;\n            right: 8px;\n            font-size: 10px;\n            padding: 2px 6px;\n            min-width: 16px;\n          }\n          \n          .stats-section,\n          .activity-section {\n            display: none;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .sidebar-content {\n            padding: 12px 16px;\n            gap: 16px;\n          }\n          \n          .nav-button {\n            min-width: 70px;\n            padding: 10px 12px;\n          }\n          \n          .nav-label {\n            font-size: 11px;\n          }\n          \n          .nav-count {\n            font-size: 9px;\n            padding: 1px 4px;\n          }\n        }\n        \n        /* Performance optimizations */\n        .nav-button {\n          contain: layout style paint;\n        }\n        \n        .stat-card {\n          contain: layout style paint;\n        }\n        \n        /* Accessibility improvements */\n        @media (prefers-reduced-motion: reduce) {\n          .nav-button,\n          .stat-card,\n          .toggle-button,\n          .activity-pulse,\n          .nav-highlight {\n            transition: none;\n            animation: none;\n          }\n          \n          .nav-button:hover {\n            transform: none;\n          }\n        }\n        \n        /* High contrast mode */\n        @media (prefers-contrast: high) {\n          .nav-button {\n            border: 2px solid rgba(243, 238, 217, 0.5);\n          }\n          \n          .nav-button.active {\n            border-color: #F3EED9;\n          }\n          \n          .stat-card {\n            border-width: 2px;\n          }\n        }\n      "}),!a&&t.overdueBooks>0&&(0,r.jsxs)("div",{className:"emergency-alert",children:[(0,r.jsx)("div",{className:"alert-icon",children:(0,r.jsx)(w,{size:16})}),(0,r.jsxs)("div",{className:"alert-content",children:[(0,r.jsx)("div",{className:"alert-title",children:"Action requise"}),(0,r.jsxs)("div",{className:"alert-message",children:[t.overdueBooks," livre(s) en retard"]})]})]}),(0,r.jsx)("style",{children:"\n        .emergency-alert {\n          margin: 16px 20px;\n          background: linear-gradient(135deg, #DC2626 0%, #B91C1C 100%);\n          color: #FFFFFF;\n          padding: 16px;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          animation: pulse-alert 3s ease-in-out infinite;\n          border: 1px solid rgba(255, 255, 255, 0.2);\n          box-shadow: 0 4px 16px rgba(220, 38, 38, 0.3);\n        }\n        \n        @keyframes pulse-alert {\n          0%, 100% {\n            box-shadow: 0 4px 16px rgba(220, 38, 38, 0.3);\n          }\n          50% {\n            box-shadow: 0 8px 24px rgba(220, 38, 38, 0.5);\n          }\n        }\n        \n        .alert-icon {\n          width: 32px;\n          height: 32px;\n          background: rgba(255, 255, 255, 0.2);\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-shrink: 0;\n        }\n        \n        .alert-content {\n          flex: 1;\n        }\n        \n        .alert-title {\n          font-size: 12px;\n          font-weight: 700;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n          margin-bottom: 2px;\n          opacity: 0.9;\n        }\n        \n        .alert-message {\n          font-size: 13px;\n          font-weight: 600;\n          line-height: 1.3;\n        }\n      "})]})},F=o("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),z=o("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),D=o("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),T=o("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),P=o("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),A=o("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),I=o("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),R=o("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),L=o("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),B=o("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),O=({books:e,stats:n,categories:t,onClose:a})=>{const[s,o]=(0,i.useState)("inventory"),[c,d]=(0,i.useState)(!1),[p,h]=(0,i.useState)(null),m=[{id:"inventory",title:"Inventaire Complet",description:"Liste détaillée de tous les livres avec statuts",icon:I,color:"#3E5C49",gradient:"linear-gradient(135deg, #3E5C49 0%, #2E453A 100%)",count:n.totalBooks,features:["Informations complètes","Statuts des emprunts","Métadonnées"]},{id:"available",title:"Livres Disponibles",description:"Collection des ouvrages disponibles à l'emprunt",icon:l,color:"#3E5C49",gradient:"linear-gradient(135deg, #3E5C49 0%, #4A6B57 100%)",count:n.availableBooks,features:["Livres en rayon","Prêts à emprunter","Tri par catégorie"]},{id:"borrowed",title:"Livres Empruntés",description:"Suivi des emprunts en cours avec emprunteurs",icon:w,color:"#C2571B",gradient:"linear-gradient(135deg, #C2571B 0%, #A8481A 100%)",count:n.borrowedBooks,features:["Noms des emprunteurs","Dates d'emprunt","Alertes retard"]}],f=(e,n)=>{h({type:e,text:n}),setTimeout(()=>h(null),5e3)},g=(()=>{switch(s){case"inventory":return{title:"Inventaire Complet",items:e,description:`${n.totalBooks} livre(s) au total`,icon:y};case"available":return{title:"Livres Disponibles",items:e.filter(e=>!e.isBorrowed),description:`${n.availableBooks} livre(s) disponible(s)`,icon:l};case"borrowed":return{title:"Livres Empruntés",items:e.filter(e=>e.isBorrowed),description:`${n.borrowedBooks} livre(s) emprunté(s)`,icon:w}}})(),x=m.find(e=>e.id===s);return x?(0,r.jsxs)("div",{className:"print-manager-overlay",children:[(0,r.jsxs)("div",{className:"print-manager-modal",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsxs)("div",{className:"header-content",children:[(0,r.jsx)("div",{className:"header-icon",children:(0,r.jsx)(z,{size:28})}),(0,r.jsxs)("div",{className:"header-text",children:[(0,r.jsx)("h2",{className:"modal-title",children:"Impression & Export"}),(0,r.jsx)("p",{className:"modal-subtitle",children:"Générez des rapports professionnels de votre bibliothèque"})]})]}),(0,r.jsx)("button",{className:"close-button",onClick:a,children:(0,r.jsx)(u,{size:20})})]}),p&&(0,r.jsxs)("div",{className:`message ${p.type}`,children:["success"===p.type?(0,r.jsx)(R,{size:20}):(0,r.jsx)(L,{size:20}),(0,r.jsx)("span",{children:p.text})]}),(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"options-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)("h3",{className:"section-title",children:"Choisir le type de rapport"}),(0,r.jsx)("p",{className:"section-description",children:"Sélectionnez le contenu à inclure dans votre document"})]}),(0,r.jsx)("div",{className:"print-options",children:m.map(e=>(0,r.jsxs)("div",{className:"option-card "+(s===e.id?"selected":""),onClick:()=>o(e.id),children:[(0,r.jsxs)("div",{className:"option-header",children:[(0,r.jsx)("div",{className:"option-icon",style:{background:e.gradient},children:(0,r.jsx)(e.icon,{size:24})}),(0,r.jsxs)("div",{className:"option-badge",children:[e.count," élément",e.count>1?"s":""]})]}),(0,r.jsxs)("div",{className:"option-content",children:[(0,r.jsx)("h4",{className:"option-title",children:e.title}),(0,r.jsx)("p",{className:"option-description",children:e.description}),(0,r.jsx)("div",{className:"option-features",children:e.features.map((e,n)=>(0,r.jsx)("span",{className:"feature-tag",children:e},n))})]}),(0,r.jsx)("div",{className:"option-indicator",children:s===e.id&&(0,r.jsx)(R,{size:16})})]},e.id))})]}),(0,r.jsxs)("div",{className:"preview-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsxs)("div",{className:"preview-title-section",children:[(0,r.jsx)("h3",{className:"section-title",children:"Aperçu du contenu"}),(0,r.jsxs)("div",{className:"preview-stats",children:[(0,r.jsx)(g.icon,{size:16}),(0,r.jsx)("span",{children:g.description})]})]}),(0,r.jsxs)("button",{className:"preview-button",children:[(0,r.jsx)(A,{size:16}),"Prévisualiser"]})]}),(0,r.jsxs)("div",{className:"preview-card",children:[(0,r.jsxs)("div",{className:"preview-header",children:[(0,r.jsx)("div",{className:"preview-icon",style:{background:x?.gradient},children:(0,r.jsx)(x.icon,{size:20})}),(0,r.jsxs)("div",{className:"preview-info",children:[(0,r.jsx)("h4",{className:"preview-title",children:g.title}),(0,r.jsxs)("p",{className:"preview-subtitle",children:["Généré le ",(new Date).toLocaleDateString("fr-FR")]})]})]}),(0,r.jsx)("div",{className:"preview-content",children:(0,r.jsxs)("div",{className:"preview-table",children:[(0,r.jsxs)("div",{className:"table-header",children:[(0,r.jsx)("div",{className:"header-cell",children:"Titre"}),(0,r.jsx)("div",{className:"header-cell",children:"Auteur"}),(0,r.jsx)("div",{className:"header-cell",children:"Catégorie"}),"borrowed"===s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"header-cell",children:"Emprunteur"}),(0,r.jsx)("div",{className:"header-cell",children:"Date"})]}),"borrowed"!==s&&(0,r.jsx)("div",{className:"header-cell",children:"Statut"})]}),(0,r.jsxs)("div",{className:"table-body",children:[g.items.slice(0,4).map((e,n)=>(0,r.jsxs)("div",{className:"table-row",children:[(0,r.jsx)("div",{className:"table-cell",children:(0,r.jsx)("div",{className:"cell-content",children:(0,r.jsx)("div",{className:"book-title",children:e.title})})}),(0,r.jsx)("div",{className:"table-cell",children:e.author}),(0,r.jsx)("div",{className:"table-cell",children:(0,r.jsx)("span",{className:"category-badge",children:e.category})}),"borrowed"===s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"table-cell",children:(0,r.jsx)("strong",{children:e.borrowerName})}),(0,r.jsx)("div",{className:"table-cell",children:e.borrowDate?new Date(e.borrowDate).toLocaleDateString("fr-FR"):"-"})]}),"borrowed"!==s&&(0,r.jsx)("div",{className:"table-cell",children:(0,r.jsx)("span",{className:"status-badge "+(e.isBorrowed?"borrowed":"available"),children:e.isBorrowed?"Emprunté":"Disponible"})})]},n)),g.items.length>4&&(0,r.jsx)("div",{className:"table-row more-items",children:(0,r.jsxs)("div",{className:"table-cell more-text",children:["... et ",g.items.length-4," autre(s) élément(s)"]})})]})]})})]})]})]}),(0,r.jsxs)("div",{className:"modal-footer",children:[(0,r.jsxs)("div",{className:"footer-info",children:[(0,r.jsxs)("div",{className:"info-item",children:[(0,r.jsx)(I,{size:16}),(0,r.jsx)("span",{children:"Format PDF professionnel"})]}),(0,r.jsxs)("div",{className:"info-item",children:[(0,r.jsx)(B,{size:16}),(0,r.jsx)("span",{children:"Export CSV pour données"})]})]}),(0,r.jsxs)("div",{className:"footer-actions",children:[(0,r.jsxs)("button",{className:"btn-secondary",onClick:async()=>{d(!0);try{const r={books:e,stats:n,categories:t},a=await window.electronAPI.exportCSV(r);a?f("success",`Fichier CSV exporté : ${a.split(/[/\\]/).pop()}`):f("error","Export annulé ou erreur")}catch(e){console.error("Export error:",e),f("error","Erreur lors de l'export CSV")}finally{d(!1)}},disabled:c,children:[(0,r.jsx)(B,{size:18}),c?"Export...":"Exporter CSV"]}),(0,r.jsx)("button",{className:"btn-primary",onClick:async()=>{d(!0);try{const r={books:e,stats:n,categories:t};let a=!1;switch(s){case"inventory":a=await window.electronAPI.printInventory(r);break;case"available":a=await window.electronAPI.printAvailableBooks(r);break;case"borrowed":a=await window.electronAPI.printBorrowedBooks(r)}a?f("success","Document envoyé à l'imprimante avec succès"):f("error","Erreur lors de l'impression")}catch(e){console.error("Print error:",e),f("error","Erreur lors de l'impression")}finally{d(!1)}},disabled:c,children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C,{size:18}),"Génération..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z,{size:18}),"Imprimer"]})})]})]})]}),(0,r.jsx)("style",{children:"\n        .print-manager-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.7);\n          backdrop-filter: blur(8px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 20px;\n        }\n        \n        .print-manager-modal {\n          background: #FFFFFF;\n          border-radius: 24px;\n          width: 100%;\n          max-width: 1000px;\n          max-height: 90vh;\n          overflow: hidden;\n          display: flex;\n          flex-direction: column;\n          box-shadow: \n            0 24px 48px rgba(62, 92, 73, 0.2),\n            0 8px 24px rgba(62, 92, 73, 0.12);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n        \n        .modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 32px;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .modal-header::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 200px;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.1));\n          transform: skewX(-15deg);\n          transform-origin: top;\n        }\n        \n        .header-content {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .header-icon {\n          width: 56px;\n          height: 56px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          backdrop-filter: blur(10px);\n        }\n        \n        .modal-title {\n          font-size: 24px;\n          font-weight: 800;\n          margin: 0 0 4px 0;\n          letter-spacing: -0.3px;\n        }\n        \n        .modal-subtitle {\n          font-size: 14px;\n          opacity: 0.9;\n          margin: 0;\n          line-height: 1.4;\n        }\n        \n        .close-button {\n          background: rgba(243, 238, 217, 0.15);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .close-button:hover {\n          background: rgba(243, 238, 217, 0.25);\n          transform: scale(1.05);\n        }\n        \n        .message {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 32px;\n          font-size: 14px;\n          font-weight: 600;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .message.success {\n          background: rgba(62, 92, 73, 0.1);\n          color: #3E5C49;\n        }\n        \n        .message.error {\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n        }\n        \n        .modal-content {\n          flex: 1;\n          overflow-y: auto;\n          padding: 32px;\n          display: flex;\n          flex-direction: column;\n          gap: 40px;\n        }\n        \n        .section-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 24px;\n        }\n        \n        .section-title {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 4px 0;\n        }\n        \n        .section-description {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .preview-title-section {\n          flex: 1;\n        }\n        \n        .preview-stats {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 14px;\n          color: #6E6E6E;\n          margin-top: 4px;\n        }\n        \n        .preview-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 8px 16px;\n          background: #F3EED9;\n          border: 1px solid #E5DCC2;\n          border-radius: 8px;\n          color: #6E6E6E;\n          font-size: 14px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .preview-button:hover {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .print-options {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n          gap: 20px;\n        }\n        \n        .option-card {\n          background: #FFFFFF;\n          border: 2px solid #E5DCC2;\n          border-radius: 16px;\n          padding: 24px;\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .option-card::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: linear-gradient(135deg, transparent 0%, rgba(62, 92, 73, 0.02) 100%);\n          opacity: 0;\n          transition: opacity 0.3s ease;\n        }\n        \n        .option-card:hover::before {\n          opacity: 1;\n        }\n        \n        .option-card:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 12px 32px rgba(62, 92, 73, 0.15);\n          border-color: #3E5C49;\n        }\n        \n        .option-card.selected {\n          border-color: #3E5C49;\n          background: rgba(62, 92, 73, 0.02);\n          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.12);\n        }\n        \n        .option-card.selected::before {\n          opacity: 1;\n        }\n        \n        .option-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 16px;\n        }\n        \n        .option-icon {\n          width: 48px;\n          height: 48px;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n        }\n        \n        .option-badge {\n          background: #F3EED9;\n          color: #6E6E6E;\n          padding: 4px 12px;\n          border-radius: 20px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n        \n        .option-title {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 8px 0;\n        }\n        \n        .option-description {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0 0 16px 0;\n          line-height: 1.5;\n        }\n        \n        .option-features {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 8px;\n        }\n        \n        .feature-tag {\n          background: #F3EED9;\n          color: #6E6E6E;\n          padding: 4px 8px;\n          border-radius: 8px;\n          font-size: 11px;\n          font-weight: 500;\n        }\n        \n        .option-indicator {\n          position: absolute;\n          top: 16px;\n          right: 16px;\n          width: 24px;\n          height: 24px;\n          background: #3E5C49;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n          opacity: 0;\n          transform: scale(0.8);\n          transition: all 0.3s ease;\n        }\n        \n        .option-card.selected .option-indicator {\n          opacity: 1;\n          transform: scale(1);\n        }\n        \n        .preview-card {\n          background: #FEFEFE;\n          border: 1px solid #E5DCC2;\n          border-radius: 16px;\n          overflow: hidden;\n        }\n        \n        .preview-header {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          padding: 20px 24px;\n          background: #F3EED9;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .preview-icon {\n          width: 40px;\n          height: 40px;\n          border-radius: 10px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n        }\n        \n        .preview-title {\n          font-size: 16px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 2px 0;\n        }\n        \n        .preview-subtitle {\n          font-size: 12px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .preview-content {\n          padding: 24px;\n        }\n        \n        .preview-table {\n          background: #FFFFFF;\n          border-radius: 12px;\n          overflow: hidden;\n          border: 1px solid #E5DCC2;\n        }\n        \n        .table-header {\n          display: grid;\n          grid-template-columns: 2fr 1.5fr 1fr 1fr 1fr;\n          background: #F3EED9;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .header-cell {\n          padding: 16px 20px;\n          font-size: 12px;\n          font-weight: 700;\n          color: #2E2E2E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .table-body {\n          max-height: 240px;\n          overflow-y: auto;\n        }\n        \n        .table-row {\n          display: grid;\n          grid-template-columns: 2fr 1.5fr 1fr 1fr 1fr;\n          border-bottom: 1px solid #F3EED9;\n          transition: background 0.2s ease;\n        }\n        \n        .table-row:hover {\n          background: #FEFEFE;\n        }\n        \n        .table-row:last-child {\n          border-bottom: none;\n        }\n        \n        .table-row.more-items {\n          grid-template-columns: 1fr;\n          background: #F3EED9;\n        }\n        \n        .table-cell {\n          padding: 16px 20px;\n          font-size: 14px;\n          color: #2E2E2E;\n          display: flex;\n          align-items: center;\n          overflow: hidden;\n        }\n        \n        .cell-content {\n          width: 100%;\n        }\n        \n        .book-title {\n          font-weight: 600;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        \n        .more-text {\n          text-align: center;\n          font-style: italic;\n          color: #6E6E6E;\n          justify-content: center;\n        }\n        \n        .category-badge {\n          background: #3E5C49;\n          color: #F3EED9;\n          padding: 4px 10px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 600;\n        }\n        \n        .status-badge {\n          padding: 4px 10px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 600;\n        }\n        \n        .status-badge.available {\n          background: rgba(62, 92, 73, 0.1);\n          color: #3E5C49;\n        }\n        \n        .status-badge.borrowed {\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n        }\n        \n        .modal-footer {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 24px 32px;\n          border-top: 1px solid #E5DCC2;\n          background: #FEFEFE;\n        }\n        \n        .footer-info {\n          display: flex;\n          gap: 32px;\n        }\n        \n        .info-item {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 12px;\n          color: #6E6E6E;\n        }\n        \n        .footer-actions {\n          display: flex;\n          gap: 12px;\n        }\n        \n        .btn-secondary, .btn-primary {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 16px 24px;\n          border-radius: 12px;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          border: none;\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .btn-secondary {\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 2px solid #E5DCC2;\n        }\n        \n        .btn-secondary:hover:not(:disabled) {\n          background: #EAEADC;\n          color: #2E2E2E;\n          transform: translateY(-1px);\n        }\n        \n        .btn-primary {\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.3);\n        }\n        \n        .btn-primary:hover:not(:disabled) {\n          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.4);\n        }\n        \n        .btn-secondary:disabled,\n        .btn-primary:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          transform: none;\n        }\n        \n        /* Responsive Design */\n        @media (max-width: 1024px) {\n          .print-options {\n            grid-template-columns: 1fr;\n            gap: 16px;\n          }\n          \n          .table-header,\n          .table-row {\n            grid-template-columns: 1fr;\n          }\n          \n          .header-cell,\n          .table-cell {\n            padding: 12px 16px;\n          }\n          \n          .modal-content {\n            padding: 24px;\n            gap: 32px;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .print-manager-overlay {\n            padding: 12px;\n          }\n          \n          .print-manager-modal {\n            border-radius: 20px;\n          }\n          \n          .modal-header {\n            padding: 24px 20px;\n            flex-direction: column;\n            gap: 16px;\n            text-align: center;\n          }\n          \n          .header-content {\n            flex-direction: column;\n            gap: 16px;\n          }\n          \n          .modal-content {\n            padding: 20px;\n          }\n          \n          .section-header {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 12px;\n          }\n          \n          .footer-info {\n            display: none;\n          }\n          \n          .footer-actions {\n            width: 100%;\n            justify-content: stretch;\n          }\n          \n          .btn-secondary,\n          .btn-primary {\n            flex: 1;\n            justify-content: center;\n          }\n          \n          .option-card {\n            padding: 20px;\n          }\n          \n          .preview-content {\n            padding: 16px;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .modal-header {\n            padding: 20px 16px;\n          }\n          \n          .modal-content {\n            padding: 16px;\n            gap: 24px;\n          }\n          \n          .modal-footer {\n            padding: 16px;\n            flex-direction: column;\n            gap: 16px;\n          }\n          \n          .footer-actions {\n            flex-direction: column;\n          }\n          \n          .option-header {\n            flex-direction: column;\n            gap: 12px;\n            align-items: stretch;\n          }\n          \n          .option-badge {\n            text-align: center;\n          }\n          \n          .table-header,\n          .table-row {\n            display: block;\n          }\n          \n          .header-cell,\n          .table-cell {\n            display: block;\n            padding: 8px 16px;\n            border-bottom: 1px solid #F3EED9;\n          }\n          \n          .header-cell {\n            background: #E5DCC2;\n            font-weight: 700;\n          }\n          \n          .table-cell:last-child {\n            border-bottom: none;\n          }\n        }\n      "})]}):(0,r.jsx)("div",{children:"Erreur: option sélectionnée invalide"})},M=({stats:e,onNavigate:n,books:t=[],categories:a=[]})=>{const[s,o]=(0,i.useState)(!1),c=[{title:"Ajouter un livre",description:"Enrichissez votre collection",icon:f,action:()=>n("add-book"),primary:!0},{title:"Parcourir la collection",description:"Explorer tous les livres",icon:F,action:()=>n("books"),primary:!1}],d=[{title:"Collection complète",description:`${e.totalBooks} livres disponibles`,icon:m,action:()=>n("books"),color:"#3E5C49"},{title:"Gérer les emprunts",description:`${e.borrowedBooks} livre(s) emprunté(s)`,icon:l,action:()=>n("borrowed"),color:"#C2571B",badge:e.borrowedBooks>0},{title:"Rapports & Export",description:"Imprimer les inventaires",icon:z,action:()=>o(!0),color:"#6E6E6E"}],u=[{title:"Total des livres",value:e.totalBooks,icon:m,color:"#3E5C49",trend:"+2 ce mois"},{title:"Disponibles",value:e.availableBooks,icon:l,color:"#3E5C49",percentage:e.totalBooks>0?(e.availableBooks/e.totalBooks*100).toFixed(0):0},{title:"Empruntés",value:e.borrowedBooks,icon:w,color:"#C2571B",percentage:e.totalBooks>0?(e.borrowedBooks/e.totalBooks*100).toFixed(0):0},{title:"Auteurs",value:e.totalAuthors,icon:g,color:"#6E6E6E",trend:"Actifs"}],p=[{type:"add",title:"Nouveau livre ajouté",description:"Les Misérables par Victor Hugo",time:"Il y a 2 heures",icon:f},{type:"borrow",title:"Livre emprunté",description:"Fondation par Isaac Asimov",time:"Il y a 1 jour",icon:l},{type:"return",title:"Livre rendu",description:"L'Étranger par Albert Camus",time:"Il y a 2 jours",icon:D}],h=e.totalBooks>0?(e.borrowedBooks/e.totalBooks*100).toFixed(1):0;return(0,r.jsxs)("div",{className:"dashboard",children:[(0,r.jsx)("div",{className:"hero-section",children:(0,r.jsxs)("div",{className:"hero-content",children:[(0,r.jsxs)("div",{className:"hero-text",children:[(0,r.jsx)("h1",{className:"hero-title",children:"Bienvenue dans votre bibliothèque"}),(0,r.jsxs)("p",{className:"hero-subtitle",children:["Gérez votre collection de ",e.totalBooks," livres avec facilité et élégance"]}),(0,r.jsx)("div",{className:"hero-actions",children:c.map((e,n)=>(0,r.jsxs)("button",{className:"hero-button "+(e.primary?"primary":"secondary"),onClick:e.action,children:[(0,r.jsx)(e.icon,{size:18}),(0,r.jsx)("span",{children:e.title}),(0,r.jsx)(T,{size:16})]},n))})]}),(0,r.jsx)("div",{className:"hero-visual",children:(0,r.jsxs)("div",{className:"floating-card",children:[(0,r.jsxs)("div",{className:"card-header",children:[(0,r.jsx)(l,{size:24}),(0,r.jsx)("span",{children:"Collection"})]}),(0,r.jsxs)("div",{className:"card-stats",children:[(0,r.jsxs)("div",{className:"stat",children:[(0,r.jsx)("span",{className:"stat-number",children:e.totalBooks}),(0,r.jsx)("span",{className:"stat-label",children:"Livres"})]}),(0,r.jsxs)("div",{className:"stat",children:[(0,r.jsx)("span",{className:"stat-number",children:e.borrowedBooks}),(0,r.jsx)("span",{className:"stat-label",children:"Empruntés"})]})]})]})})]})}),(0,r.jsxs)("div",{className:"dashboard-content",children:[(0,r.jsxs)("div",{className:"stats-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)("h2",{className:"section-title",children:"Vue d'ensemble"}),(0,r.jsx)("div",{className:"section-subtitle",children:"Statistiques de votre bibliothèque"})]}),(0,r.jsx)("div",{className:"stats-grid",children:u.map((e,n)=>(0,r.jsxs)("div",{className:"stat-card card-elevated",children:[(0,r.jsx)("div",{className:"stat-header",children:(0,r.jsx)("div",{className:"stat-icon",style:{color:e.color},children:(0,r.jsx)(e.icon,{size:24})})}),(0,r.jsxs)("div",{className:"stat-content",children:[e.trend&&(0,r.jsx)("span",{className:"stat-trend",children:e.trend}),e.percentage&&(0,r.jsxs)("span",{className:"stat-percentage",children:[e.percentage,"%"]}),(0,r.jsx)("div",{className:"stat-value",children:e.value}),(0,r.jsx)("div",{className:"stat-title",children:e.title})]})]},n))})]}),(0,r.jsxs)("div",{className:"dashboard-grid",children:[(0,r.jsxs)("div",{className:"quick-actions-section",children:[(0,r.jsx)("div",{className:"section-header",children:(0,r.jsx)("h3",{className:"section-title",children:"Actions rapides"})}),(0,r.jsx)("div",{className:"actions-grid",children:d.map((e,n)=>(0,r.jsxs)("button",{className:"action-card card-elevated",onClick:e.action,children:[(0,r.jsxs)("div",{className:"action-icon",style:{backgroundColor:e.color},children:[(0,r.jsx)(e.icon,{size:20}),e.badge&&(0,r.jsx)("div",{className:"action-badge"})]}),(0,r.jsxs)("div",{className:"action-content",children:[(0,r.jsx)("div",{className:"action-title",children:e.title}),(0,r.jsx)("div",{className:"action-description",children:e.description})]}),(0,r.jsx)(T,{size:16,className:"action-arrow"})]},n))})]}),(0,r.jsxs)("div",{className:"progress-section",children:[(0,r.jsx)("div",{className:"section-header",children:(0,r.jsx)("h3",{className:"section-title",children:"Utilisation"})}),(0,r.jsxs)("div",{className:"progress-card card",children:[(0,r.jsxs)("div",{className:"progress-item",children:[(0,r.jsxs)("div",{className:"progress-header",children:[(0,r.jsx)("span",{className:"progress-label",children:"Taux d'emprunt"}),(0,r.jsxs)("span",{className:"progress-value",children:[h,"%"]})]}),(0,r.jsx)("div",{className:"progress-bar",children:(0,r.jsx)("div",{className:"progress-fill",style:{width:`${h}%`}})})]}),(0,r.jsxs)("div",{className:"progress-metrics",children:[(0,r.jsxs)("div",{className:"metric",children:[(0,r.jsx)(S,{size:16}),(0,r.jsx)("span",{children:"Tendance stable"})]}),(0,r.jsxs)("div",{className:"metric",children:[(0,r.jsx)(P,{size:16}),(0,r.jsx)("span",{children:"Mis à jour maintenant"})]})]})]})]})]}),(0,r.jsxs)("div",{className:"activity-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)("h3",{className:"section-title",children:"Activité récente"}),(0,r.jsxs)("button",{className:"view-all-button",children:[(0,r.jsx)(A,{size:16}),"Voir tout"]})]}),(0,r.jsx)("div",{className:"activity-list card",children:p.map((e,n)=>(0,r.jsxs)("div",{className:"activity-item",children:[(0,r.jsx)("div",{className:"activity-icon",children:(0,r.jsx)(e.icon,{size:16})}),(0,r.jsxs)("div",{className:"activity-content",children:[(0,r.jsx)("div",{className:"activity-title",children:e.title}),(0,r.jsx)("div",{className:"activity-description",children:e.description})]}),(0,r.jsx)("div",{className:"activity-time",children:e.time})]},n))})]})]}),s&&(0,r.jsx)(O,{books:t,stats:e,categories:a,onClose:()=>o(!1)}),(0,r.jsx)("style",{children:'\n        .dashboard {\n          height: 100%;\n          overflow-y: auto;\n          background: #FAF9F6;\n        }\n        \n        .hero-section {\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n          padding: 48px 32px;\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .hero-section::before {\n          content: \'\';\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 50%;\n          height: 100%;\n          background: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="20" cy="20" r="1" fill="%23F3EED9" opacity="0.05"/><circle cx="60" cy="40" r="1" fill="%23F3EED9" opacity="0.03"/><circle cx="80" cy="80" r="1" fill="%23F3EED9" opacity="0.04"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>\');\n          opacity: 0.3;\n        }\n        \n        .hero-content {\n          display: grid;\n          grid-template-columns: 1fr 300px;\n          gap: 48px;\n          align-items: center;\n          max-width: 1200px;\n          margin: 0 auto;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .hero-title {\n          font-size: 36px;\n          font-weight: 800;\n          margin: 0 0 16px 0;\n          line-height: 1.2;\n          letter-spacing: -0.5px;\n        }\n        \n        .hero-subtitle {\n          font-size: 18px;\n          opacity: 0.9;\n          margin: 0 0 32px 0;\n          line-height: 1.5;\n        }\n        \n        .hero-actions {\n          display: flex;\n          gap: 16px;\n          flex-wrap: wrap;\n        }\n        \n        .hero-button {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 24px;\n          border: none;\n          border-radius: 12px;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .hero-button.primary {\n          background: #C2571B;\n          color: #F3EED9;\n        }\n        \n        .hero-button.primary:hover {\n          background: #A8481A;\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);\n        }\n        \n        .hero-button.secondary {\n          background: rgba(243, 238, 217, 0.15);\n          color: #F3EED9;\n          border: 1px solid rgba(243, 238, 217, 0.3);\n        }\n        \n        .hero-button.secondary:hover {\n          background: rgba(243, 238, 217, 0.25);\n          transform: translateY(-2px);\n        }\n        \n        .hero-visual {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n        }\n        \n        .floating-card {\n          background: rgba(243, 238, 217, 0.1);\n          backdrop-filter: blur(10px);\n          border: 1px solid rgba(243, 238, 217, 0.2);\n          border-radius: 16px;\n          padding: 24px;\n          width: 100%;\n          animation: float 6s ease-in-out infinite;\n        }\n        \n        @keyframes float {\n          0%, 100% { transform: translateY(0px); }\n          50% { transform: translateY(-10px); }\n        }\n        \n        .card-header {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          margin-bottom: 20px;\n          font-weight: 600;\n          font-size: 16px;\n        }\n        \n        .card-stats {\n          display: flex;\n          justify-content: space-between;\n        }\n        \n        .stat {\n          text-align: center;\n        }\n        \n        .stat-number {\n          display: block;\n          font-size: 28px;\n          font-weight: 800;\n          line-height: 1;\n          margin-bottom: 4px;\n        }\n        \n        .stat-label {\n          font-size: 12px;\n          opacity: 0.8;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .dashboard-content {\n          padding: 32px;\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n        \n        .section-header {\n          margin-bottom: 24px;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n        }\n        \n        .section-title {\n          font-size: 24px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0;\n          letter-spacing: -0.3px;\n        }\n        \n        .section-subtitle {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin-top: 4px;\n        }\n        \n        .stats-section {\n          margin-bottom: 48px;\n        }\n        \n        .stats-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n          gap: 24px;\n        }\n        \n        .stat-card {\n          padding: 24px;\n          border-radius: 16px;\n          background: #FFFFFF;\n        }\n        \n        .stat-header {\n          display: flex;\n          align-items: flex-start;\n          justify-content: space-between;\n          margin-bottom: 16px;\n        }\n        \n        .stat-icon {\n          padding: 12px;\n          background: rgba(62, 92, 73, 0.1);\n          border-radius: 12px;\n        }\n        \n        .stat-meta {\n          text-align: right;\n          font-size: 12px;\n        }\n        \n        .stat-trend {\n          color: #3E5C49;\n          font-weight: 600;\n        }\n        \n        .stat-percentage {\n          color: #6E6E6E;\n          font-weight: 600;\n        }\n        \n        .stat-value {\n          font-size: 32px;\n          font-weight: 800;\n          color: #2E2E2E;\n          line-height: 1;\n          margin-bottom: 8px;\n        }\n        \n        .stat-title {\n          font-size: 14px;\n          color: #6E6E6E;\n          font-weight: 500;\n        }\n        \n        .dashboard-grid {\n          display: grid;\n          grid-template-columns: 2fr 1fr;\n          gap: 32px;\n          margin-bottom: 48px;\n        }\n        \n        .actions-grid {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n        \n        .action-card {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n          padding: 20px;\n          background: #FFFFFF;\n          border: none;\n          border-radius: 16px;\n          cursor: pointer;\n          text-align: left;\n          transition: all 0.3s ease;\n          position: relative;\n        }\n        \n        .action-card:hover {\n          transform: translateX(4px);\n        }\n        \n        .action-icon {\n          width: 48px;\n          height: 48px;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #FFFFFF;\n          flex-shrink: 0;\n          position: relative;\n        }\n        \n        .action-badge {\n          position: absolute;\n          top: -4px;\n          right: -4px;\n          width: 12px;\n          height: 12px;\n          background: #C2571B;\n          border-radius: 50%;\n          border: 2px solid #FFFFFF;\n          animation: pulse 2s infinite;\n        }\n        \n        .action-content {\n          flex: 1;\n        }\n        \n        .action-title {\n          font-size: 16px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin-bottom: 4px;\n        }\n        \n        .action-description {\n          font-size: 14px;\n          color: #6E6E6E;\n        }\n        \n        .action-arrow {\n          color: #6E6E6E;\n          transition: transform 0.2s ease;\n        }\n        \n        .action-card:hover .action-arrow {\n          transform: translateX(4px);\n        }\n        \n        .progress-card {\n          padding: 24px;\n          background: #FFFFFF;\n          border-radius: 16px;\n        }\n        \n        .progress-item {\n          margin-bottom: 20px;\n        }\n        \n        .progress-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 12px;\n        }\n        \n        .progress-label {\n          font-size: 14px;\n          font-weight: 500;\n          color: #2E2E2E;\n        }\n        \n        .progress-value {\n          font-size: 18px;\n          font-weight: 700;\n          color: #3E5C49;\n        }\n        \n        .progress-bar {\n          width: 100%;\n          height: 8px;\n          background: #F3EED9;\n          border-radius: 4px;\n          overflow: hidden;\n        }\n        \n        .progress-fill {\n          height: 100%;\n          background: linear-gradient(90deg, #3E5C49, #C2571B);\n          transition: width 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n        }\n        \n        .progress-metrics {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .metric {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 12px;\n          color: #6E6E6E;\n        }\n        \n        .activity-list {\n          background: #FFFFFF;\n          border-radius: 16px;\n          overflow: hidden;\n        }\n        \n        .activity-item {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          padding: 20px;\n          border-bottom: 1px solid #F3EED9;\n        }\n        \n        .activity-item:last-child {\n          border-bottom: none;\n        }\n        \n        .activity-icon {\n          width: 40px;\n          height: 40px;\n          background: #F3EED9;\n          border-radius: 10px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #3E5C49;\n          flex-shrink: 0;\n        }\n        \n        .activity-content {\n          flex: 1;\n        }\n        \n        .activity-title {\n          font-size: 14px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin-bottom: 4px;\n        }\n        \n        .activity-description {\n          font-size: 13px;\n          color: #6E6E6E;\n        }\n        \n        .activity-time {\n          font-size: 12px;\n          color: #6E6E6E;\n          text-align: right;\n        }\n        \n        .view-all-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 8px 16px;\n          background: #F3EED9;\n          border: none;\n          border-radius: 8px;\n          color: #3E5C49;\n          font-size: 14px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .view-all-button:hover {\n          background: #EAEADC;\n          transform: translateY(-1px);\n        }\n        \n        /* Responsive Design */\n        @media (max-width: 1024px) {\n          .hero-content {\n            grid-template-columns: 1fr;\n            gap: 32px;\n            text-align: center;\n          }\n          \n          .dashboard-grid {\n            grid-template-columns: 1fr;\n            gap: 24px;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .hero-section {\n            padding: 32px 16px;\n          }\n          \n          .hero-title {\n            font-size: 28px;\n          }\n          \n          .hero-subtitle {\n            font-size: 16px;\n          }\n          \n          .hero-actions {\n            justify-content: center;\n          }\n          \n          .dashboard-content {\n            padding: 16px;\n          }\n          \n          .stats-grid {\n            grid-template-columns: 1fr;\n            gap: 16px;\n          }\n          \n          .section-title {\n            font-size: 20px;\n          }\n          \n          .floating-card {\n            padding: 16px;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .hero-button {\n            width: 100%;\n            justify-content: center;\n          }\n          \n          .action-card {\n            padding: 16px;\n          }\n          \n          .activity-item {\n            padding: 16px;\n          }\n          \n          .stat-card {\n            padding: 16px;\n          }\n        }\n      '})]})},$=o("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),U=o("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),q=o("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),H=o("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),V=o("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),W=o("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),K=o("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),G=o("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Y=o("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),J=o("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Q=o("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),X=({books:e,onBorrow:n,onDelete:t})=>{const[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(null),[c,d]=(0,i.useState)("grid"),[p,h]=(0,i.useState)("title"),[f,g]=(0,i.useState)("all"),[x,b]=(0,i.useState)("all"),v=e=>{window.confirm(`Êtes-vous sûr de vouloir supprimer "${e.title}" ?`)&&t(e.id),l(null)},y=e=>({Fiction:"#3E5C49","Science-Fiction":"#C2571B",Histoire:"#6E6E6E",Biographie:"#3E5C49",Sciences:"#C2571B",Philosophie:"#6E6E6E",Romance:"#E91E63",Thriller:"#9C27B0",Jeunesse:"#FF9800",Art:"#607D8B"}[e]||"#6E6E6E"),w=Array.from(new Set(e.map(e=>e.category))),j=e.filter(e=>{if("available"===f)return!e.isBorrowed;if("borrowed"===f)return e.isBorrowed;if("all"!==x&&e.category!==x)return!1;if(a.trim()){const n=a.toLowerCase();return e.title.toLowerCase().includes(n)||e.author.toLowerCase().includes(n)||e.category.toLowerCase().includes(n)||e.description&&e.description.toLowerCase().includes(n)}return!0}),k=[...j].sort((e,n)=>{switch(p){case"author":return e.author.localeCompare(n.author);case"date":return(n.publishedDate||"").localeCompare(e.publishedDate||"");case"popularity":const t=(e.isBorrowed?10:5)+(e.publishedDate?parseInt(e.publishedDate)/100:0);return(n.isBorrowed?10:5)+(n.publishedDate?parseInt(n.publishedDate)/100:0)-t;default:return e.title.localeCompare(n.title)}}),E={total:e.length,available:e.filter(e=>!e.isBorrowed).length,borrowed:e.filter(e=>e.isBorrowed).length,filtered:j.length};return(0,r.jsxs)("div",{className:"book-list",children:[(0,r.jsxs)("div",{className:"page-header",children:[(0,r.jsxs)("div",{className:"header-main",children:[(0,r.jsxs)("div",{className:"header-text",children:[(0,r.jsx)("h1",{className:"page-title",children:"Collection de livres"}),(0,r.jsxs)("p",{className:"page-subtitle",children:[E.filtered," livre(s) affiché(s) sur ",E.total," au total"]})]}),(0,r.jsxs)("div",{className:"header-actions",children:[(0,r.jsxs)("div",{className:"quick-stats",children:[(0,r.jsxs)("div",{className:"quick-stat available",children:[(0,r.jsx)("span",{className:"stat-number",children:E.available}),(0,r.jsx)("span",{className:"stat-label",children:"Disponibles"})]}),(0,r.jsxs)("div",{className:"quick-stat borrowed",children:[(0,r.jsx)("span",{className:"stat-number",children:E.borrowed}),(0,r.jsx)("span",{className:"stat-label",children:"Empruntés"})]})]}),(0,r.jsxs)("div",{className:"view-controls",children:[(0,r.jsx)("button",{className:"view-button "+("grid"===c?"active":""),onClick:()=>d("grid"),title:"Vue grille",children:(0,r.jsx)($,{size:16})}),(0,r.jsx)("button",{className:"view-button "+("list"===c?"active":""),onClick:()=>d("list"),title:"Vue liste",children:(0,r.jsx)(U,{size:16})})]})]})]}),(0,r.jsxs)("div",{className:"search-section",children:[(0,r.jsx)("div",{className:"search-container",children:(0,r.jsxs)("div",{className:"search-input-wrapper",children:[(0,r.jsx)(F,{className:"search-icon",size:20}),(0,r.jsx)("input",{type:"text",placeholder:"Rechercher par titre, auteur, catégorie...",value:a,onChange:e=>s(e.target.value),className:"search-input"}),a&&(0,r.jsx)("button",{className:"clear-search",onClick:()=>s(""),children:(0,r.jsx)(u,{size:16})})]})}),(0,r.jsxs)("div",{className:"filters-container",children:[(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)(q,{size:16}),(0,r.jsxs)("select",{value:f,onChange:e=>g(e.target.value),className:"filter-select",children:[(0,r.jsx)("option",{value:"all",children:"Tous les livres"}),(0,r.jsx)("option",{value:"available",children:"Disponibles"}),(0,r.jsx)("option",{value:"borrowed",children:"Empruntés"})]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)(H,{size:16}),(0,r.jsxs)("select",{value:x,onChange:e=>b(e.target.value),className:"filter-select",children:[(0,r.jsx)("option",{value:"all",children:"Toutes les catégories"}),w.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)(V,{size:16}),(0,r.jsxs)("select",{value:p,onChange:e=>h(e.target.value),className:"filter-select",children:[(0,r.jsx)("option",{value:"title",children:"Trier par titre"}),(0,r.jsx)("option",{value:"author",children:"Trier par auteur"}),(0,r.jsx)("option",{value:"date",children:"Trier par date"}),(0,r.jsx)("option",{value:"popularity",children:"Trier par popularité"})]})]})]})]}),w.length>0&&(0,r.jsxs)("div",{className:"category-filters",children:[(0,r.jsx)("button",{className:"category-chip "+("all"===x?"active":""),onClick:()=>b("all"),children:"Toutes"}),w.slice(0,6).map(e=>(0,r.jsx)("button",{className:"category-chip "+(x===e?"active":""),onClick:()=>b(e),style:{"--category-color":y(e)},children:e},e)),w.length>6&&(0,r.jsxs)("span",{className:"more-categories",children:["+",w.length-6," autres"]})]})]}),(0,r.jsx)("div",{className:"books-content",children:k.length>0?(0,r.jsx)("div",{className:`books-container ${c}`,children:k.map(e=>(0,r.jsx)("div",{className:"book-item card-elevated",children:"grid"===c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"book-cover",children:[e.coverUrl?(0,r.jsx)("img",{src:e.coverUrl,alt:e.title}):(0,r.jsx)("div",{className:"book-cover-placeholder",children:(0,r.jsx)(m,{size:32})}),(0,r.jsx)("div",{className:"status-badge "+(e.isBorrowed?"borrowed":"available"),children:e.isBorrowed?"Emprunté":"Disponible"}),(0,r.jsxs)("div",{className:"book-overlay",children:[(0,r.jsxs)("div",{className:"overlay-actions",children:[(0,r.jsx)("button",{className:"overlay-button view",onClick:()=>{},title:"Voir détails",children:(0,r.jsx)(A,{size:16})}),!e.isBorrowed&&(0,r.jsx)("button",{className:"overlay-button borrow",onClick:()=>n(e),title:"Emprunter",children:(0,r.jsx)(W,{size:16})}),(0,r.jsx)("button",{className:"overlay-button menu",onClick:()=>l(o===e.id?null:e.id),title:"Plus d'options",children:(0,r.jsx)(K,{size:16})})]}),o===e.id&&(0,r.jsxs)("div",{className:"dropdown-menu",children:[(0,r.jsxs)("button",{className:"dropdown-item",onClick:()=>{},children:[(0,r.jsx)(A,{size:16}),"Voir détails"]}),(0,r.jsxs)("button",{className:"dropdown-item",onClick:()=>{},children:[(0,r.jsx)(G,{size:16}),"Modifier"]}),!e.isBorrowed&&(0,r.jsxs)("button",{className:"dropdown-item primary",onClick:()=>n(e),children:[(0,r.jsx)(W,{size:16}),"Emprunter"]}),(0,r.jsxs)("button",{className:"dropdown-item delete",onClick:()=>v(e),children:[(0,r.jsx)(Y,{size:16}),"Supprimer"]})]})]})]}),(0,r.jsxs)("div",{className:"book-content",children:[(0,r.jsxs)("div",{className:"book-header",children:[(0,r.jsx)("h3",{className:"book-title",children:e.title}),(0,r.jsxs)("div",{className:"book-rating",children:[(0,r.jsx)(J,{size:14,fill:"currentColor"}),(0,r.jsx)("span",{children:"4.2"})]})]}),(0,r.jsxs)("div",{className:"book-meta",children:[(0,r.jsxs)("div",{className:"meta-item",children:[(0,r.jsx)(Q,{size:14}),(0,r.jsx)("span",{children:e.author})]}),e.publishedDate&&(0,r.jsxs)("div",{className:"meta-item",children:[(0,r.jsx)(P,{size:14}),(0,r.jsx)("span",{children:e.publishedDate})]})]}),(0,r.jsxs)("div",{className:"book-category-section",children:[(0,r.jsx)("span",{className:"category-tag",style:{backgroundColor:y(e.category)},children:e.category}),e.isBorrowed&&(0,r.jsxs)("span",{className:"trending-badge",children:[(0,r.jsx)(S,{size:12}),"Populaire"]})]}),e.description&&(0,r.jsx)("p",{className:"book-description",children:e.description}),e.isBorrowed&&e.borrowerName&&(0,r.jsxs)("div",{className:"borrow-info",children:[(0,r.jsx)("div",{className:"borrower-avatar",children:e.borrowerName.charAt(0).toUpperCase()}),(0,r.jsxs)("div",{className:"borrow-details",children:[(0,r.jsx)("span",{className:"borrow-label",children:"Emprunté par"}),(0,r.jsx)("span",{className:"borrower-name",children:e.borrowerName}),e.borrowDate&&(0,r.jsxs)("span",{className:"borrow-date",children:["le ",new Date(e.borrowDate).toLocaleDateString("fr-FR")]})]})]}),!e.isBorrowed&&(0,r.jsxs)("button",{className:"primary-action-btn",onClick:()=>n(e),children:[(0,r.jsx)(W,{size:16}),"Emprunter maintenant"]})]})]}):(0,r.jsxs)("div",{className:"book-list-content",children:[(0,r.jsxs)("div",{className:"book-list-cover",children:[e.coverUrl?(0,r.jsx)("img",{src:e.coverUrl,alt:e.title}):(0,r.jsx)("div",{className:"book-cover-placeholder small",children:(0,r.jsx)(m,{size:20})}),(0,r.jsx)("div",{className:"list-status-indicator "+(e.isBorrowed?"borrowed":"available"),children:(e.isBorrowed,"●")})]}),(0,r.jsxs)("div",{className:"book-list-details",children:[(0,r.jsxs)("div",{className:"book-list-main",children:[(0,r.jsxs)("div",{className:"list-title-section",children:[(0,r.jsx)("h3",{className:"book-title",children:e.title}),(0,r.jsxs)("div",{className:"book-rating small",children:[(0,r.jsx)(J,{size:12,fill:"currentColor"}),(0,r.jsx)("span",{children:"4.2"})]})]}),(0,r.jsxs)("p",{className:"book-author",children:["par ",e.author]}),(0,r.jsxs)("div",{className:"book-tags",children:[(0,r.jsx)("span",{className:"category-tag small",style:{backgroundColor:y(e.category)},children:e.category}),e.publishedDate&&(0,r.jsx)("span",{className:"year-tag",children:e.publishedDate}),e.isBorrowed&&(0,r.jsx)("span",{className:"status-tag borrowed",children:"Emprunté"})]})]}),e.description&&(0,r.jsx)("p",{className:"book-list-description",children:e.description}),e.isBorrowed&&e.borrowerName&&(0,r.jsxs)("div",{className:"borrow-info compact",children:[(0,r.jsx)(Q,{size:14}),(0,r.jsxs)("span",{children:["Emprunté par ",(0,r.jsx)("strong",{children:e.borrowerName})]}),e.borrowDate&&(0,r.jsxs)("span",{children:["le ",new Date(e.borrowDate).toLocaleDateString("fr-FR")]})]})]}),(0,r.jsxs)("div",{className:"book-list-actions",children:[!e.isBorrowed&&(0,r.jsxs)("button",{className:"action-button borrow",onClick:()=>n(e),children:[(0,r.jsx)(W,{size:16}),"Emprunter"]}),(0,r.jsx)("button",{className:"action-button menu",onClick:()=>l(o===e.id?null:e.id),children:(0,r.jsx)(K,{size:16})}),o===e.id&&(0,r.jsxs)("div",{className:"dropdown-menu right",children:[(0,r.jsxs)("button",{className:"dropdown-item",onClick:()=>{},children:[(0,r.jsx)(A,{size:16}),"Voir détails"]}),(0,r.jsxs)("button",{className:"dropdown-item",onClick:()=>{},children:[(0,r.jsx)(G,{size:16}),"Modifier"]}),!e.isBorrowed&&(0,r.jsxs)("button",{className:"dropdown-item primary",onClick:()=>n(e),children:[(0,r.jsx)(W,{size:16}),"Emprunter"]}),(0,r.jsxs)("button",{className:"dropdown-item delete",onClick:()=>v(e),children:[(0,r.jsx)(Y,{size:16}),"Supprimer"]})]})]})]})},e.id))}):(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsx)("div",{className:"empty-icon",children:a||"all"!==f||"all"!==x?(0,r.jsx)(F,{size:64}):(0,r.jsx)(m,{size:64})}),(0,r.jsx)("h3",{className:"empty-title",children:a||"all"!==f||"all"!==x?"Aucun livre trouvé":"Aucun livre dans la collection"}),(0,r.jsx)("p",{className:"empty-description",children:a?`Aucun résultat pour "${a}"`:"all"!==f?`Aucun livre ${"available"===f?"disponible":"emprunté"} pour le moment`:"all"!==x?`Aucun livre dans la catégorie "${x}"`:"Commencez par ajouter des livres à votre collection"}),(a||"all"!==f||"all"!==x)&&(0,r.jsx)("button",{className:"btn-secondary",onClick:()=>{s(""),g("all"),b("all")},children:"Effacer tous les filtres"})]})}),(0,r.jsx)("style",{children:"\n        .book-list {\n          height: 100%;\n          display: flex;\n          flex-direction: column;\n          background: #FAF9F6;\n        }\n        \n        .page-header {\n          background: #FFFFFF;\n          padding: 32px;\n          border-bottom: 1px solid #E5DCC2;\n          position: sticky;\n          top: 0;\n          z-index: 10;\n          box-shadow: 0 2px 8px rgba(62, 92, 73, 0.04);\n        }\n        \n        .header-main {\n          display: flex;\n          align-items: flex-start;\n          justify-content: space-between;\n          margin-bottom: 24px;\n        }\n        \n        .page-title {\n          font-size: 32px;\n          font-weight: 800;\n          color: #2E2E2E;\n          margin: 0 0 8px 0;\n          letter-spacing: -0.5px;\n        }\n        \n        .page-subtitle {\n          color: #6E6E6E;\n          margin: 0;\n          font-size: 16px;\n          font-weight: 500;\n        }\n        \n        .header-actions {\n          display: flex;\n          align-items: center;\n          gap: 24px;\n        }\n        \n        .quick-stats {\n          display: flex;\n          gap: 16px;\n        }\n        \n        .quick-stat {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          padding: 12px 16px;\n          border-radius: 12px;\n          min-width: 80px;\n        }\n        \n        .quick-stat.available {\n          background: rgba(62, 92, 73, 0.1);\n          color: #3E5C49;\n        }\n        \n        .quick-stat.borrowed {\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n        }\n        \n        .stat-number {\n          font-size: 24px;\n          font-weight: 800;\n          line-height: 1;\n          margin-bottom: 4px;\n        }\n        \n        .stat-label {\n          font-size: 12px;\n          font-weight: 600;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .view-controls {\n          display: flex;\n          background: #F3EED9;\n          border-radius: 12px;\n          padding: 4px;\n          gap: 4px;\n        }\n        \n        .view-button {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 40px;\n          height: 40px;\n          border: none;\n          background: transparent;\n          border-radius: 8px;\n          color: #6E6E6E;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .view-button.active {\n          background: #FFFFFF;\n          color: #3E5C49;\n          box-shadow: 0 2px 8px rgba(62, 92, 73, 0.1);\n        }\n        \n        .search-section {\n          display: flex;\n          gap: 24px;\n          align-items: center;\n          margin-bottom: 20px;\n        }\n        \n        .search-container {\n          flex: 1;\n          max-width: 500px;\n        }\n        \n        .search-input-wrapper {\n          position: relative;\n          display: flex;\n          align-items: center;\n        }\n        \n        .search-icon {\n          position: absolute;\n          left: 16px;\n          color: #6E6E6E;\n          z-index: 2;\n        }\n        \n        .search-input {\n          width: 100%;\n          height: 48px;\n          padding: 0 48px 0 48px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          font-size: 16px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n        }\n        \n        .search-input:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n        \n        .search-input::placeholder {\n          color: #6E6E6E;\n        }\n        \n        .clear-search {\n          position: absolute;\n          right: 16px;\n          background: none;\n          border: none;\n          cursor: pointer;\n          color: #6E6E6E;\n          padding: 4px;\n          border-radius: 4px;\n          transition: all 0.2s ease;\n        }\n        \n        .clear-search:hover {\n          color: #2E2E2E;\n          background: #F3EED9;\n        }\n        \n        .filters-container {\n          display: flex;\n          gap: 16px;\n        }\n        \n        .filter-group {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          color: #6E6E6E;\n        }\n        \n        .filter-select {\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          padding: 8px 12px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          font-size: 14px;\n          cursor: pointer;\n          transition: border-color 0.2s ease;\n        }\n        \n        .filter-select:focus {\n          outline: none;\n          border-color: #3E5C49;\n        }\n        \n        .category-filters {\n          display: flex;\n          gap: 8px;\n          flex-wrap: wrap;\n          align-items: center;\n        }\n        \n        .category-chip {\n          padding: 8px 16px;\n          border: 2px solid #E5DCC2;\n          border-radius: 20px;\n          background: #FFFFFF;\n          color: #6E6E6E;\n          font-size: 14px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          white-space: nowrap;\n        }\n        \n        .category-chip:hover {\n          border-color: var(--category-color, #3E5C49);\n          color: var(--category-color, #3E5C49);\n        }\n        \n        .category-chip.active {\n          background: var(--category-color, #3E5C49);\n          border-color: var(--category-color, #3E5C49);\n          color: #FFFFFF;\n        }\n        \n        .more-categories {\n          font-size: 14px;\n          color: #6E6E6E;\n          font-weight: 500;\n        }\n        \n        .books-content {\n          flex: 1;\n          overflow-y: auto;\n          padding: 32px;\n        }\n        \n        .books-container.grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n          gap: 24px;\n        }\n        \n        .books-container.list {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n        \n        .book-item {\n          background: #FFFFFF;\n          border-radius: 20px;\n          overflow: hidden;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          position: relative;\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n        \n        .book-item:hover {\n          transform: translateY(-6px);\n          box-shadow: \n            0 16px 40px rgba(62, 92, 73, 0.15),\n            0 8px 24px rgba(62, 92, 73, 0.1);\n        }\n        \n        /* Enhanced Grid View */\n        .book-cover {\n          height: 240px;\n          background: linear-gradient(135deg, #F3EED9 0%, #E5DCC2 100%);\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .book-cover img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n        \n        .book-cover-placeholder {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          height: 100%;\n          color: #6E6E6E;\n        }\n        \n        .book-cover-placeholder.small {\n          width: 60px;\n          height: 80px;\n          border-radius: 8px;\n          background: linear-gradient(135deg, #F3EED9 0%, #E5DCC2 100%);\n        }\n        \n        .status-badge {\n          position: absolute;\n          top: 12px;\n          right: 12px;\n          padding: 6px 12px;\n          border-radius: 20px;\n          font-size: 12px;\n          font-weight: 600;\n          backdrop-filter: blur(10px);\n        }\n        \n        .status-badge.available {\n          background: rgba(62, 92, 73, 0.9);\n          color: #F3EED9;\n        }\n        \n        .status-badge.borrowed {\n          background: rgba(194, 87, 27, 0.9);\n          color: #F3EED9;\n        }\n        \n        .book-overlay {\n          position: absolute;\n          inset: 0;\n          background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, transparent 50%);\n          opacity: 0;\n          transition: opacity 0.3s ease;\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          padding: 16px;\n        }\n        \n        .book-item:hover .book-overlay {\n          opacity: 1;\n        }\n        \n        .overlay-actions {\n          display: flex;\n          gap: 8px;\n          justify-content: flex-end;\n          align-self: flex-start;\n        }\n        \n        .overlay-button {\n          width: 36px;\n          height: 36px;\n          border: none;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          backdrop-filter: blur(10px);\n        }\n        \n        .overlay-button.view {\n          background: rgba(255, 255, 255, 0.2);\n          color: #FFFFFF;\n        }\n        \n        .overlay-button.borrow {\n          background: rgba(62, 92, 73, 0.9);\n          color: #F3EED9;\n        }\n        \n        .overlay-button.menu {\n          background: rgba(110, 110, 110, 0.9);\n          color: #FFFFFF;\n        }\n        \n        .overlay-button:hover {\n          transform: scale(1.1);\n        }\n        \n        .dropdown-menu {\n          position: absolute;\n          top: 100%;\n          right: 0;\n          background: #FFFFFF;\n          border: 1px solid #E5DCC2;\n          border-radius: 12px;\n          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.15);\n          z-index: 20;\n          min-width: 160px;\n          overflow: hidden;\n          margin-top: 8px;\n        }\n        \n        .dropdown-menu.right {\n          right: 0;\n          left: auto;\n        }\n        \n        .dropdown-item {\n          width: 100%;\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 12px 16px;\n          border: none;\n          background: none;\n          cursor: pointer;\n          font-size: 14px;\n          color: #2E2E2E;\n          transition: background 0.2s ease;\n          text-align: left;\n        }\n        \n        .dropdown-item:hover {\n          background: #F3EED9;\n        }\n        \n        .dropdown-item.primary {\n          color: #3E5C49;\n          font-weight: 600;\n        }\n        \n        .dropdown-item.primary:hover {\n          background: rgba(62, 92, 73, 0.1);\n        }\n        \n        .dropdown-item.delete {\n          color: #C2571B;\n        }\n        \n        .dropdown-item.delete:hover {\n          background: rgba(194, 87, 27, 0.1);\n        }\n        \n        .book-content {\n          padding: 24px;\n        }\n        \n        .book-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          margin-bottom: 16px;\n        }\n        \n        .book-title {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0;\n          line-height: 1.3;\n          flex: 1;\n          margin-right: 12px;\n        }\n        \n        .book-rating {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          color: #FFB400;\n          font-size: 14px;\n          font-weight: 600;\n        }\n        \n        .book-rating.small {\n          font-size: 12px;\n        }\n        \n        .book-rating.small svg {\n          width: 12px;\n          height: 12px;\n        }\n        \n        .book-meta {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n          margin-bottom: 16px;\n        }\n        \n        .meta-item {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 14px;\n          color: #6E6E6E;\n        }\n        \n        .book-category-section {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          margin-bottom: 16px;\n          flex-wrap: wrap;\n        }\n        \n        .category-tag {\n          color: #FFFFFF;\n          padding: 6px 12px;\n          border-radius: 16px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n        \n        .category-tag.small {\n          padding: 4px 8px;\n          font-size: 11px;\n        }\n        \n        .trending-badge {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          background: rgba(255, 180, 0, 0.1);\n          color: #FFB400;\n          padding: 4px 8px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 600;\n        }\n        \n        .book-description {\n          font-size: 14px;\n          color: #6E6E6E;\n          line-height: 1.5;\n          margin: 0 0 20px 0;\n          display: -webkit-box;\n          -webkit-line-clamp: 3;\n          -webkit-box-orient: vertical;\n          overflow: hidden;\n        }\n        \n        .borrow-info {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          background: rgba(194, 87, 27, 0.05);\n          border: 1px solid rgba(194, 87, 27, 0.2);\n          border-radius: 12px;\n          padding: 12px;\n          margin-bottom: 20px;\n        }\n        \n        .borrow-info.compact {\n          background: none;\n          border: none;\n          padding: 0;\n          margin-bottom: 0;\n          font-size: 13px;\n          color: #6E6E6E;\n        }\n        \n        .borrower-avatar {\n          width: 32px;\n          height: 32px;\n          background: #C2571B;\n          color: #FFFFFF;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-weight: 700;\n          font-size: 14px;\n        }\n        \n        .borrow-details {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          gap: 2px;\n        }\n        \n        .borrow-label {\n          font-size: 12px;\n          color: #6E6E6E;\n          font-weight: 500;\n        }\n        \n        .borrower-name {\n          font-size: 14px;\n          color: #C2571B;\n          font-weight: 600;\n        }\n        \n        .borrow-date {\n          font-size: 12px;\n          color: #6E6E6E;\n        }\n        \n        .primary-action-btn {\n          width: 100%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n          padding: 14px 20px;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n          border: none;\n          border-radius: 12px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n        \n        .primary-action-btn:hover {\n          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);\n          transform: translateY(-1px);\n          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.3);\n        }\n        \n        /* Enhanced List View */\n        .book-list-content {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n          padding: 20px;\n          position: relative;\n        }\n        \n        .book-list-cover {\n          flex-shrink: 0;\n          position: relative;\n        }\n        \n        .list-status-indicator {\n          position: absolute;\n          top: -4px;\n          right: -4px;\n          width: 12px;\n          height: 12px;\n          border-radius: 50%;\n          font-size: 8px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .list-status-indicator.available {\n          color: #3E5C49;\n        }\n        \n        .list-status-indicator.borrowed {\n          color: #C2571B;\n        }\n        \n        .book-list-details {\n          flex: 1;\n          min-width: 0;\n        }\n        \n        .book-list-main {\n          margin-bottom: 12px;\n        }\n        \n        .list-title-section {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          margin-bottom: 4px;\n        }\n        \n        .book-author {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0 0 8px 0;\n        }\n        \n        .book-tags {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          flex-wrap: wrap;\n        }\n        \n        .year-tag {\n          background: #F3EED9;\n          color: #6E6E6E;\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 500;\n        }\n        \n        .status-tag {\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 600;\n        }\n        \n        .status-tag.borrowed {\n          background: #C2571B;\n          color: #FFFFFF;\n        }\n        \n        .book-list-description {\n          font-size: 14px;\n          color: #6E6E6E;\n          line-height: 1.5;\n          margin: 12px 0 0 0;\n          display: -webkit-box;\n          -webkit-line-clamp: 2;\n          -webkit-box-orient: vertical;\n          overflow: hidden;\n        }\n        \n        .book-list-actions {\n          flex-shrink: 0;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          position: relative;\n        }\n        \n        .action-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 16px;\n          border: none;\n          border-radius: 12px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 600;\n          transition: all 0.2s ease;\n        }\n        \n        .action-button.borrow {\n          background: #3E5C49;\n          color: #F3EED9;\n        }\n        \n        .action-button.borrow:hover {\n          background: #2E453A;\n          transform: translateY(-1px);\n        }\n        \n        .action-button.menu {\n          background: #F3EED9;\n          color: #6E6E6E;\n          padding: 12px;\n        }\n        \n        .action-button.menu:hover {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        /* Empty State Enhanced */\n        .empty-state {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          padding: 80px 32px;\n          text-align: center;\n          color: #6E6E6E;\n        }\n        \n        .empty-icon {\n          color: #C2571B;\n          margin-bottom: 24px;\n          opacity: 0.6;\n        }\n        \n        .empty-title {\n          font-size: 24px;\n          font-weight: 700;\n          margin: 0 0 12px 0;\n          color: #2E2E2E;\n        }\n        \n        .empty-description {\n          margin: 0 0 24px 0;\n          font-size: 16px;\n          line-height: 1.5;\n          max-width: 400px;\n        }\n        \n        .btn-secondary {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 24px;\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .btn-secondary:hover {\n          background: #EAEADC;\n          color: #2E2E2E;\n          transform: translateY(-1px);\n        }\n        \n        /* Enhanced Animations */\n        @keyframes slideIn {\n          from {\n            opacity: 0;\n            transform: translateY(20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        \n        .book-item {\n          animation: slideIn 0.3s ease-out;\n        }\n        \n        .book-item:nth-child(1) { animation-delay: 0ms; }\n        .book-item:nth-child(2) { animation-delay: 50ms; }\n        .book-item:nth-child(3) { animation-delay: 100ms; }\n        .book-item:nth-child(4) { animation-delay: 150ms; }\n        .book-item:nth-child(5) { animation-delay: 200ms; }\n        .book-item:nth-child(6) { animation-delay: 250ms; }\n        \n        /* Responsive Design */\n        @media (max-width: 1024px) {\n          .books-container.grid {\n            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n            gap: 20px;\n          }\n          \n          .header-actions {\n            flex-direction: column;\n            gap: 16px;\n          }\n          \n          .quick-stats {\n            order: 2;\n          }\n          \n          .view-controls {\n            order: 1;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .page-header {\n            padding: 20px 16px;\n          }\n          \n          .header-main {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 16px;\n          }\n          \n          .search-section {\n            flex-direction: column;\n            gap: 16px;\n          }\n          \n          .filters-container {\n            justify-content: space-between;\n            flex-wrap: wrap;\n            gap: 12px;\n          }\n          \n          .category-filters {\n            justify-content: flex-start;\n            overflow-x: auto;\n            padding-bottom: 8px;\n          }\n          \n          .books-content {\n            padding: 16px;\n          }\n          \n          .books-container.grid {\n            grid-template-columns: 1fr;\n            gap: 16px;\n          }\n          \n          .book-list-content {\n            flex-direction: column;\n            gap: 12px;\n            text-align: center;\n          }\n          \n          .book-list-cover {\n            align-self: center;\n          }\n          \n          .book-list-actions {\n            align-self: center;\n            justify-content: center;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .page-title {\n            font-size: 24px;\n          }\n          \n          .search-input {\n            height: 44px;\n            font-size: 14px;\n          }\n          \n          .view-controls {\n            order: -1;\n            align-self: flex-start;\n          }\n          \n          .filters-container {\n            flex-direction: column;\n            gap: 12px;\n          }\n          \n          .filter-group {\n            flex: 1;\n          }\n          \n          .filter-select {\n            flex: 1;\n          }\n          \n          .book-content {\n            padding: 20px;\n          }\n          \n          .book-cover {\n            height: 200px;\n          }\n          \n          .overlay-actions {\n            gap: 6px;\n          }\n          \n          .overlay-button {\n            width: 32px;\n            height: 32px;\n          }\n          \n          .primary-action-btn {\n            padding: 12px 16px;\n            font-size: 13px;\n          }\n          \n          .action-button {\n            padding: 10px 12px;\n            font-size: 13px;\n          }\n          \n          .category-chip {\n            padding: 6px 12px;\n            font-size: 13px;\n          }\n        }\n        \n        /* Performance optimizations */\n        .book-item {\n          contain: layout style paint;\n        }\n        \n        .book-cover img {\n          will-change: transform;\n        }\n        \n        .book-overlay {\n          will-change: opacity;\n        }\n        \n        /* Accessibility improvements */\n        @media (prefers-reduced-motion: reduce) {\n          .book-item,\n          .overlay-button,\n          .primary-action-btn,\n          .action-button {\n            transition: none;\n            animation: none;\n          }\n          \n          .book-item:hover {\n            transform: none;\n          }\n        }\n        \n        /* High contrast mode support */\n        @media (prefers-contrast: high) {\n          .book-item {\n            border: 2px solid;\n          }\n          \n          .search-input,\n          .filter-select {\n            border-width: 3px;\n          }\n          \n          .category-chip {\n            border-width: 3px;\n          }\n        }\n        \n        /* Dark mode support (future-proofing) */\n        @media (prefers-color-scheme: dark) {\n          .book-list {\n            background: #1a1a1a;\n          }\n          \n          .page-header,\n          .book-item {\n            background: #2d2d2d;\n            border-color: #404040;\n          }\n          \n          .page-title,\n          .book-title {\n            color: #ffffff;\n          }\n          \n          .page-subtitle,\n          .book-author,\n          .meta-item {\n            color: #a0a0a0;\n          }\n          \n          .search-input,\n          .filter-select {\n            background: #2d2d2d;\n            border-color: #404040;\n            color: #ffffff;\n          }\n        }\n      "})]})},Z=o("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),ee=o("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ne=o("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),te=o("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),re=({books:e,onReturn:n})=>{const[t,a]=(0,i.useState)(""),[s,o]=(0,i.useState)("date"),[l,c]=(0,i.useState)("all"),d=e=>{const n=(e=>{const n=new Date(e),t=(new Date).getTime()-n.getTime();return Math.ceil(t/864e5)})(e);return n<=14?{status:"normal",color:"#3E5C49",bgColor:"rgba(62, 92, 73, 0.1)",text:`${n} jour(s)`,priority:1}:n<=30?{status:"warning",color:"#C2571B",bgColor:"rgba(194, 87, 27, 0.1)",text:`${n} jour(s) - À surveiller`,priority:2}:{status:"overdue",color:"#DC2626",bgColor:"rgba(220, 38, 38, 0.1)",text:`${n} jour(s) - En retard`,priority:3}},p=e.filter(e=>e.isBorrowed),h=[...p.filter(e=>{const n=!t||e.title.toLowerCase().includes(t.toLowerCase())||e.author.toLowerCase().includes(t.toLowerCase())||e.borrowerName?.toLowerCase().includes(t.toLowerCase());if("all"===l)return n;const r=d(e.borrowDate);return n&&r.status===l})].sort((e,n)=>{switch(s){case"borrower":return(e.borrowerName||"").localeCompare(n.borrowerName||"");case"title":return e.title.localeCompare(n.title);case"status":const t=d(e.borrowDate);return d(n.borrowDate).priority-t.priority;default:return new Date(n.borrowDate).getTime()-new Date(e.borrowDate).getTime()}}),f=(()=>{const e={normal:0,warning:0,overdue:0};return p.forEach(n=>{if(n.borrowDate){const t=d(n.borrowDate).status;t in e&&e[t]++}}),e})();return(0,r.jsxs)("div",{className:"borrowed-books",children:[(0,r.jsxs)("div",{className:"page-header",children:[(0,r.jsx)("div",{className:"header-background",children:(0,r.jsx)("div",{className:"background-pattern"})}),(0,r.jsxs)("div",{className:"header-content",children:[(0,r.jsxs)("div",{className:"header-main",children:[(0,r.jsx)("div",{className:"header-icon",children:(0,r.jsx)(w,{size:36})}),(0,r.jsxs)("div",{className:"header-text",children:[(0,r.jsx)("h1",{className:"page-title",children:"Livres empruntés"}),(0,r.jsxs)("p",{className:"page-subtitle",children:[e.length," livre(s) actuellement en circulation"]})]})]}),(0,r.jsxs)("div",{className:"status-overview",children:[(0,r.jsxs)("div",{className:"status-card normal",children:[(0,r.jsx)("div",{className:"status-icon",children:(0,r.jsx)(Z,{size:20})}),(0,r.jsxs)("div",{className:"status-info",children:[(0,r.jsx)("span",{className:"status-count",children:f.normal}),(0,r.jsx)("span",{className:"status-label",children:"Normal"})]})]}),(0,r.jsxs)("div",{className:"status-card warning",children:[(0,r.jsx)("div",{className:"status-icon",children:(0,r.jsx)(w,{size:20})}),(0,r.jsxs)("div",{className:"status-info",children:[(0,r.jsx)("span",{className:"status-count",children:f.warning}),(0,r.jsx)("span",{className:"status-label",children:"À surveiller"})]})]}),(0,r.jsxs)("div",{className:"status-card overdue",children:[(0,r.jsx)("div",{className:"status-icon",children:(0,r.jsx)(ee,{size:20})}),(0,r.jsxs)("div",{className:"status-info",children:[(0,r.jsx)("span",{className:"status-count",children:f.overdue}),(0,r.jsx)("span",{className:"status-label",children:"En retard"})]})]})]})]})]}),(0,r.jsxs)("div",{className:"controls-section",children:[(0,r.jsx)("div",{className:"search-container",children:(0,r.jsxs)("div",{className:"search-input-wrapper",children:[(0,r.jsx)(F,{className:"search-icon",size:20}),(0,r.jsx)("input",{type:"text",placeholder:"Rechercher par titre, auteur ou emprunteur...",value:t,onChange:e=>a(e.target.value),className:"search-input"}),t&&(0,r.jsx)("button",{className:"clear-search",onClick:()=>a(""),children:(0,r.jsx)(u,{size:16})})]})}),(0,r.jsxs)("div",{className:"filters-container",children:[(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)(q,{size:16}),(0,r.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"filter-select",children:[(0,r.jsx)("option",{value:"all",children:"Tous les statuts"}),(0,r.jsx)("option",{value:"normal",children:"Normal (≤14 jours)"}),(0,r.jsx)("option",{value:"warning",children:"À surveiller (15-30 jours)"}),(0,r.jsx)("option",{value:"overdue",children:"En retard (>30 jours)"})]})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)(ne,{size:16}),(0,r.jsxs)("select",{value:s,onChange:e=>o(e.target.value),className:"filter-select",children:[(0,r.jsx)("option",{value:"date",children:"Trier par date d'emprunt"}),(0,r.jsx)("option",{value:"borrower",children:"Trier par emprunteur"}),(0,r.jsx)("option",{value:"title",children:"Trier par titre"}),(0,r.jsx)("option",{value:"status",children:"Trier par statut"})]})]})]})]}),(0,r.jsx)("div",{className:"books-content",children:h.length>0?(0,r.jsx)("div",{className:"borrowed-list",children:h.map(e=>{const t=d(e.borrowDate);return(0,r.jsx)("div",{className:`borrowed-card ${t.status}`,children:(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsxs)("div",{className:"book-info",children:[(0,r.jsx)("div",{className:"book-cover",children:e.coverUrl?(0,r.jsx)("img",{src:e.coverUrl,alt:e.title}):(0,r.jsx)("div",{className:"book-cover-placeholder",children:(0,r.jsx)(m,{size:24})})}),(0,r.jsxs)("div",{className:"book-details",children:[(0,r.jsxs)("div",{className:"book-main",children:[(0,r.jsx)("h3",{className:"book-title",children:e.title}),(0,r.jsxs)("p",{className:"book-author",children:["par ",e.author]}),(0,r.jsx)("div",{className:"book-category",children:(0,r.jsx)("span",{className:"category-badge",children:e.category})})]}),(0,r.jsxs)("div",{className:"borrow-details",children:[(0,r.jsxs)("div",{className:"detail-item",children:[(0,r.jsx)(Q,{size:16}),(0,r.jsx)("span",{className:"borrower-name",children:e.borrowerName})]}),(0,r.jsxs)("div",{className:"detail-item",children:[(0,r.jsx)(P,{size:16}),(0,r.jsxs)("span",{children:["Emprunté le ",new Date(e.borrowDate).toLocaleDateString("fr-FR")]})]})]})]})]}),(0,r.jsxs)("div",{className:"status-section",children:[(0,r.jsxs)("div",{className:"status-indicator",style:{backgroundColor:t.bgColor,color:t.color},children:[(0,r.jsx)("div",{className:"status-dot",style:{backgroundColor:t.color}}),(0,r.jsx)("span",{className:"status-text",children:t.text})]}),(0,r.jsxs)("div",{className:"card-actions",children:[(0,r.jsx)("button",{className:"action-button view",title:"Voir détails",children:(0,r.jsx)(A,{size:18})}),(0,r.jsxs)("button",{className:"action-button return",onClick:()=>(e=>{window.confirm(`Confirmer le retour de "${e.title}" emprunté par ${e.borrowerName} ?`)&&n(e.id)})(e),title:"Marquer comme rendu",children:[(0,r.jsx)(te,{size:18}),(0,r.jsx)("span",{children:"Retour"})]})]})]})]})},e.id)})}):(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsx)("div",{className:"empty-illustration",children:0===e.length?(0,r.jsx)(Z,{size:80}):(0,r.jsx)(F,{size:80})}),(0,r.jsx)("h3",{className:"empty-title",children:0===e.length?"Aucun livre emprunté":"Aucun résultat"}),(0,r.jsx)("p",{className:"empty-description",children:0===e.length?"Tous les livres sont actuellement disponibles dans la bibliothèque.":t?`Aucun résultat pour "${t}"`:"Aucun livre ne correspond aux filtres sélectionnés."}),(t||"all"!==l)&&(0,r.jsx)("button",{className:"btn-secondary",onClick:()=>{a(""),c("all")},children:"Effacer les filtres"})]})}),(0,r.jsx)("style",{children:"\n        .borrowed-books {\n          height: 100%;\n          display: flex;\n          flex-direction: column;\n          background: #FAF9F6;\n        }\n        \n        .page-header {\n          position: relative;\n          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);\n          color: #F3EED9;\n          padding: 40px 32px;\n          overflow: hidden;\n        }\n        \n        .header-background {\n          position: absolute;\n          inset: 0;\n          overflow: hidden;\n        }\n        \n        .background-pattern {\n          position: absolute;\n          inset: 0;\n          background-image: \n            radial-gradient(circle at 20% 80%, rgba(243, 238, 217, 0.1) 0%, transparent 50%),\n            radial-gradient(circle at 80% 20%, rgba(243, 238, 217, 0.1) 0%, transparent 50%),\n            radial-gradient(circle at 40% 40%, rgba(243, 238, 217, 0.05) 0%, transparent 50%);\n          animation: float 15s ease-in-out infinite;\n        }\n        \n        @keyframes float {\n          0%, 100% { transform: translate(0, 0) scale(1); }\n          33% { transform: translate(30px, -30px) scale(1.05); }\n          66% { transform: translate(-20px, 20px) scale(0.95); }\n        }\n        \n        .header-content {\n          position: relative;\n          z-index: 1;\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n        \n        .header-main {\n          display: flex;\n          align-items: center;\n          gap: 24px;\n          margin-bottom: 32px;\n        }\n        \n        .header-icon {\n          width: 72px;\n          height: 72px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          backdrop-filter: blur(10px);\n        }\n        \n        .page-title {\n          font-size: 36px;\n          font-weight: 800;\n          margin: 0 0 8px 0;\n          line-height: 1.2;\n          letter-spacing: -0.5px;\n        }\n        \n        .page-subtitle {\n          font-size: 18px;\n          opacity: 0.9;\n          margin: 0;\n          line-height: 1.4;\n        }\n        \n        .status-overview {\n          display: flex;\n          gap: 20px;\n        }\n        \n        .status-card {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          background: rgba(243, 238, 217, 0.15);\n          backdrop-filter: blur(10px);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          border-radius: 16px;\n          padding: 20px 24px;\n          transition: all 0.3s ease;\n        }\n        \n        .status-card:hover {\n          background: rgba(243, 238, 217, 0.25);\n          transform: translateY(-2px);\n        }\n        \n        .status-icon {\n          width: 40px;\n          height: 40px;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n        }\n        \n        .status-card.normal .status-icon {\n          background: rgba(62, 92, 73, 0.3);\n        }\n        \n        .status-card.warning .status-icon {\n          background: rgba(194, 87, 27, 0.3);\n        }\n        \n        .status-card.overdue .status-icon {\n          background: rgba(220, 38, 38, 0.3);\n        }\n        \n        .status-count {\n          font-size: 24px;\n          font-weight: 800;\n          line-height: 1;\n          margin-bottom: 4px;\n          display: block;\n        }\n        \n        .status-label {\n          font-size: 12px;\n          opacity: 0.9;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .controls-section {\n          background: #FFFFFF;\n          padding: 24px 32px;\n          border-bottom: 1px solid #E5DCC2;\n          display: flex;\n          gap: 24px;\n          align-items: center;\n          box-shadow: 0 2px 8px rgba(62, 92, 73, 0.04);\n        }\n        \n        .search-container {\n          flex: 1;\n          max-width: 500px;\n        }\n        \n        .search-input-wrapper {\n          position: relative;\n          display: flex;\n          align-items: center;\n        }\n        \n        .search-icon {\n          position: absolute;\n          left: 16px;\n          color: #6E6E6E;\n          z-index: 2;\n        }\n        \n        .search-input {\n          width: 100%;\n          height: 48px;\n          padding: 0 48px 0 48px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          font-size: 16px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n        }\n        \n        .search-input:focus {\n          outline: none;\n          border-color: #C2571B;\n          box-shadow: 0 0 0 3px rgba(194, 87, 27, 0.1);\n        }\n        \n        .search-input::placeholder {\n          color: #6E6E6E;\n        }\n        \n        .clear-search {\n          position: absolute;\n          right: 16px;\n          background: none;\n          border: none;\n          cursor: pointer;\n          color: #6E6E6E;\n          padding: 4px;\n          border-radius: 4px;\n          transition: all 0.2s ease;\n        }\n        \n        .clear-search:hover {\n          color: #2E2E2E;\n          background: #F3EED9;\n        }\n        \n        .filters-container {\n          display: flex;\n          gap: 16px;\n        }\n        \n        .filter-group {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          color: #6E6E6E;\n        }\n        \n        .filter-select {\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          padding: 8px 12px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          font-size: 14px;\n          cursor: pointer;\n          transition: border-color 0.2s ease;\n        }\n        \n        .filter-select:focus {\n          outline: none;\n          border-color: #C2571B;\n        }\n        \n        .books-content {\n          flex: 1;\n          overflow-y: auto;\n          padding: 32px;\n        }\n        \n        .borrowed-list {\n          display: flex;\n          flex-direction: column;\n          gap: 20px;\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n        \n        .borrowed-card {\n          background: #FFFFFF;\n          border-radius: 20px;\n          overflow: hidden;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          border: 1px solid #E5DCC2;\n          position: relative;\n        }\n        \n        .borrowed-card::before {\n          content: '';\n          position: absolute;\n          left: 0;\n          top: 0;\n          bottom: 0;\n          width: 4px;\n          background: #3E5C49;\n          transition: background 0.3s ease;\n        }\n        \n        .borrowed-card.warning::before {\n          background: #C2571B;\n        }\n        \n        .borrowed-card.overdue::before {\n          background: #DC2626;\n        }\n        \n        .borrowed-card:hover {\n          transform: translateY(-4px);\n          box-shadow: \n            0 12px 32px rgba(62, 92, 73, 0.12),\n            0 4px 16px rgba(62, 92, 73, 0.08);\n        }\n        \n        .card-content {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 24px;\n          gap: 24px;\n        }\n        \n        .book-info {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n          flex: 1;\n          min-width: 0;\n        }\n        \n        .book-cover {\n          width: 64px;\n          height: 88px;\n          border-radius: 12px;\n          overflow: hidden;\n          flex-shrink: 0;\n          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.2);\n        }\n        \n        .book-cover img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n        \n        .book-cover-placeholder {\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(135deg, #F3EED9 0%, #E5DCC2 100%);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #6E6E6E;\n        }\n        \n        .book-details {\n          flex: 1;\n          min-width: 0;\n        }\n        \n        .book-main {\n          margin-bottom: 16px;\n        }\n        \n        .book-title {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 4px 0;\n          line-height: 1.3;\n        }\n        \n        .book-author {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0 0 8px 0;\n        }\n        \n        .category-badge {\n          background: #3E5C49;\n          color: #F3EED9;\n          padding: 4px 12px;\n          border-radius: 12px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n        \n        .borrow-details {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        \n        .detail-item {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 14px;\n          color: #6E6E6E;\n        }\n        \n        .borrower-name {\n          font-weight: 600;\n          color: #2E2E2E;\n        }\n        \n        .status-section {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-end;\n          gap: 16px;\n          flex-shrink: 0;\n        }\n        \n        .status-indicator {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 8px 16px;\n          border-radius: 20px;\n          font-size: 14px;\n          font-weight: 600;\n          border: 1px solid currentColor;\n        }\n        \n        .status-dot {\n          width: 8px;\n          height: 8px;\n          border-radius: 50%;\n          animation: pulse 2s infinite;\n        }\n        \n        .card-actions {\n          display: flex;\n          gap: 8px;\n        }\n        \n        .action-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 16px;\n          border: none;\n          border-radius: 12px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 600;\n          transition: all 0.2s ease;\n        }\n        \n        .action-button.view {\n          background: #F3EED9;\n          color: #6E6E6E;\n          padding: 12px;\n        }\n        \n        .action-button.view:hover {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .action-button.return {\n          background: #3E5C49;\n          color: #F3EED9;\n        }\n        \n        .action-button.return:hover {\n          background: #2E453A;\n          transform: translateY(-1px);\n          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.3);\n        }\n        \n        /* Empty State */\n        .empty-state {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          padding: 80px 32px;\n          text-align: center;\n          max-width: 600px;\n          margin: 0 auto;\n        }\n        \n        .empty-illustration {\n          color: #C2571B;\n          margin-bottom: 32px;\n          opacity: 0.6;\n        }\n        \n        .empty-title {\n          font-size: 28px;\n          font-weight: 700;\n          margin: 0 0 16px 0;\n          color: #2E2E2E;\n        }\n        \n        .empty-description {\n          margin: 0 0 32px 0;\n          font-size: 16px;\n          line-height: 1.6;\n          color: #6E6E6E;\n        }\n        \n        .btn-secondary {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 24px;\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .btn-secondary:hover {\n          background: #EAEADC;\n          color: #2E2E2E;\n          transform: translateY(-1px);\n        }\n        \n        /* Animations */\n        @keyframes pulse {\n          0%, 100% {\n            opacity: 1;\n            transform: scale(1);\n          }\n          50% {\n            opacity: 0.7;\n            transform: scale(1.1);\n          }\n        }\n        \n        /* Responsive Design */\n        @media (max-width: 1024px) {\n          .status-overview {\n            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n            gap: 16px;\n          }\n          \n          .controls-section {\n            flex-direction: column;\n            gap: 16px;\n            align-items: stretch;\n          }\n          \n          .search-container {\n            max-width: none;\n          }\n          \n          .filters-container {\n            justify-content: space-between;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .page-header {\n            padding: 24px 16px;\n          }\n          \n          .header-main {\n            flex-direction: column;\n            text-align: center;\n            gap: 16px;\n          }\n          \n          .page-title {\n            font-size: 28px;\n          }\n          \n          .page-subtitle {\n            font-size: 16px;\n          }\n          \n          .status-overview {\n            justify-content: center;\n            flex-wrap: wrap;\n          }\n          \n          .status-card {\n            padding: 16px 20px;\n          }\n          \n          .controls-section {\n            padding: 16px;\n          }\n          \n          .books-content {\n            padding: 16px;\n          }\n          \n          .card-content {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 20px;\n          }\n          \n          .book-info {\n            flex-direction: column;\n            text-align: center;\n          }\n          \n          .status-section {\n            align-items: center;\n            flex-direction: row;\n            justify-content: space-between;\n          }\n          \n          .borrow-details {\n            align-items: center;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .header-icon {\n            width: 56px;\n            height: 56px;\n          }\n          \n          .status-overview {\n            flex-direction: column;\n            gap: 12px;\n          }\n          \n          .status-card {\n            padding: 12px 16px;\n          }\n          \n          .status-count {\n            font-size: 20px;\n          }\n          \n          .filters-container {\n            flex-direction: column;\n            gap: 12px;\n          }\n          \n          .filter-group {\n            flex: 1;\n          }\n          \n          .filter-select {\n            flex: 1;\n          }\n          \n          .borrowed-card {\n            border-radius: 16px;\n          }\n          \n          .card-content {\n            padding: 20px 16px;\n          }\n          \n          .book-cover {\n            width: 56px;\n            height: 76px;\n          }\n          \n          .book-title {\n            font-size: 18px;\n          }\n          \n          .card-actions {\n            width: 100%;\n            justify-content: space-between;\n          }\n          \n          .action-button.return {\n            flex: 1;\n            justify-content: center;\n          }\n        }\n      "})]})},ae=o("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ie=o("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),se=o("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),oe=require("electron");if(console.log("Preload script loaded"),console.log("contextBridge available:",void 0!==oe.contextBridge),console.log("ipcRenderer available:",void 0!==oe.ipcRenderer),void 0===oe.contextBridge)throw console.error("contextBridge is undefined - this indicates the preload script is not running in the correct Electron context"),new Error("contextBridge is not available. Make sure this script is loaded as a preload script in an Electron BrowserWindow.");const le=e=>{const n={...e};return Object.defineProperties(n,{title:{get:function(){return this.titre},enumerable:!0},author:{get:function(){return this.auteur},enumerable:!0},category:{get:function(){return this.descripteurs.split(",")[0]?.trim()||""},enumerable:!0},publishedDate:{get:function(){return this.annee},enumerable:!0},coverUrl:{get:function(){return this.couverture},enumerable:!0},isBorrowed:{get:function(){return this.estEmprunte},enumerable:!0},borrowerId:{get:function(){return this.emprunteurId},enumerable:!0},borrowDate:{get:function(){return this.dateEmprunt},enumerable:!0},expectedReturnDate:{get:function(){return this.dateRetourPrevu},enumerable:!0},returnDate:{get:function(){return this.dateRetour},enumerable:!0},borrowerName:{get:function(){return this.nomEmprunteur},enumerable:!0}}),n},ce=e=>{const n=(new Date).toISOString();return{auteur:e.author||e.auteur||"",titre:e.title||e.titre||"",editeur:e.editeur||"Non spécifié",lieuEdition:e.lieuEdition||"Non spécifié",annee:e.publishedDate||e.annee||(new Date).getFullYear().toString(),descripteurs:e.category||e.descripteurs||"Général",cote:e.cote||`GEN-${Math.random().toString(36).substr(2,6).toUpperCase()}`,isbn:e.isbn,description:e.description,couverture:e.coverUrl||e.couverture,estEmprunte:e.isBorrowed||e.estEmprunte||!1,emprunteurId:e.borrowerId||e.emprunteurId,dateEmprunt:e.borrowDate||e.dateEmprunt,dateRetourPrevu:e.expectedReturnDate||e.dateRetourPrevu,dateRetour:e.returnDate||e.dateRetour,nomEmprunteur:e.borrowerName||e.nomEmprunteur,localId:e.localId,remoteId:e.remoteId,syncStatus:e.syncStatus||"pending",lastModified:e.lastModified||n,version:e.version||1,deletedAt:e.deletedAt,createdAt:e.createdAt||n}};oe.contextBridge.exposeInMainWorld("electronAPI",{minimizeWindow:()=>oe.ipcRenderer.invoke("window-controls:minimize"),maximizeWindow:()=>oe.ipcRenderer.invoke("window-controls:maximize"),closeWindow:()=>oe.ipcRenderer.invoke("window-controls:close"),getAuthStatus:()=>oe.ipcRenderer.invoke("auth:status"),login:e=>oe.ipcRenderer.invoke("auth:login",e),logout:()=>oe.ipcRenderer.invoke("auth:logout"),getBooks:()=>oe.ipcRenderer.invoke("db:getBooks").then(e=>e.map(le)),addBook:e=>oe.ipcRenderer.invoke("db:addBook",ce(e)),updateBook:e=>oe.ipcRenderer.invoke("db:updateBook",{...ce(e),id:e.id}),deleteBook:e=>oe.ipcRenderer.invoke("db:deleteBook",e),searchBooks:e=>oe.ipcRenderer.invoke("db:searchBooks",e).then(e=>e.map(le)),getDocuments:()=>oe.ipcRenderer.invoke("db:getDocuments"),addDocument:e=>oe.ipcRenderer.invoke("db:addDocument",e),updateDocument:e=>oe.ipcRenderer.invoke("db:updateDocument",e),deleteDocument:e=>oe.ipcRenderer.invoke("db:deleteDocument",e),searchDocuments:e=>oe.ipcRenderer.invoke("db:searchDocuments",e),getAuthors:()=>oe.ipcRenderer.invoke("db:getAuthors"),addAuthor:e=>oe.ipcRenderer.invoke("db:addAuthor",{...e,localId:e.localId||`author_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,syncStatus:e.syncStatus||"pending",lastModified:e.lastModified||(new Date).toISOString(),version:e.version||1,createdAt:e.createdAt||(new Date).toISOString()}),getCategories:()=>oe.ipcRenderer.invoke("db:getCategories"),addCategory:e=>oe.ipcRenderer.invoke("db:addCategory",{...e,localId:e.localId||`category_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,syncStatus:e.syncStatus||"pending",lastModified:e.lastModified||(new Date).toISOString(),version:e.version||1,createdAt:e.createdAt||(new Date).toISOString()}),getBorrowers:()=>oe.ipcRenderer.invoke("db:getBorrowers"),addBorrower:e=>oe.ipcRenderer.invoke("db:addBorrower",{...e,localId:e.localId||`borrower_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,syncStatus:e.syncStatus||"pending",lastModified:e.lastModified||(new Date).toISOString(),version:e.version||1,createdAt:e.createdAt||(new Date).toISOString()}),updateBorrower:e=>oe.ipcRenderer.invoke("db:updateBorrower",{...e,lastModified:(new Date).toISOString(),version:(e.version||1)+1,syncStatus:"pending"}),deleteBorrower:e=>oe.ipcRenderer.invoke("db:deleteBorrower",e),searchBorrowers:e=>oe.ipcRenderer.invoke("db:searchBorrowers",e),getBorrowedBooks:()=>oe.ipcRenderer.invoke("db:getBorrowedBooks"),borrowBook:(e,n,t)=>oe.ipcRenderer.invoke("db:borrowBook",e,n,t),returnBook:(e,n)=>oe.ipcRenderer.invoke("db:returnBook",e,n),getBorrowHistory:e=>oe.ipcRenderer.invoke("db:getBorrowHistory",e),getStats:()=>oe.ipcRenderer.invoke("db:getStats"),getAdvancedStats:()=>oe.ipcRenderer.invoke("stats:advanced"),getSettings:()=>oe.ipcRenderer.invoke("settings:get"),saveSettings:e=>oe.ipcRenderer.invoke("settings:save",e),createBackup:()=>oe.ipcRenderer.invoke("backup:create"),restoreBackup:()=>oe.ipcRenderer.invoke("backup:restore"),clearAllData:()=>oe.ipcRenderer.invoke("db:clearAll"),exportDatabase:e=>oe.ipcRenderer.invoke("db:export",e),importDatabase:e=>oe.ipcRenderer.invoke("db:import",e),printInventory:e=>oe.ipcRenderer.invoke("print:inventory",e),printAvailableBooks:e=>oe.ipcRenderer.invoke("print:available-books",e),printBorrowedBooks:e=>oe.ipcRenderer.invoke("print:borrowed-books",e),printBorrowHistory:e=>oe.ipcRenderer.invoke("print:borrow-history",e),exportCSV:e=>oe.ipcRenderer.invoke("export:csv",e),selectFile:e=>oe.ipcRenderer.invoke("file:select",e),selectDirectory:()=>oe.ipcRenderer.invoke("file:selectDirectory"),showNotification:(e,n)=>oe.ipcRenderer.invoke("notification:show",e,n),getSystemInfo:()=>oe.ipcRenderer.invoke("system:info"),checkForUpdates:()=>oe.ipcRenderer.invoke("system:checkUpdates"),setTheme:e=>oe.ipcRenderer.invoke("theme:set",e),getTheme:()=>oe.ipcRenderer.invoke("theme:get"),getSyncStatus:()=>oe.ipcRenderer.invoke("sync:status"),startSync:()=>oe.ipcRenderer.invoke("sync:start"),pauseSync:()=>oe.ipcRenderer.invoke("sync:pause"),getNetworkStatus:()=>oe.ipcRenderer.invoke("network:status"),resolveConflict:e=>oe.ipcRenderer.invoke("sync:resolve-conflict",e),getSyncErrors:()=>oe.ipcRenderer.invoke("sync:errors"),retrySyncOperation:e=>oe.ipcRenderer.invoke("sync:retry",e),clearSyncErrors:()=>oe.ipcRenderer.invoke("sync:clear-errors")});const de=({authors:e,categories:n,onAddBook:t,onCancel:a})=>{const[s,o]=(0,i.useState)({title:"",author:"",isbn:"",category:"",publishedDate:"",description:"",coverUrl:""}),[l,c]=(0,i.useState)(!1),[d,p]=(0,i.useState)(!1),[h,g]=(0,i.useState)({name:"",biography:"",nationality:""}),[x,b]=(0,i.useState)({name:"",description:"",color:"#3E5C49"}),[v,y]=(0,i.useState)({}),[w,j]=(0,i.useState)(!1),[k,E]=(0,i.useState)(""),N=(e,n)=>{o(t=>({...t,[e]:n})),E(""),v[e]&&y(n=>({...n,[e]:""}))},C=[{id:"basic",label:"Informations",completed:s.title&&s.author&&s.category},{id:"details",label:"Détails",completed:!0},{id:"finish",label:"Finaliser",completed:!1}];return(0,r.jsxs)("div",{className:"add-book",children:[(0,r.jsxs)("div",{className:"hero-header",children:[(0,r.jsx)("div",{className:"hero-background",children:(0,r.jsx)("div",{className:"hero-pattern"})}),(0,r.jsxs)("div",{className:"hero-content",children:[(0,r.jsxs)("button",{className:"back-button",onClick:a,children:[(0,r.jsx)(ae,{size:20}),(0,r.jsx)("span",{children:"Retour"})]}),(0,r.jsxs)("div",{className:"hero-main",children:[(0,r.jsx)("div",{className:"hero-icon",children:(0,r.jsx)(ie,{size:32})}),(0,r.jsxs)("div",{className:"hero-text",children:[(0,r.jsx)("h1",{className:"hero-title",children:"Ajouter un nouveau livre"}),(0,r.jsx)("p",{className:"hero-subtitle",children:"Enrichissez votre collection avec un nouveau titre"})]})]}),(0,r.jsx)("div",{className:"progress-steps",children:C.map((e,n)=>(0,r.jsxs)("div",{className:"progress-step "+(e.completed?"completed":""),children:[(0,r.jsx)("div",{className:"step-indicator",children:e.completed?(0,r.jsx)(R,{size:16}):(0,r.jsx)("span",{children:n+1})}),(0,r.jsx)("span",{className:"step-label",children:e.label})]},e.id))})]})]}),(0,r.jsx)("div",{className:"form-container",children:(0,r.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),E(""),(()=>{const e={};return s.title.trim()||(e.title="Le titre est requis"),s.author.trim()||(e.author="L'auteur est requis"),s.category.trim()||(e.category="La catégorie est requise"),s.isbn&&s.isbn.trim()&&!(e=>{const n=e.replace(/[-\s]/g,"");return/^(978|979)\d{10}$/.test(n)||/^\d{10}$/.test(n)})(s.isbn)&&(e.isbn="Format ISBN invalide (ex: 978-2-123456-78-9)"),y(e),0===Object.keys(e).length})()){j(!0);try{const e={auteur:s.author,titre:s.title,editeur:"Non spécifié",lieuEdition:"Non spécifié",annee:s.publishedDate||(new Date).getFullYear().toString(),descripteurs:s.category,cote:`${s.category.substring(0,3)}-${s.author.substring(0,3)}-${Math.random().toString(36).substr(2,3)}`.toUpperCase(),isbn:s.isbn.trim()||void 0,description:s.description,couverture:s.coverUrl,estEmprunte:!1,syncStatus:"pending",lastModified:(new Date).toISOString(),version:1,createdAt:(new Date).toISOString()},n=le(e);await t(n)}catch(e){console.error("Erreur lors de l'ajout du livre:",e),e.message&&e.message.includes("ISBN existe déjà")?y({isbn:"Un livre avec cet ISBN existe déjà"}):E("Erreur lors de l'ajout du livre. Veuillez réessayer.")}finally{j(!1)}}},className:"book-form",children:[k&&(0,r.jsxs)("div",{className:"alert alert-error",children:[(0,r.jsx)(L,{size:20}),(0,r.jsx)("span",{children:k})]}),(0,r.jsxs)("div",{className:"form-sections",children:[(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)("div",{className:"section-icon",children:(0,r.jsx)(m,{size:24})}),(0,r.jsxs)("div",{className:"section-info",children:[(0,r.jsx)("h2",{className:"section-title",children:"Informations principales"}),(0,r.jsx)("p",{className:"section-description",children:"Les détails essentiels de votre livre"})]})]}),(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-group span-full",children:[(0,r.jsx)("label",{htmlFor:"title",className:"form-label",children:"Titre du livre *"}),(0,r.jsx)("input",{id:"title",type:"text",value:s.title,onChange:e=>N("title",e.target.value),className:"form-input "+(v.title?"error":""),placeholder:"Entrez le titre complet du livre",disabled:w}),v.title&&(0,r.jsx)("span",{className:"error-message",children:v.title})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"author",className:"form-label",children:"Auteur *"}),(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsxs)("select",{id:"author",value:s.author,onChange:e=>N("author",e.target.value),className:"form-input "+(v.author?"error":""),disabled:w,children:[(0,r.jsx)("option",{value:"",children:"Sélectionner un auteur"}),e.map(e=>(0,r.jsx)("option",{value:e.name,children:e.name},e.id))]}),(0,r.jsx)("button",{type:"button",className:"add-button",onClick:()=>c(!0),disabled:w,children:(0,r.jsx)(f,{size:16})})]}),v.author&&(0,r.jsx)("span",{className:"error-message",children:v.author})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"category",className:"form-label",children:"Catégorie *"}),(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsxs)("select",{id:"category",value:s.category,onChange:e=>N("category",e.target.value),className:"form-input "+(v.category?"error":""),disabled:w,children:[(0,r.jsx)("option",{value:"",children:"Sélectionner une catégorie"}),n.map(e=>(0,r.jsx)("option",{value:e.name,children:e.name},e.id))]}),(0,r.jsx)("button",{type:"button",className:"add-button",onClick:()=>p(!0),disabled:w,children:(0,r.jsx)(f,{size:16})})]}),v.category&&(0,r.jsx)("span",{className:"error-message",children:v.category})]})]})]}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)("div",{className:"section-icon",children:(0,r.jsx)(I,{size:24})}),(0,r.jsxs)("div",{className:"section-info",children:[(0,r.jsx)("h2",{className:"section-title",children:"Détails supplémentaires"}),(0,r.jsx)("p",{className:"section-description",children:"Informations complémentaires (optionnelles)"})]})]}),(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"isbn",className:"form-label",children:"ISBN"}),(0,r.jsx)("input",{id:"isbn",type:"text",value:s.isbn,onChange:e=>N("isbn",e.target.value),className:"form-input "+(v.isbn?"error":""),placeholder:"978-2-123456-78-9",disabled:w}),v.isbn&&(0,r.jsx)("span",{className:"error-message",children:v.isbn}),(0,r.jsx)("small",{className:"form-hint",children:"Laissez vide si vous ne connaissez pas l'ISBN"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"publishedDate",className:"form-label",children:"Date de publication"}),(0,r.jsx)("input",{id:"publishedDate",type:"text",value:s.publishedDate,onChange:e=>N("publishedDate",e.target.value),className:"form-input",placeholder:"2023 ou 01/01/2023",disabled:w})]}),(0,r.jsxs)("div",{className:"form-group span-full",children:[(0,r.jsx)("label",{htmlFor:"coverUrl",className:"form-label",children:"URL de la couverture"}),(0,r.jsx)("input",{id:"coverUrl",type:"url",value:s.coverUrl,onChange:e=>N("coverUrl",e.target.value),className:"form-input",placeholder:"https://exemple.com/couverture.jpg",disabled:w})]}),(0,r.jsxs)("div",{className:"form-group span-full",children:[(0,r.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),(0,r.jsx)("textarea",{id:"description",value:s.description,onChange:e=>N("description",e.target.value),className:"form-textarea",placeholder:"Résumé ou description du livre...",rows:4,disabled:w})]})]})]})]}),(0,r.jsxs)("div",{className:"form-actions",children:[(0,r.jsxs)("button",{type:"button",className:"btn-secondary",onClick:a,disabled:w,children:[(0,r.jsx)(u,{size:18}),"Annuler"]}),(0,r.jsxs)("button",{type:"submit",className:"btn-primary",disabled:w,children:[(0,r.jsx)(se,{size:18}),w?"Ajout en cours...":"Ajouter le livre"]})]})]})}),l&&(0,r.jsx)("div",{className:"modal-overlay",onClick:()=>c(!1),children:(0,r.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsxs)("div",{className:"modal-title-section",children:[(0,r.jsx)(Q,{size:24}),(0,r.jsx)("h3",{children:"Ajouter un nouvel auteur"})]}),(0,r.jsx)("button",{className:"modal-close",onClick:()=>c(!1),children:(0,r.jsx)(u,{size:20})})]}),(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Nom de l'auteur *"}),(0,r.jsx)("input",{type:"text",value:h.name,onChange:e=>g(n=>({...n,name:e.target.value})),className:"form-input",placeholder:"Nom complet de l'auteur"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Nationalité"}),(0,r.jsx)("input",{type:"text",value:h.nationality,onChange:e=>g(n=>({...n,nationality:e.target.value})),className:"form-input",placeholder:"Nationalité de l'auteur"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Biographie"}),(0,r.jsx)("textarea",{value:h.biography,onChange:e=>g(n=>({...n,biography:e.target.value})),className:"form-textarea",placeholder:"Courte biographie...",rows:3})]})]}),(0,r.jsxs)("div",{className:"modal-footer",children:[(0,r.jsx)("button",{className:"btn-secondary",onClick:()=>c(!1),children:"Annuler"}),(0,r.jsxs)("button",{className:"btn-primary",onClick:async()=>{if(h.name.trim())try{await window.electronAPI.addAuthor({...h,syncStatus:"pending",lastModified:(new Date).toISOString(),version:1}),o(e=>({...e,author:h.name})),g({name:"",biography:"",nationality:""}),c(!1)}catch(e){console.error("Erreur lors de l'ajout de l'auteur:",e)}},disabled:!h.name.trim(),children:[(0,r.jsx)(f,{size:16}),"Ajouter l'auteur"]})]})]})}),d&&(0,r.jsx)("div",{className:"modal-overlay",onClick:()=>p(!1),children:(0,r.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsxs)("div",{className:"modal-title-section",children:[(0,r.jsx)(H,{size:24}),(0,r.jsx)("h3",{children:"Ajouter une nouvelle catégorie"})]}),(0,r.jsx)("button",{className:"modal-close",onClick:()=>p(!1),children:(0,r.jsx)(u,{size:20})})]}),(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Nom de la catégorie *"}),(0,r.jsx)("input",{type:"text",value:x.name,onChange:e=>b(n=>({...n,name:e.target.value})),className:"form-input",placeholder:"Nom de la catégorie"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Description"}),(0,r.jsx)("textarea",{value:x.description,onChange:e=>b(n=>({...n,description:e.target.value})),className:"form-textarea",placeholder:"Description de la catégorie...",rows:2})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Couleur"}),(0,r.jsx)("div",{className:"color-picker",children:["#3E5C49","#C2571B","#6E6E6E","#2E453A","#A8481A","#8B7355","#5D4037","#795548"].map(e=>(0,r.jsx)("button",{type:"button",className:"color-option "+(x.color===e?"selected":""),style:{backgroundColor:e},onClick:()=>b(n=>({...n,color:e}))},e))})]})]}),(0,r.jsxs)("div",{className:"modal-footer",children:[(0,r.jsx)("button",{className:"btn-secondary",onClick:()=>p(!1),children:"Annuler"}),(0,r.jsxs)("button",{className:"btn-primary",onClick:async()=>{if(x.name.trim())try{await window.electronAPI.addCategory({...x,syncStatus:"pending",lastModified:(new Date).toISOString(),version:1}),o(e=>({...e,category:x.name})),b({name:"",description:"",color:"#3E5C49"}),p(!1)}catch(e){console.error("Erreur lors de l'ajout de la catégorie:",e)}},disabled:!x.name.trim(),children:[(0,r.jsx)(f,{size:16}),"Ajouter la catégorie"]})]})]})}),(0,r.jsx)("style",{children:"\n        .add-book {\n          height: 100%;\n          overflow-y: auto;\n          background: #FAF9F6;\n        }\n        \n        .hero-header {\n          position: relative;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n          padding: 32px;\n          overflow: hidden;\n        }\n        \n        .hero-background {\n          position: absolute;\n          inset: 0;\n          overflow: hidden;\n        }\n        \n        .hero-pattern {\n          position: absolute;\n          inset: 0;\n          background-image: \n            radial-gradient(circle at 25% 25%, rgba(243, 238, 217, 0.1) 0%, transparent 50%),\n            radial-gradient(circle at 75% 75%, rgba(194, 87, 27, 0.1) 0%, transparent 50%);\n          animation: drift 20s ease-in-out infinite;\n        }\n        \n        @keyframes drift {\n          0%, 100% { transform: translate(0, 0) rotate(0deg); }\n          33% { transform: translate(30px, -30px) rotate(1deg); }\n          66% { transform: translate(-20px, 20px) rotate(-1deg); }\n        }\n        \n        .hero-content {\n          position: relative;\n          z-index: 1;\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n        \n        .back-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          background: rgba(243, 238, 217, 0.15);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px 20px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          font-size: 14px;\n          font-weight: 500;\n          margin-bottom: 32px;\n          width: fit-content;\n        }\n        \n        .back-button:hover {\n          background: rgba(243, 238, 217, 0.25);\n          transform: translateX(-4px);\n        }\n        \n        .hero-main {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n          margin-bottom: 32px;\n        }\n        \n        .hero-icon {\n          width: 64px;\n          height: 64px;\n          background: rgba(194, 87, 27, 0.2);\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n        }\n        \n        .hero-title {\n          font-size: 36px;\n          font-weight: 800;\n          margin: 0 0 8px 0;\n          line-height: 1.2;\n          letter-spacing: -0.5px;\n        }\n        \n        .hero-subtitle {\n          font-size: 18px;\n          opacity: 0.9;\n          margin: 0;\n          line-height: 1.4;\n        }\n        \n        .progress-steps {\n          display: flex;\n          gap: 32px;\n        }\n        \n        .progress-step {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          opacity: 0.6;\n          transition: opacity 0.3s ease;\n        }\n        \n        .progress-step.completed {\n          opacity: 1;\n        }\n        \n        .step-indicator {\n          width: 32px;\n          height: 32px;\n          border-radius: 50%;\n          background: rgba(243, 238, 217, 0.2);\n          border: 2px solid rgba(243, 238, 217, 0.4);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 14px;\n          font-weight: 600;\n          transition: all 0.3s ease;\n        }\n        \n        .progress-step.completed .step-indicator {\n          background: #C2571B;\n          border-color: #C2571B;\n          color: #FFFFFF;\n        }\n        \n        .step-label {\n          font-size: 14px;\n          font-weight: 500;\n        }\n        \n        .form-container {\n          padding: 40px 32px;\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n        \n        .book-form {\n          background: #FFFFFF;\n          border-radius: 20px;\n          padding: 40px;\n          box-shadow: \n            0 8px 32px rgba(62, 92, 73, 0.08),\n            0 2px 16px rgba(62, 92, 73, 0.12);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n        \n        .alert {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 20px;\n          border-radius: 12px;\n          margin-bottom: 32px;\n          font-size: 14px;\n          font-weight: 500;\n        }\n        \n        .alert-error {\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n          border: 1px solid rgba(194, 87, 27, 0.2);\n        }\n        \n        .form-sections {\n          display: flex;\n          flex-direction: column;\n          gap: 48px;\n          margin-bottom: 40px;\n        }\n        \n        .form-section {\n          border-radius: 16px;\n          border: 1px solid #E5DCC2;\n          background: #FEFEFE;\n          overflow: hidden;\n        }\n        \n        .section-header {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n          padding: 24px 32px;\n          background: #F3EED9;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .section-icon {\n          width: 48px;\n          height: 48px;\n          background: #3E5C49;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n        }\n        \n        .section-title {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 4px 0;\n        }\n        \n        .section-description {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .form-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 24px;\n          padding: 32px;\n        }\n        \n        .form-group {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        \n        .form-group.span-full {\n          grid-column: 1 / -1;\n        }\n        \n        .form-label {\n          font-size: 14px;\n          font-weight: 600;\n          color: #2E2E2E;\n        }\n        \n        .form-input, .form-textarea {\n          width: 100%;\n          padding: 16px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          font-size: 16px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n        }\n        \n        .form-input:focus, .form-textarea:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n        \n        .form-input.error {\n          border-color: #C2571B;\n          background: rgba(194, 87, 27, 0.05);\n        }\n        \n        .form-input:disabled, .form-textarea:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          background: #F3EED9;\n        }\n        \n        .form-textarea {\n          resize: vertical;\n          min-height: 120px;\n          line-height: 1.5;\n        }\n        \n        .input-group {\n          display: flex;\n          gap: 8px;\n        }\n        \n        .input-group .form-input {\n          flex: 1;\n        }\n        \n        .add-button {\n          width: 48px;\n          height: 48px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          background: #F3EED9;\n          color: #3E5C49;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s ease;\n          flex-shrink: 0;\n        }\n        \n        .add-button:hover:not(:disabled) {\n          background: #3E5C49;\n          color: #F3EED9;\n          border-color: #3E5C49;\n        }\n        \n        .add-button:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n        \n        .form-hint {\n          font-size: 12px;\n          color: #6E6E6E;\n          font-style: italic;\n        }\n        \n        .error-message {\n          font-size: 12px;\n          color: #C2571B;\n          font-weight: 500;\n        }\n        \n        .form-actions {\n          display: flex;\n          gap: 16px;\n          justify-content: flex-end;\n          padding-top: 32px;\n          border-top: 1px solid #E5DCC2;\n        }\n        \n        .btn-secondary, .btn-primary {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 16px 32px;\n          border-radius: 12px;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          border: none;\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .btn-secondary {\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 2px solid #E5DCC2;\n        }\n        \n        .btn-secondary:hover:not(:disabled) {\n          background: #EAEADC;\n          color: #2E2E2E;\n          transform: translateY(-2px);\n        }\n        \n        .btn-primary {\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n        }\n        \n        .btn-primary:hover:not(:disabled) {\n          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.3);\n        }\n        \n        .btn-secondary:disabled,\n        .btn-primary:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          transform: none;\n        }\n        \n        /* Modal Styles */\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.6);\n          backdrop-filter: blur(4px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 20px;\n        }\n        \n        .modal {\n          background: #FFFFFF;\n          border-radius: 20px;\n          width: 100%;\n          max-width: 600px;\n          max-height: 90vh;\n          overflow-y: auto;\n          box-shadow: 0 20px 40px rgba(62, 92, 73, 0.2);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n        \n        .modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 24px 32px;\n          border-bottom: 1px solid #E5DCC2;\n          background: #F3EED9;\n        }\n        \n        .modal-title-section {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n        }\n        \n        .modal-title-section h3 {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0;\n        }\n        \n        .modal-close {\n          background: rgba(110, 110, 110, 0.1);\n          border: none;\n          cursor: pointer;\n          padding: 8px;\n          border-radius: 8px;\n          color: #6E6E6E;\n          transition: all 0.2s ease;\n        }\n        \n        .modal-close:hover {\n          background: rgba(110, 110, 110, 0.2);\n          color: #2E2E2E;\n        }\n        \n        .modal-content {\n          padding: 32px;\n        }\n        \n        .modal-footer {\n          display: flex;\n          gap: 16px;\n          padding: 24px 32px;\n          border-top: 1px solid #E5DCC2;\n          background: #FEFEFE;\n          justify-content: flex-end;\n        }\n        \n        .color-picker {\n          display: flex;\n          gap: 12px;\n          flex-wrap: wrap;\n        }\n        \n        .color-option {\n          width: 40px;\n          height: 40px;\n          border-radius: 12px;\n          border: 2px solid transparent;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          position: relative;\n        }\n        \n        .color-option:hover {\n          transform: scale(1.1);\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n        }\n        \n        .color-option.selected {\n          border-color: #2E2E2E;\n          transform: scale(1.1);\n        }\n        \n        .color-option.selected::after {\n          content: '';\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          width: 16px;\n          height: 16px;\n          background: #FFFFFF;\n          border-radius: 50%;\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n        }\n        \n        /* Responsive Design */\n        @media (max-width: 1024px) {\n          .hero-content {\n            padding: 0 16px;\n          }\n          \n          .form-container {\n            padding: 24px 16px;\n          }\n          \n          .book-form {\n            padding: 24px;\n          }\n          \n          .form-grid {\n            grid-template-columns: 1fr;\n            gap: 20px;\n            padding: 24px;\n          }\n          \n          .section-header {\n            padding: 20px 24px;\n            flex-direction: column;\n            text-align: center;\n            gap: 16px;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .hero-header {\n            padding: 24px 16px;\n          }\n          \n          .hero-title {\n            font-size: 28px;\n          }\n          \n          .hero-subtitle {\n            font-size: 16px;\n          }\n          \n          .hero-main {\n            flex-direction: column;\n            text-align: center;\n            gap: 16px;\n          }\n          \n          .progress-steps {\n            justify-content: center;\n            gap: 20px;\n          }\n          \n          .form-actions {\n            flex-direction: column-reverse;\n          }\n          \n          .btn-secondary, .btn-primary {\n            width: 100%;\n            justify-content: center;\n          }\n          \n          .modal {\n            margin: 16px;\n            border-radius: 16px;\n          }\n          \n          .modal-header, .modal-content, .modal-footer {\n            padding: 20px;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .progress-steps {\n            flex-direction: column;\n            gap: 12px;\n          }\n          \n          .progress-step {\n            justify-content: center;\n          }\n          \n          .section-icon {\n            width: 40px;\n            height: 40px;\n          }\n          \n          .hero-icon {\n            width: 56px;\n            height: 56px;\n          }\n          \n          .color-picker {\n            justify-content: center;\n          }\n          \n          .input-group {\n            flex-direction: column;\n          }\n          \n          .add-button {\n            width: 100%;\n            height: 40px;\n          }\n        }\n      "})]})},ue=o("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),pe=o("School",[["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]),he=o("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),me=o("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),fe=({onClose:e,onRefreshData:n})=>{const[t,a]=(0,i.useState)([]),[s,o]=(0,i.useState)(""),[l,c]=(0,i.useState)("all"),[d,p]=(0,i.useState)(!1),[h,m]=(0,i.useState)(null),[x,b]=(0,i.useState)(!1),[v,y]=(0,i.useState)({type:"student",firstName:"",lastName:"",matricule:"",classe:"",cniNumber:"",position:"",email:"",phone:"",syncStatus:"pending",lastModified:(new Date).toISOString(),version:1}),[w,E]=(0,i.useState)({});(0,i.useEffect)(()=>{N()},[]);const N=async()=>{try{const e=await window.electronAPI.getBorrowers();a(e)}catch(e){console.error("Erreur lors du chargement des emprunteurs:",e)}},C=async e=>{if(o(e),e.trim())try{const n=await window.electronAPI.searchBorrowers(e);a(n)}catch(e){console.error("Erreur lors de la recherche:",e)}else N()},S=()=>{y({type:"student",firstName:"",lastName:"",matricule:"",classe:"",cniNumber:"",position:"",email:"",phone:"",syncStatus:"pending",lastModified:(new Date).toISOString(),version:1}),E({}),m(null)},_=t.filter(e=>"all"===l||e.type===l),z=t.filter(e=>"student"===e.type).length,D=t.filter(e=>"staff"===e.type).length;return(0,r.jsxs)("div",{className:"borrowers-overlay",children:[(0,r.jsxs)("div",{className:"borrowers-modal",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsxs)("div",{className:"header-content",children:[(0,r.jsx)("div",{className:"header-icon",children:(0,r.jsx)(g,{size:28})}),(0,r.jsxs)("div",{className:"header-text",children:[(0,r.jsx)("h2",{className:"modal-title",children:"Gestion des Emprunteurs"}),(0,r.jsxs)("p",{className:"modal-subtitle",children:[t.length," emprunteur(s) • ",z," étudiant(s) • ",D," personnel(s)"]})]})]}),(0,r.jsx)("button",{className:"close-button",onClick:e,children:(0,r.jsx)(u,{size:20})})]}),(0,r.jsxs)("div",{className:"stats-section",children:[(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("div",{className:"stat-icon student",children:(0,r.jsx)(j,{size:20})}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("span",{className:"stat-value",children:z}),(0,r.jsx)("span",{className:"stat-label",children:"Étudiants"})]})]}),(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("div",{className:"stat-icon staff",children:(0,r.jsx)(k,{size:20})}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("span",{className:"stat-value",children:D}),(0,r.jsx)("span",{className:"stat-label",children:"Personnel"})]})]}),(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("div",{className:"stat-icon total",children:(0,r.jsx)(g,{size:20})}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("span",{className:"stat-value",children:t.length}),(0,r.jsx)("span",{className:"stat-label",children:"Total"})]})]})]}),(0,r.jsxs)("div",{className:"controls-section",children:[(0,r.jsx)("div",{className:"search-container",children:(0,r.jsxs)("div",{className:"search-input-wrapper",children:[(0,r.jsx)(F,{className:"search-icon",size:20}),(0,r.jsx)("input",{type:"text",placeholder:"Rechercher par nom, prénom, matricule...",value:s,onChange:e=>C(e.target.value),className:"search-input"}),s&&(0,r.jsx)("button",{className:"clear-search",onClick:()=>C(""),children:(0,r.jsx)(u,{size:16})})]})}),(0,r.jsxs)("div",{className:"controls-right",children:[(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)(q,{size:16}),(0,r.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"filter-select",children:[(0,r.jsx)("option",{value:"all",children:"Tous"}),(0,r.jsx)("option",{value:"student",children:"Étudiants"}),(0,r.jsx)("option",{value:"staff",children:"Personnel"})]})]}),(0,r.jsxs)("button",{className:"btn-primary",onClick:()=>{S(),p(!0)},children:[(0,r.jsx)(f,{size:18}),"Ajouter"]})]})]}),(0,r.jsx)("div",{className:"borrowers-content",children:_.length>0?(0,r.jsx)("div",{className:"borrowers-grid",children:_.map(e=>(0,r.jsxs)("div",{className:`borrower-card ${e.type}`,children:[(0,r.jsxs)("div",{className:"card-header",children:[(0,r.jsxs)("div",{className:"borrower-type",children:["student"===e.type?(0,r.jsx)(j,{size:20}):(0,r.jsx)(k,{size:20}),(0,r.jsx)("span",{children:"student"===e.type?"Étudiant":"Personnel"})]}),(0,r.jsxs)("div",{className:"card-actions",children:[(0,r.jsx)("button",{className:"action-btn view",onClick:()=>{},title:"Voir détails",children:(0,r.jsx)(A,{size:16})}),(0,r.jsx)("button",{className:"action-btn edit",onClick:()=>{return y({type:(n=e).type,firstName:n.firstName,lastName:n.lastName,matricule:n.matricule,classe:n.classe||"",cniNumber:n.cniNumber||"",position:n.position||"",email:n.email||"",phone:n.phone||"",syncStatus:n.syncStatus,lastModified:(new Date).toISOString(),version:(n.version||1)+1}),E({}),m(n),void p(!0);var n},title:"Modifier",children:(0,r.jsx)(G,{size:16})}),(0,r.jsx)("button",{className:"action-btn delete",onClick:()=>(async e=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer ${e.firstName} ${e.lastName} ?`))try{await window.electronAPI.deleteBorrower(e.id),await N(),n&&await n()}catch(e){alert(e.message||"Erreur lors de la suppression")}})(e),title:"Supprimer",children:(0,r.jsx)(Y,{size:16})})]})]}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsxs)("h3",{className:"borrower-name",children:[e.firstName," ",e.lastName]}),(0,r.jsxs)("div",{className:"borrower-details",children:[(0,r.jsxs)("div",{className:"detail-item",children:[(0,r.jsx)(ue,{size:14}),(0,r.jsx)("span",{children:e.matricule})]}),"student"===e.type&&e.classe&&(0,r.jsxs)("div",{className:"detail-item",children:[(0,r.jsx)(pe,{size:14}),(0,r.jsx)("span",{children:e.classe})]}),"staff"===e.type&&e.position&&(0,r.jsxs)("div",{className:"detail-item",children:[(0,r.jsx)(he,{size:14}),(0,r.jsx)("span",{children:e.position})]}),e.email&&(0,r.jsxs)("div",{className:"detail-item",children:[(0,r.jsx)(me,{size:14}),(0,r.jsx)("span",{children:e.email})]})]})]})]},e.id))}):(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsx)(g,{size:64}),(0,r.jsx)("h3",{children:"Aucun emprunteur trouvé"}),(0,r.jsx)("p",{children:s||"all"!==l?"Aucun résultat pour les critères sélectionnés":"Commencez par ajouter des emprunteurs"})]})}),d&&(0,r.jsx)("div",{className:"add-modal-overlay",onClick:()=>p(!1),children:(0,r.jsxs)("div",{className:"add-modal",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"add-modal-header",children:[(0,r.jsxs)("h3",{children:[h?"Modifier":"Ajouter"," un emprunteur"]}),(0,r.jsx)("button",{className:"modal-close",onClick:()=>p(!1),children:(0,r.jsx)(u,{size:20})})]}),(0,r.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return v.firstName.trim()||(e.firstName="Le prénom est requis"),v.lastName.trim()||(e.lastName="Le nom est requis"),v.matricule.trim()||(e.matricule="Le matricule est requis"),v.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.email)&&(e.email="Format email invalide"),v.phone&&!/^[\d\s\+\-\(\)]{6,}$/.test(v.phone)&&(e.phone="Format téléphone invalide"),E(e),0===Object.keys(e).length})()){b(!0);try{h?await window.electronAPI.updateBorrower({...v,id:h.id}):await window.electronAPI.addBorrower(v),p(!1),S(),await N(),n&&await n()}catch(e){console.error("Erreur:",e),e.message&&e.message.includes("matricule")?E({matricule:"Un emprunteur avec ce matricule existe déjà"}):alert(e.message||"Erreur lors de l'opération")}finally{b(!1)}}},className:"add-form",children:[(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("label",{className:"form-label",children:"Type d'emprunteur *"}),(0,r.jsxs)("div",{className:"type-selector",children:[(0,r.jsxs)("button",{type:"button",className:"type-button "+("student"===v.type?"active":""),onClick:()=>y(e=>({...e,type:"student"})),children:[(0,r.jsx)(j,{size:20}),"Étudiant"]}),(0,r.jsxs)("button",{type:"button",className:"type-button "+("staff"===v.type?"active":""),onClick:()=>y(e=>({...e,type:"staff"})),children:[(0,r.jsx)(k,{size:20}),"Personnel"]})]})]}),(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Prénom *"}),(0,r.jsx)("input",{type:"text",value:v.firstName,onChange:e=>{y(n=>({...n,firstName:e.target.value})),w.firstName&&E(e=>({...e,firstName:""}))},className:"form-input "+(w.firstName?"error":""),required:!0}),w.firstName&&(0,r.jsx)("span",{className:"error-text",children:w.firstName})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Nom *"}),(0,r.jsx)("input",{type:"text",value:v.lastName,onChange:e=>{y(n=>({...n,lastName:e.target.value})),w.lastName&&E(e=>({...e,lastName:""}))},className:"form-input "+(w.lastName?"error":""),required:!0}),w.lastName&&(0,r.jsx)("span",{className:"error-text",children:w.lastName})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Matricule *"}),(0,r.jsx)("input",{type:"text",value:v.matricule,onChange:e=>{y(n=>({...n,matricule:e.target.value})),w.matricule&&E(e=>({...e,matricule:""}))},className:"form-input "+(w.matricule?"error":""),required:!0}),w.matricule&&(0,r.jsx)("span",{className:"error-text",children:w.matricule})]}),"student"===v.type?(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Classe"}),(0,r.jsx)("input",{type:"text",value:v.classe,onChange:e=>y(n=>({...n,classe:e.target.value})),className:"form-input",placeholder:"ex: Terminale C"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"N° CNI"}),(0,r.jsx)("input",{type:"text",value:v.cniNumber,onChange:e=>y(n=>({...n,cniNumber:e.target.value})),className:"form-input"})]}),(0,r.jsxs)("div",{className:"form-group span-full",children:[(0,r.jsx)("label",{className:"form-label",children:"Poste"}),(0,r.jsx)("input",{type:"text",value:v.position,onChange:e=>y(n=>({...n,position:e.target.value})),className:"form-input",placeholder:"ex: Professeur de Mathématiques"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Email"}),(0,r.jsx)("input",{type:"email",value:v.email,onChange:e=>{y(n=>({...n,email:e.target.value})),w.email&&E(e=>({...e,email:""}))},className:"form-input "+(w.email?"error":"")}),w.email&&(0,r.jsx)("span",{className:"error-text",children:w.email})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Téléphone"}),(0,r.jsx)("input",{type:"tel",value:v.phone,onChange:e=>{y(n=>({...n,phone:e.target.value})),w.phone&&E(e=>({...e,phone:""}))},className:"form-input "+(w.phone?"error":"")}),w.phone&&(0,r.jsx)("span",{className:"error-text",children:w.phone})]})]}),(0,r.jsxs)("div",{className:"form-actions",children:[(0,r.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>p(!1),disabled:x,children:"Annuler"}),(0,r.jsxs)("button",{type:"submit",className:"btn-primary",disabled:x,children:[(0,r.jsx)(se,{size:16}),x?"Enregistrement...":h?"Modifier":"Ajouter"]})]})]})]})})]}),(0,r.jsx)("style",{children:"\n        .borrowers-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.7);\n          backdrop-filter: blur(8px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 20px;\n        }\n        \n        .borrowers-modal {\n          background: #FFFFFF;\n          border-radius: 24px;\n          width: 100%;\n          max-width: 1200px;\n          max-height: 90vh;\n          overflow: hidden;\n          display: flex;\n          flex-direction: column;\n          box-shadow: \n            0 24px 48px rgba(62, 92, 73, 0.2),\n            0 8px 24px rgba(62, 92, 73, 0.12);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n        \n        .modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 32px;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n        }\n        \n        .header-content {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n        }\n        \n        .header-icon {\n          width: 56px;\n          height: 56px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .modal-title {\n          font-size: 24px;\n          font-weight: 800;\n          margin: 0 0 4px 0;\n        }\n        \n        .modal-subtitle {\n          font-size: 14px;\n          opacity: 0.9;\n          margin: 0;\n        }\n        \n        .close-button {\n          background: rgba(243, 238, 217, 0.15);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n        \n        .close-button:hover {\n          background: rgba(243, 238, 217, 0.25);\n        }\n        \n        .stats-section {\n          display: flex;\n          gap: 20px;\n          padding: 24px 32px;\n          background: #F3EED9;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .stat-card {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          background: #FFFFFF;\n          padding: 16px 20px;\n          border-radius: 12px;\n          box-shadow: 0 2px 8px rgba(62, 92, 73, 0.08);\n          flex: 1;\n        }\n        \n        .stat-icon {\n          width: 40px;\n          height: 40px;\n          border-radius: 10px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #FFFFFF;\n        }\n        \n        .stat-icon.student {\n          background: #3E5C49;\n        }\n        \n        .stat-icon.staff {\n          background: #C2571B;\n        }\n        \n        .stat-icon.total {\n          background: #6E6E6E;\n        }\n        \n        .stat-value {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          display: block;\n        }\n        \n        .stat-label {\n          font-size: 12px;\n          color: #6E6E6E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .controls-section {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 24px 32px;\n          border-bottom: 1px solid #E5DCC2;\n          background: #FFFFFF;\n        }\n        \n        .search-container {\n          flex: 1;\n          max-width: 400px;\n        }\n        \n        .search-input-wrapper {\n          position: relative;\n          display: flex;\n          align-items: center;\n        }\n        \n        .search-icon {\n          position: absolute;\n          left: 16px;\n          color: #6E6E6E;\n          z-index: 2;\n        }\n        \n        .search-input {\n          width: 100%;\n          height: 48px;\n          padding: 0 48px 0 48px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          font-size: 16px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n        }\n        \n        .search-input:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n        \n        .clear-search {\n          position: absolute;\n          right: 16px;\n          background: none;\n          border: none;\n          cursor: pointer;\n          color: #6E6E6E;\n          padding: 4px;\n          border-radius: 4px;\n          transition: all 0.2s ease;\n        }\n        \n        .clear-search:hover {\n          color: #2E2E2E;\n          background: #F3EED9;\n        }\n        \n        .controls-right {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n        }\n        \n        .filter-group {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          color: #6E6E6E;\n        }\n        \n        .filter-select {\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          padding: 8px 12px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          font-size: 14px;\n          cursor: pointer;\n        }\n        \n        .filter-select:focus {\n          outline: none;\n          border-color: #3E5C49;\n        }\n        \n        .btn-primary {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 20px;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n          border: none;\n          border-radius: 12px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n        \n        .btn-primary:hover {\n          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);\n          transform: translateY(-1px);\n        }\n        \n        .borrowers-content {\n          flex: 1;\n          overflow-y: auto;\n          padding: 32px;\n        }\n        \n        .borrowers-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n          gap: 20px;\n        }\n        \n        .borrower-card {\n          background: #FFFFFF;\n          border-radius: 16px;\n          border: 1px solid #E5DCC2;\n          overflow: hidden;\n          transition: all 0.3s ease;\n          position: relative;\n        }\n        \n        .borrower-card::before {\n          content: '';\n          position: absolute;\n          left: 0;\n          top: 0;\n          bottom: 0;\n          width: 4px;\n          background: #3E5C49;\n        }\n        \n        .borrower-card.staff::before {\n          background: #C2571B;\n        }\n        \n        .borrower-card:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 12px 32px rgba(62, 92, 73, 0.15);\n        }\n        \n        .card-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 16px 20px;\n          background: #F3EED9;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .borrower-type {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 12px;\n          font-weight: 600;\n          color: #6E6E6E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .card-actions {\n          display: flex;\n          gap: 4px;\n        }\n        \n        .action-btn {\n          width: 32px;\n          height: 32px;\n          border: none;\n          border-radius: 8px;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s ease;\n        }\n        \n        .action-btn.view {\n          background: #F3EED9;\n          color: #6E6E6E;\n        }\n        \n        .action-btn.view:hover {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .action-btn.edit {\n          background: rgba(62, 92, 73, 0.1);\n          color: #3E5C49;\n        }\n        \n        .action-btn.edit:hover {\n          background: #3E5C49;\n          color: #F3EED9;\n        }\n        \n        .action-btn.delete {\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n        }\n        \n        .action-btn.delete:hover {\n          background: #C2571B;\n          color: #F3EED9;\n        }\n        \n        .card-content {\n          padding: 20px;\n        }\n        \n        .borrower-name {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n        }\n        \n        .borrower-details {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        \n        .detail-item {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 14px;\n          color: #6E6E6E;\n        }\n        \n        .empty-state {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          padding: 80px 32px;\n          text-align: center;\n          color: #6E6E6E;\n        }\n        \n        .empty-state h3 {\n          font-size: 20px;\n          font-weight: 700;\n          margin: 16px 0 8px 0;\n          color: #2E2E2E;\n        }\n        \n        .empty-state p {\n          margin: 0;\n          font-size: 14px;\n        }\n        \n        /* Add Modal */\n        .add-modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.8);\n          backdrop-filter: blur(4px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1100;\n          padding: 20px;\n        }\n        \n        .add-modal {\n          background: #FFFFFF;\n          border-radius: 20px;\n          width: 100%;\n          max-width: 600px;\n          max-height: 90vh;\n          overflow-y: auto;\n          box-shadow: 0 20px 40px rgba(62, 92, 73, 0.2);\n        }\n        \n        .add-modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 24px 32px;\n          border-bottom: 1px solid #E5DCC2;\n          background: #F3EED9;\n        }\n        \n        .add-modal-header h3 {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0;\n        }\n        \n        .modal-close {\n          background: rgba(110, 110, 110, 0.1);\n          border: none;\n          cursor: pointer;\n          padding: 8px;\n          border-radius: 8px;\n          color: #6E6E6E;\n          transition: all 0.2s ease;\n        }\n        \n        .modal-close:hover {\n          background: rgba(110, 110, 110, 0.2);\n          color: #2E2E2E;\n        }\n        \n        .add-form {\n          padding: 32px;\n        }\n        \n        .form-section {\n          margin-bottom: 24px;\n        }\n        \n        .form-label {\n          display: block;\n          font-size: 14px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin-bottom: 8px;\n        }\n        \n        .type-selector {\n          display: flex;\n          gap: 12px;\n        }\n        \n        .type-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 16px 20px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          background: #FFFFFF;\n          color: #6E6E6E;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-size: 14px;\n          font-weight: 500;\n          flex: 1;\n          justify-content: center;\n        }\n        \n        .type-button:hover {\n          border-color: #3E5C49;\n          color: #3E5C49;\n        }\n        \n        .type-button.active {\n          border-color: #3E5C49;\n          background: #3E5C49;\n          color: #F3EED9;\n        }\n        \n        .form-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 20px;\n          margin-bottom: 24px;\n        }\n        \n        .form-group {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        \n        .form-group.span-full {\n          grid-column: 1 / -1;\n        }\n        \n        .form-input {\n          width: 100%;\n          padding: 12px 16px;\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          font-size: 14px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n        }\n        \n        .form-input:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n        \n        .form-input.error {\n          border-color: #C2571B;\n          background: rgba(194, 87, 27, 0.05);\n        }\n        \n        .error-text {\n          font-size: 12px;\n          color: #C2571B;\n          font-weight: 500;\n        }\n        \n        .form-actions {\n          display: flex;\n          gap: 12px;\n          justify-content: flex-end;\n          padding-top: 24px;\n          border-top: 1px solid #E5DCC2;\n        }\n        \n        .btn-secondary {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 20px;\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          font-size: 14px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .btn-secondary:hover:not(:disabled) {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .btn-primary:disabled,\n        .btn-secondary:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n        \n        /* Responsive */\n        @media (max-width: 768px) {\n          .borrowers-modal {\n            margin: 12px;\n            border-radius: 20px;\n          }\n          \n          .modal-header {\n            padding: 20px;\n            flex-direction: column;\n            gap: 16px;\n            text-align: center;\n          }\n          \n          .stats-section {\n            padding: 16px 20px;\n            flex-direction: column;\n            gap: 12px;\n          }\n          \n          .controls-section {\n            padding: 16px 20px;\n            flex-direction: column;\n            gap: 16px;\n            align-items: stretch;\n          }\n          \n          .controls-right {\n            justify-content: space-between;\n          }\n          \n          .borrowers-content {\n            padding: 16px 20px;\n          }\n          \n          .borrowers-grid {\n            grid-template-columns: 1fr;\n            gap: 16px;\n          }\n          \n          .form-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .type-selector {\n            flex-direction: column;\n          }\n          \n          .form-actions {\n            flex-direction: column-reverse;\n          }\n          \n          .btn-primary,\n          .btn-secondary {\n            width: 100%;\n            justify-content: center;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .add-modal {\n            margin: 8px;\n            border-radius: 16px;\n          }\n          \n          .add-modal-header,\n          .add-form {\n            padding: 20px 16px;\n          }\n          \n          .borrower-card {\n            border-radius: 12px;\n          }\n          \n          .card-header,\n          .card-content {\n            padding: 16px;\n          }\n        }\n      "})]})},ge=({onClose:e})=>{const[n,t]=(0,i.useState)([]),[a,s]=(0,i.useState)([]),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)({startDate:"",endDate:"",borrowerType:"all",status:"all"}),[p,h]=(0,i.useState)("");(0,i.useEffect)(()=>{f()},[]),(0,i.useEffect)(()=>{g()},[n,c,p]);const f=async()=>{l(!0);try{const e=await window.electronAPI.getBorrowHistory();t(e)}catch(e){console.error("Erreur lors du chargement de l'historique:",e)}finally{l(!1)}},g=()=>{let e=[...n];if(c.startDate&&(e=e.filter(e=>new Date(e.borrowDate)>=new Date(c.startDate))),c.endDate&&(e=e.filter(e=>new Date(e.borrowDate)<=new Date(c.endDate+" 23:59:59"))),"all"!==c.borrowerType&&(e=e.filter(e=>e.borrower?.type===c.borrowerType)),"all"!==c.status&&(e=e.filter(e=>e.status===c.status)),p.trim()){const n=p.toLowerCase();e=e.filter(e=>e.book?.title.toLowerCase().includes(n)||e.book?.author.toLowerCase().includes(n)||`${e.borrower?.firstName} ${e.borrower?.lastName}`.toLowerCase().includes(n)||e.borrower?.matricule.toLowerCase().includes(n))}s(e)},b=(e,n)=>{d(t=>({...t,[e]:n}))},v=()=>{d({startDate:"",endDate:"",borrowerType:"all",status:"all"}),h("")},y=()=>({total:a.length,active:a.filter(e=>"active"===e.status).length,returned:a.filter(e=>"returned"===e.status).length,overdue:a.filter(e=>"overdue"===e.status).length,students:a.filter(e=>"student"===e.borrower?.type).length,staff:a.filter(e=>"staff"===e.borrower?.type).length}),E=e=>{switch(e){case"active":return(0,r.jsx)(w,{size:16,className:"text-blue-500"});case"returned":return(0,r.jsx)(Z,{size:16,className:"text-green-500"});case"overdue":return(0,r.jsx)(ee,{size:16,className:"text-red-500"});default:return(0,r.jsx)(w,{size:16})}},N=e=>{switch(e){case"active":return"En cours";case"returned":return"Rendu";case"overdue":return"En retard";default:return e}},C=y();return(0,r.jsxs)("div",{className:"history-overlay",children:[(0,r.jsxs)("div",{className:"history-modal",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsxs)("div",{className:"header-content",children:[(0,r.jsx)("div",{className:"header-icon",children:(0,r.jsx)(x,{size:28})}),(0,r.jsxs)("div",{className:"header-text",children:[(0,r.jsx)("h2",{className:"modal-title",children:"Historique des Emprunts"}),(0,r.jsxs)("p",{className:"modal-subtitle",children:[C.total," emprunt(s) • ",C.active," actif(s) • ",C.returned," rendu(s)"]})]})]}),(0,r.jsx)("button",{className:"close-button",onClick:e,children:(0,r.jsx)(u,{size:20})})]}),(0,r.jsxs)("div",{className:"stats-section",children:[(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("div",{className:"stat-icon total",children:(0,r.jsx)(x,{size:20})}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("span",{className:"stat-value",children:C.total}),(0,r.jsx)("span",{className:"stat-label",children:"Total"})]})]}),(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("div",{className:"stat-icon active",children:(0,r.jsx)(w,{size:20})}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("span",{className:"stat-value",children:C.active}),(0,r.jsx)("span",{className:"stat-label",children:"En cours"})]})]}),(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("div",{className:"stat-icon returned",children:(0,r.jsx)(Z,{size:20})}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("span",{className:"stat-value",children:C.returned}),(0,r.jsx)("span",{className:"stat-label",children:"Rendus"})]})]}),(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("div",{className:"stat-icon overdue",children:(0,r.jsx)(ee,{size:20})}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("span",{className:"stat-value",children:C.overdue}),(0,r.jsx)("span",{className:"stat-label",children:"En retard"})]})]})]}),(0,r.jsxs)("div",{className:"filters-section",children:[(0,r.jsxs)("div",{className:"filters-row",children:[(0,r.jsx)("div",{className:"search-container",children:(0,r.jsxs)("div",{className:"search-input-wrapper",children:[(0,r.jsx)(F,{className:"search-icon",size:20}),(0,r.jsx)("input",{type:"text",placeholder:"Rechercher par livre, auteur, emprunteur...",value:p,onChange:e=>h(e.target.value),className:"search-input"}),p&&(0,r.jsx)("button",{className:"clear-search",onClick:()=>h(""),children:(0,r.jsx)(u,{size:16})})]})}),(0,r.jsxs)("div",{className:"filter-controls",children:[(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)(P,{size:16}),(0,r.jsx)("input",{type:"date",value:c.startDate,onChange:e=>b("startDate",e.target.value),className:"date-input",placeholder:"Date début"}),(0,r.jsx)("span",{className:"filter-separator",children:"à"}),(0,r.jsx)("input",{type:"date",value:c.endDate,onChange:e=>b("endDate",e.target.value),className:"date-input",placeholder:"Date fin"})]}),(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)(q,{size:16}),(0,r.jsxs)("select",{value:c.borrowerType,onChange:e=>b("borrowerType",e.target.value),className:"filter-select",children:[(0,r.jsx)("option",{value:"all",children:"Tous les emprunteurs"}),(0,r.jsx)("option",{value:"student",children:"Étudiants"}),(0,r.jsx)("option",{value:"staff",children:"Personnel"})]})]}),(0,r.jsx)("div",{className:"filter-group",children:(0,r.jsxs)("select",{value:c.status,onChange:e=>b("status",e.target.value),className:"filter-select",children:[(0,r.jsx)("option",{value:"all",children:"Tous les statuts"}),(0,r.jsx)("option",{value:"active",children:"En cours"}),(0,r.jsx)("option",{value:"returned",children:"Rendus"}),(0,r.jsx)("option",{value:"overdue",children:"En retard"})]})}),(0,r.jsxs)("button",{className:"reset-filters-btn",onClick:v,children:[(0,r.jsx)(u,{size:16}),"Réinitialiser"]})]})]}),(0,r.jsxs)("div",{className:"actions-row",children:[(0,r.jsxs)("div",{className:"results-info",children:[a.length," résultat(s) affiché(s)"]}),(0,r.jsxs)("div",{className:"export-actions",children:[(0,r.jsxs)("button",{className:"btn-secondary",onClick:async()=>{try{const e={history:a,filters:c,stats:y()},n=await window.electronAPI.exportCSV(e);n&&alert(`Fichier exporté : ${n.split(/[/\\]/).pop()}`)}catch(e){console.error("Erreur lors de l'export:",e)}},children:[(0,r.jsx)(B,{size:16}),"Exporter CSV"]}),(0,r.jsxs)("button",{className:"btn-primary",onClick:async()=>{try{const e={history:a,filters:c,stats:y()};await window.electronAPI.printBorrowHistory(e)}catch(e){console.error("Erreur lors de l'impression:",e)}},children:[(0,r.jsx)(z,{size:16}),"Imprimer"]})]})]})]}),(0,r.jsx)("div",{className:"history-content",children:o?(0,r.jsxs)("div",{className:"loading-state",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("p",{children:"Chargement de l'historique..."})]}):a.length>0?(0,r.jsx)("div",{className:"history-list",children:a.map(e=>(0,r.jsxs)("div",{className:`history-item ${e.status}`,children:[(0,r.jsxs)("div",{className:"item-header",children:[(0,r.jsxs)("div",{className:"status-section",children:[E(e.status),(0,r.jsx)("span",{className:"status-label",children:N(e.status)})]}),(0,r.jsxs)("div",{className:"dates-section",children:[(0,r.jsxs)("span",{className:"borrow-date",children:["Emprunté le ",new Date(e.borrowDate).toLocaleDateString("fr-FR")]}),e.actualReturnDate&&(0,r.jsxs)("span",{className:"return-date",children:["Rendu le ",new Date(e.actualReturnDate).toLocaleDateString("fr-FR")]})]})]}),(0,r.jsxs)("div",{className:"item-content",children:[(0,r.jsxs)("div",{className:"book-section",children:[(0,r.jsx)("div",{className:"book-cover",children:e.book?.coverUrl?(0,r.jsx)("img",{src:e.book.coverUrl,alt:e.book.title}):(0,r.jsx)(m,{size:24})}),(0,r.jsxs)("div",{className:"book-details",children:[(0,r.jsx)("h4",{className:"book-title",children:e.book?.title}),(0,r.jsxs)("p",{className:"book-author",children:["par ",e.book?.author]}),(0,r.jsx)("span",{className:"book-category",children:e.book?.category})]})]}),(0,r.jsxs)("div",{className:"borrower-section",children:[(0,r.jsxs)("div",{className:"borrower-type",children:["student"===e.borrower?.type?(0,r.jsx)(j,{size:16}):(0,r.jsx)(k,{size:16}),(0,r.jsx)("span",{children:"student"===e.borrower?.type?"Étudiant":"Personnel"})]}),(0,r.jsxs)("div",{className:"borrower-info",children:[(0,r.jsxs)("h4",{className:"borrower-name",children:[e.borrower?.firstName," ",e.borrower?.lastName]}),(0,r.jsxs)("p",{className:"borrower-details",children:[e.borrower?.matricule,"student"===e.borrower?.type&&e.borrower.classe&&` • ${e.borrower.classe}`,"staff"===e.borrower?.type&&e.borrower.position&&` • ${e.borrower.position}`]})]})]}),(0,r.jsxs)("div",{className:"timeline-section",children:[(0,r.jsxs)("div",{className:"timeline-item",children:[(0,r.jsx)("div",{className:"timeline-dot borrow"}),(0,r.jsxs)("div",{className:"timeline-content",children:[(0,r.jsx)("div",{className:"timeline-label",children:"Emprunt"}),(0,r.jsxs)("div",{className:"timeline-date",children:[new Date(e.borrowDate).toLocaleDateString("fr-FR")," à"," ",new Date(e.borrowDate).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]})]}),(0,r.jsxs)("div",{className:"timeline-item",children:[(0,r.jsx)("div",{className:"timeline-dot expected"}),(0,r.jsxs)("div",{className:"timeline-content",children:[(0,r.jsx)("div",{className:"timeline-label",children:"Retour prévu"}),(0,r.jsx)("div",{className:"timeline-date",children:new Date(e.expectedReturnDate).toLocaleDateString("fr-FR")})]})]}),e.actualReturnDate&&(0,r.jsxs)("div",{className:"timeline-item",children:[(0,r.jsx)("div",{className:"timeline-dot return"}),(0,r.jsxs)("div",{className:"timeline-content",children:[(0,r.jsx)("div",{className:"timeline-label",children:"Retour effectué"}),(0,r.jsxs)("div",{className:"timeline-date",children:[new Date(e.actualReturnDate).toLocaleDateString("fr-FR")," à"," ",new Date(e.actualReturnDate).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]})]})]})]}),e.notes&&(0,r.jsxs)("div",{className:"item-notes",children:[(0,r.jsx)("strong",{children:"Notes :"})," ",e.notes]})]},e.id))}):(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsx)(x,{size:64}),(0,r.jsx)("h3",{children:"Aucun historique trouvé"}),(0,r.jsx)("p",{children:Object.values(c).some(e=>e&&"all"!==e)||p?"Aucun résultat pour les critères sélectionnés":"L'historique des emprunts apparaîtra ici"}),(Object.values(c).some(e=>e&&"all"!==e)||p)&&(0,r.jsx)("button",{className:"btn-secondary",onClick:v,children:"Effacer les filtres"})]})})]}),(0,r.jsx)("style",{children:"\n        .history-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.7);\n          backdrop-filter: blur(8px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 20px;\n        }\n        \n        .history-modal {\n          background: #FFFFFF;\n          border-radius: 24px;\n          width: 100%;\n          max-width: 1200px;\n          max-height: 90vh;\n          overflow: hidden;\n          display: flex;\n          flex-direction: column;\n          box-shadow: \n            0 24px 48px rgba(62, 92, 73, 0.2),\n            0 8px 24px rgba(62, 92, 73, 0.12);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n        \n        .modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 32px;\n          background: linear-gradient(135deg, #6E6E6E 0%, #5A5A5A 100%);\n          color: #F3EED9;\n        }\n        \n        .header-content {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n        }\n        \n        .header-icon {\n          width: 56px;\n          height: 56px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .modal-title {\n          font-size: 24px;\n          font-weight: 800;\n          margin: 0 0 4px 0;\n        }\n        \n        .modal-subtitle {\n          font-size: 14px;\n          opacity: 0.9;\n          margin: 0;\n        }\n        \n        .close-button {\n          background: rgba(243, 238, 217, 0.15);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n        \n        .close-button:hover {\n          background: rgba(243, 238, 217, 0.25);\n        }\n        \n        .stats-section {\n          display: flex;\n          gap: 20px;\n          padding: 24px 32px;\n          background: #F3EED9;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .stat-card {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          background: #FFFFFF;\n          padding: 16px 20px;\n          border-radius: 12px;\n          box-shadow: 0 2px 8px rgba(62, 92, 73, 0.08);\n          flex: 1;\n        }\n        \n        .stat-icon {\n          width: 40px;\n          height: 40px;\n          border-radius: 10px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #FFFFFF;\n        }\n        \n        .stat-icon.total { background: #6E6E6E; }\n        .stat-icon.active { background: #3B82F6; }\n        .stat-icon.returned { background: #3E5C49; }\n        .stat-icon.overdue { background: #DC2626; }\n        \n        .stat-value {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          display: block;\n        }\n        \n        .stat-label {\n          font-size: 12px;\n          color: #6E6E6E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .filters-section {\n          padding: 24px 32px;\n          background: #FFFFFF;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .filters-row {\n          display: flex;\n          align-items: center;\n          gap: 24px;\n          margin-bottom: 16px;\n        }\n        \n        .search-container {\n          flex: 1;\n          max-width: 400px;\n        }\n        \n        .search-input-wrapper {\n          position: relative;\n          display: flex;\n          align-items: center;\n        }\n        \n        .search-icon {\n          position: absolute;\n          left: 16px;\n          color: #6E6E6E;\n          z-index: 2;\n        }\n        \n        .search-input {\n          width: 100%;\n          height: 48px;\n          padding: 0 48px 0 48px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          font-size: 16px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n        }\n        \n        .search-input:focus {\n          outline: none;\n          border-color: #6E6E6E;\n          box-shadow: 0 0 0 3px rgba(110, 110, 110, 0.1);\n        }\n        \n        .clear-search {\n          position: absolute;\n          right: 16px;\n          background: none;\n          border: none;\n          cursor: pointer;\n          color: #6E6E6E;\n          padding: 4px;\n          border-radius: 4px;\n          transition: all 0.2s ease;\n        }\n        \n        .clear-search:hover {\n          color: #2E2E2E;\n          background: #F3EED9;\n        }\n        \n        .filter-controls {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          flex-wrap: wrap;\n        }\n        \n        .filter-group {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          color: #6E6E6E;\n        }\n        \n        .date-input, .filter-select {\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          padding: 8px 12px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          font-size: 14px;\n          cursor: pointer;\n        }\n        \n        .filter-separator {\n          margin: 0 8px;\n          color: #6E6E6E;\n          font-size: 14px;\n        }\n        \n        .reset-filters-btn {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          padding: 8px 12px;\n          background: #F3EED9;\n          border: 1px solid #E5DCC2;\n          border-radius: 8px;\n          color: #6E6E6E;\n          font-size: 12px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .reset-filters-btn:hover {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .actions-row {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n        }\n        \n        .results-info {\n          font-size: 14px;\n          color: #6E6E6E;\n        }\n        \n        .export-actions {\n          display: flex;\n          gap: 12px;\n        }\n        \n        .btn-secondary, .btn-primary {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 8px 16px;\n          border-radius: 8px;\n          font-size: 14px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          border: none;\n        }\n        \n        .btn-secondary {\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 1px solid #E5DCC2;\n        }\n        \n        .btn-secondary:hover {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .btn-primary {\n          background: #6E6E6E;\n          color: #F3EED9;\n        }\n        \n        .btn-primary:hover {\n          background: #5A5A5A;\n        }\n        \n        .history-content {\n          flex: 1;\n          overflow-y: auto;\n          padding: 24px 32px;\n        }\n        \n        .loading-state {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          padding: 80px 32px;\n          text-align: center;\n          color: #6E6E6E;\n        }\n        \n        .loading-spinner {\n          width: 40px;\n          height: 40px;\n          border: 3px solid #E5DCC2;\n          border-top: 3px solid #6E6E6E;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin-bottom: 16px;\n        }\n        \n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        .history-list {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n        \n        .history-item {\n          background: #FFFFFF;\n          border: 1px solid #E5DCC2;\n          border-radius: 16px;\n          overflow: hidden;\n          transition: all 0.3s ease;\n          position: relative;\n        }\n        \n        .history-item::before {\n          content: '';\n          position: absolute;\n          left: 0;\n          top: 0;\n          bottom: 0;\n          width: 4px;\n          background: #6E6E6E;\n        }\n        \n        .history-item.active::before { background: #3B82F6; }\n        .history-item.returned::before { background: #3E5C49; }\n        .history-item.overdue::before { background: #DC2626; }\n        \n        .history-item:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.12);\n        }\n        \n        .item-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 16px 20px;\n          background: #F9FAFB;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .status-section {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n        \n        .status-label {\n          font-size: 12px;\n          font-weight: 600;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .dates-section {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-end;\n          gap: 4px;\n        }\n        \n        .borrow-date, .return-date {\n          font-size: 12px;\n          color: #6E6E6E;\n        }\n        \n        .return-date {\n          font-weight: 600;\n          color: #3E5C49;\n        }\n        \n        .item-content {\n          display: grid;\n          grid-template-columns: 2fr 1.5fr 1fr;\n          gap: 24px;\n          padding: 20px;\n        }\n        \n        .book-section {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n        }\n        \n        .book-cover {\n          width: 48px;\n          height: 64px;\n          background: linear-gradient(135deg, #F3EED9 0%, #E5DCC2 100%);\n          border-radius: 8px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #6E6E6E;\n          flex-shrink: 0;\n          overflow: hidden;\n        }\n        \n        .book-cover img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n        \n        .book-title {\n          font-size: 16px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 4px 0;\n          line-height: 1.3;\n        }\n        \n        .book-author {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0 0 8px 0;\n        }\n        \n        .book-category {\n          background: #6E6E6E;\n          color: #F3EED9;\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 600;\n        }\n        \n        .borrower-section {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .borrower-type {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          font-size: 11px;\n          font-weight: 600;\n          color: #6E6E6E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .borrower-name {\n          font-size: 16px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 4px 0;\n        }\n        \n        .borrower-details {\n          font-size: 13px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .timeline-section {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .timeline-item {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n        }\n        \n        .timeline-dot {\n          width: 12px;\n          height: 12px;\n          border-radius: 50%;\n          flex-shrink: 0;\n        }\n        \n        .timeline-dot.borrow { background: #3B82F6; }\n        .timeline-dot.expected { background: #F59E0B; }\n        .timeline-dot.return { background: #3E5C49; }\n        \n        .timeline-label {\n          font-size: 11px;\n          font-weight: 600;\n          color: #6E6E6E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .timeline-date {\n          font-size: 12px;\n          color: #2E2E2E;\n          margin-top: 2px;\n        }\n        \n        .item-notes {\n          padding: 16px 20px;\n          background: #FEF7F0;\n          border-top: 1px solid #E5DCC2;\n          font-size: 13px;\n          color: #6E6E6E;\n        }\n        \n        .empty-state {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          padding: 80px 32px;\n          text-align: center;\n          color: #6E6E6E;\n        }\n        \n        .empty-state h3 {\n          font-size: 20px;\n          font-weight: 700;\n          margin: 16px 0 8px 0;\n          color: #2E2E2E;\n        }\n        \n        .empty-state p {\n          margin: 0 0 24px 0;\n          font-size: 14px;\n        }\n        \n        .text-blue-500 { color: #3B82F6; }\n        .text-green-500 { color: #3E5C49; }\n        .text-red-500 { color: #DC2626; }\n        \n        /* Responsive */\n        @media (max-width: 1024px) {\n          .item-content {\n            grid-template-columns: 1fr;\n            gap: 20px;\n          }\n          \n          .filters-row {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 16px;\n          }\n          \n          .filter-controls {\n            justify-content: space-between;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .history-modal {\n            margin: 12px;\n            border-radius: 20px;\n          }\n          \n          .modal-header {\n            padding: 20px;\n            flex-direction: column;\n            gap: 16px;\n            text-align: center;\n          }\n          \n          .stats-section {\n            padding: 16px 20px;\n            flex-wrap: wrap;\n            gap: 12px;\n          }\n          \n          .stat-card {\n            flex: 1;\n            min-width: calc(50% - 6px);\n          }\n          \n          .filters-section {\n            padding: 16px 20px;\n          }\n          \n          .history-content {\n            padding: 16px 20px;\n          }\n          \n          .book-section {\n            flex-direction: column;\n            text-align: center;\n          }\n          \n          .timeline-section {\n            align-items: center;\n          }\n        }\n      "})]})},xe=o("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),be=o("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),ve=o("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ye=o("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),we=o("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),je=o("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ke=o("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ee=o("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Ne=o("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Ce=o("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),Se=o("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),_e=o("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Fe=({onClose:e,onLogout:n})=>{const[t,a]=(0,i.useState)("institution"),[s,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(null),[d,p]=(0,i.useState)({name:"Lycée Moderne de Douala",address:"Avenue de la Liberté",city:"Douala",country:"Cameroun",phone:"+237 233 42 15 67",email:"contact@lyceemoderne.cm",website:"www.lyceemoderne.cm",logo:"",description:"Établissement d'enseignement secondaire général et technique"}),[h,m]=(0,i.useState)({autoBackup:!0,backupFrequency:"weekly",lastBackup:(new Date).toISOString(),cloudSync:!1,cloudProvider:"google"}),[f,g]=(0,i.useState)({requireAuth:!0,sessionTimeout:60,passwordPolicy:{minLength:6,requireNumbers:!0,requireSymbols:!1}}),[x,b]=(0,i.useState)(!1);(0,i.useEffect)(()=>{v()},[]);const v=async()=>{try{const e=await window.electronAPI.getSettings();e&&(p(e.institution||d),m(e.backup||h),g(e.security||f))}catch(e){console.error("Error loading settings:",e)}},y=(e,n)=>{c({type:e,text:n}),setTimeout(()=>c(null),5e3)},w=[{id:"institution",label:"Établissement",icon:he},{id:"backup",label:"Sauvegardes",icon:xe},{id:"security",label:"Sécurité",icon:be},{id:"about",label:"À propos",icon:ve}];return(0,r.jsxs)("div",{className:"settings-overlay",children:[(0,r.jsxs)("div",{className:"settings-modal",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsxs)("div",{className:"header-content",children:[(0,r.jsx)("div",{className:"header-icon",children:(0,r.jsx)(ve,{size:28})}),(0,r.jsxs)("div",{className:"header-text",children:[(0,r.jsx)("h2",{className:"modal-title",children:"Paramètres"}),(0,r.jsx)("p",{className:"modal-subtitle",children:"Configuration de l'application"})]})]}),(0,r.jsx)("button",{className:"close-button",onClick:e,children:(0,r.jsx)(u,{size:20})})]}),l&&(0,r.jsxs)("div",{className:`message ${l.type}`,children:["success"===l.type?(0,r.jsx)(Z,{size:20}):(0,r.jsx)(L,{size:20}),(0,r.jsx)("span",{children:l.text})]}),(0,r.jsxs)("div",{className:"settings-content",children:[(0,r.jsxs)("div",{className:"settings-sidebar",children:[(0,r.jsx)("nav",{className:"settings-nav",children:w.map(e=>(0,r.jsxs)("button",{className:"nav-button "+(t===e.id?"active":""),onClick:()=>a(e.id),children:[(0,r.jsx)(e.icon,{size:20}),(0,r.jsx)("span",{children:e.label})]},e.id))}),(0,r.jsx)("div",{className:"logout-section",children:(0,r.jsxs)("button",{className:"logout-button",onClick:()=>b(!0),children:[(0,r.jsx)(ye,{size:18}),"Se déconnecter"]})})]}),(0,r.jsxs)("div",{className:"settings-main",children:["institution"===t&&(0,r.jsxs)("div",{className:"settings-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)(he,{size:24}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:"Informations de l'établissement"}),(0,r.jsx)("p",{children:"Configurez les détails de votre institution"})]})]}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsxs)("div",{className:"logo-section",children:[(0,r.jsx)("div",{className:"logo-preview",children:d.logo?(0,r.jsx)("img",{src:d.logo,alt:"Logo"}):(0,r.jsxs)("div",{className:"logo-placeholder",children:[(0,r.jsx)(we,{size:32}),(0,r.jsx)("span",{children:"Logo"})]})}),(0,r.jsxs)("div",{className:"logo-actions",children:[(0,r.jsxs)("label",{className:"upload-button",children:[(0,r.jsx)(je,{size:16}),"Changer le logo",(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const n=e.target.files?.[0];if(n){const e=new FileReader;e.onload=e=>{p(n=>({...n,logo:e.target?.result}))},e.readAsDataURL(n)}},style:{display:"none"}})]}),d.logo&&(0,r.jsxs)("button",{className:"remove-button",onClick:()=>p(e=>({...e,logo:""})),children:[(0,r.jsx)(Y,{size:16}),"Supprimer"]})]})]}),(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Nom de l'établissement"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(he,{size:18}),(0,r.jsx)("input",{type:"text",value:d.name,onChange:e=>p(n=>({...n,name:e.target.value})),className:"form-input"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Téléphone"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(ke,{size:18}),(0,r.jsx)("input",{type:"tel",value:d.phone,onChange:e=>p(n=>({...n,phone:e.target.value})),className:"form-input"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Email"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(me,{size:18}),(0,r.jsx)("input",{type:"email",value:d.email,onChange:e=>p(n=>({...n,email:e.target.value})),className:"form-input"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Site web"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(Ee,{size:18}),(0,r.jsx)("input",{type:"url",value:d.website,onChange:e=>p(n=>({...n,website:e.target.value})),className:"form-input"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Adresse"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(Ne,{size:18}),(0,r.jsx)("input",{type:"text",value:d.address,onChange:e=>p(n=>({...n,address:e.target.value})),className:"form-input"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Ville"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(Ne,{size:18}),(0,r.jsx)("input",{type:"text",value:d.city,onChange:e=>p(n=>({...n,city:e.target.value})),className:"form-input"})]})]}),(0,r.jsxs)("div",{className:"form-group span-full",children:[(0,r.jsx)("label",{children:"Description"}),(0,r.jsx)("textarea",{value:d.description,onChange:e=>p(n=>({...n,description:e.target.value})),className:"form-textarea",rows:3})]})]})]})]}),"backup"===t&&(0,r.jsxs)("div",{className:"settings-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)(xe,{size:24}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:"Gestion des sauvegardes"}),(0,r.jsx)("p",{children:"Protégez vos données avec des sauvegardes automatiques"})]})]}),(0,r.jsx)("div",{className:"backup-status",children:(0,r.jsxs)("div",{className:"status-card",children:[(0,r.jsx)("div",{className:"status-icon success",children:(0,r.jsx)(Z,{size:24})}),(0,r.jsxs)("div",{className:"status-content",children:[(0,r.jsx)("h4",{children:"Dernière sauvegarde"}),(0,r.jsx)("p",{children:new Date(h.lastBackup).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsxs)("div",{className:"setting-header",children:[(0,r.jsx)("h4",{children:"Sauvegarde automatique"}),(0,r.jsxs)("label",{className:"toggle-switch",children:[(0,r.jsx)("input",{type:"checkbox",checked:h.autoBackup,onChange:e=>m(n=>({...n,autoBackup:e.target.checked}))}),(0,r.jsx)("span",{className:"toggle-slider"})]})]}),(0,r.jsx)("p",{children:"Créer automatiquement des sauvegardes selon la fréquence définie"})]}),h.autoBackup&&(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsx)("h4",{children:"Fréquence"}),(0,r.jsx)("div",{className:"radio-group",children:[{value:"daily",label:"Quotidienne"},{value:"weekly",label:"Hebdomadaire"},{value:"monthly",label:"Mensuelle"}].map(e=>(0,r.jsxs)("label",{className:"radio-option",children:[(0,r.jsx)("input",{type:"radio",name:"frequency",value:e.value,checked:h.backupFrequency===e.value,onChange:e=>m(n=>({...n,backupFrequency:e.target.value}))}),(0,r.jsx)("span",{className:"radio-label",children:e.label})]},e.value))})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsxs)("div",{className:"setting-header",children:[(0,r.jsx)("h4",{children:"Synchronisation cloud"}),(0,r.jsxs)("label",{className:"toggle-switch",children:[(0,r.jsx)("input",{type:"checkbox",checked:h.cloudSync,onChange:e=>m(n=>({...n,cloudSync:e.target.checked}))}),(0,r.jsx)("span",{className:"toggle-slider"})]})]}),(0,r.jsx)("p",{children:"Synchroniser automatiquement vos sauvegardes avec le cloud"})]}),(0,r.jsxs)("div",{className:"backup-actions",children:[(0,r.jsxs)("button",{className:"action-button primary",onClick:async()=>{o(!0);try{await window.electronAPI.createBackup(),m(e=>({...e,lastBackup:(new Date).toISOString()})),y("success","Sauvegarde créée avec succès")}catch(e){y("error","Erreur lors de la sauvegarde")}finally{o(!1)}},disabled:s,children:[(0,r.jsx)(Ce,{size:18}),"Créer une sauvegarde maintenant"]}),(0,r.jsxs)("button",{className:"action-button secondary",onClick:async()=>{if(window.confirm("Êtes-vous sûr de vouloir restaurer une sauvegarde ? Cela remplacera toutes les données actuelles.")){o(!0);try{await window.electronAPI.restoreBackup(),y("success","Données restaurées avec succès")}catch(e){y("error","Erreur lors de la restauration")}finally{o(!1)}}},disabled:s,children:[(0,r.jsx)(B,{size:18}),"Restaurer une sauvegarde"]}),(0,r.jsxs)("button",{className:"action-button danger",onClick:async()=>{if(window.confirm("⚠️ ATTENTION: Cette action supprimera définitivement toutes les données. Êtes-vous absolument sûr ?")&&window.confirm("Dernière confirmation: Voulez-vous vraiment supprimer TOUTES les données ?")){o(!0);try{await window.electronAPI.clearAllData(),y("success","Toutes les données ont été supprimées")}catch(e){y("error","Erreur lors de la suppression")}finally{o(!1)}}},disabled:s,children:[(0,r.jsx)(Y,{size:18}),"Effacer toutes les données"]})]})]})]}),"security"===t&&(0,r.jsxs)("div",{className:"settings-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)(be,{size:24}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:"Paramètres de sécurité"}),(0,r.jsx)("p",{children:"Configurez la sécurité et l'authentification"})]})]}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsxs)("div",{className:"setting-header",children:[(0,r.jsx)("h4",{children:"Authentification requise"}),(0,r.jsxs)("label",{className:"toggle-switch",children:[(0,r.jsx)("input",{type:"checkbox",checked:f.requireAuth,onChange:e=>g(n=>({...n,requireAuth:e.target.checked}))}),(0,r.jsx)("span",{className:"toggle-slider"})]})]}),(0,r.jsx)("p",{children:"Exiger une connexion pour accéder à l'application"})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsx)("h4",{children:"Délai d'expiration de session (minutes)"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(Se,{size:18}),(0,r.jsx)("input",{type:"number",min:"5",max:"480",value:f.sessionTimeout,onChange:e=>g(n=>({...n,sessionTimeout:parseInt(e.target.value)})),className:"form-input"})]})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsx)("h4",{children:"Politique de mot de passe"}),(0,r.jsxs)("div",{className:"sub-setting",children:[(0,r.jsx)("label",{children:"Longueur minimale"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(Se,{size:18}),(0,r.jsx)("input",{type:"number",min:"4",max:"20",value:f.passwordPolicy.minLength,onChange:e=>g(n=>({...n,passwordPolicy:{...n.passwordPolicy,minLength:parseInt(e.target.value)}})),className:"form-input"})]})]}),(0,r.jsxs)("div",{className:"checkbox-group",children:[(0,r.jsxs)("label",{className:"checkbox-option",children:[(0,r.jsx)("input",{type:"checkbox",checked:f.passwordPolicy.requireNumbers,onChange:e=>g(n=>({...n,passwordPolicy:{...n.passwordPolicy,requireNumbers:e.target.checked}}))}),(0,r.jsx)("span",{className:"checkbox-label",children:"Exiger des chiffres"})]}),(0,r.jsxs)("label",{className:"checkbox-option",children:[(0,r.jsx)("input",{type:"checkbox",checked:f.passwordPolicy.requireSymbols,onChange:e=>g(n=>({...n,passwordPolicy:{...n.passwordPolicy,requireSymbols:e.target.checked}}))}),(0,r.jsx)("span",{className:"checkbox-label",children:"Exiger des symboles"})]})]})]})]})]}),"about"===t&&(0,r.jsxs)("div",{className:"settings-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)(ve,{size:24}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:"À propos de l'application"}),(0,r.jsx)("p",{children:"Informations sur la version et les crédits"})]})]}),(0,r.jsxs)("div",{className:"about-content",children:[(0,r.jsxs)("div",{className:"app-info",children:[(0,r.jsx)("div",{className:"app-logo",children:(0,r.jsx)(he,{size:48})}),(0,r.jsx)("h3",{children:"Bibliothèque v2.0.0"}),(0,r.jsx)("p",{children:"Système de gestion moderne pour bibliothèques"})]}),(0,r.jsxs)("div",{className:"info-cards",children:[(0,r.jsxs)("div",{className:"info-card",children:[(0,r.jsx)("h4",{children:"Développé par"}),(0,r.jsx)("p",{children:"Votre équipe de développement"})]}),(0,r.jsxs)("div",{className:"info-card",children:[(0,r.jsx)("h4",{children:"Technologies utilisées"}),(0,r.jsxs)("div",{className:"tech-list",children:[(0,r.jsx)("span",{children:"Electron"}),(0,r.jsx)("span",{children:"React"}),(0,r.jsx)("span",{children:"TypeScript"}),(0,r.jsx)("span",{children:"SQLite"})]})]}),(0,r.jsxs)("div",{className:"info-card",children:[(0,r.jsx)("h4",{children:"Licence"}),(0,r.jsx)("p",{children:"MIT License"})]})]}),(0,r.jsxs)("div",{className:"system-info",children:[(0,r.jsx)("h4",{children:"Informations système"}),(0,r.jsxs)("div",{className:"system-details",children:[(0,r.jsxs)("div",{className:"detail-item",children:[(0,r.jsx)("span",{children:"Version de l'application"}),(0,r.jsx)("span",{children:"2.0.0"})]}),(0,r.jsxs)("div",{className:"detail-item",children:[(0,r.jsx)("span",{children:"Base de données"}),(0,r.jsx)("span",{children:"SQLite v3.39.0"})]}),(0,r.jsxs)("div",{className:"detail-item",children:[(0,r.jsx)("span",{children:"Plateforme"}),(0,r.jsx)("span",{children:"Windows/macOS/Linux"})]})]})]})]})]})]})]}),(0,r.jsxs)("div",{className:"settings-footer",children:[(0,r.jsx)("button",{className:"btn-secondary",onClick:e,disabled:s,children:"Annuler"}),(0,r.jsx)("button",{className:"btn-primary",onClick:async()=>{o(!0);try{await window.electronAPI.saveSettings({institution:d,backup:h,security:f}),y("success","Paramètres sauvegardés avec succès")}catch(e){y("error","Erreur lors de la sauvegarde"),console.error("Error saving settings:",e)}finally{o(!1)}},disabled:s,children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_e,{size:16,className:"spinning"}),"Sauvegarde..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(se,{size:16}),"Sauvegarder"]})})]})]}),x&&(0,r.jsx)("div",{className:"logout-overlay",onClick:()=>b(!1),children:(0,r.jsxs)("div",{className:"logout-modal",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"logout-header",children:[(0,r.jsx)(ye,{size:24}),(0,r.jsx)("h3",{children:"Confirmer la déconnexion"})]}),(0,r.jsx)("p",{children:"Êtes-vous sûr de vouloir vous déconnecter ? Toutes les données non sauvegardées seront perdues."}),(0,r.jsxs)("div",{className:"logout-actions",children:[(0,r.jsx)("button",{className:"btn-secondary",onClick:()=>b(!1),children:"Annuler"}),(0,r.jsxs)("button",{className:"btn-danger",onClick:()=>{b(!1),n()},children:[(0,r.jsx)(ye,{size:16}),"Se déconnecter"]})]})]})}),(0,r.jsx)("style",{children:'\n        .settings-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.7);\n          backdrop-filter: blur(8px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 20px;\n        }\n        \n        .settings-modal {\n          background: #FFFFFF;\n          border-radius: 24px;\n          width: 100%;\n          max-width: 1200px;\n          max-height: 90vh;\n          overflow: hidden;\n          display: flex;\n          flex-direction: column;\n          box-shadow: \n            0 24px 48px rgba(62, 92, 73, 0.2),\n            0 8px 24px rgba(62, 92, 73, 0.12);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n        \n        .modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 32px;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n        }\n        \n        .header-content {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n        }\n        \n        .header-icon {\n          width: 56px;\n          height: 56px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .modal-title {\n          font-size: 24px;\n          font-weight: 800;\n          margin: 0 0 4px 0;\n        }\n        \n        .modal-subtitle {\n          font-size: 14px;\n          opacity: 0.9;\n          margin: 0;\n        }\n        \n        .close-button {\n          background: rgba(243, 238, 217, 0.15);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n        \n        .close-button:hover {\n          background: rgba(243, 238, 217, 0.25);\n        }\n        \n        .message {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 32px;\n          font-size: 14px;\n          font-weight: 600;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .message.success {\n          background: rgba(62, 92, 73, 0.1);\n          color: #3E5C49;\n        }\n        \n        .message.error {\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n        }\n        \n        .settings-content {\n          flex: 1;\n          display: flex;\n          overflow: hidden;\n        }\n        \n        .settings-sidebar {\n          width: 280px;\n          background: #F3EED9;\n          border-right: 1px solid #E5DCC2;\n          padding: 24px 0;\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n        }\n        \n        .settings-nav {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n          padding: 0 24px;\n        }\n        \n        .nav-button {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 20px;\n          border: none;\n          background: transparent;\n          color: #6E6E6E;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-size: 14px;\n          font-weight: 500;\n          text-align: left;\n        }\n        \n        .nav-button:hover {\n          background: rgba(62, 92, 73, 0.08);\n          color: #3E5C49;\n        }\n        \n        .nav-button.active {\n          background: #3E5C49;\n          color: #F3EED9;\n          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.2);\n        }\n        \n        .logout-section {\n          padding: 0 24px;\n          border-top: 1px solid #E5DCC2;\n          padding-top: 24px;\n        }\n        \n        .logout-button {\n          width: 100%;\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 20px;\n          border: none;\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-size: 14px;\n          font-weight: 600;\n        }\n        \n        .logout-button:hover {\n          background: rgba(194, 87, 27, 0.15);\n          color: #A8481A;\n        }\n        \n        .settings-main {\n          flex: 1;\n          overflow-y: auto;\n          padding: 32px;\n        }\n        \n        .settings-section {\n          max-width: 800px;\n        }\n        \n        .section-header {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          margin-bottom: 32px;\n          padding-bottom: 16px;\n          border-bottom: 2px solid #E5DCC2;\n        }\n        \n        .section-header h3 {\n          font-size: 24px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 4px 0;\n        }\n        \n        .section-header p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .form-section {\n          display: flex;\n          flex-direction: column;\n          gap: 24px;\n        }\n        \n        .logo-section {\n          display: flex;\n          align-items: center;\n          gap: 24px;\n          padding: 24px;\n          background: #F3EED9;\n          border-radius: 16px;\n          border: 1px solid #E5DCC2;\n          margin-bottom: 32px;\n        }\n        \n        .logo-preview {\n          width: 120px;\n          height: 120px;\n          border-radius: 16px;\n          overflow: hidden;\n          border: 2px solid #E5DCC2;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background: #FFFFFF;\n        }\n        \n        .logo-preview img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n        \n        .logo-placeholder {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 8px;\n          color: #6E6E6E;\n          text-align: center;\n        }\n        \n        .logo-actions {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .upload-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 16px;\n          background: #3E5C49;\n          color: #F3EED9;\n          border: none;\n          border-radius: 8px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 600;\n          transition: all 0.2s ease;\n        }\n        \n        .upload-button:hover {\n          background: #2E453A;\n        }\n        \n        .remove-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 16px;\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n          border: 1px solid rgba(194, 87, 27, 0.2);\n          border-radius: 8px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 600;\n          transition: all 0.2s ease;\n        }\n        \n        .remove-button:hover {\n          background: rgba(194, 87, 27, 0.15);\n        }\n        \n        .form-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 20px;\n        }\n        \n        .form-group {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        \n        .form-group.span-full {\n          grid-column: 1 / -1;\n        }\n        \n        .form-group label {\n          font-size: 14px;\n          font-weight: 600;\n          color: #2E2E2E;\n        }\n        \n        .input-wrapper {\n          position: relative;\n          display: flex;\n          align-items: center;\n        }\n        \n        .input-wrapper svg {\n          position: absolute;\n          left: 16px;\n          color: #6E6E6E;\n          z-index: 2;\n        }\n        \n        .form-input {\n          width: 100%;\n          padding: 12px 16px 12px 48px;\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          font-size: 14px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n        }\n        \n        .form-input:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n        \n        .form-textarea {\n          width: 100%;\n          padding: 12px 16px;\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          font-size: 14px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n          resize: vertical;\n          min-height: 80px;\n        }\n        \n        .form-textarea:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n        \n        .backup-status {\n          margin-bottom: 32px;\n        }\n        \n        .status-card {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          padding: 20px;\n          background: rgba(62, 92, 73, 0.05);\n          border: 1px solid rgba(62, 92, 73, 0.1);\n          border-radius: 12px;\n        }\n        \n        .status-icon {\n          width: 48px;\n          height: 48px;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .status-icon.success {\n          background: rgba(62, 92, 73, 0.1);\n          color: #3E5C49;\n        }\n        \n        .status-content h4 {\n          font-size: 16px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin: 0 0 4px 0;\n        }\n        \n        .status-content p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .setting-group {\n          padding: 20px;\n          background: #FEFEFE;\n          border: 1px solid #E5DCC2;\n          border-radius: 12px;\n        }\n        \n        .setting-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 8px;\n        }\n        \n        .setting-header h4 {\n          font-size: 16px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin: 0;\n        }\n        \n        .setting-group p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n          line-height: 1.4;\n        }\n        \n        .toggle-switch {\n          position: relative;\n          display: inline-block;\n          width: 44px;\n          height: 24px;\n        }\n        \n        .toggle-switch input {\n          opacity: 0;\n          width: 0;\n          height: 0;\n        }\n        \n        .toggle-slider {\n          position: absolute;\n          cursor: pointer;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: #E5DCC2;\n          transition: 0.3s;\n          border-radius: 24px;\n        }\n        \n        .toggle-slider:before {\n          position: absolute;\n          content: "";\n          height: 20px;\n          width: 20px;\n          left: 2px;\n          bottom: 2px;\n          background: #FFFFFF;\n          transition: 0.3s;\n          border-radius: 50%;\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        input:checked + .toggle-slider {\n          background: #3E5C49;\n        }\n        \n        input:checked + .toggle-slider:before {\n          transform: translateX(20px);\n        }\n        \n        .radio-group {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n          margin-top: 12px;\n        }\n        \n        .radio-option {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          cursor: pointer;\n        }\n        \n        .radio-option input {\n          margin: 0;\n        }\n        \n        .radio-label {\n          font-size: 14px;\n          color: #2E2E2E;\n        }\n        \n        .checkbox-group {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n          margin-top: 12px;\n        }\n        \n        .checkbox-option {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          cursor: pointer;\n        }\n        \n        .checkbox-option input {\n          margin: 0;\n        }\n        \n        .checkbox-label {\n          font-size: 14px;\n          color: #2E2E2E;\n        }\n        \n        .sub-setting {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n          margin-top: 16px;\n        }\n        \n        .sub-setting label {\n          font-size: 13px;\n          font-weight: 500;\n          color: #6E6E6E;\n        }\n        \n        .backup-actions {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n          margin-top: 24px;\n        }\n        \n        .action-button {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 20px;\n          border: none;\n          border-radius: 12px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 600;\n          transition: all 0.2s ease;\n          text-align: left;\n        }\n        \n        .action-button.primary {\n          background: #3E5C49;\n          color: #F3EED9;\n        }\n        \n        .action-button.primary:hover:not(:disabled) {\n          background: #2E453A;\n        }\n        \n        .action-button.secondary {\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 1px solid #E5DCC2;\n        }\n        \n        .action-button.secondary:hover:not(:disabled) {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .action-button.danger {\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n          border: 1px solid rgba(194, 87, 27, 0.2);\n        }\n        \n        .action-button.danger:hover:not(:disabled) {\n          background: rgba(194, 87, 27, 0.15);\n        }\n        \n        .action-button:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n        \n        .about-content {\n          display: flex;\n          flex-direction: column;\n          gap: 32px;\n        }\n        \n        .app-info {\n          text-align: center;\n          padding: 32px;\n          background: #F3EED9;\n          border-radius: 16px;\n          border: 1px solid #E5DCC2;\n        }\n        \n        .app-logo {\n          width: 80px;\n          height: 80px;\n          background: #3E5C49;\n          color: #F3EED9;\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin: 0 auto 20px;\n        }\n        \n        .app-info h3 {\n          font-size: 24px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 8px 0;\n        }\n        \n        .app-info p {\n          font-size: 16px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .info-cards {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n          gap: 20px;\n        }\n        \n        .info-card {\n          padding: 20px;\n          background: #FFFFFF;\n          border: 1px solid #E5DCC2;\n          border-radius: 12px;\n        }\n        \n        .info-card h4 {\n          font-size: 16px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin: 0 0 12px 0;\n        }\n        \n        .info-card p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .tech-list {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 8px;\n        }\n        \n        .tech-list span {\n          background: #3E5C49;\n          color: #F3EED9;\n          padding: 4px 12px;\n          border-radius: 16px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n        \n        .system-info {\n          padding: 24px;\n          background: #FEFEFE;\n          border: 1px solid #E5DCC2;\n          border-radius: 12px;\n        }\n        \n        .system-info h4 {\n          font-size: 18px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n        }\n        \n        .system-details {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .detail-item {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 12px 0;\n          border-bottom: 1px solid #F3EED9;\n        }\n        \n        .detail-item:last-child {\n          border-bottom: none;\n        }\n        \n        .detail-item span:first-child {\n          font-size: 14px;\n          color: #6E6E6E;\n        }\n        \n        .detail-item span:last-child {\n          font-size: 14px;\n          font-weight: 600;\n          color: #2E2E2E;\n        }\n        \n        .settings-footer {\n          display: flex;\n          justify-content: flex-end;\n          gap: 16px;\n          padding: 24px 32px;\n          border-top: 1px solid #E5DCC2;\n          background: #FEFEFE;\n        }\n        \n        .btn-secondary, .btn-primary {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 24px;\n          border-radius: 12px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          border: none;\n        }\n        \n        .btn-secondary {\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 2px solid #E5DCC2;\n        }\n        \n        .btn-secondary:hover:not(:disabled) {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .btn-primary {\n          background: #3E5C49;\n          color: #F3EED9;\n        }\n        \n        .btn-primary:hover:not(:disabled) {\n          background: #2E453A;\n        }\n        \n        .btn-secondary:disabled,\n        .btn-primary:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n        \n        .spinning {\n          animation: spin 1s linear infinite;\n        }\n        \n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        /* Logout Modal */\n        .logout-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.8);\n          backdrop-filter: blur(4px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1001;\n          padding: 20px;\n        }\n        \n        .logout-modal {\n          background: #FFFFFF;\n          border-radius: 16px;\n          width: 100%;\n          max-width: 400px;\n          padding: 24px;\n          box-shadow: 0 20px 40px rgba(62, 92, 73, 0.2);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n        \n        .logout-header {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          margin-bottom: 16px;\n          color: #C2571B;\n        }\n        \n        .logout-header h3 {\n          font-size: 18px;\n          font-weight: 700;\n          margin: 0;\n        }\n        \n        .logout-modal p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0 0 24px 0;\n          line-height: 1.5;\n        }\n        \n        .logout-actions {\n          display: flex;\n          gap: 12px;\n          justify-content: flex-end;\n        }\n        \n        .btn-danger {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 20px;\n          background: #C2571B;\n          color: #F3EED9;\n          border: none;\n          border-radius: 8px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .btn-danger:hover {\n          background: #A8481A;\n        }\n        \n        /* Responsive Design */\n        @media (max-width: 1024px) {\n          .settings-content {\n            flex-direction: column;\n          }\n          \n          .settings-sidebar {\n            width: 100%;\n            flex-direction: row;\n            justify-content: space-between;\n            padding: 16px 24px;\n            border-right: none;\n            border-bottom: 1px solid #E5DCC2;\n          }\n          \n          .settings-nav {\n            flex-direction: row;\n            gap: 12px;\n            padding: 0;\n            overflow-x: auto;\n          }\n          \n          .nav-button {\n            white-space: nowrap;\n            min-width: 120px;\n            justify-content: center;\n          }\n          \n          .logout-section {\n            border-top: none;\n            border-left: 1px solid #E5DCC2;\n            padding-top: 0;\n            padding-left: 24px;\n          }\n          \n          .logout-button {\n            width: auto;\n            min-width: 140px;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .settings-modal {\n            margin: 12px;\n            border-radius: 20px;\n            max-height: calc(100vh - 24px);\n          }\n          \n          .modal-header {\n            padding: 20px;\n            flex-direction: column;\n            gap: 16px;\n            text-align: center;\n          }\n          \n          .settings-main {\n            padding: 20px;\n          }\n          \n          .form-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .logo-section {\n            flex-direction: column;\n            text-align: center;\n          }\n          \n          .info-cards {\n            grid-template-columns: 1fr;\n          }\n          \n          .settings-footer {\n            padding: 16px 20px;\n            flex-direction: column-reverse;\n          }\n          \n          .btn-secondary,\n          .btn-primary {\n            width: 100%;\n            justify-content: center;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .settings-sidebar {\n            flex-direction: column;\n            gap: 16px;\n          }\n          \n          .settings-nav {\n            flex-direction: column;\n          }\n          \n          .logout-section {\n            border-left: none;\n            border-top: 1px solid #E5DCC2;\n            padding-left: 0;\n            padding-top: 16px;\n          }\n          \n          .backup-actions {\n            gap: 8px;\n          }\n          \n          .action-button {\n            padding: 12px 16px;\n            font-size: 13px;\n          }\n        }\n      '})]})},ze=o("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),De=o("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),Te=o("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Pe=o("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Ae=o("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),Ie=o("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Re=({onClose:e})=>{const[n,t]=(0,i.useState)(1e3),[a,s]=(0,i.useState)(""),[o,c]=(0,i.useState)("momo"),[d,u]=(0,i.useState)(null),p=[{value:500,label:"500 FCFA",icon:ze,description:"Un café pour le dev"},{value:1e3,label:"1 000 FCFA",icon:b,description:"Petit soutien",popular:!0},{value:2500,label:"2 500 FCFA",icon:De,description:"Généreux donateur"},{value:5e3,label:"5 000 FCFA",icon:J,description:"Super supporter"}],h=[{id:"momo",name:"Mobile Money",icon:Te,networks:[{name:"MTN MoMo",number:"+237 652 761 931",color:"#FFCC00"},{name:"Orange Money",number:"+237 652 761 931",color:"#FF6600"}]},{id:"card",name:"Carte bancaire",icon:Pe,description:"Paiement sécurisé via PayPal ou Stripe",comingSoon:!0}],m=async(e,n)=>{try{await navigator.clipboard.writeText(e),u(n),setTimeout(()=>u(null),2e3)}catch(e){console.error("Erreur lors de la copie:",e)}},f=n||parseInt(a)||0;return(0,r.jsxs)("div",{className:"donation-page",children:[(0,r.jsxs)("div",{className:"hero-section",children:[(0,r.jsx)("div",{className:"hero-background",children:(0,r.jsx)("div",{className:"hero-pattern"})}),(0,r.jsxs)("div",{className:"hero-content",children:[(0,r.jsxs)("button",{className:"back-button",onClick:e,children:[(0,r.jsx)(ae,{size:20}),(0,r.jsx)("span",{children:"Retour"})]}),(0,r.jsxs)("div",{className:"hero-main",children:[(0,r.jsx)("div",{className:"hero-icon",children:(0,r.jsx)(b,{size:48})}),(0,r.jsxs)("div",{className:"hero-text",children:[(0,r.jsx)("h1",{className:"hero-title",children:"Soutenez le projet Bibliothèque"}),(0,r.jsx)("p",{className:"hero-subtitle",children:"Votre contribution aide à maintenir et améliorer ce système de gestion de bibliothèque gratuit"})]})]}),(0,r.jsxs)("div",{className:"impact-stats",children:[(0,r.jsxs)("div",{className:"impact-item",children:[(0,r.jsx)(g,{size:24}),(0,r.jsxs)("div",{className:"impact-content",children:[(0,r.jsx)("span",{className:"impact-number",children:"500+"}),(0,r.jsx)("span",{className:"impact-label",children:"Bibliothèques utilisatrices"})]})]}),(0,r.jsxs)("div",{className:"impact-item",children:[(0,r.jsx)(l,{size:24}),(0,r.jsxs)("div",{className:"impact-content",children:[(0,r.jsx)("span",{className:"impact-number",children:"10K+"}),(0,r.jsx)("span",{className:"impact-label",children:"Livres gérés"})]})]}),(0,r.jsxs)("div",{className:"impact-item",children:[(0,r.jsx)(Ae,{size:24}),(0,r.jsxs)("div",{className:"impact-content",children:[(0,r.jsx)("span",{className:"impact-number",children:"100%"}),(0,r.jsx)("span",{className:"impact-label",children:"Open Source"})]})]})]})]})]}),(0,r.jsxs)("div",{className:"donation-content",children:[(0,r.jsxs)("div",{className:"section",children:[(0,r.jsx)("h2",{className:"section-title",children:"Choisir le montant"}),(0,r.jsx)("p",{className:"section-description",children:"Chaque contribution, même petite, fait une grande différence pour le développement du projet"}),(0,r.jsx)("div",{className:"amounts-grid",children:p.map(e=>(0,r.jsxs)("button",{className:`amount-card ${n===e.value?"selected":""} ${e.popular?"popular":""}`,onClick:()=>{t(e.value),s("")},children:[e.popular&&(0,r.jsxs)("div",{className:"popular-badge",children:[(0,r.jsx)(ie,{size:12}),"Populaire"]}),(0,r.jsx)("div",{className:"amount-icon",children:(0,r.jsx)(e.icon,{size:24})}),(0,r.jsx)("div",{className:"amount-value",children:e.label}),(0,r.jsx)("div",{className:"amount-description",children:e.description})]},e.value))}),(0,r.jsxs)("div",{className:"custom-amount",children:[(0,r.jsx)("label",{className:"custom-label",children:"Ou entrez un montant personnalisé"}),(0,r.jsxs)("div",{className:"custom-input-group",children:[(0,r.jsx)("input",{type:"number",value:a,onChange:e=>{s(e.target.value),t(null)},placeholder:"0",className:"custom-input",min:"100"}),(0,r.jsx)("span",{className:"currency",children:"FCFA"})]})]})]}),(0,r.jsxs)("div",{className:"section",children:[(0,r.jsx)("h2",{className:"section-title",children:"Méthode de paiement"}),(0,r.jsx)("p",{className:"section-description",children:"Choisissez votre mode de paiement préféré"}),(0,r.jsx)("div",{className:"payment-methods",children:h.map(e=>(0,r.jsxs)("button",{className:`payment-method ${o===e.id?"selected":""} ${e.comingSoon?"disabled":""}`,onClick:()=>!e.comingSoon&&c(e.id),disabled:e.comingSoon,children:[(0,r.jsx)("div",{className:"payment-icon",children:(0,r.jsx)(e.icon,{size:24})}),(0,r.jsxs)("div",{className:"payment-content",children:[(0,r.jsx)("div",{className:"payment-name",children:e.name}),e.description&&(0,r.jsx)("div",{className:"payment-description",children:e.description}),e.comingSoon&&(0,r.jsx)("div",{className:"coming-soon-badge",children:"Bientôt disponible"})]})]},e.id))})]}),f>0&&"momo"===o&&(0,r.jsxs)("div",{className:"section",children:[(0,r.jsx)("h2",{className:"section-title",children:"Détails de paiement"}),(0,r.jsxs)("p",{className:"section-description",children:["Utilisez les informations ci-dessous pour effectuer votre don de ",f.toLocaleString()," FCFA"]}),(0,r.jsx)("div",{className:"payment-networks",children:h[0].networks?.map((e,n)=>(0,r.jsxs)("div",{className:"network-card",children:[(0,r.jsxs)("div",{className:"network-header",children:[(0,r.jsx)("div",{className:"network-indicator",style:{backgroundColor:e.color}}),(0,r.jsx)("span",{className:"network-name",children:e.name})]}),(0,r.jsxs)("div",{className:"network-details",children:[(0,r.jsxs)("div",{className:"detail-item",children:[(0,r.jsx)("span",{className:"detail-label",children:"Numéro"}),(0,r.jsxs)("div",{className:"detail-value",children:[(0,r.jsx)("span",{className:"phone-number",children:e.number}),(0,r.jsx)("button",{className:"copy-button",onClick:()=>m(e.number.replace(/\s/g,""),`${e.name}-number`),children:d===`${e.name}-number`?(0,r.jsx)(R,{size:16}):(0,r.jsx)(Ie,{size:16})})]})]}),(0,r.jsxs)("div",{className:"detail-item",children:[(0,r.jsx)("span",{className:"detail-label",children:"Nom"}),(0,r.jsxs)("div",{className:"detail-value",children:[(0,r.jsx)("span",{children:"CHEUDJEU TEFOYE CEDRIC BASILIO"}),(0,r.jsx)("button",{className:"copy-button",onClick:()=>m("CHEUDJEU TEFOYE CEDRIC BASILIO",`${e.name}-name`),children:d===`${e.name}-name`?(0,r.jsx)(R,{size:16}):(0,r.jsx)(Ie,{size:16})})]})]}),(0,r.jsxs)("div",{className:"detail-item",children:[(0,r.jsx)("span",{className:"detail-label",children:"Montant"}),(0,r.jsxs)("div",{className:"detail-value amount-highlight",children:[f.toLocaleString()," FCFA"]})]})]})]},n))}),(0,r.jsxs)("div",{className:"payment-note",children:[(0,r.jsx)("div",{className:"note-icon",children:(0,r.jsx)(b,{size:20})}),(0,r.jsxs)("div",{className:"note-content",children:[(0,r.jsx)("h4",{children:"Merci pour votre soutien !"}),(0,r.jsx)("p",{children:"Après votre transfert, n'hésitez pas à me contacter pour confirmer votre don et recevoir un reçu si nécessaire. Votre contribution sera utilisée pour améliorer et maintenir ce projet open source."})]})]})]}),(0,r.jsxs)("div",{className:"section",children:[(0,r.jsx)("h2",{className:"section-title",children:"Pourquoi faire un don ?"}),(0,r.jsxs)("div",{className:"why-donate-grid",children:[(0,r.jsxs)("div",{className:"why-card",children:[(0,r.jsx)("div",{className:"why-icon",children:(0,r.jsx)(Ae,{size:24})}),(0,r.jsx)("h3",{children:"Développement continu"}),(0,r.jsx)("p",{children:"Financer de nouvelles fonctionnalités et l'amélioration du système"})]}),(0,r.jsxs)("div",{className:"why-card",children:[(0,r.jsx)("div",{className:"why-icon",children:(0,r.jsx)(b,{size:24})}),(0,r.jsx)("h3",{children:"Gratuit pour tous"}),(0,r.jsx)("p",{children:"Maintenir le projet accessible gratuitement pour toutes les bibliothèques"})]}),(0,r.jsxs)("div",{className:"why-card",children:[(0,r.jsx)("div",{className:"why-icon",children:(0,r.jsx)(g,{size:24})}),(0,r.jsx)("h3",{children:"Support communautaire"}),(0,r.jsx)("p",{children:"Fournir une assistance technique et des formations aux utilisateurs"})]}),(0,r.jsxs)("div",{className:"why-card",children:[(0,r.jsx)("div",{className:"why-icon",children:(0,r.jsx)(ie,{size:24})}),(0,r.jsx)("h3",{children:"Innovation"}),(0,r.jsx)("p",{children:"Intégrer les dernières technologies pour une meilleure expérience"})]})]})]})]}),(0,r.jsx)("style",{children:"\n        .donation-page {\n          height: 100%;\n          overflow-y: auto;\n          background: #FAF9F6;\n        }\n        \n        .hero-section {\n          position: relative;\n          background: linear-gradient(135deg, #E91E63 0%, #C2185B 100%);\n          color: #F3EED9;\n          padding: 48px 32px;\n          overflow: hidden;\n        }\n        \n        .hero-background {\n          position: absolute;\n          inset: 0;\n          overflow: hidden;\n        }\n        \n        .hero-pattern {\n          position: absolute;\n          inset: 0;\n          background-image: \n            radial-gradient(circle at 25% 25%, rgba(243, 238, 217, 0.1) 0%, transparent 50%),\n            radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);\n          animation: drift 20s ease-in-out infinite;\n        }\n        \n        @keyframes drift {\n          0%, 100% { transform: translate(0, 0) rotate(0deg); }\n          33% { transform: translate(30px, -30px) rotate(1deg); }\n          66% { transform: translate(-20px, 20px) rotate(-1deg); }\n        }\n        \n        .hero-content {\n          position: relative;\n          z-index: 1;\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n        \n        .back-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          background: rgba(243, 238, 217, 0.15);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px 20px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          font-size: 14px;\n          font-weight: 500;\n          margin-bottom: 32px;\n          width: fit-content;\n        }\n        \n        .back-button:hover {\n          background: rgba(243, 238, 217, 0.25);\n          transform: translateX(-4px);\n        }\n        \n        .hero-main {\n          display: flex;\n          align-items: center;\n          gap: 24px;\n          margin-bottom: 40px;\n          text-align: center;\n          flex-direction: column;\n        }\n        \n        .hero-icon {\n          width: 96px;\n          height: 96px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 24px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n          animation: heartbeat 3s ease-in-out infinite;\n        }\n        \n        .hero-title {\n          font-size: 42px;\n          font-weight: 800;\n          margin: 0 0 16px 0;\n          line-height: 1.2;\n          letter-spacing: -0.5px;\n        }\n        \n        .hero-subtitle {\n          font-size: 20px;\n          opacity: 0.9;\n          margin: 0;\n          line-height: 1.5;\n          max-width: 600px;\n        }\n        \n        .impact-stats {\n          display: flex;\n          justify-content: center;\n          gap: 40px;\n          flex-wrap: wrap;\n        }\n        \n        .impact-item {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          background: rgba(243, 238, 217, 0.1);\n          padding: 20px 24px;\n          border-radius: 16px;\n          backdrop-filter: blur(10px);\n          border: 1px solid rgba(243, 238, 217, 0.2);\n        }\n        \n        .impact-number {\n          font-size: 24px;\n          font-weight: 800;\n          color: #F3EED9;\n          display: block;\n          line-height: 1;\n        }\n        \n        .impact-label {\n          font-size: 14px;\n          color: rgba(243, 238, 217, 0.9);\n          margin-top: 4px;\n        }\n        \n        .donation-content {\n          padding: 48px 32px;\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n        \n        .section {\n          margin-bottom: 56px;\n        }\n        \n        .section-title {\n          font-size: 28px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 8px 0;\n          letter-spacing: -0.3px;\n        }\n        \n        .section-description {\n          font-size: 16px;\n          color: #6E6E6E;\n          margin: 0 0 32px 0;\n          line-height: 1.6;\n        }\n        \n        .amounts-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 20px;\n          margin-bottom: 32px;\n        }\n        \n        .amount-card {\n          background: #FFFFFF;\n          border: 2px solid #E5DCC2;\n          border-radius: 20px;\n          padding: 24px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          text-align: center;\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .amount-card:hover {\n          border-color: #E91E63;\n          transform: translateY(-4px);\n          box-shadow: 0 12px 32px rgba(233, 30, 99, 0.15);\n        }\n        \n        .amount-card.selected {\n          border-color: #E91E63;\n          background: rgba(233, 30, 99, 0.05);\n          box-shadow: 0 8px 24px rgba(233, 30, 99, 0.2);\n        }\n        \n        .amount-card.popular {\n          border-color: #E91E63;\n        }\n        \n        .popular-badge {\n          position: absolute;\n          top: -8px;\n          left: 50%;\n          transform: translateX(-50%);\n          background: #E91E63;\n          color: #FFFFFF;\n          padding: 4px 12px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 700;\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .amount-icon {\n          width: 48px;\n          height: 48px;\n          background: rgba(233, 30, 99, 0.1);\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #E91E63;\n          margin: 0 auto 16px;\n        }\n        \n        .amount-value {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin-bottom: 8px;\n        }\n        \n        .amount-description {\n          font-size: 14px;\n          color: #6E6E6E;\n        }\n        \n        .custom-amount {\n          background: #FFFFFF;\n          border: 2px solid #E5DCC2;\n          border-radius: 16px;\n          padding: 24px;\n        }\n        \n        .custom-label {\n          display: block;\n          font-size: 16px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin-bottom: 12px;\n        }\n        \n        .custom-input-group {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n        }\n        \n        .custom-input {\n          flex: 1;\n          padding: 16px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          font-size: 18px;\n          font-weight: 600;\n          text-align: right;\n        }\n        \n        .custom-input:focus {\n          outline: none;\n          border-color: #E91E63;\n        }\n        \n        .currency {\n          font-size: 18px;\n          font-weight: 600;\n          color: #6E6E6E;\n        }\n        \n        .payment-methods {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n        \n        .payment-method {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n          background: #FFFFFF;\n          border: 2px solid #E5DCC2;\n          border-radius: 16px;\n          padding: 20px 24px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          text-align: left;\n        }\n        \n        .payment-method.selected {\n          border-color: #E91E63;\n          background: rgba(233, 30, 99, 0.05);\n        }\n        \n        .payment-method.disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n        \n        .payment-icon {\n          width: 48px;\n          height: 48px;\n          background: rgba(233, 30, 99, 0.1);\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #E91E63;\n        }\n        \n        .payment-content {\n          flex: 1;\n        }\n        \n        .payment-name {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin-bottom: 4px;\n        }\n        \n        .payment-description {\n          font-size: 14px;\n          color: #6E6E6E;\n        }\n        \n        .coming-soon-badge {\n          background: #FFB400;\n          color: #FFFFFF;\n          padding: 2px 8px;\n          border-radius: 8px;\n          font-size: 11px;\n          font-weight: 600;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n          margin-top: 8px;\n          display: inline-block;\n        }\n        \n        .payment-networks {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n          gap: 24px;\n        }\n        \n        .network-card {\n          background: #FFFFFF;\n          border: 2px solid #E5DCC2;\n          border-radius: 20px;\n          padding: 24px;\n          box-shadow: 0 4px 16px rgba(233, 30, 99, 0.1);\n        }\n        \n        .network-header {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          margin-bottom: 20px;\n        }\n        \n        .network-indicator {\n          width: 12px;\n          height: 12px;\n          border-radius: 50%;\n        }\n        \n        .network-name {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n        }\n        \n        .network-details {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n        \n        .detail-item {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n        \n        .detail-label {\n          font-size: 14px;\n          font-weight: 600;\n          color: #6E6E6E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .detail-value {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 16px;\n          font-weight: 600;\n          color: #2E2E2E;\n        }\n        \n        .detail-value.amount-highlight {\n          font-size: 20px;\n          color: #E91E63;\n          font-weight: 800;\n        }\n        \n        .phone-number {\n          font-family: 'Courier New', monospace;\n          background: rgba(233, 30, 99, 0.1);\n          padding: 4px 8px;\n          border-radius: 6px;\n        }\n        \n        .copy-button {\n          background: #F3EED9;\n          border: 1px solid #E5DCC2;\n          color: #6E6E6E;\n          padding: 6px;\n          border-radius: 6px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .copy-button:hover {\n          background: #E91E63;\n          color: #FFFFFF;\n          border-color: #E91E63;\n        }\n        \n        .payment-note {\n          display: flex;\n          gap: 16px;\n          background: rgba(233, 30, 99, 0.05);\n          border: 1px solid rgba(233, 30, 99, 0.2);\n          border-radius: 16px;\n          padding: 24px;\n          margin-top: 32px;\n        }\n        \n        .note-icon {\n          width: 40px;\n          height: 40px;\n          background: #E91E63;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #FFFFFF;\n          flex-shrink: 0;\n        }\n        \n        .note-content h4 {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 8px 0;\n        }\n        \n        .note-content p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n          line-height: 1.6;\n        }\n        \n        .why-donate-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n          gap: 24px;\n        }\n        \n        .why-card {\n          background: #FFFFFF;\n          border: 1px solid #E5DCC2;\n          border-radius: 20px;\n          padding: 28px;\n          text-align: center;\n          transition: all 0.3s ease;\n        }\n        \n        .why-card:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 12px 32px rgba(233, 30, 99, 0.1);\n          border-color: rgba(233, 30, 99, 0.3);\n        }\n        \n        .why-icon {\n          width: 56px;\n          height: 56px;\n          background: rgba(233, 30, 99, 0.1);\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #E91E63;\n          margin: 0 auto 20px;\n        }\n        \n        .why-card h3 {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 12px 0;\n        }\n        \n        .why-card p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n          line-height: 1.6;\n        }\n        \n        /* Responsive Design */\n        @media (max-width: 768px) {\n          .hero-section {\n            padding: 32px 16px;\n          }\n          \n          .hero-title {\n            font-size: 32px;\n          }\n          \n          .hero-subtitle {\n            font-size: 18px;\n          }\n          \n          .impact-stats {\n            flex-direction: column;\n            gap: 16px;\n          }\n          \n          .impact-item {\n            justify-content: center;\n          }\n          \n          .donation-content {\n            padding: 32px 16px;\n          }\n          \n          .amounts-grid {\n            grid-template-columns: 1fr 1fr;\n            gap: 16px;\n          }\n          \n          .payment-networks {\n            grid-template-columns: 1fr;\n          }\n          \n          .why-donate-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .detail-item {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 8px;\n          }\n          \n          .detail-value {\n            justify-content: space-between;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .hero-main {\n            gap: 16px;\n          }\n          \n          .hero-icon {\n            width: 72px;\n            height: 72px;\n          }\n          \n          .hero-title {\n            font-size: 28px;\n          }\n          \n          .amounts-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .amount-card {\n            padding: 20px;\n          }\n          \n          .payment-method {\n            padding: 16px 20px;\n          }\n          \n          .network-card {\n            padding: 20px;\n          }\n          \n          .payment-note {\n            flex-direction: column;\n            gap: 12px;\n            text-align: center;\n          }\n        }\n      "})]})},Le=o("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Be=o("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Oe=o("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Me=({onClose:e})=>{const[n,t]=(0,i.useState)("developer"),a="+237 652 761 931",s="cedrictefoye@gmail.com",o={frontend:["React.js","Vue.js","HTML5/CSS3","JavaScript","TypeScript"],backend:["Node.js","PHP/Laravel","Python","Express.js"],mobile:["React Native","Flutter"],ai:["TensorFlow","PyTorch","Scikit-Learn","Machine Learning","NLP"],design:["Figma","Adobe XD","Photoshop","Illustrator"],database:["MySQL","PostgreSQL","MongoDB","Firebase"],tools:["Git/GitHub","Docker","AWS"]},c=[{icon:l,title:"Gestion complète",description:"Système complet de gestion de bibliothèque avec emprunteurs, livres et historique"},{icon:g,title:"Multi-utilisateurs",description:"Support pour étudiants et personnel avec différents types d'accès"},{icon:C,title:"Interface moderne",description:"Design contemporain avec animations fluides et expérience utilisateur optimisée"},{icon:b,title:"Open Source",description:"Code source libre et gratuit pour toute la communauté éducative"}],d=[{icon:Le,title:"Halkaton 2022",description:"Hackathon de 24 heures"},{icon:Be,title:"MountainHack 2020",description:"Hackathon de 24 heures, Dschang"},{icon:J,title:"Master avec mention",description:"Intelligence Artificielle - 2023"}],u=[{id:"developer",label:"Développeur",icon:Q},{id:"project",label:"Le Projet",icon:l},{id:"technologies",label:"Technologies",icon:Ae}];return(0,r.jsxs)("div",{className:"about-page",children:[(0,r.jsxs)("div",{className:"hero-section",children:[(0,r.jsx)("div",{className:"hero-background",children:(0,r.jsx)("div",{className:"hero-pattern"})}),(0,r.jsxs)("div",{className:"hero-content",children:[(0,r.jsxs)("button",{className:"back-button",onClick:e,children:[(0,r.jsx)(ae,{size:20}),(0,r.jsx)("span",{children:"Retour"})]}),(0,r.jsxs)("div",{className:"hero-main",children:[(0,r.jsx)("div",{className:"hero-icon",children:(0,r.jsx)(v,{size:48})}),(0,r.jsxs)("div",{className:"hero-text",children:[(0,r.jsx)("h1",{className:"hero-title",children:"À propos du projet"}),(0,r.jsx)("p",{className:"hero-subtitle",children:"Découvrez l'histoire, les technologies et l'équipe derrière ce système de gestion de bibliothèque"})]})]}),(0,r.jsxs)("div",{className:"project-stats",children:[(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)(ie,{size:24}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("span",{className:"stat-number",children:"2024"}),(0,r.jsx)("span",{className:"stat-label",children:"Année de création"})]})]}),(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)(Ae,{size:24}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("span",{className:"stat-number",children:"100%"}),(0,r.jsx)("span",{className:"stat-label",children:"TypeScript"})]})]}),(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)(b,{size:24}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("span",{className:"stat-number",children:"MIT"}),(0,r.jsx)("span",{className:"stat-label",children:"Licence libre"})]})]})]})]})]}),(0,r.jsxs)("div",{className:"about-content",children:[(0,r.jsx)("div",{className:"tabs-navigation",children:u.map(e=>(0,r.jsxs)("button",{className:"tab-button "+(n===e.id?"active":""),onClick:()=>t(e.id),children:[(0,r.jsx)(e.icon,{size:20}),(0,r.jsx)("span",{children:e.label})]},e.id))}),"developer"===n&&(0,r.jsxs)("div",{className:"tab-content",children:[(0,r.jsxs)("div",{className:"developer-hero",children:[(0,r.jsx)("div",{className:"developer-avatar",children:(0,r.jsx)("span",{className:"avatar-emoji",children:"👨‍💻"})}),(0,r.jsxs)("div",{className:"developer-info",children:[(0,r.jsx)("h2",{className:"developer-name",children:"CHEUDJEU TEFOYE CÉDRIC BASILIO"}),(0,r.jsx)("p",{className:"developer-title",children:"Expert en Développement Informatique & Intelligence Artificielle"}),(0,r.jsxs)("div",{className:"developer-meta",children:[(0,r.jsxs)("div",{className:"meta-item",children:[(0,r.jsx)(Ne,{size:16}),(0,r.jsx)("span",{children:"Douala, Cameroun"})]}),(0,r.jsxs)("div",{className:"meta-item",children:[(0,r.jsx)(k,{size:16}),(0,r.jsx)("span",{children:"4+ ans d'expérience"})]})]})]})]}),(0,r.jsxs)("div",{className:"content-grid",children:[(0,r.jsxs)("div",{className:"info-card",children:[(0,r.jsx)("h3",{className:"card-title",children:"Contact"}),(0,r.jsxs)("div",{className:"contact-list",children:[(0,r.jsxs)("a",{href:`mailto:${s}`,className:"contact-item",children:[(0,r.jsx)(me,{size:20}),(0,r.jsx)("span",{children:s}),(0,r.jsx)(Oe,{size:16})]}),(0,r.jsxs)("a",{href:`tel:${a}`,className:"contact-item",children:[(0,r.jsx)(ke,{size:20}),(0,r.jsx)("span",{children:a}),(0,r.jsx)(Oe,{size:16})]})]})]}),(0,r.jsxs)("div",{className:"info-card",children:[(0,r.jsx)("h3",{className:"card-title",children:"Poste actuel"}),(0,r.jsxs)("div",{className:"position-info",children:[(0,r.jsx)("div",{className:"position-title",children:"Responsable Cellule Informatique - Faculté de Médecine, Université de Douala"}),(0,r.jsx)("p",{className:"position-description",children:"Administration des systèmes informatiques, développement d'applications de gestion académique et implémentation de solutions d'IA pour l'optimisation des processus."})]})]})]}),(0,r.jsxs)("div",{className:"section",children:[(0,r.jsxs)("h3",{className:"section-title",children:[(0,r.jsx)(j,{size:24}),"Formation"]}),(0,r.jsx)("div",{className:"timeline",children:[{degree:"Master en Intelligence Artificielle",institution:"Université de Dschang, Faculté des Sciences",year:"2022-2023",mention:"Mention obtenue",specialization:"Machine Learning, NLP, Computer Vision"},{degree:"Licence en Informatique Fondamentale",institution:"Université de Dschang, Faculté des Sciences",year:"2020-2021",specialization:"Génie Logiciel et Systèmes d'Information"}].map((e,n)=>(0,r.jsxs)("div",{className:"timeline-item",children:[(0,r.jsx)("div",{className:"timeline-marker"}),(0,r.jsxs)("div",{className:"timeline-content",children:[(0,r.jsx)("h4",{className:"timeline-title",children:e.degree}),(0,r.jsx)("p",{className:"timeline-subtitle",children:e.institution}),(0,r.jsxs)("div",{className:"timeline-meta",children:[(0,r.jsx)("span",{className:"timeline-year",children:e.year}),e.mention&&(0,r.jsx)("span",{className:"timeline-mention",children:e.mention})]}),(0,r.jsx)("p",{className:"timeline-description",children:e.specialization})]})]},n))})]}),(0,r.jsxs)("div",{className:"section",children:[(0,r.jsxs)("h3",{className:"section-title",children:[(0,r.jsx)(k,{size:24}),"Expérience professionnelle"]}),(0,r.jsx)("div",{className:"experience-grid",children:[{title:"Responsable Cellule Informatique",company:"Faculté de Médecine - Université de Douala",period:"Jan. 2024 - Présent",description:"Administration des systèmes, développement d'applications de gestion académique, implémentation de solutions d'IA"},{title:"Co-fondateur",company:"OVERBRAND",period:"Août 2021 - Présent",description:"Direction stratégique et technique, supervision de projets web/mobile"},{title:"Designer - Projet Help to Win",company:"VISIBILITY CAM SARL",period:"Mars 2023 - Présent",description:"Conception UI/UX d'application mobile éducative"}].map((e,n)=>(0,r.jsxs)("div",{className:"experience-card",children:[(0,r.jsxs)("div",{className:"experience-header",children:[(0,r.jsx)("h4",{className:"experience-title",children:e.title}),(0,r.jsx)("span",{className:"experience-period",children:e.period})]}),(0,r.jsx)("p",{className:"experience-company",children:e.company}),(0,r.jsx)("p",{className:"experience-description",children:e.description})]},n))})]}),(0,r.jsxs)("div",{className:"section",children:[(0,r.jsxs)("h3",{className:"section-title",children:[(0,r.jsx)(Be,{size:24}),"Réalisations"]}),(0,r.jsx)("div",{className:"achievements-grid",children:d.map((e,n)=>(0,r.jsxs)("div",{className:"achievement-card",children:[(0,r.jsx)("div",{className:"achievement-icon",children:(0,r.jsx)(e.icon,{size:24})}),(0,r.jsx)("h4",{className:"achievement-title",children:e.title}),(0,r.jsx)("p",{className:"achievement-description",children:e.description})]},n))})]})]}),"project"===n&&(0,r.jsxs)("div",{className:"tab-content",children:[(0,r.jsxs)("div",{className:"project-intro",children:[(0,r.jsx)("h2",{className:"intro-title",children:"Système de Gestion de Bibliothèque"}),(0,r.jsx)("p",{className:"intro-description",children:"Une solution moderne et complète pour la gestion des bibliothèques, développée avec les dernières technologies web. Ce projet vise à simplifier et moderniser la gestion des collections de livres, des emprunteurs et des transactions dans les établissements éducatifs."})]}),(0,r.jsx)("div",{className:"features-grid",children:c.map((e,n)=>(0,r.jsxs)("div",{className:"feature-card",children:[(0,r.jsx)("div",{className:"feature-icon",children:(0,r.jsx)(e.icon,{size:24})}),(0,r.jsx)("h3",{className:"feature-title",children:e.title}),(0,r.jsx)("p",{className:"feature-description",children:e.description})]},n))}),(0,r.jsxs)("div",{className:"project-details",children:[(0,r.jsxs)("div",{className:"detail-card",children:[(0,r.jsx)("h3",{className:"detail-title",children:"Objectifs du projet"}),(0,r.jsxs)("ul",{className:"detail-list",children:[(0,r.jsx)("li",{children:"Moderniser la gestion des bibliothèques scolaires et universitaires"}),(0,r.jsx)("li",{children:"Simplifier les processus d'emprunt et de retour de livres"}),(0,r.jsx)("li",{children:"Fournir des statistiques et analyses en temps réel"}),(0,r.jsx)("li",{children:"Offrir une interface intuitive et accessible"}),(0,r.jsx)("li",{children:"Garantir la gratuité et l'open source pour l'éducation"})]})]}),(0,r.jsxs)("div",{className:"detail-card",children:[(0,r.jsx)("h3",{className:"detail-title",children:"Fonctionnalités principales"}),(0,r.jsxs)("ul",{className:"detail-list",children:[(0,r.jsx)("li",{children:"Gestion complète des livres (ajout, modification, suppression)"}),(0,r.jsx)("li",{children:"Système d'emprunteurs avec différents types (étudiants, personnel)"}),(0,r.jsx)("li",{children:"Processus d'emprunt et de retour simplifiés"}),(0,r.jsx)("li",{children:"Historique détaillé des transactions"}),(0,r.jsx)("li",{children:"Génération de rapports et exports CSV"}),(0,r.jsx)("li",{children:"Interface responsive adaptée à tous les appareils"})]})]})]}),(0,r.jsxs)("div",{className:"project-mission",children:[(0,r.jsx)("div",{className:"mission-icon",children:(0,r.jsx)(b,{size:32})}),(0,r.jsxs)("div",{className:"mission-content",children:[(0,r.jsx)("h3",{className:"mission-title",children:"Notre mission"}),(0,r.jsx)("p",{className:"mission-description",children:"Démocratiser l'accès aux outils de gestion modernes pour les bibliothèques, en particulier dans les établissements éducatifs. Nous croyons que chaque institution, quelle que soit sa taille ou ses ressources, devrait avoir accès à des solutions technologiques de qualité pour améliorer l'expérience de ses utilisateurs."})]})]})]}),"technologies"===n&&(0,r.jsxs)("div",{className:"tab-content",children:[(0,r.jsxs)("div",{className:"tech-intro",children:[(0,r.jsx)("h2",{className:"intro-title",children:"Stack Technologique"}),(0,r.jsx)("p",{className:"intro-description",children:"Ce projet utilise des technologies modernes et éprouvées pour garantir performance, sécurité et maintenabilité. Voici un aperçu des outils et frameworks utilisés."})]}),(0,r.jsxs)("div",{className:"tech-categories",children:[(0,r.jsxs)("div",{className:"tech-category",children:[(0,r.jsx)("h3",{className:"tech-title",children:"Frontend"}),(0,r.jsx)("div",{className:"tech-tags",children:o.frontend.map((e,n)=>(0,r.jsx)("span",{className:"tech-tag frontend",children:e},n))})]}),(0,r.jsxs)("div",{className:"tech-category",children:[(0,r.jsx)("h3",{className:"tech-title",children:"Backend"}),(0,r.jsx)("div",{className:"tech-tags",children:o.backend.map((e,n)=>(0,r.jsx)("span",{className:"tech-tag backend",children:e},n))})]}),(0,r.jsxs)("div",{className:"tech-category",children:[(0,r.jsx)("h3",{className:"tech-title",children:"Mobile"}),(0,r.jsx)("div",{className:"tech-tags",children:o.mobile.map((e,n)=>(0,r.jsx)("span",{className:"tech-tag mobile",children:e},n))})]}),(0,r.jsxs)("div",{className:"tech-category",children:[(0,r.jsx)("h3",{className:"tech-title",children:"Intelligence Artificielle"}),(0,r.jsx)("div",{className:"tech-tags",children:o.ai.map((e,n)=>(0,r.jsx)("span",{className:"tech-tag ai",children:e},n))})]}),(0,r.jsxs)("div",{className:"tech-category",children:[(0,r.jsx)("h3",{className:"tech-title",children:"Design"}),(0,r.jsx)("div",{className:"tech-tags",children:o.design.map((e,n)=>(0,r.jsx)("span",{className:"tech-tag design",children:e},n))})]}),(0,r.jsxs)("div",{className:"tech-category",children:[(0,r.jsx)("h3",{className:"tech-title",children:"Base de données"}),(0,r.jsx)("div",{className:"tech-tags",children:o.database.map((e,n)=>(0,r.jsx)("span",{className:"tech-tag database",children:e},n))})]}),(0,r.jsxs)("div",{className:"tech-category",children:[(0,r.jsx)("h3",{className:"tech-title",children:"Outils & DevOps"}),(0,r.jsx)("div",{className:"tech-tags",children:o.tools.map((e,n)=>(0,r.jsx)("span",{className:"tech-tag tools",children:e},n))})]})]}),(0,r.jsxs)("div",{className:"architecture-info",children:[(0,r.jsx)("h3",{className:"architecture-title",children:"Architecture"}),(0,r.jsxs)("div",{className:"architecture-description",children:[(0,r.jsx)("p",{children:"Le système est construit avec une architecture moderne séparant clairement les couches de présentation, logique métier et données. L'interface utilisateur est développée en React avec TypeScript pour une meilleure maintenabilité."}),(0,r.jsx)("p",{children:"L'application utilise Electron pour offrir une expérience desktop native tout en conservant la flexibilité du web. La base de données SQLite garantit une installation simple et une portabilité maximale."})]})]})]})]}),(0,r.jsx)("style",{children:"\n        .about-page {\n          height: 100%;\n          overflow-y: auto;\n          background: #FAF9F6;\n        }\n        \n        .hero-section {\n          position: relative;\n          background: linear-gradient(135deg, #607D8B 0%, #455A64 100%);\n          color: #F3EED9;\n          padding: 48px 32px;\n          overflow: hidden;\n        }\n        \n        .hero-background {\n          position: absolute;\n          inset: 0;\n          overflow: hidden;\n        }\n        \n        .hero-pattern {\n          position: absolute;\n          inset: 0;\n          background-image: \n            radial-gradient(circle at 25% 25%, rgba(243, 238, 217, 0.1) 0%, transparent 50%),\n            radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);\n          animation: drift 20s ease-in-out infinite;\n        }\n        \n        @keyframes drift {\n          0%, 100% { transform: translate(0, 0) rotate(0deg); }\n          33% { transform: translate(30px, -30px) rotate(1deg); }\n          66% { transform: translate(-20px, 20px) rotate(-1deg); }\n        }\n        \n        .hero-content {\n          position: relative;\n          z-index: 1;\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n        \n        .back-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          background: rgba(243, 238, 217, 0.15);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px 20px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          font-size: 14px;\n          font-weight: 500;\n          margin-bottom: 32px;\n          width: fit-content;\n        }\n        \n        .back-button:hover {\n          background: rgba(243, 238, 217, 0.25);\n          transform: translateX(-4px);\n        }\n        \n        .hero-main {\n          display: flex;\n          align-items: center;\n          gap: 24px;\n          margin-bottom: 40px;\n          text-align: center;\n          flex-direction: column;\n        }\n        \n        .hero-icon {\n          width: 96px;\n          height: 96px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 24px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n        }\n        \n        .hero-title {\n          font-size: 42px;\n          font-weight: 800;\n          margin: 0 0 16px 0;\n          line-height: 1.2;\n          letter-spacing: -0.5px;\n        }\n        \n        .hero-subtitle {\n          font-size: 20px;\n          opacity: 0.9;\n          margin: 0;\n          line-height: 1.5;\n          max-width: 600px;\n        }\n        \n        .project-stats {\n          display: flex;\n          justify-content: center;\n          gap: 40px;\n          flex-wrap: wrap;\n        }\n        \n        .stat-item {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          background: rgba(243, 238, 217, 0.1);\n          padding: 20px 24px;\n          border-radius: 16px;\n          backdrop-filter: blur(10px);\n          border: 1px solid rgba(243, 238, 217, 0.2);\n        }\n        \n        .stat-number {\n          font-size: 24px;\n          font-weight: 800;\n          color: #F3EED9;\n          display: block;\n          line-height: 1;\n        }\n        \n        .stat-label {\n          font-size: 14px;\n          color: rgba(243, 238, 217, 0.9);\n          margin-top: 4px;\n        }\n        \n        .about-content {\n          padding: 0 32px 48px;\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n        \n        .tabs-navigation {\n          display: flex;\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 8px;\n          margin-bottom: 32px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n          position: sticky;\n          top: 20px;\n          z-index: 10;\n        }\n        \n        .tab-button {\n          flex: 1;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n          padding: 16px 20px;\n          border: none;\n          background: transparent;\n          color: #6E6E6E;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          font-size: 14px;\n          font-weight: 600;\n        }\n        \n        .tab-button:hover {\n          background: rgba(96, 125, 139, 0.1);\n          color: #607D8B;\n        }\n        \n        .tab-button.active {\n          background: linear-gradient(135deg, #607D8B 0%, #455A64 100%);\n          color: #F3EED9;\n          box-shadow: 0 4px 12px rgba(96, 125, 139, 0.3);\n        }\n        \n        .tab-content {\n          animation: fadeIn 0.3s ease-out;\n        }\n        \n        @keyframes fadeIn {\n          from { opacity: 0; transform: translateY(20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        \n        .developer-hero {\n          display: flex;\n          align-items: center;\n          gap: 24px;\n          background: #FFFFFF;\n          border-radius: 20px;\n          padding: 32px;\n          margin-bottom: 32px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n        }\n        \n        .developer-avatar {\n          width: 80px;\n          height: 80px;\n          background: linear-gradient(135deg, #607D8B 0%, #455A64 100%);\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 32px;\n          flex-shrink: 0;\n        }\n        \n        .developer-name {\n          font-size: 28px;\n          font-weight: 800;\n          color: #2E2E2E;\n          margin: 0 0 8px 0;\n          letter-spacing: -0.3px;\n        }\n        \n        .developer-title {\n          font-size: 16px;\n          color: #607D8B;\n          margin: 0 0 16px 0;\n          font-weight: 600;\n        }\n        \n        .developer-meta {\n          display: flex;\n          gap: 24px;\n          flex-wrap: wrap;\n        }\n        \n        .meta-item {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          color: #6E6E6E;\n          font-size: 14px;\n        }\n        \n        .content-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 24px;\n          margin-bottom: 48px;\n        }\n        \n        .info-card {\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 24px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n        }\n        \n        .card-title {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 20px 0;\n        }\n        \n        .contact-list {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n        \n        .contact-item {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 12px 16px;\n          background: rgba(96, 125, 139, 0.05);\n          border-radius: 12px;\n          color: #2E2E2E;\n          text-decoration: none;\n          transition: all 0.2s ease;\n        }\n        \n        .contact-item:hover {\n          background: rgba(96, 125, 139, 0.1);\n          transform: translateY(-1px);\n        }\n        \n        .position-title {\n          font-size: 16px;\n          font-weight: 700;\n          color: #607D8B;\n          margin-bottom: 8px;\n        }\n        \n        .position-description {\n          font-size: 14px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          margin: 0;\n        }\n        \n        .section {\n          margin-bottom: 48px;\n        }\n        \n        .section-title {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          font-size: 24px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 24px 0;\n        }\n        \n        .timeline {\n          position: relative;\n          padding-left: 32px;\n        }\n        \n        .timeline::before {\n          content: '';\n          position: absolute;\n          left: 16px;\n          top: 0;\n          bottom: 0;\n          width: 2px;\n          background: linear-gradient(to bottom, #607D8B, #455A64);\n        }\n        \n        .timeline-item {\n          position: relative;\n          margin-bottom: 32px;\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 24px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n        }\n        \n        .timeline-marker {\n          position: absolute;\n          left: -40px;\n          top: 24px;\n          width: 12px;\n          height: 12px;\n          background: #607D8B;\n          border-radius: 50%;\n          border: 3px solid #FFFFFF;\n          box-shadow: 0 0 0 2px #607D8B;\n        }\n        \n        .timeline-title {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 4px 0;\n        }\n        \n        .timeline-subtitle {\n          font-size: 14px;\n          color: #607D8B;\n          margin: 0 0 8px 0;\n          font-weight: 600;\n        }\n        \n        .timeline-meta {\n          display: flex;\n          gap: 16px;\n          margin-bottom: 8px;\n        }\n        \n        .timeline-year {\n          background: rgba(96, 125, 139, 0.1);\n          color: #607D8B;\n          padding: 4px 8px;\n          border-radius: 8px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n        \n        .timeline-mention {\n          background: #4CAF50;\n          color: #FFFFFF;\n          padding: 4px 8px;\n          border-radius: 8px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n        \n        .timeline-description {\n          font-size: 14px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          margin: 0;\n        }\n        \n        .experience-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n          gap: 24px;\n        }\n        \n        .experience-card {\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 24px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n          transition: all 0.3s ease;\n        }\n        \n        .experience-card:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 8px 24px rgba(96, 125, 139, 0.15);\n        }\n        \n        .experience-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          margin-bottom: 8px;\n        }\n        \n        .experience-title {\n          font-size: 16px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0;\n          flex: 1;\n        }\n        \n        .experience-period {\n          background: rgba(96, 125, 139, 0.1);\n          color: #607D8B;\n          padding: 4px 8px;\n          border-radius: 8px;\n          font-size: 11px;\n          font-weight: 600;\n          white-space: nowrap;\n        }\n        \n        .experience-company {\n          font-size: 14px;\n          color: #607D8B;\n          font-weight: 600;\n          margin: 0 0 12px 0;\n        }\n        \n        .experience-description {\n          font-size: 14px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          margin: 0;\n        }\n        \n        .achievements-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 20px;\n        }\n        \n        .achievement-card {\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 20px;\n          text-align: center;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n          transition: all 0.3s ease;\n        }\n        \n        .achievement-card:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 8px 24px rgba(96, 125, 139, 0.15);\n        }\n        \n        .achievement-icon {\n          width: 48px;\n          height: 48px;\n          background: rgba(96, 125, 139, 0.1);\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #607D8B;\n          margin: 0 auto 16px;\n        }\n        \n        .achievement-title {\n          font-size: 16px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 8px 0;\n        }\n        \n        .achievement-description {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .project-intro {\n          background: #FFFFFF;\n          border-radius: 20px;\n          padding: 32px;\n          margin-bottom: 32px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n          text-align: center;\n        }\n        \n        .intro-title {\n          font-size: 32px;\n          font-weight: 800;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n          letter-spacing: -0.3px;\n        }\n        \n        .intro-description {\n          font-size: 16px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          margin: 0;\n          max-width: 800px;\n          margin: 0 auto;\n        }\n        \n        .features-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n          gap: 24px;\n          margin-bottom: 48px;\n        }\n        \n        .feature-card {\n          background: #FFFFFF;\n          border-radius: 20px;\n          padding: 28px;\n          text-align: center;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n          transition: all 0.3s ease;\n        }\n        \n        .feature-card:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 8px 24px rgba(96, 125, 139, 0.15);\n        }\n        \n        .feature-icon {\n          width: 56px;\n          height: 56px;\n          background: rgba(96, 125, 139, 0.1);\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #607D8B;\n          margin: 0 auto 20px;\n        }\n        \n        .feature-title {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 12px 0;\n        }\n        \n        .feature-description {\n          font-size: 14px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          margin: 0;\n        }\n        \n        .project-details {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 24px;\n          margin-bottom: 48px;\n        }\n        \n        .detail-card {\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 24px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n        }\n        \n        .detail-title {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n        }\n        \n        .detail-list {\n          list-style: none;\n          padding: 0;\n          margin: 0;\n        }\n        \n        .detail-list li {\n          padding: 8px 0;\n          border-bottom: 1px solid #F3EED9;\n          font-size: 14px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          position: relative;\n          padding-left: 20px;\n        }\n        \n        .detail-list li::before {\n          content: '•';\n          color: #607D8B;\n          position: absolute;\n          left: 0;\n          font-weight: bold;\n        }\n        \n        .detail-list li:last-child {\n          border-bottom: none;\n        }\n        \n        .project-mission {\n          display: flex;\n          gap: 24px;\n          background: linear-gradient(135deg, rgba(96, 125, 139, 0.05) 0%, rgba(69, 90, 100, 0.05) 100%);\n          border: 1px solid rgba(96, 125, 139, 0.2);\n          border-radius: 20px;\n          padding: 32px;\n        }\n        \n        .mission-icon {\n          width: 64px;\n          height: 64px;\n          background: #607D8B;\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #FFFFFF;\n          flex-shrink: 0;\n        }\n        \n        .mission-title {\n          font-size: 24px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 12px 0;\n        }\n        \n        .mission-description {\n          font-size: 16px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          margin: 0;\n        }\n        \n        .tech-intro {\n          background: #FFFFFF;\n          border-radius: 20px;\n          padding: 32px;\n          margin-bottom: 32px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n          text-align: center;\n        }\n        \n        .tech-categories {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n          gap: 24px;\n          margin-bottom: 48px;\n        }\n        \n        .tech-category {\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 24px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n        }\n        \n        .tech-title {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n        }\n        \n        .tech-tags {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 8px;\n        }\n        \n        .tech-tag {\n          padding: 6px 12px;\n          border-radius: 12px;\n          font-size: 12px;\n          font-weight: 600;\n          color: #FFFFFF;\n        }\n        \n        .tech-tag.frontend { background: #3E5C49; }\n        .tech-tag.backend { background: #C2571B; }\n        .tech-tag.mobile { background: #E91E63; }\n        .tech-tag.ai { background: #9C27B0; }\n        .tech-tag.design { background: #FF9800; }\n        .tech-tag.database { background: #607D8B; }\n        .tech-tag.tools { background: #6E6E6E; }\n        \n        .architecture-info {\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 24px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n        }\n        \n        .architecture-title {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n        }\n        \n        .architecture-description p {\n          font-size: 14px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          margin: 0 0 16px 0;\n        }\n        \n        .architecture-description p:last-child {\n          margin-bottom: 0;\n        }\n        \n        /* Responsive Design */\n        @media (max-width: 768px) {\n          .hero-section {\n            padding: 32px 16px;\n          }\n          \n          .hero-title {\n            font-size: 32px;\n          }\n          \n          .hero-subtitle {\n            font-size: 18px;\n          }\n          \n          .project-stats {\n            flex-direction: column;\n            gap: 16px;\n          }\n          \n          .stat-item {\n            justify-content: center;\n          }\n          \n          .about-content {\n            padding: 0 16px 32px;\n          }\n          \n          .tabs-navigation {\n            flex-direction: column;\n            gap: 8px;\n          }\n          \n          .tab-button {\n            justify-content: flex-start;\n          }\n          \n          .developer-hero {\n            flex-direction: column;\n            text-align: center;\n            gap: 20px;\n          }\n          \n          .developer-meta {\n            justify-content: center;\n          }\n          \n          .content-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .timeline {\n            padding-left: 24px;\n          }\n          \n          .timeline-marker {\n            left: -32px;\n          }\n          \n          .experience-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .achievements-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .features-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .project-details {\n            grid-template-columns: 1fr;\n          }\n          \n          .project-mission {\n            flex-direction: column;\n            text-align: center;\n          }\n          \n          .tech-categories {\n            grid-template-columns: 1fr;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .hero-main {\n            gap: 16px;\n          }\n          \n          .hero-icon {\n            width: 72px;\n            height: 72px;\n          }\n          \n          .hero-title {\n            font-size: 28px;\n          }\n          \n          .intro-title {\n            font-size: 28px;\n          }\n          \n          .developer-name {\n            font-size: 24px;\n          }\n          \n          .experience-header {\n            flex-direction: column;\n            gap: 8px;\n          }\n          \n          .experience-period {\n            align-self: flex-start;\n          }\n          \n          .timeline-item {\n            padding: 20px;\n          }\n          \n          .feature-card,\n          .achievement-card {\n            padding: 20px;\n          }\n          \n          .project-mission {\n            padding: 24px;\n          }\n        }\n      "})]})},$e=o("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Ue=o("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),qe=o("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),He=o("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ve=o("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),We=({onLogin:e})=>{const[n,t]=(0,i.useState)("login"),[a,s]=(0,i.useState)(1),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(""),[u,p]=(0,i.useState)(""),[h,f]=(0,i.useState)(!1),[x,b]=(0,i.useState)(navigator.onLine),[v,w]=(0,i.useState)({email:"",password:"",institutionCode:""}),[j,k]=(0,i.useState)({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",institutionCode:"",role:"user"}),[E,N]=(0,i.useState)({name:"",type:"library",address:"",city:"",country:"Cameroun",phone:"",email:"",website:"",description:"",director:"",adminEmail:"",adminPassword:"",adminFirstName:"",adminLastName:""});i.useEffect(()=>{const e=()=>{b(navigator.onLine)};return window.addEventListener("online",e),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[]);const C=async t=>{t.preventDefault(),d(""),p(""),l(!0);try{if("login"===n)await e({email:v.email,password:v.password,institutionCode:v.institutionCode,mode:"login"});else if("register"===n){if(j.password!==j.confirmPassword)throw new Error("Les mots de passe ne correspondent pas");await e({email:j.email,password:j.password,institutionCode:j.institutionCode,mode:"register",userData:{firstName:j.firstName,lastName:j.lastName,role:j.role}})}else"create_institution"===n&&2===a&&await e({email:E.adminEmail,password:E.adminPassword,mode:"create_institution",userData:{institution:E,admin:{firstName:E.adminFirstName,lastName:E.adminLastName}}})}catch(e){d(e.message||"Erreur de connexion")}finally{l(!1)}},S=()=>E.name&&E.type&&E.city&&E.country;return(0,r.jsxs)("div",{className:"enhanced-auth",children:[(0,r.jsxs)("div",{className:"auth-background",children:[(0,r.jsx)("div",{className:"auth-pattern"}),(0,r.jsxs)("div",{className:"floating-elements",children:[(0,r.jsx)("div",{className:"floating-book"}),(0,r.jsx)("div",{className:"floating-book"}),(0,r.jsx)("div",{className:"floating-book"})]})]}),(0,r.jsxs)("div",{className:"auth-content",children:[(0,r.jsxs)("div",{className:"auth-branding",children:[(0,r.jsx)("div",{className:"brand-logo",children:(0,r.jsx)(m,{size:48})}),(0,r.jsx)("h1",{className:"brand-title",children:"Bibliothèque Cloud"}),(0,r.jsx)("p",{className:"brand-subtitle",children:"Système de gestion moderne et collaboratif"}),(0,r.jsxs)("div",{className:"features-list",children:[(0,r.jsxs)("div",{className:"feature-item",children:[(0,r.jsx)(g,{size:20}),(0,r.jsx)("span",{children:"Multi-établissements"})]}),(0,r.jsxs)("div",{className:"feature-item",children:[(0,r.jsx)(y,{size:20}),(0,r.jsx)("span",{children:"Synchronisation cloud"})]}),(0,r.jsxs)("div",{className:"feature-item",children:[(0,r.jsx)(be,{size:20}),(0,r.jsx)("span",{children:"Sécurisé et fiable"})]}),(0,r.jsxs)("div",{className:"feature-item",children:[(0,r.jsx)(Ee,{size:20}),(0,r.jsx)("span",{children:"Accessible partout"})]})]}),(0,r.jsxs)("div",{className:"connection-status "+(x?"online":"offline"),children:[x?(0,r.jsx)($e,{size:16}):(0,r.jsx)(Ue,{size:16}),(0,r.jsx)("span",{children:x?"En ligne":"Hors ligne"})]})]}),(0,r.jsx)("div",{className:"auth-form-container",children:(0,r.jsxs)("div",{className:"auth-card",children:[(0,r.jsxs)("div",{className:"auth-header",children:[(0,r.jsxs)("div",{className:"auth-tabs",children:[(0,r.jsxs)("button",{className:"auth-tab "+("login"===n?"active":""),onClick:()=>{t("login"),s(1)},children:[(0,r.jsx)(qe,{size:16}),"Connexion"]}),(0,r.jsxs)("button",{className:"auth-tab "+("register"===n?"active":""),onClick:()=>{t("register"),s(1)},children:[(0,r.jsx)(W,{size:16}),"Inscription"]}),(0,r.jsxs)("button",{className:"auth-tab "+("create_institution"===n?"active":""),onClick:()=>{t("create_institution"),s(1)},children:[(0,r.jsx)(he,{size:16}),"Créer établissement"]})]}),(0,r.jsxs)("div",{className:"mode-indicator",children:[(0,r.jsx)(ie,{size:16}),(0,r.jsxs)("span",{children:["login"===n&&"Connectez-vous à votre établissement","register"===n&&"Rejoignez un établissement existant","create_institution"===n&&"Créez votre établissement "+(2===a?"- Administrateur":"- Informations")]})]}),"create_institution"===n&&(0,r.jsx)("div",{className:"progress-bar",children:(0,r.jsxs)("div",{className:"progress-steps",children:[(0,r.jsxs)("div",{className:"progress-step "+(a>=1?"active":""),children:[(0,r.jsx)("div",{className:"step-number",children:"1"}),(0,r.jsx)("span",{children:"Établissement"})]}),(0,r.jsx)("div",{className:"progress-line"}),(0,r.jsxs)("div",{className:"progress-step "+(a>=2?"active":""),children:[(0,r.jsx)("div",{className:"step-number",children:"2"}),(0,r.jsx)("span",{children:"Administrateur"})]})]})})]}),c&&(0,r.jsxs)("div",{className:"error-message",children:[(0,r.jsx)(L,{size:16}),(0,r.jsx)("span",{children:c})]}),u&&(0,r.jsxs)("div",{className:"success-message",children:[(0,r.jsx)(Z,{size:16}),(0,r.jsx)("span",{children:u})]}),"login"===n&&(0,r.jsxs)("form",{onSubmit:C,className:"auth-form",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Email"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(me,{size:20}),(0,r.jsx)("input",{type:"email",value:v.email,onChange:e=>w(n=>({...n,email:e.target.value})),className:"auth-input",placeholder:"votre@email.com",required:!0,disabled:o})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Mot de passe"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(Se,{size:20}),(0,r.jsx)("input",{type:h?"text":"password",value:v.password,onChange:e=>w(n=>({...n,password:e.target.value})),className:"auth-input",placeholder:"Votre mot de passe",required:!0,disabled:o}),(0,r.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>f(!h),children:h?(0,r.jsx)(He,{size:18}):(0,r.jsx)(A,{size:18})})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Code de l'établissement"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(Ve,{size:20}),(0,r.jsx)("input",{type:"text",value:v.institutionCode,onChange:e=>w(n=>({...n,institutionCode:e.target.value.toUpperCase()})),className:"auth-input",placeholder:"CODE123",required:!0,disabled:o,maxLength:8})]}),(0,r.jsx)("small",{className:"form-hint",children:"8 caractères fournis par votre établissement"})]}),(0,r.jsx)("button",{type:"submit",className:"auth-button primary",disabled:o||!v.email||!v.password||!v.institutionCode,children:o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"loading-spinner"}),"Connexion..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(qe,{size:18}),"Se connecter",(0,r.jsx)(T,{size:16})]})})]}),"register"===n&&(0,r.jsxs)("form",{onSubmit:C,className:"auth-form",children:[(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Prénom"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(Q,{size:20}),(0,r.jsx)("input",{type:"text",value:j.firstName,onChange:e=>k(n=>({...n,firstName:e.target.value})),className:"auth-input",placeholder:"Votre prénom",required:!0,disabled:o})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Nom"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(Q,{size:20}),(0,r.jsx)("input",{type:"text",value:j.lastName,onChange:e=>k(n=>({...n,lastName:e.target.value})),className:"auth-input",placeholder:"Votre nom",required:!0,disabled:o})]})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Email"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(me,{size:20}),(0,r.jsx)("input",{type:"email",value:j.email,onChange:e=>k(n=>({...n,email:e.target.value})),className:"auth-input",placeholder:"votre@email.com",required:!0,disabled:o})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Rôle souhaité"}),(0,r.jsx)("div",{className:"role-selector",children:[{value:"user",label:"Utilisateur",description:"Accès de base à la bibliothèque"},{value:"librarian",label:"Bibliothécaire",description:"Gestion des livres et emprunts"},{value:"admin",label:"Administrateur",description:"Accès complet au système"}].map(e=>(0,r.jsxs)("label",{className:"role-option",children:[(0,r.jsx)("input",{type:"radio",name:"role",value:e.value,checked:j.role===e.value,onChange:e=>k(n=>({...n,role:e.target.value})),disabled:o}),(0,r.jsxs)("div",{className:"role-content",children:[(0,r.jsx)("span",{className:"role-title",children:e.label}),(0,r.jsx)("span",{className:"role-description",children:e.description})]})]},e.value))})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Code de l'établissement"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(Ve,{size:20}),(0,r.jsx)("input",{type:"text",value:j.institutionCode,onChange:e=>k(n=>({...n,institutionCode:e.target.value.toUpperCase()})),className:"auth-input",placeholder:"CODE123",required:!0,disabled:o,maxLength:8})]}),(0,r.jsx)("small",{className:"form-hint",children:"Demandez ce code à votre administrateur"})]}),(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Mot de passe"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(Se,{size:20}),(0,r.jsx)("input",{type:h?"text":"password",value:j.password,onChange:e=>k(n=>({...n,password:e.target.value})),className:"auth-input",placeholder:"Mot de passe",required:!0,disabled:o,minLength:6})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Confirmer"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(Se,{size:20}),(0,r.jsx)("input",{type:h?"text":"password",value:j.confirmPassword,onChange:e=>k(n=>({...n,confirmPassword:e.target.value})),className:"auth-input",placeholder:"Confirmer",required:!0,disabled:o}),(0,r.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>f(!h),children:h?(0,r.jsx)(He,{size:18}):(0,r.jsx)(A,{size:18})})]})]})]}),(0,r.jsx)("button",{type:"submit",className:"auth-button primary",disabled:o||!j.email||!j.password||!j.firstName||!j.lastName||!j.institutionCode,children:o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"loading-spinner"}),"Création..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(W,{size:18}),"Créer le compte",(0,r.jsx)(T,{size:16})]})})]}),"create_institution"===n&&(0,r.jsxs)("form",{onSubmit:C,className:"auth-form",children:[1===a&&(0,r.jsxs)("div",{className:"institution-step",children:[(0,r.jsxs)("div",{className:"step-header",children:[(0,r.jsx)(he,{size:24}),(0,r.jsx)("h3",{children:"Informations de l'établissement"}),(0,r.jsx)("p",{children:"Créez votre établissement et obtenez votre code unique"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Nom de l'établissement *"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(he,{size:20}),(0,r.jsx)("input",{type:"text",value:E.name,onChange:e=>N(n=>({...n,name:e.target.value})),className:"auth-input",placeholder:"Lycée Moderne de Douala",required:!0,disabled:o})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Type d'établissement *"}),(0,r.jsx)("div",{className:"type-selector",children:[{value:"school",label:"École/Lycée",icon:"🏫"},{value:"university",label:"Université",icon:"🎓"},{value:"library",label:"Bibliothèque",icon:"📚"},{value:"other",label:"Autre",icon:"🏢"}].map(e=>(0,r.jsxs)("label",{className:"type-option",children:[(0,r.jsx)("input",{type:"radio",name:"type",value:e.value,checked:E.type===e.value,onChange:e=>N(n=>({...n,type:e.target.value})),disabled:o}),(0,r.jsxs)("div",{className:"type-content",children:[(0,r.jsx)("span",{className:"type-icon",children:e.icon}),(0,r.jsx)("span",{className:"type-label",children:e.label})]})]},e.value))})]}),(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Ville *"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(Ne,{size:20}),(0,r.jsx)("input",{type:"text",value:E.city,onChange:e=>N(n=>({...n,city:e.target.value})),className:"auth-input",placeholder:"Douala",required:!0,disabled:o})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Pays *"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(Ee,{size:20}),(0,r.jsx)("input",{type:"text",value:E.country,onChange:e=>N(n=>({...n,country:e.target.value})),className:"auth-input",placeholder:"Cameroun",required:!0,disabled:o})]})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Adresse"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(Ne,{size:20}),(0,r.jsx)("input",{type:"text",value:E.address,onChange:e=>N(n=>({...n,address:e.target.value})),className:"auth-input",placeholder:"Avenue de la Liberté",disabled:o})]})]}),(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Téléphone"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(ke,{size:20}),(0,r.jsx)("input",{type:"tel",value:E.phone,onChange:e=>N(n=>({...n,phone:e.target.value})),className:"auth-input",placeholder:"+237 XXX XXX XXX",disabled:o})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Email"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(me,{size:20}),(0,r.jsx)("input",{type:"email",value:E.email,onChange:e=>N(n=>({...n,email:e.target.value})),className:"auth-input",placeholder:"contact@etablissement.com",disabled:o})]})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Description"}),(0,r.jsx)("textarea",{value:E.description,onChange:e=>N(n=>({...n,description:e.target.value})),className:"auth-textarea",placeholder:"Brève description de votre établissement...",rows:3,disabled:o})]}),(0,r.jsxs)("button",{type:"button",className:"auth-button primary",onClick:()=>{1===a&&S()&&s(2)},disabled:!S()||o,children:["Continuer",(0,r.jsx)(T,{size:16})]})]}),2===a&&(0,r.jsxs)("div",{className:"admin-step",children:[(0,r.jsxs)("div",{className:"step-header",children:[(0,r.jsx)(be,{size:24}),(0,r.jsx)("h3",{children:"Compte administrateur"}),(0,r.jsx)("p",{children:"Créez le compte administrateur principal"})]}),(0,r.jsxs)("div",{className:"form-grid",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Prénom *"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(Q,{size:20}),(0,r.jsx)("input",{type:"text",value:E.adminFirstName,onChange:e=>N(n=>({...n,adminFirstName:e.target.value})),className:"auth-input",placeholder:"Prénom",required:!0,disabled:o})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Nom *"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(Q,{size:20}),(0,r.jsx)("input",{type:"text",value:E.adminLastName,onChange:e=>N(n=>({...n,adminLastName:e.target.value})),className:"auth-input",placeholder:"Nom",required:!0,disabled:o})]})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Email administrateur *"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(me,{size:20}),(0,r.jsx)("input",{type:"email",value:E.adminEmail,onChange:e=>N(n=>({...n,adminEmail:e.target.value})),className:"auth-input",placeholder:"admin@etablissement.com",required:!0,disabled:o})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Mot de passe *"}),(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)(Se,{size:20}),(0,r.jsx)("input",{type:h?"text":"password",value:E.adminPassword,onChange:e=>N(n=>({...n,adminPassword:e.target.value})),className:"auth-input",placeholder:"Mot de passe sécurisé",required:!0,disabled:o,minLength:6}),(0,r.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>f(!h),children:h?(0,r.jsx)(He,{size:18}):(0,r.jsx)(A,{size:18})})]}),(0,r.jsx)("small",{className:"form-hint",children:"Minimum 6 caractères"})]}),(0,r.jsxs)("div",{className:"form-actions",children:[(0,r.jsx)("button",{type:"button",className:"auth-button secondary",onClick:()=>{2===a&&s(1)},disabled:o,children:"Précédent"}),(0,r.jsx)("button",{type:"submit",className:"auth-button primary",disabled:!(E.adminEmail&&E.adminPassword&&E.adminFirstName&&E.adminLastName&&E.adminPassword.length>=6)||o,children:o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"loading-spinner"}),"Création..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(he,{size:18}),"Créer l'établissement"]})})]})]})]})]})})]}),(0,r.jsx)("style",{children:"\n        .enhanced-auth {\n          height: 100vh;\n          display: flex;\n          position: relative;\n          overflow: hidden;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n        }\n        \n        .auth-background {\n          position: absolute;\n          inset: 0;\n          overflow: hidden;\n        }\n        \n        .auth-pattern {\n          position: absolute;\n          inset: 0;\n          background-image: \n            radial-gradient(circle at 25% 25%, rgba(243, 238, 217, 0.08) 0%, transparent 50%),\n            radial-gradient(circle at 75% 75%, rgba(194, 87, 27, 0.06) 0%, transparent 50%);\n          animation: drift 25s ease-in-out infinite;\n        }\n        \n        @keyframes drift {\n          0%, 100% { transform: translate(0, 0) rotate(0deg); }\n          33% { transform: translate(30px, -30px) rotate(1deg); }\n          66% { transform: translate(-20px, 20px) rotate(-1deg); }\n        }\n        \n        .floating-elements {\n          position: absolute;\n          inset: 0;\n          pointer-events: none;\n        }\n        \n        .floating-book {\n          position: absolute;\n          width: 24px;\n          height: 32px;\n          background: rgba(243, 238, 217, 0.1);\n          border-radius: 4px;\n          animation: float 8s ease-in-out infinite;\n        }\n        \n        .floating-book:nth-child(1) {\n          top: 20%;\n          left: 10%;\n          animation-delay: 0s;\n        }\n        \n        .floating-book:nth-child(2) {\n          top: 60%;\n          left: 15%;\n          animation-delay: 2s;\n        }\n        \n        .floating-book:nth-child(3) {\n          top: 40%;\n          left: 5%;\n          animation-delay: 4s;\n        }\n        \n        @keyframes float {\n          0%, 100% { transform: translateY(0px) rotate(0deg); }\n          50% { transform: translateY(-20px) rotate(2deg); }\n        }\n        \n        .auth-content {\n          display: flex;\n          width: 100%;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .auth-branding {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          padding: 60px;\n          color: #F3EED9;\n          max-width: 500px;\n        }\n        \n        .brand-logo {\n          width: 80px;\n          height: 80px;\n          background: rgba(243, 238, 217, 0.15);\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin-bottom: 32px;\n          border: 1px solid rgba(243, 238, 217, 0.2);\n          backdrop-filter: blur(10px);\n        }\n        \n        .brand-title {\n          font-size: 48px;\n          font-weight: 800;\n          margin: 0 0 16px 0;\n          letter-spacing: -1px;\n        }\n        \n        .brand-subtitle {\n          font-size: 20px;\n          opacity: 0.9;\n          margin: 0 0 48px 0;\n          line-height: 1.5;\n        }\n        \n        .features-list {\n          display: flex;\n          flex-direction: column;\n          gap: 20px;\n          margin-bottom: 40px;\n        }\n        \n        .feature-item {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          font-size: 16px;\n          opacity: 0.9;\n        }\n        \n        .connection-status {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 16px;\n          border-radius: 12px;\n          font-size: 14px;\n          font-weight: 600;\n          width: fit-content;\n        }\n        \n        .connection-status.online {\n          background: rgba(76, 175, 80, 0.2);\n          color: #4CAF50;\n          border: 1px solid rgba(76, 175, 80, 0.3);\n        }\n        \n        .connection-status.offline {\n          background: rgba(255, 152, 0, 0.2);\n          color: #FF9800;\n          border: 1px solid rgba(255, 152, 0, 0.3);\n        }\n        \n        .auth-form-container {\n          flex: 1;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 40px;\n          background: rgba(255, 255, 255, 0.05);\n          backdrop-filter: blur(10px);\n          max-width: 600px;\n        }\n        \n        .auth-card {\n          width: 100%;\n          background: rgba(255, 255, 255, 0.95);\n          border-radius: 24px;\n          padding: 0;\n          box-shadow: \n            0 24px 48px rgba(62, 92, 73, 0.2),\n            0 8px 24px rgba(62, 92, 73, 0.12);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n          backdrop-filter: blur(20px);\n          overflow: hidden;\n          max-height: 90vh;\n          overflow-y: auto;\n        }\n        \n        .auth-header {\n          padding: 32px 32px 24px;\n          background: linear-gradient(135deg, #F3EED9 0%, #EAEADC 100%);\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .auth-tabs {\n          display: flex;\n          gap: 4px;\n          background: rgba(62, 92, 73, 0.1);\n          border-radius: 12px;\n          padding: 4px;\n          margin-bottom: 20px;\n        }\n        \n        .auth-tab {\n          flex: 1;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n          padding: 12px 16px;\n          border: none;\n          background: transparent;\n          color: #6E6E6E;\n          font-size: 14px;\n          font-weight: 600;\n          border-radius: 8px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .auth-tab.active {\n          background: #3E5C49;\n          color: #F3EED9;\n          box-shadow: 0 2px 8px rgba(62, 92, 73, 0.2);\n        }\n        \n        .mode-indicator {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          color: #3E5C49;\n          font-size: 16px;\n          font-weight: 600;\n          margin-bottom: 16px;\n        }\n        \n        .progress-bar {\n          margin-top: 16px;\n        }\n        \n        .progress-steps {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 16px;\n        }\n        \n        .progress-step {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 8px;\n          opacity: 0.5;\n          transition: opacity 0.3s ease;\n        }\n        \n        .progress-step.active {\n          opacity: 1;\n        }\n        \n        .step-number {\n          width: 32px;\n          height: 32px;\n          border-radius: 50%;\n          background: rgba(62, 92, 73, 0.2);\n          color: #3E5C49;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-weight: 600;\n          font-size: 14px;\n        }\n        \n        .progress-step.active .step-number {\n          background: #3E5C49;\n          color: #F3EED9;\n        }\n        \n        .progress-line {\n          width: 40px;\n          height: 2px;\n          background: rgba(62, 92, 73, 0.2);\n        }\n        \n        .error-message,\n        .success-message {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 32px;\n          font-size: 14px;\n          font-weight: 600;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .error-message {\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n        }\n        \n        .success-message {\n          background: rgba(62, 92, 73, 0.1);\n          color: #3E5C49;\n        }\n        \n        .auth-form {\n          padding: 32px;\n        }\n        \n        .form-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 20px;\n        }\n        \n        .form-group {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n          margin-bottom: 20px;\n        }\n        \n        .form-label {\n          font-size: 14px;\n          font-weight: 600;\n          color: #2E2E2E;\n        }\n        \n        .input-wrapper {\n          position: relative;\n          display: flex;\n          align-items: center;\n        }\n        \n        .input-wrapper svg {\n          position: absolute;\n          left: 16px;\n          color: #6E6E6E;\n          z-index: 2;\n        }\n        \n        .auth-input,\n        .auth-textarea {\n          width: 100%;\n          padding: 16px 16px 16px 48px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          font-size: 16px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n        }\n        \n        .auth-textarea {\n          padding: 16px;\n          resize: vertical;\n          min-height: 80px;\n        }\n        \n        .auth-input:focus,\n        .auth-textarea:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n        \n        .auth-input:disabled,\n        .auth-textarea:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          background: #F3EED9;\n        }\n        \n        .password-toggle {\n          position: absolute;\n          right: 16px;\n          background: none;\n          border: none;\n          cursor: pointer;\n          color: #6E6E6E;\n          padding: 4px;\n          border-radius: 4px;\n          transition: all 0.2s ease;\n          z-index: 2;\n        }\n        \n        .password-toggle:hover {\n          color: #2E2E2E;\n          background: rgba(110, 110, 110, 0.1);\n        }\n        \n        .role-selector,\n        .type-selector {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .role-option,\n        .type-option {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          background: #FFFFFF;\n        }\n        \n        .role-option:hover,\n        .type-option:hover {\n          border-color: #3E5C49;\n          background: rgba(62, 92, 73, 0.05);\n        }\n        \n        .role-option input:checked + .role-content,\n        .type-option input:checked + .type-content {\n          color: #3E5C49;\n        }\n        \n        .role-option input:checked,\n        .type-option input:checked {\n          accent-color: #3E5C49;\n        }\n        \n        .role-content,\n        .type-content {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n        \n        .type-content {\n          flex-direction: row;\n          align-items: center;\n          gap: 12px;\n        }\n        \n        .role-title,\n        .type-label {\n          font-weight: 600;\n          color: #2E2E2E;\n        }\n        \n        .role-description {\n          font-size: 13px;\n          color: #6E6E6E;\n        }\n        \n        .type-icon {\n          font-size: 20px;\n        }\n        \n        .form-hint {\n          font-size: 12px;\n          color: #6E6E6E;\n          font-style: italic;\n        }\n        \n        .auth-button {\n          width: 100%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n          padding: 16px 24px;\n          border-radius: 12px;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          border: none;\n          margin-bottom: 12px;\n        }\n        \n        .auth-button.primary {\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.3);\n        }\n        \n        .auth-button.primary:hover:not(:disabled) {\n          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.4);\n        }\n        \n        .auth-button.secondary {\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 2px solid #E5DCC2;\n        }\n        \n        .auth-button.secondary:hover:not(:disabled) {\n          background: #EAEADC;\n          color: #2E2E2E;\n          transform: translateY(-1px);\n        }\n        \n        .auth-button:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          transform: none;\n          box-shadow: none;\n        }\n        \n        .loading-spinner {\n          width: 18px;\n          height: 18px;\n          border: 2px solid rgba(243, 238, 217, 0.3);\n          border-top: 2px solid #F3EED9;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n        }\n        \n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        .institution-step,\n        .admin-step {\n          display: flex;\n          flex-direction: column;\n          gap: 24px;\n        }\n        \n        .step-header {\n          text-align: center;\n          margin-bottom: 24px;\n        }\n        \n        .step-header h3 {\n          font-size: 24px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 16px 0 8px 0;\n        }\n        \n        .step-header p {\n          color: #6E6E6E;\n          margin: 0;\n          font-size: 16px;\n        }\n        \n        .form-actions {\n          display: flex;\n          gap: 16px;\n          margin-top: 24px;\n        }\n        \n        .form-actions .auth-button {\n          margin-bottom: 0;\n        }\n        \n        /* Responsive Design */\n        @media (max-width: 1024px) {\n          .auth-content {\n            flex-direction: column;\n          }\n          \n          .auth-branding {\n            padding: 40px;\n            text-align: center;\n            flex: none;\n            max-width: none;\n          }\n          \n          .brand-title {\n            font-size: 36px;\n          }\n          \n          .brand-subtitle {\n            font-size: 18px;\n          }\n          \n          .features-list {\n            flex-direction: row;\n            flex-wrap: wrap;\n            justify-content: center;\n            gap: 16px;\n          }\n          \n          .feature-item {\n            flex-direction: column;\n            text-align: center;\n            gap: 8px;\n            min-width: 120px;\n          }\n          \n          .auth-form-container {\n            max-width: none;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .auth-branding {\n            padding: 32px 20px;\n          }\n          \n          .auth-form-container {\n            padding: 20px;\n          }\n          \n          .auth-card {\n            max-width: none;\n            border-radius: 20px;\n            max-height: none;\n          }\n          \n          .auth-header {\n            padding: 24px 20px 20px;\n          }\n          \n          .auth-form {\n            padding: 24px 20px;\n          }\n          \n          .form-grid {\n            grid-template-columns: 1fr;\n            gap: 16px;\n          }\n          \n          .brand-title {\n            font-size: 28px;\n          }\n          \n          .brand-subtitle {\n            font-size: 16px;\n          }\n          \n          .features-list {\n            flex-direction: column;\n            gap: 12px;\n          }\n          \n          .feature-item {\n            flex-direction: row;\n            justify-content: center;\n          }\n          \n          .auth-tabs {\n            flex-direction: column;\n            gap: 8px;\n          }\n          \n          .auth-tab {\n            flex: none;\n          }\n          \n          .progress-steps {\n            gap: 12px;\n          }\n          \n          .progress-line {\n            width: 30px;\n          }\n          \n          .type-selector {\n            grid-template-columns: 1fr 1fr;\n            display: grid;\n            gap: 12px;\n          }\n          \n          .form-actions {\n            flex-direction: column-reverse;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .auth-branding {\n            padding: 24px 16px;\n          }\n          \n          .auth-form-container {\n            padding: 16px;\n          }\n          \n          .auth-header,\n          .auth-form {\n            padding: 20px 16px;\n          }\n          \n          .brand-logo {\n            width: 64px;\n            height: 64px;\n            margin-bottom: 24px;\n          }\n          \n          .brand-title {\n            font-size: 24px;\n          }\n          \n          .auth-input,\n          .auth-textarea {\n            font-size: 14px;\n          }\n          \n          .type-selector {\n            grid-template-columns: 1fr;\n          }\n          \n          .progress-steps {\n            flex-direction: column;\n            gap: 16px;\n          }\n          \n          .progress-line {\n            width: 2px;\n            height: 20px;\n          }\n        }\n        \n        /* Animation enhancements */\n        .auth-card {\n          animation: slideUp 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n        }\n        \n        @keyframes slideUp {\n          from {\n            opacity: 0;\n            transform: translateY(40px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        \n        .auth-branding {\n          animation: fadeInLeft 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n        }\n        \n        @keyframes fadeInLeft {\n          from {\n            opacity: 0;\n            transform: translateX(-40px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n        \n        /* Accessibility improvements */\n        @media (prefers-reduced-motion: reduce) {\n          .auth-card,\n          .auth-branding,\n          .floating-book,\n          .auth-pattern {\n            animation: none;\n          }\n          \n          .auth-button,\n          .role-option,\n          .type-option {\n            transition: none;\n          }\n          \n          .auth-button:hover,\n          .role-option:hover,\n          .type-option:hover {\n            transform: none;\n          }\n        }\n        \n        /* High contrast mode */\n        @media (prefers-contrast: high) {\n          .auth-input,\n          .auth-textarea,\n          .auth-button {\n            border-width: 3px;\n          }\n          \n          .auth-tab.active {\n            border: 2px solid #F3EED9;\n          }\n          \n          .role-option,\n          .type-option {\n            border-width: 3px;\n          }\n        }\n      "})]})},Ke=o("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),Ge=o("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Ye=({institutionCode:e,institution:n,onComplete:t})=>{const[a,s]=(0,i.useState)(1),[o,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(!1),p=[{number:1,title:"Félicitations !",subtitle:"Votre établissement a été créé",icon:Z},{number:2,title:"Partagez le code",subtitle:"Invitez vos utilisateurs",icon:g},{number:3,title:"Prêt à commencer",subtitle:"Accédez à votre bibliothèque",icon:l}];return(0,r.jsxs)("div",{className:"institution-setup",children:[(0,r.jsxs)("div",{className:"setup-background",children:[(0,r.jsx)("div",{className:"background-pattern"}),(0,r.jsxs)("div",{className:"floating-elements",children:[(0,r.jsx)("div",{className:"floating-icon",children:"📚"}),(0,r.jsx)("div",{className:"floating-icon",children:"🎓"}),(0,r.jsx)("div",{className:"floating-icon",children:"👥"}),(0,r.jsx)("div",{className:"floating-icon",children:"🔑"})]})]}),(0,r.jsxs)("div",{className:"setup-container",children:[(0,r.jsxs)("div",{className:"setup-header",children:[(0,r.jsx)("div",{className:"header-logo",children:(0,r.jsx)(he,{size:48})}),(0,r.jsx)("h1",{className:"setup-title",children:"Configuration de votre établissement"}),(0,r.jsx)("div",{className:"progress-container",children:(0,r.jsx)("div",{className:"progress-steps",children:p.map((e,n)=>(0,r.jsxs)("div",{className:`progress-step ${a>=e.number?"active":""} ${a===e.number?"current":""}`,children:[(0,r.jsx)("div",{className:"step-circle",children:(0,r.jsx)(e.icon,{size:20})}),(0,r.jsxs)("div",{className:"step-info",children:[(0,r.jsx)("span",{className:"step-title",children:e.title}),(0,r.jsx)("span",{className:"step-subtitle",children:e.subtitle})]}),n<p.length-1&&(0,r.jsx)("div",{className:"step-connector"})]},e.number))})})]}),(0,r.jsxs)("div",{className:"setup-content",children:[1===a&&(0,r.jsxs)("div",{className:"step-content success-step",children:[(0,r.jsxs)("div",{className:"success-animation",children:[(0,r.jsx)("div",{className:"success-circle",children:(0,r.jsx)(Z,{size:64})}),(0,r.jsxs)("div",{className:"success-sparkles",children:[(0,r.jsx)(ie,{className:"sparkle sparkle-1"}),(0,r.jsx)(ie,{className:"sparkle sparkle-2"}),(0,r.jsx)(ie,{className:"sparkle sparkle-3"})]})]}),(0,r.jsx)("h2",{className:"step-title",children:"Félicitations ! 🎉"}),(0,r.jsxs)("p",{className:"step-description",children:["Votre établissement ",(0,r.jsx)("strong",{children:n?.name})," a été créé avec succès. Vous êtes maintenant l'administrateur principal et pouvez commencer à gérer votre bibliothèque."]}),(0,r.jsxs)("div",{className:"institution-card",children:[(0,r.jsxs)("div",{className:"card-header",children:[(0,r.jsx)(he,{size:24}),(0,r.jsx)("h3",{children:"Informations de l'établissement"})]}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsxs)("div",{className:"info-row",children:[(0,r.jsx)("span",{className:"info-label",children:"Nom:"}),(0,r.jsx)("span",{className:"info-value",children:n?.name})]}),(0,r.jsxs)("div",{className:"info-row",children:[(0,r.jsx)("span",{className:"info-label",children:"Type:"}),(0,r.jsxs)("span",{className:"info-value",children:["school"===n?.type&&"🏫 École/Lycée","university"===n?.type&&"🎓 Université","library"===n?.type&&"📚 Bibliothèque","other"===n?.type&&"🏢 Autre"]})]}),(0,r.jsxs)("div",{className:"info-row",children:[(0,r.jsx)("span",{className:"info-label",children:"Localisation:"}),(0,r.jsxs)("span",{className:"info-value",children:[n?.city,", ",n?.country]})]}),(0,r.jsxs)("div",{className:"info-row highlight",children:[(0,r.jsx)("span",{className:"info-label",children:"Code d'accès:"}),(0,r.jsx)("span",{className:"info-value code-value",children:e})]})]})]}),(0,r.jsxs)("div",{className:"features-preview",children:[(0,r.jsx)("h3",{children:"Ce que vous pouvez faire maintenant :"}),(0,r.jsxs)("div",{className:"features-grid",children:[(0,r.jsxs)("div",{className:"feature-item",children:[(0,r.jsx)(l,{size:20}),(0,r.jsx)("span",{children:"Gérer vos livres"})]}),(0,r.jsxs)("div",{className:"feature-item",children:[(0,r.jsx)(g,{size:20}),(0,r.jsx)("span",{children:"Inviter des utilisateurs"})]}),(0,r.jsxs)("div",{className:"feature-item",children:[(0,r.jsx)(be,{size:20}),(0,r.jsx)("span",{children:"Contrôler les accès"})]}),(0,r.jsxs)("div",{className:"feature-item",children:[(0,r.jsx)(Ee,{size:20}),(0,r.jsx)("span",{children:"Synchroniser en ligne"})]})]})]})]}),2===a&&(0,r.jsxs)("div",{className:"step-content share-step",children:[(0,r.jsxs)("div",{className:"share-header",children:[(0,r.jsx)("div",{className:"share-icon",children:(0,r.jsx)(Ke,{size:48})}),(0,r.jsx)("h2",{className:"step-title",children:"Partagez votre code d'établissement"}),(0,r.jsx)("p",{className:"step-description",children:"Utilisez ce code unique pour permettre à vos utilisateurs de rejoindre votre établissement. Gardez-le confidentiel et ne le partagez qu'avec les personnes autorisées."})]}),(0,r.jsx)("div",{className:"code-display",children:(0,r.jsxs)("div",{className:"code-container",children:[(0,r.jsx)("div",{className:"code-label",children:"Code d'établissement"}),(0,r.jsx)("div",{className:"code-value-large",children:e}),(0,r.jsxs)("button",{className:"copy-button "+(o?"copied":""),onClick:async()=>{try{await navigator.clipboard.writeText(e),c(!0),setTimeout(()=>c(!1),2e3)}catch(e){console.error("Erreur lors de la copie:",e)}},children:[o?(0,r.jsx)(Z,{size:18}):(0,r.jsx)(Ie,{size:18}),(0,r.jsx)("span",{children:o?"Copié !":"Copier"})]})]})}),(0,r.jsxs)("div",{className:"sharing-options",children:[(0,r.jsx)("h3",{children:"Options de partage"}),(0,r.jsxs)("div",{className:"sharing-grid",children:[(0,r.jsxs)("button",{className:"sharing-option",onClick:()=>{const t=`\nINFORMATIONS DE VOTRE ÉTABLISSEMENT\n=====================================\n\nNom: ${n?.name||"Non spécifié"}\nCode d'accès: ${e}\nType: ${n?.type||"Non spécifié"}\nVille: ${n?.city||"Non spécifié"}\nPays: ${n?.country||"Non spécifié"}\n\nINSTRUCTIONS POUR VOS UTILISATEURS:\n====================================\n\n1. Téléchargez l'application Bibliothèque Cloud\n2. Choisissez "Inscription" \n3. Entrez le code d'établissement: ${e}\n4. Remplissez vos informations personnelles\n5. Attendez la validation de votre compte\n\nLIEN DE TÉLÉCHARGEMENT:\n======================\n[Insérez ici le lien de téléchargement de votre application]\n\nDate de création: ${(new Date).toLocaleDateString("fr-FR")}\n    `.trim(),r=new Blob([t],{type:"text/plain"}),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download=`${n?.name?.replace(/[^a-zA-Z0-9]/g,"_")||"institution"}_info.txt`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)},children:[(0,r.jsx)("div",{className:"option-icon",children:(0,r.jsx)(B,{size:24})}),(0,r.jsxs)("div",{className:"option-content",children:[(0,r.jsx)("span",{className:"option-title",children:"Télécharger les infos"}),(0,r.jsx)("span",{className:"option-description",children:"Fichier avec toutes les informations"})]})]}),(0,r.jsxs)("button",{className:"sharing-option",onClick:()=>{const t=encodeURIComponent(`Invitation - ${n?.name}`),r=encodeURIComponent(`\nBonjour,\n\nVous êtes invité(e) à rejoindre ${n?.name} sur l'application Bibliothèque Cloud.\n\nCode d'établissement: ${e}\n\nInstructions:\n1. Téléchargez l'application Bibliothèque Cloud\n2. Créez votre compte en utilisant le code ci-dessus\n3. Attendez la validation de votre accès\n\nCordialement,\nL'équipe de ${n?.name}\n    `);window.open(`mailto:?subject=${t}&body=${r}`)},children:[(0,r.jsx)("div",{className:"option-icon",children:(0,r.jsx)(me,{size:24})}),(0,r.jsxs)("div",{className:"option-content",children:[(0,r.jsx)("span",{className:"option-title",children:"Envoyer par email"}),(0,r.jsx)("span",{className:"option-description",children:"Invitation pré-rédigée"})]})]}),(0,r.jsxs)("button",{className:"sharing-option",onClick:()=>{alert(`QR Code généré pour:\nInstitution: ${n?.name}\nCode: ${e}`)},children:[(0,r.jsx)("div",{className:"option-icon",children:(0,r.jsx)(Ge,{size:24})}),(0,r.jsxs)("div",{className:"option-content",children:[(0,r.jsx)("span",{className:"option-title",children:"Générer QR Code"}),(0,r.jsx)("span",{className:"option-description",children:"Pour un partage rapide"})]})]}),(0,r.jsxs)("button",{className:"sharing-option",onClick:()=>window.print(),children:[(0,r.jsx)("div",{className:"option-icon",children:(0,r.jsx)(z,{size:24})}),(0,r.jsxs)("div",{className:"option-content",children:[(0,r.jsx)("span",{className:"option-title",children:"Imprimer"}),(0,r.jsx)("span",{className:"option-description",children:"Affichage physique"})]})]})]})]}),(0,r.jsxs)("div",{className:"instructions-card",children:[(0,r.jsx)("h4",{children:"Instructions pour vos utilisateurs :"}),(0,r.jsxs)("ol",{className:"instructions-list",children:[(0,r.jsx)("li",{children:"Télécharger l'application Bibliothèque Cloud"}),(0,r.jsx)("li",{children:'Choisir "Inscription" sur l\'écran de connexion'}),(0,r.jsxs)("li",{children:["Entrer le code d'établissement : ",(0,r.jsx)("code",{children:e})]}),(0,r.jsx)("li",{children:"Remplir leurs informations personnelles"}),(0,r.jsx)("li",{children:"Attendre la validation de leur compte par un administrateur"})]})]})]}),3===a&&(0,r.jsxs)("div",{className:"step-content ready-step",children:[(0,r.jsx)("div",{className:"ready-animation",children:(0,r.jsx)("div",{className:"ready-icon",children:(0,r.jsx)(C,{size:64})})}),(0,r.jsx)("h2",{className:"step-title",children:"Tout est prêt ! 🚀"}),(0,r.jsx)("p",{className:"step-description",children:"Votre établissement est configuré et prêt à être utilisé. Vous allez maintenant être connecté en tant qu'administrateur principal."}),(0,r.jsxs)("div",{className:"quick-actions",children:[(0,r.jsx)("h3",{children:"Prochaines étapes recommandées :"}),(0,r.jsxs)("div",{className:"actions-list",children:[(0,r.jsxs)("div",{className:"action-item",children:[(0,r.jsx)("div",{className:"action-number",children:"1"}),(0,r.jsxs)("div",{className:"action-content",children:[(0,r.jsx)("span",{className:"action-title",children:"Ajoutez vos premiers livres"}),(0,r.jsx)("span",{className:"action-description",children:"Commencez à construire votre catalogue"})]})]}),(0,r.jsxs)("div",{className:"action-item",children:[(0,r.jsx)("div",{className:"action-number",children:"2"}),(0,r.jsxs)("div",{className:"action-content",children:[(0,r.jsx)("span",{className:"action-title",children:"Invitez vos bibliothécaires"}),(0,r.jsx)("span",{className:"action-description",children:"Donnez-leur un accès administrateur"})]})]}),(0,r.jsxs)("div",{className:"action-item",children:[(0,r.jsx)("div",{className:"action-number",children:"3"}),(0,r.jsxs)("div",{className:"action-content",children:[(0,r.jsx)("span",{className:"action-title",children:"Configurez vos paramètres"}),(0,r.jsx)("span",{className:"action-description",children:"Personnalisez selon vos besoins"})]})]}),(0,r.jsxs)("div",{className:"action-item",children:[(0,r.jsx)("div",{className:"action-number",children:"4"}),(0,r.jsxs)("div",{className:"action-content",children:[(0,r.jsx)("span",{className:"action-title",children:"Partagez le code d'accès"}),(0,r.jsx)("span",{className:"action-description",children:"Permettez aux utilisateurs de s'inscrire"})]})]})]})]}),(0,r.jsxs)("div",{className:"support-info",children:[(0,r.jsx)("h4",{children:"Besoin d'aide ?"}),(0,r.jsx)("p",{children:"Consultez notre documentation en ligne ou contactez notre support technique pour vous accompagner dans la prise en main de votre nouvelle bibliothèque."})]})]})]}),(0,r.jsxs)("div",{className:"setup-navigation",children:[a>1&&(0,r.jsx)("button",{className:"nav-button secondary",onClick:()=>{a>1&&s(a-1)},disabled:d,children:"Précédent"}),(0,r.jsx)("button",{className:"nav-button primary",onClick:()=>{a<3?s(a+1):t()},disabled:d,children:d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"loading-spinner"}),"Chargement..."]}):(0,r.jsxs)(r.Fragment,{children:[3===a?"Accéder à ma bibliothèque":"Continuer",(0,r.jsx)(T,{size:18})]})})]})]}),(0,r.jsx)("style",{children:"\n        .institution-setup {\n          height: 100vh;\n          display: flex;\n          flex-direction: column;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          position: relative;\n          overflow: hidden;\n        }\n\n        .setup-background {\n          position: absolute;\n          inset: 0;\n          overflow: hidden;\n        }\n\n        .background-pattern {\n          position: absolute;\n          inset: 0;\n          background-image: \n            radial-gradient(circle at 25% 25%, rgba(243, 238, 217, 0.08) 0%, transparent 50%),\n            radial-gradient(circle at 75% 75%, rgba(194, 87, 27, 0.06) 0%, transparent 50%);\n          animation: drift 25s ease-in-out infinite;\n        }\n\n        .floating-elements {\n          position: absolute;\n          inset: 0;\n          pointer-events: none;\n        }\n\n        .floating-icon {\n          position: absolute;\n          font-size: 24px;\n          opacity: 0.2;\n          animation: float 8s ease-in-out infinite;\n        }\n\n        .floating-icon:nth-child(1) {\n          top: 20%;\n          left: 10%;\n          animation-delay: 0s;\n        }\n\n        .floating-icon:nth-child(2) {\n          top: 60%;\n          right: 15%;\n          animation-delay: 2s;\n        }\n\n        .floating-icon:nth-child(3) {\n          bottom: 30%;\n          left: 20%;\n          animation-delay: 4s;\n        }\n\n        .floating-icon:nth-child(4) {\n          top: 40%;\n          right: 30%;\n          animation-delay: 6s;\n        }\n\n        @keyframes drift {\n          0%, 100% { transform: translate(0, 0) rotate(0deg); }\n          33% { transform: translate(30px, -30px) rotate(1deg); }\n          66% { transform: translate(-20px, 20px) rotate(-1deg); }\n        }\n\n        @keyframes float {\n          0%, 100% { transform: translateY(0px) rotate(0deg); }\n          50% { transform: translateY(-20px) rotate(5deg); }\n        }\n\n        .setup-container {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          max-width: 1000px;\n          margin: 0 auto;\n          padding: 40px;\n          position: relative;\n          z-index: 1;\n        }\n\n        .setup-header {\n          text-align: center;\n          margin-bottom: 40px;\n          color: #F3EED9;\n        }\n\n        .header-logo {\n          width: 80px;\n          height: 80px;\n          background: rgba(243, 238, 217, 0.15);\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin: 0 auto 24px;\n          border: 1px solid rgba(243, 238, 217, 0.2);\n          backdrop-filter: blur(10px);\n        }\n\n        .setup-title {\n          font-size: 32px;\n          font-weight: 800;\n          margin: 0 0 32px 0;\n          letter-spacing: -0.5px;\n        }\n\n        .progress-container {\n          margin-bottom: 20px;\n        }\n\n        .progress-steps {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          gap: 40px;\n          position: relative;\n        }\n\n        .progress-step {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 12px;\n          opacity: 0.5;\n          transition: all 0.3s ease;\n          position: relative;\n        }\n\n        .progress-step.active {\n          opacity: 1;\n        }\n\n        .progress-step.current {\n          transform: scale(1.1);\n        }\n\n        .step-circle {\n          width: 56px;\n          height: 56px;\n          border-radius: 50%;\n          background: rgba(243, 238, 217, 0.15);\n          border: 2px solid rgba(243, 238, 217, 0.3);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.3s ease;\n        }\n\n        .progress-step.active .step-circle {\n          background: rgba(243, 238, 217, 0.3);\n          border-color: rgba(243, 238, 217, 0.6);\n        }\n\n        .progress-step.current .step-circle {\n          background: #C2571B;\n          border-color: #C2571B;\n          color: #F3EED9;\n          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);\n        }\n\n        .step-info {\n          text-align: center;\n        }\n\n        .step-title {\n          font-size: 14px;\n          font-weight: 600;\n          margin: 0 0 4px 0;\n        }\n\n        .step-subtitle {\n          font-size: 12px;\n          opacity: 0.8;\n        }\n\n        .step-connector {\n          position: absolute;\n          top: 28px;\n          left: 100%;\n          width: 40px;\n          height: 2px;\n          background: rgba(243, 238, 217, 0.2);\n          z-index: -1;\n        }\n\n        .setup-content {\n          flex: 1;\n          background: rgba(255, 255, 255, 0.95);\n          border-radius: 24px;\n          padding: 40px;\n          margin-bottom: 32px;\n          box-shadow: \n            0 24px 48px rgba(62, 92, 73, 0.2),\n            0 8px 24px rgba(62, 92, 73, 0.12);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n          backdrop-filter: blur(20px);\n          overflow-y: auto;\n        }\n\n        .step-content {\n          max-width: 800px;\n          margin: 0 auto;\n        }\n\n        /* Success Step */\n        .success-step {\n          text-align: center;\n        }\n\n        .success-animation {\n          position: relative;\n          margin-bottom: 32px;\n        }\n\n        .success-circle {\n          color: #3E5C49;\n          animation: bounce 0.6s ease-out;\n        }\n\n        .success-sparkles {\n          position: absolute;\n          inset: 0;\n          pointer-events: none;\n        }\n\n        .sparkle {\n          position: absolute;\n          color: #C2571B;\n          animation: sparkle 2s ease-in-out infinite;\n        }\n\n        .sparkle-1 {\n          top: 10%;\n          left: 20%;\n          animation-delay: 0s;\n        }\n\n        .sparkle-2 {\n          top: 20%;\n          right: 15%;\n          animation-delay: 0.5s;\n        }\n\n        .sparkle-3 {\n          bottom: 15%;\n          left: 15%;\n          animation-delay: 1s;\n        }\n\n        @keyframes bounce {\n          0%, 20%, 53%, 80%, 100% { transform: translate3d(0, 0, 0); }\n          40%, 43% { transform: translate3d(0, -30px, 0); }\n          70% { transform: translate3d(0, -15px, 0); }\n          90% { transform: translate3d(0, -4px, 0); }\n        }\n\n        @keyframes sparkle {\n          0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }\n          50% { opacity: 1; transform: scale(1) rotate(180deg); }\n        }\n\n        .step-title {\n          font-size: 28px;\n          font-weight: 800;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n          letter-spacing: -0.5px;\n        }\n\n        .step-description {\n          font-size: 16px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          margin-bottom: 32px;\n        }\n\n        .institution-card {\n          background: #F3EED9;\n          border: 1px solid #E5DCC2;\n          border-radius: 16px;\n          margin-bottom: 32px;\n          overflow: hidden;\n        }\n\n        .card-header {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 20px 24px;\n          background: rgba(62, 92, 73, 0.1);\n          border-bottom: 1px solid #E5DCC2;\n        }\n\n        .card-header h3 {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0;\n        }\n\n        .card-content {\n          padding: 24px;\n        }\n\n        .info-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 16px;\n          padding-bottom: 16px;\n          border-bottom: 1px solid rgba(229, 220, 194, 0.5);\n        }\n\n        .info-row:last-child {\n          margin-bottom: 0;\n          padding-bottom: 0;\n          border-bottom: none;\n        }\n\n        .info-row.highlight {\n          background: rgba(62, 92, 73, 0.05);\n          padding: 16px;\n          border-radius: 12px;\n          border: 1px solid rgba(62, 92, 73, 0.2);\n          border-bottom: 1px solid rgba(62, 92, 73, 0.2);\n        }\n\n        .info-label {\n          font-weight: 600;\n          color: #6E6E6E;\n        }\n\n        .info-value {\n          font-weight: 600;\n          color: #2E2E2E;\n        }\n\n        .code-value {\n          font-family: 'Monaco', 'Consolas', monospace;\n          background: #3E5C49;\n          color: #F3EED9;\n          padding: 8px 12px;\n          border-radius: 8px;\n          font-size: 16px;\n          letter-spacing: 2px;\n        }\n\n        .features-preview h3 {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n          text-align: left;\n        }\n\n        .features-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 16px;\n        }\n\n        .feature-item {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px;\n          background: rgba(62, 92, 73, 0.05);\n          border: 1px solid rgba(62, 92, 73, 0.1);\n          border-radius: 12px;\n          color: #3E5C49;\n          font-weight: 500;\n        }\n\n        /* Share Step */\n        .share-step {\n          text-align: center;\n        }\n\n        .share-header {\n          margin-bottom: 32px;\n        }\n\n        .share-icon {\n          color: #C2571B;\n          margin-bottom: 24px;\n        }\n\n        .code-display {\n          margin-bottom: 40px;\n        }\n\n        .code-container {\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          border-radius: 20px;\n          padding: 32px;\n          color: #F3EED9;\n          position: relative;\n          overflow: hidden;\n        }\n\n        .code-container::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 100px;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.1));\n          transform: skewX(-15deg);\n        }\n\n        .code-label {\n          font-size: 14px;\n          opacity: 0.9;\n          margin-bottom: 16px;\n          text-transform: uppercase;\n          letter-spacing: 1px;\n        }\n\n        .code-value-large {\n          font-size: 48px;\n          font-weight: 800;\n          letter-spacing: 8px;\n          font-family: 'Monaco', 'Consolas', monospace;\n          margin-bottom: 24px;\n          position: relative;\n          z-index: 1;\n        }\n\n        .copy-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          background: rgba(243, 238, 217, 0.2);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px 24px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 600;\n          margin: 0 auto;\n          position: relative;\n          z-index: 1;\n        }\n\n        .copy-button:hover {\n          background: rgba(243, 238, 217, 0.3);\n          transform: translateY(-1px);\n        }\n\n        .copy-button.copied {\n          background: rgba(194, 87, 27, 0.8);\n          border-color: rgba(194, 87, 27, 0.8);\n          color: #F3EED9;\n          cursor: default;\n          pointer-events: none;\n        }\n\n        .sharing-options {\n          margin-bottom: 40px;\n        }\n\n        .sharing-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 24px;\n        }\n\n        .sharing-option {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          padding: 20px;\n          background: rgba(62, 92, 73, 0.05);\n          border: 1px solid rgba(62, 92, 73, 0.1);\n          border-radius: 16px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          color: #3E5C49;\n          font-weight: 600;\n        }\n\n        .sharing-option:hover {\n          background: rgba(62, 92, 73, 0.1);\n          border-color: rgba(62, 92, 73, 0.2);\n        }\n\n        .option-icon {\n          width: 48px;\n          height: 48px;\n          background: #C2571B;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n          flex-shrink: 0;\n        }\n\n        .option-content {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        .option-title {\n          font-size: 16px;\n          font-weight: 700;\n        }\n\n        .option-description {\n          font-size: 12px;\n          color: #6E6E6E;\n        }\n\n        .instructions-card {\n          background: #F3EED9;\n          border: 1px solid #E5DCC2;\n          border-radius: 16px;\n          padding: 24px;\n          color: #3E5C49;\n          font-weight: 600;\n          text-align: left;\n          max-width: 600px;\n          margin: 0 auto;\n        }\n\n        .instructions-list {\n          margin: 0;\n          padding-left: 20px;\n          list-style-type: decimal;\n        }\n\n        .instructions-list li {\n          margin-bottom: 8px;\n          font-weight: 500;\n          font-size: 14px;\n        }\n\n        .setup-navigation {\n          display: flex;\n          justify-content: flex-end;\n          gap: 16px;\n          padding: 0 40px 40px;\n        }\n\n        .nav-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 24px;\n          border-radius: 12px;\n          font-weight: 700;\n          font-size: 14px;\n          cursor: pointer;\n          border: none;\n          transition: all 0.2s ease;\n        }\n\n        .nav-button.primary {\n          background: #C2571B;\n          color: #F3EED9;\n        }\n\n        .nav-button.primary:hover:not(:disabled) {\n          background: #A8481A;\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);\n        }\n\n        .nav-button.secondary {\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 1px solid #E5DCC2;\n        }\n\n        .nav-button.secondary:hover:not(:disabled) {\n          background: #EAEADC;\n          color: #2E2E2E;\n          transform: translateY(-1px);\n        }\n\n        .nav-button:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          transform: none;\n          box-shadow: none;\n        }\n\n        .loading-spinner {\n          width: 24px;\n          height: 24px;\n          border: 3px solid rgba(243, 238, 217, 0.3);\n          border-top: 3px solid #C2571B;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin: 0 auto;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})};class Je extends Error{constructor(e,n="FunctionsError",t){super(e),this.name=n,this.context=t}}class Qe extends Je{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Xe extends Je{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ze extends Je{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var en;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(en||(en={}));class nn{constructor(e,{headers:n={},customFetch:r,region:a=en.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=(e=>{let n;return n=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(t.bind(t,907)).then(({default:n})=>n(...e)):fetch),(...e)=>n(...e)})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var t,r,a,i,s;return r=this,a=void 0,s=function*(){try{const{headers:r,method:a,body:i}=n;let s={},{region:o}=n;o||(o=this.region);const l=new URL(`${this.url}/${e}`);let c;o&&"any"!==o&&(s["x-region"]=o,l.searchParams.set("forceFunctionRegion",o)),i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!=typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",c=i):"string"==typeof i?(s["Content-Type"]="text/plain",c=i):"undefined"!=typeof FormData&&i instanceof FormData?c=i:(s["Content-Type"]="application/json",c=JSON.stringify(i)));const d=yield this.fetch(l.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),r),body:c}).catch(e=>{throw new Qe(e)}),u=d.headers.get("x-relay-error");if(u&&"true"===u)throw new Xe(d);if(!d.ok)throw new Ze(d);let p,h=(null!==(t=d.headers.get("Content-Type"))&&void 0!==t?t:"text/plain").split(";")[0].trim();return p="application/json"===h?yield d.json():"application/octet-stream"===h?yield d.blob():"text/event-stream"===h?d:"multipart/form-data"===h?yield d.formData():yield d.text(),{data:p,error:null,response:d}}catch(e){return{data:null,error:e,response:e instanceof Ze||e instanceof Xe?e.context:void 0}}},new((i=void 0)||(i=Promise))(function(e,n){function t(e){try{l(s.next(e))}catch(e){n(e)}}function o(e){try{l(s.throw(e))}catch(e){n(e)}}function l(n){var r;n.done?e(n.value):(r=n.value,r instanceof i?r:new i(function(e){e(r)})).then(t,o)}l((s=s.apply(r,a||[])).next())})}}var tn=t(279);const{PostgrestClient:rn,PostgrestQueryBuilder:an,PostgrestFilterBuilder:sn,PostgrestTransformBuilder:on,PostgrestBuilder:ln,PostgrestError:cn}=tn,dn=function(){if("undefined"!=typeof WebSocket)return WebSocket;if(void 0!==global.WebSocket)return global.WebSocket;if(void 0!==window.WebSocket)return window.WebSocket;if(void 0!==self.WebSocket)return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}();var un,pn,hn,mn,fn,gn,xn;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(un||(un={})),(xn=pn||(pn={})).closed="closed",xn.errored="errored",xn.joined="joined",xn.joining="joining",xn.leaving="leaving",function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(hn||(hn={})),function(e){e.websocket="websocket"}(mn||(mn={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(fn||(fn={}));class bn{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),t=new TextDecoder;return this._decodeBroadcast(e,n,t)}_decodeBroadcast(e,n,t){const r=n.getUint8(1),a=n.getUint8(2);let i=this.HEADER_LENGTH+2;const s=t.decode(e.slice(i,i+r));i+=r;const o=t.decode(e.slice(i,i+a));return i+=a,{ref:null,topic:s,event:o,payload:JSON.parse(t.decode(e.slice(i,e.byteLength)))}}}class vn{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(gn||(gn={}));const yn=(e,n,t={})=>{var r;const a=null!==(r=t.skipTypes)&&void 0!==r?r:[];return Object.keys(n).reduce((t,r)=>(t[r]=wn(r,e,n,a),t),{})},wn=(e,n,t,r)=>{const a=n.find(n=>n.name===e),i=null==a?void 0:a.type,s=t[e];return i&&!r.includes(i)?jn(i,s):kn(s)},jn=(e,n)=>{if("_"===e.charAt(0)){const t=e.slice(1,e.length);return Sn(n,t)}switch(e){case gn.bool:return En(n);case gn.float4:case gn.float8:case gn.int2:case gn.int4:case gn.int8:case gn.numeric:case gn.oid:return Nn(n);case gn.json:case gn.jsonb:return Cn(n);case gn.timestamp:return _n(n);case gn.abstime:case gn.date:case gn.daterange:case gn.int4range:case gn.int8range:case gn.money:case gn.reltime:case gn.text:case gn.time:case gn.timestamptz:case gn.timetz:case gn.tsrange:case gn.tstzrange:default:return kn(n)}},kn=e=>e,En=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Nn=e=>{if("string"==typeof e){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},Cn=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},Sn=(e,n)=>{if("string"!=typeof e)return e;const t=e.length-1,r=e[t];if("{"===e[0]&&"}"===r){let r;const a=e.slice(1,t);try{r=JSON.parse("["+a+"]")}catch(e){r=a?a.split(","):[]}return r.map(e=>jn(n,e))}return e},_n=e=>"string"==typeof e?e.replace(" ","T"):e,Fn=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class zn{constructor(e,n,t={},r=1e4){this.channel=e,this.event=n,this.payload=t,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var t;return this._hasReceived(e)&&n(null===(t=this.receivedResp)||void 0===t?void 0:t.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(n=>n.status===e).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Dn,Tn,Pn,An;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(Dn||(Dn={}));class In{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const t=(null==n?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(t.state,{},e=>{const{onJoin:n,onLeave:t,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=In.syncState(this.state,e,n,t),this.pendingDiffs.forEach(e=>{this.state=In.syncDiff(this.state,e,n,t)}),this.pendingDiffs=[],r()}),this.channel._on(t.diff,{},e=>{const{onJoin:n,onLeave:t,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=In.syncDiff(this.state,e,n,t),r())}),this.onJoin((e,n,t)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:n,newPresences:t})}),this.onLeave((e,n,t)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:n,leftPresences:t})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,t,r){const a=this.cloneDeep(e),i=this.transformState(n),s={},o={};return this.map(a,(e,n)=>{i[e]||(o[e]=n)}),this.map(i,(e,n)=>{const t=a[e];if(t){const r=n.map(e=>e.presence_ref),a=t.map(e=>e.presence_ref),i=n.filter(e=>a.indexOf(e.presence_ref)<0),l=t.filter(e=>r.indexOf(e.presence_ref)<0);i.length>0&&(s[e]=i),l.length>0&&(o[e]=l)}else s[e]=n}),this.syncDiff(a,{joins:s,leaves:o},t,r)}static syncDiff(e,n,t,r){const{joins:a,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return t||(t=()=>{}),r||(r=()=>{}),this.map(a,(n,r)=>{var a;const i=null!==(a=e[n])&&void 0!==a?a:[];if(e[n]=this.cloneDeep(r),i.length>0){const t=e[n].map(e=>e.presence_ref),r=i.filter(e=>t.indexOf(e.presence_ref)<0);e[n].unshift(...r)}t(n,i,r)}),this.map(i,(n,t)=>{let a=e[n];if(!a)return;const i=t.map(e=>e.presence_ref);a=a.filter(e=>i.indexOf(e.presence_ref)<0),e[n]=a,r(n,a,t),0===a.length&&delete e[n]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(t=>n(t,e[t]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,t)=>{const r=e[t];return n[t]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(Tn||(Tn={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(Pn||(Pn={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(An||(An={}));class Rn{constructor(e,n={config:{}},t){this.topic=e,this.params=n,this.socket=t,this.bindings={},this.state=pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new zn(this,hn.join,this.params,this.timeout),this.rejoinTimer=new vn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pn.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hn.reply,{},(e,n)=>{this._trigger(this._replyEventName(n),e)}),this.presence=new In(this),this.broadcastEndpointURL=Fn(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var t,r;if(this.socket.isConnected()||this.socket.connect(),this.state==pn.closed){const{config:{broadcast:a,presence:i,private:s}}=this.params;this._onError(n=>null==e?void 0:e(An.CHANNEL_ERROR,n)),this._onClose(()=>null==e?void 0:e(An.CLOSED));const o={},l={broadcast:a,presence:i,postgres_changes:null!==(r=null===(t=this.bindings.postgres_changes)||void 0===t?void 0:t.map(e=>e.filter))&&void 0!==r?r:[],private:s};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},o)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:n})=>{var t;if(this.socket.setAuth(),void 0!==n){const r=this.bindings.postgres_changes,a=null!==(t=null==r?void 0:r.length)&&void 0!==t?t:0,i=[];for(let t=0;t<a;t++){const a=r[t],{filter:{event:s,schema:o,table:l,filter:c}}=a,d=n&&n[t];if(!d||d.event!==s||d.schema!==o||d.table!==l||d.filter!==c)return this.unsubscribe(),this.state=pn.errored,void(null==e||e(An.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},a),{id:d.id}))}return this.bindings.postgres_changes=i,void(e&&e(An.SUBSCRIBED))}null==e||e(An.SUBSCRIBED)}).receive("error",n=>{this.state=pn.errored,null==e||e(An.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(n).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(An.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,t){return this._on(e,n,t)}async send(e,n={}){var t,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(t=>{var r,a,i;const s=this._push(e.type,e,n.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===i?void 0:i.ack)||t("ok"),s.receive("ok",()=>t("ok")),s.receive("error",()=>t("error")),s.receive("timeout",()=>t("timed out"))});{const{event:a,payload:i}=e,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(t=n.timeout)&&void 0!==t?t:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(e){return"AbortError"===e.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hn.close,"leave",this._joinRef())};this.joinPush.destroy();let t=null;return new Promise(r=>{t=new zn(this,hn.leave,{},e),t.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),t.send(),this._canPush()||t.trigger("ok",{})}).finally(()=>{null==t||t.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,t){const r=new AbortController,a=setTimeout(()=>r.abort(),t),i=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(a),i}_push(e,n,t=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new zn(this,e,n,t);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,n,t){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,t){var r,a;const i=e.toLocaleLowerCase(),{close:s,error:o,leave:l,join:c}=hn;if(t&&[s,o,l,c].indexOf(i)>=0&&t!==this._joinRef())return;let d=this._onMessage(i,n,t);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var n,t,r;return"*"===(null===(n=e.filter)||void 0===n?void 0:n.event)||(null===(r=null===(t=e.filter)||void 0===t?void 0:t.event)||void 0===r?void 0:r.toLocaleLowerCase())===i}).map(e=>e.callback(d,t)):null===(a=this.bindings[i])||void 0===a||a.filter(e=>{var t,r,a,s,o,l;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,s=null===(t=e.filter)||void 0===t?void 0:t.event;return i&&(null===(r=n.ids)||void 0===r?void 0:r.includes(i))&&("*"===s||(null==s?void 0:s.toLocaleLowerCase())===(null===(a=n.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const t=null===(o=null===(s=null==e?void 0:e.filter)||void 0===s?void 0:s.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===t||t===(null===(l=null==n?void 0:n.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i}).map(e=>{if("object"==typeof d&&"ids"in d){const e=d.data,{schema:n,table:t,commit_timestamp:r,type:a,errors:i}=e,s={schema:n,table:t,commit_timestamp:r,eventType:a,new:{},old:{},errors:i};d=Object.assign(Object.assign({},s),this._getPayloadRecords(e))}e.callback(d,t)})}_isClosed(){return this.state===pn.closed}_isJoined(){return this.state===pn.joined}_isJoining(){return this.state===pn.joining}_isLeaving(){return this.state===pn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,t){const r=e.toLocaleLowerCase(),a={type:r,filter:n,callback:t};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,n){const t=e.toLocaleLowerCase();return this.bindings[t]=this.bindings[t].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===t&&Rn.isEqual(e.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const t in e)if(e[t]!==n[t])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(hn.close,{},e)}_onError(e){this._on(hn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(n.new=yn(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(n.old=yn(e.columns,e.old_record)),n}}const Ln=()=>{};class Bn{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ln,this.ref=0,this.logger=Ln,this.conn=null,this.sendBuffer=[],this.serializer=new bn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let n;return n=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(t.bind(t,907)).then(({default:n})=>n(...e)):fetch),(...e)=>n(...e)},this.endPoint=`${e}/${mn.websocket}`,this.httpEndpoint=Fn(e),(null==n?void 0:n.transport)?this.transport=n.transport:this.transport=null,(null==n?void 0:n.params)&&(this.params=n.params),(null==n?void 0:n.timeout)&&(this.timeout=n.timeout),(null==n?void 0:n.logger)&&(this.logger=n.logger),((null==n?void 0:n.logLevel)||(null==n?void 0:n.log_level))&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),(null==n?void 0:n.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=null===(r=null==n?void 0:n.params)||void 0===r?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=(null==n?void 0:n.reconnectAfterMs)?n.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==n?void 0:n.encode)?n.encode:(e,n)=>n(JSON.stringify(e)),this.decode=(null==n?void 0:n.decode)?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vn(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null==n?void 0:n.fetch),null==n?void 0:n.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null==n?void 0:n.worker)||!1,this.workerUrl=null==n?void 0:n.workerUrl}this.accessToken=(null==n?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=dn),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=n?n:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(e=>e.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,t){this.logger(e,n,t)}connectionState(){switch(this.conn&&this.conn.readyState){case un.connecting:return fn.Connecting;case un.open:return fn.Open;case un.closing:return fn.Closing;default:return fn.Closed}}isConnected(){return this.connectionState()===fn.Open}channel(e,n={config:{}}){const t=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===t);if(r)return r;{const t=new Rn(`realtime:${e}`,n,this);return this.channels.push(t),t}}push(e){const{topic:n,event:t,payload:r,ref:a}=e,i=()=>{this.encode(e,e=>{var n;null===(n=this.conn)||void 0===n||n.send(e)})};this.log("push",`${n} ${t} (${a})`,r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(e=>{const t={access_token:n,version:"realtime-js/2.11.15"};n&&e.updateJoinPayload(t),e.joinedOnce&&e._isJoined()&&e._push(hn.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:n,event:t,payload:r,ref:a}=e;"phoenix"===n&&"phx_reply"===t&&this.heartbeatCallback("ok"==e.payload.status?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${n} ${t} ${a&&"("+a+")"||""}`,r),Array.from(this.channels).filter(e=>e._isMember(n)).forEach(e=>e._trigger(t,r,a)),this.stateChangeCallbacks.message.forEach(n=>n(e))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(hn.error))}_appendParams(e,n){if(0===Object.keys(n).length)return e;const t=e.match(/\?/)?"&":"?";return`${e}${t}${new URLSearchParams(n)}`}_workerObjectUrl(e){let n;if(e)n=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});n=URL.createObjectURL(e)}return n}}class On extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Mn(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class $n extends On{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Un extends On{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const qn=e=>{let n;return n=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(t.bind(t,907)).then(({default:n})=>n(...e)):fetch),(...e)=>n(...e)},Hn=e=>{if(Array.isArray(e))return e.map(e=>Hn(e));if("function"==typeof e||e!==Object(e))return e;const n={};return Object.entries(e).forEach(([e,t])=>{const r=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));n[r]=Hn(t)}),n};var Vn=function(e,n,t,r){return new(t||(t=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(s,o)}l((r=r.apply(e,n||[])).next())})};const Wn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Kn=(e,n,r)=>Vn(void 0,void 0,void 0,function*(){const a=yield(i=void 0,s=void 0,o=void 0,l=function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(t.bind(t,907))).Response:Response},new(o||(o=Promise))(function(e,n){function t(e){try{a(l.next(e))}catch(e){n(e)}}function r(e){try{a(l.throw(e))}catch(e){n(e)}}function a(n){var a;n.done?e(n.value):(a=n.value,a instanceof o?a:new o(function(e){e(a)})).then(t,r)}a((l=l.apply(i,s||[])).next())}));var i,s,o,l;e instanceof a&&!(null==r?void 0:r.noResolveJson)?e.json().then(t=>{n(new $n(Wn(t),e.status||500))}).catch(e=>{n(new Un(Wn(e),e))}):n(new Un(Wn(e),e))});function Gn(e,n,t,r,a,i){return Vn(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(t,((e,n,t,r)=>{const a={method:e,headers:(null==n?void 0:n.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json"},null==n?void 0:n.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),t))})(n,r,a,i)).then(e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()}).then(e=>s(e)).catch(e=>Kn(e,o,r))})})}function Yn(e,n,t,r){return Vn(this,void 0,void 0,function*(){return Gn(e,"GET",n,t,r)})}function Jn(e,n,t,r,a){return Vn(this,void 0,void 0,function*(){return Gn(e,"POST",n,r,a,t)})}function Qn(e,n,t,r,a){return Vn(this,void 0,void 0,function*(){return Gn(e,"DELETE",n,r,a,t)})}var Xn=function(e,n,t,r){return new(t||(t=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(s,o)}l((r=r.apply(e,n||[])).next())})};const Zn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},et={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nt{constructor(e,n={},t,r){this.url=e,this.headers=n,this.bucketId=t,this.fetch=qn(r)}uploadOrUpdate(e,n,t,r){return Xn(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},et),r);let s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const o=i.metadata;"undefined"!=typeof Blob&&t instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",t)):"undefined"!=typeof FormData&&t instanceof FormData?(a=t,a.append("cacheControl",i.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=t,s["cache-control"]=`max-age=${i.cacheControl}`,s["content-type"]=i.contentType,o&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null==r?void 0:r.headers)&&(s=Object.assign(Object.assign({},s),r.headers));const l=this._removeEmptyFolders(n),c=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:a,headers:s},(null==i?void 0:i.duplex)?{duplex:i.duplex}:{})),u=yield d.json();return d.ok?{data:{path:l,id:u.Id,fullPath:u.Key},error:null}:{data:null,error:u}}catch(e){if(Mn(e))return{data:null,error:e};throw e}})}upload(e,n,t){return Xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,t)})}uploadToSignedUrl(e,n,t,r){return Xn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${i}`);s.searchParams.set("token",n);try{let e;const n=Object.assign({upsert:et.upsert},r),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(n.upsert)});"undefined"!=typeof Blob&&t instanceof Blob?(e=new FormData,e.append("cacheControl",n.cacheControl),e.append("",t)):"undefined"!=typeof FormData&&t instanceof FormData?(e=t,e.append("cacheControl",n.cacheControl)):(e=t,i["cache-control"]=`max-age=${n.cacheControl}`,i["content-type"]=n.contentType);const o=yield this.fetch(s.toString(),{method:"PUT",body:e,headers:i}),l=yield o.json();return o.ok?{data:{path:a,fullPath:l.Key},error:null}:{data:null,error:l}}catch(e){if(Mn(e))return{data:null,error:e};throw e}})}createSignedUploadUrl(e,n){return Xn(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e);const r=Object.assign({},this.headers);(null==n?void 0:n.upsert)&&(r["x-upsert"]="true");const a=yield Jn(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:r}),i=new URL(this.url+a.url),s=i.searchParams.get("token");if(!s)throw new On("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:s},error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}})}update(e,n,t){return Xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,t)})}move(e,n,t){return Xn(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:null==t?void 0:t.destinationBucket},{headers:this.headers}),error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}})}copy(e,n,t){return Xn(this,void 0,void 0,function*(){try{return{data:{path:(yield Jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:null==t?void 0:t.destinationBucket},{headers:this.headers})).Key},error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}})}createSignedUrl(e,n,t){return Xn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=yield Jn(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},(null==t?void 0:t.transform)?{transform:t.transform}:{}),{headers:this.headers});const i=(null==t?void 0:t.download)?`&download=${!0===t.download?"":t.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}})}createSignedUrls(e,n,t){return Xn(this,void 0,void 0,function*(){try{const r=yield Jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=(null==t?void 0:t.download)?`&download=${!0===t.download?"":t.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${a}`):null})),error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}})}download(e,n){return Xn(this,void 0,void 0,function*(){const t=void 0!==(null==n?void 0:n.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==n?void 0:n.transform)||{}),a=r?`?${r}`:"";try{const n=this._getFinalPath(e),r=yield Yn(this.fetch,`${this.url}/${t}/${n}${a}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}})}info(e){return Xn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const e=yield Yn(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Hn(e),error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}})}exists(e){return Xn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield function(e,n,t){return Vn(this,void 0,void 0,function*(){return Gn(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),undefined)})}(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(e){if(Mn(e)&&e instanceof Un){const n=e.originalError;if([400,404].includes(null==n?void 0:n.status))return{data:!1,error:e}}throw e}})}getPublicUrl(e,n){const t=this._getFinalPath(e),r=[],a=(null==n?void 0:n.download)?`download=${!0===n.download?"":n.download}`:"";""!==a&&r.push(a);const i=void 0!==(null==n?void 0:n.transform)?"render/image":"object",s=this.transformOptsToQueryString((null==n?void 0:n.transform)||{});""!==s&&r.push(s);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${t}${o}`)}}}remove(e){return Xn(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}})}list(e,n,t){return Xn(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Zn),n),{prefix:e||""});return{data:yield Jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const tt={"X-Client-Info":"storage-js/2.7.1"};var rt=function(e,n,t,r){return new(t||(t=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(s,o)}l((r=r.apply(e,n||[])).next())})};class at{constructor(e,n={},t){this.url=e,this.headers=Object.assign(Object.assign({},tt),n),this.fetch=qn(t)}listBuckets(){return rt(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}})}getBucket(e){return rt(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}})}createBucket(e,n={public:!1}){return rt(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}})}updateBucket(e,n){return rt(this,void 0,void 0,function*(){try{const t=yield function(e,n,t,r){return Vn(this,void 0,void 0,function*(){return Gn(e,"PUT",n,r,undefined,t)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers});return{data:t,error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}})}emptyBucket(e){return rt(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}})}deleteBucket(e){return rt(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}})}}class it extends at{constructor(e,n={},t){super(e,n,t)}from(e){return new nt(this.url,this.headers,e,this.fetch)}}let st="";st="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const ot={headers:{"X-Client-Info":`supabase-js-${st}/2.52.0`}},lt={schema:"public"},ct={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dt={};var ut=t(907);const pt=e=>{let n;return n=e||("undefined"==typeof fetch?ut.default:fetch),(...e)=>n(...e)},ht=(e,n,t)=>{const r=pt(t),a="undefined"==typeof Headers?ut.Headers:Headers;return(t,i)=>{return s=void 0,o=void 0,c=function*(){var s;const o=null!==(s=yield n())&&void 0!==s?s:e;let l=new a(null==i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),r(t,Object.assign(Object.assign({},i),{headers:l}))},new((l=void 0)||(l=Promise))(function(e,n){function t(e){try{a(c.next(e))}catch(e){n(e)}}function r(e){try{a(c.throw(e))}catch(e){n(e)}}function a(n){var a;n.done?e(n.value):(a=n.value,a instanceof l?a:new l(function(e){e(a)})).then(t,r)}a((c=c.apply(s,o||[])).next())});var s,o,l,c}};const mt="2.71.1",ft=3e4,gt={"X-Client-Info":`gotrue-js/${mt}`},xt="X-Supabase-Api-Version",bt=Date.parse("2024-01-01T00:00:00.0Z"),vt="2024-01-01",yt=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class wt extends Error{constructor(e,n,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=t}}function jt(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class kt extends wt{constructor(e,n,t){super(e,n,t),this.name="AuthApiError",this.status=n,this.code=t}}class Et extends wt{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Nt extends wt{constructor(e,n,t,r){super(e,t,r),this.name=n,this.status=t}}class Ct extends Nt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class St extends Nt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _t extends Nt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ft extends Nt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zt extends Nt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dt extends Nt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Tt(e){return jt(e)&&"AuthRetryableFetchError"===e.name}class Pt extends Nt{constructor(e,n,t){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=t}}class At extends Nt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const It="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rt=" \t\n\r=".split(""),Lt=(()=>{const e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<Rt.length;n+=1)e[Rt[n].charCodeAt(0)]=-2;for(let n=0;n<It.length;n+=1)e[It[n].charCodeAt(0)]=n;return e})();function Bt(e,n,t){if(null!==e)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){const e=n.queue>>n.queuedBits-6&63;t(It[e]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const e=n.queue>>n.queuedBits-6&63;t(It[e]),n.queuedBits-=6}}function Ot(e,n,t){const r=Lt[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8}function Mt(e){const n=[],t=e=>{n.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=e=>{!function(e,n,t){if(0===n.utf8seq){if(e<=127)return void t(e);for(let t=1;t<6;t+=1)if(!(e>>7-t&1)){n.utf8seq=t;break}if(2===n.utf8seq)n.codepoint=31&e;else if(3===n.utf8seq)n.codepoint=15&e;else{if(4!==n.utf8seq)throw new Error("Invalid UTF-8 sequence");n.codepoint=7&e}n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|63&e,n.utf8seq-=1,0===n.utf8seq&&t(n.codepoint)}}(e,r,t)};for(let n=0;n<e.length;n+=1)Ot(e.charCodeAt(n),a,i);return n.join("")}function $t(e,n){if(!(e<=127)){if(e<=2047)return n(192|e>>6),void n(128|63&e);if(e<=65535)return n(224|e>>12),n(128|e>>6&63),void n(128|63&e);if(e<=1114111)return n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),void n(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}n(e)}function Ut(e){const n=[],t={queue:0,queuedBits:0},r=e=>{n.push(e)};for(let n=0;n<e.length;n+=1)Ot(e.charCodeAt(n),t,r);return new Uint8Array(n)}function qt(e){const n=[],t={queue:0,queuedBits:0},r=e=>{n.push(e)};return e.forEach(e=>Bt(e,t,r)),Bt(null,t,r),n.join("")}const Ht=()=>"undefined"!=typeof window&&"undefined"!=typeof document,Vt={tested:!1,writable:!1},Wt=()=>{if(!Ht())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(Vt.tested)return Vt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Vt.tested=!0,Vt.writable=!0}catch(e){Vt.tested=!0,Vt.writable=!1}return Vt.writable},Kt=e=>{let n;return n=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(t.bind(t,907)).then(({default:n})=>n(...e)):fetch),(...e)=>n(...e)},Gt=async(e,n,t)=>{await e.setItem(n,JSON.stringify(t))},Yt=async(e,n)=>{const t=await e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch(e){return t}},Jt=async(e,n)=>{await e.removeItem(n)};class Qt{constructor(){this.promise=new Qt.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}function Xt(e){const n=e.split(".");if(3!==n.length)throw new At("Invalid JWT structure");for(let e=0;e<n.length;e++)if(!yt.test(n[e]))throw new At("JWT not in base64url format");return{header:JSON.parse(Mt(n[0])),payload:JSON.parse(Mt(n[1])),signature:Ut(n[2]),raw:{header:n[0],payload:n[1]}}}function Zt(e){return("0"+e.toString(16)).substr(-2)}async function er(e,n,t=!1){const r=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=e.length;let t="";for(let r=0;r<56;r++)t+=e.charAt(Math.floor(Math.random()*n));return t}return crypto.getRandomValues(e),Array.from(e,Zt).join("")}();let a=r;t&&(a+="/PASSWORD_RECOVERY"),await Gt(e,`${n}-code-verifier`,a);const i=await async function(e){if("undefined"==typeof crypto||void 0===crypto.subtle||"undefined"==typeof TextEncoder)return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await async function(e){const n=(new TextEncoder).encode(e),t=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(t);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(r);return[i,r===i?"plain":"s256"]}Qt.promiseConstructor=Promise;const nr=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,tr=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rr(e){if(!tr.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ar(){return new Proxy({},{get:(e,n)=>{if("__isUserNotAvailableProxy"===n)return!0;if("symbol"==typeof n){const e=n.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ir(e){return JSON.parse(JSON.stringify(e))}const sr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),or=[502,503,504];async function lr(e){var n,t;if(!("object"==typeof(t=e)&&null!==t&&"status"in t&&"ok"in t&&"json"in t&&"function"==typeof t.json))throw new Dt(sr(e),0);if(or.includes(e.status))throw new Dt(sr(e),e.status);let r,a;try{r=await e.json()}catch(e){throw new Et(sr(e),e)}const i=function(e){const n=e.headers.get(xt);if(!n)return null;if(!n.match(nr))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch(e){return null}}(e);if(i&&i.getTime()>=bt&&"object"==typeof r&&r&&"string"==typeof r.code?a=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new Pt(sr(r),e.status,(null===(n=r.weak_password)||void 0===n?void 0:n.reasons)||[]);if("session_not_found"===a)throw new Ct}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,n)=>e&&"string"==typeof n,!0))throw new Pt(sr(r),e.status,r.weak_password.reasons);throw new kt(sr(r),e.status||500,a)}async function cr(e,n,t,r){var a;const i=Object.assign({},null==r?void 0:r.headers);i[xt]||(i[xt]=vt),(null==r?void 0:r.jwt)&&(i.Authorization=`Bearer ${r.jwt}`);const s=null!==(a=null==r?void 0:r.query)&&void 0!==a?a:{};(null==r?void 0:r.redirectTo)&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await async function(e,n,t,r,a,i){const s=((e,n,t,r)=>{const a={method:e,headers:(null==n?void 0:n.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==n?void 0:n.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),t))})(n,r,{},i);let o;try{o=await e(t,Object.assign({},s))}catch(e){throw console.error(e),new Dt(sr(e),0)}if(o.ok||await lr(o),null==r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(e){await lr(e)}}(e,n,t+o,{headers:i,noResolveJson:null==r?void 0:r.noResolveJson},0,null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function dr(e){var n;let t=null;var r;return function(e){return e.access_token&&e.refresh_token&&e.expires_in}(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r))),{data:{session:t,user:null!==(n=e.user)&&void 0!==n?n:e},error:null}}function ur(e){const n=dr(e);return!n.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,n)=>e&&"string"==typeof n,!0)&&(n.data.weak_password=e.weak_password),n}function pr(e){var n;return{data:{user:null!==(n=e.user)&&void 0!==n?n:e},error:null}}function hr(e){return{data:e,error:null}}function mr(e){const{action_link:n,email_otp:t,hashed_token:r,redirect_to:a,verification_type:i}=e,s=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:n,email_otp:t,hashed_token:r,redirect_to:a,verification_type:i},user:Object.assign({},s)},error:null}}function fr(e){return e}const gr=["global","local","others"];class xr{constructor({url:e="",headers:n={},fetch:t}){this.url=e,this.headers=n,this.fetch=Kt(t),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=gr[0]){if(gr.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gr.join(", ")}`);try{return await cr(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(jt(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,n={}){try{return await cr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:pr})}catch(e){if(jt(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{const{options:n}=e,t=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t}(e,["options"]),r=Object.assign(Object.assign({},t),n);return"newEmail"in t&&(r.new_email=null==t?void 0:t.newEmail,delete r.newEmail),await cr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:mr,redirectTo:null==n?void 0:n.redirectTo})}catch(e){if(jt(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await cr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:pr})}catch(e){if(jt(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var n,t,r,a,i,s,o;try{const l={nextPage:null,lastPage:0,total:0},c=await cr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(t=null===(n=null==e?void 0:e.page)||void 0===n?void 0:n.toString())&&void 0!==t?t:"",per_page:null!==(a=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:fr});if(c.error)throw c.error;const d=await c.json(),u=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,p=null!==(o=null===(s=c.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==o?o:[];return p.length>0&&(p.forEach(e=>{const n=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),t=JSON.parse(e.split(";")[1].split("=")[1]);l[`${t}Page`]=n}),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(e){if(jt(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){rr(e);try{return await cr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:pr})}catch(e){if(jt(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,n){rr(e);try{return await cr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:pr})}catch(e){if(jt(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,n=!1){rr(e);try{return await cr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:pr})}catch(e){if(jt(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){rr(e.userId);try{const{data:n,error:t}=await cr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:n,error:t}}catch(e){if(jt(e))return{data:null,error:e};throw e}}async _deleteFactor(e){rr(e.userId),rr(e.id);try{return{data:await cr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(jt(e))return{data:null,error:e};throw e}}}function br(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}const vr=!!(globalThis&&Wt()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class yr extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wr extends yr{}async function jr(e,n,t){vr&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),vr&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===n?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===n)throw vr&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wr(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vr)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(e){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}vr&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await t()}finally{vr&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const kr={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gt,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Er(e,n,t){return await t()}const Nr={};class Cr{constructor(e){var n,t;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cr.nextInstanceID,Cr.nextInstanceID+=1,this.instanceID>0&&Ht()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},kr),e);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new xr({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Kt(r.fetch),this.lock=r.lock||Er,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Ht()&&(null===(n=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===n?void 0:n.locks)?this.lock=jr:this.lock=Er,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Wt()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=br(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=br(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null===(t=this.broadcastChannel)||void 0===t||t.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,n;return null!==(n=null===(e=Nr[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==n?n:{keys:[]}}set jwks(e){Nr[this.storageKey]=Object.assign(Object.assign({},Nr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return null!==(n=null===(e=Nr[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==n?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Nr[this.storageKey]=Object.assign(Object.assign({},Nr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mt}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const n=function(e){const n={},t=new URL(e);if(t.hash&&"#"===t.hash[0])try{new URLSearchParams(t.hash.substring(1)).forEach((e,t)=>{n[t]=e})}catch(e){}return t.searchParams.forEach((e,t)=>{n[t]=e}),n}(window.location.href);let t="none";if(this._isImplicitGrantCallback(n)?t="implicit":await this._isPKCECallback(n)&&(t="pkce"),Ht()&&this.detectSessionInUrl&&"none"!==t){const{data:r,error:a}=await this._getSessionFromURL(n,t);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return jt(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const n=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===n||"identity_not_found"===n||"single_identity_not_deletable"===n)return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return jt(e)?{error:e}:{error:new Et("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,t,r;try{const a=await cr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(t=null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:dr}),{data:i,error:s}=a;if(s||!i)return{data:{user:null,session:null},error:s};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(e){if(jt(e))return{data:{user:null,session:null},error:e};throw e}}async signUp(e){var n,t,r;try{let a;if("email"in e){const{email:t,password:r,options:i}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await er(this.storage,this.storageKey)),a=await cr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==i?void 0:i.emailRedirectTo,body:{email:t,password:r,data:null!==(n=null==i?void 0:i.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:s,code_challenge_method:o},xform:dr})}else{if(!("phone"in e))throw new _t("You must provide either an email or phone number and a password");{const{phone:n,password:i,options:s}=e;a=await cr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:n,password:i,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},channel:null!==(r=null==s?void 0:s.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:dr})}}const{data:i,error:s}=a;if(s||!i)return{data:{user:null,session:null},error:s};const o=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(e){if(jt(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithPassword(e){try{let n;if("email"in e){const{email:t,password:r,options:a}=e;n=await cr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:t,password:r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:ur})}else{if(!("phone"in e))throw new _t("You must provide either an email or phone number and a password");{const{phone:t,password:r,options:a}=e;n=await cr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:t,password:r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:ur})}}const{data:t,error:r}=n;return r?{data:{user:null,session:null},error:r}:t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({user:t.user,session:t.session},t.weak_password?{weakPassword:t.weak_password}:null),error:r}):{data:{user:null,session:null},error:new St}}catch(e){if(jt(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(e){var n,t,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(t=e.options)||void 0===t?void 0:t.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if("solana"===n)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,t,r,a,i,s,o,l,c,d,u,p;let h,m;if("message"in e)h=e.message,m=e.signature;else{const{chain:u,wallet:p,statement:f,options:g}=e;let x;if(Ht())if("object"==typeof p)x=p;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");x=e.solana}else{if("object"!=typeof p||!(null==g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=p}const b=new URL(null!==(n=null==g?void 0:g.url)&&void 0!==n?n:window.location.href);if("signIn"in x&&x.signIn){const e=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==g?void 0:g.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),f?{statement:f}:null));let n;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])n=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");n=e}if(!("signedMessage"in n&&"signature"in n&&("string"==typeof n.signedMessage||n.signedMessage instanceof Uint8Array)&&n.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");h="string"==typeof n.signedMessage?n.signedMessage:(new TextDecoder).decode(n.signedMessage),m=n.signature}else{if(!("signMessage"in x&&"function"==typeof x.signMessage&&"publicKey"in x&&"object"==typeof x&&x.publicKey&&"toBase58"in x.publicKey&&"function"==typeof x.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");h=[`${b.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${null!==(r=null===(t=null==g?void 0:g.signInWithSolana)||void 0===t?void 0:t.issuedAt)&&void 0!==r?r:(new Date).toISOString()}`,...(null===(a=null==g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(i=null==g?void 0:g.signInWithSolana)||void 0===i?void 0:i.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(s=null==g?void 0:g.signInWithSolana)||void 0===s?void 0:s.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(o=null==g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(l=null==g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(d=null===(c=null==g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===d?void 0:d.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await x.signMessage((new TextEncoder).encode(h),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=e}}try{const{data:n,error:t}=await cr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:h,signature:qt(m)},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(p=e.options)||void 0===p?void 0:p.captchaToken}}:null),xform:dr});if(t)throw t;return n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({},n),error:t}):{data:{user:null,session:null},error:new St}}catch(e){if(jt(e))return{data:{user:null,session:null},error:e};throw e}}async _exchangeCodeForSession(e){const n=await Yt(this.storage,`${this.storageKey}-code-verifier`),[t,r]=(null!=n?n:"").split("/");try{const{data:n,error:a}=await cr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:dr});if(await Jt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign(Object.assign({},n),{redirectType:null!=r?r:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new St}}catch(e){if(jt(e))return{data:{user:null,session:null,redirectType:null},error:e};throw e}}async signInWithIdToken(e){try{const{options:n,provider:t,token:r,access_token:a,nonce:i}=e,s=await cr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:t,id_token:r,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:dr}),{data:o,error:l}=s;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new St}}catch(e){if(jt(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(e){var n,t,r,a,i;try{if("email"in e){const{email:r,options:a}=e;let i=null,s=null;"pkce"===this.flowType&&([i,s]=await er(this.storage,this.storageKey));const{error:o}=await cr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(n=null==a?void 0:a.data)&&void 0!==n?n:{},create_user:null===(t=null==a?void 0:a.shouldCreateUser)||void 0===t||t,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:s},redirectTo:null==a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:n,options:t}=e,{data:s,error:o}=await cr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:n,data:null!==(r=null==t?void 0:t.data)&&void 0!==r?r:{},create_user:null===(a=null==t?void 0:t.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken},channel:null!==(i=null==t?void 0:t.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null==s?void 0:s.message_id},error:o}}throw new _t("You must provide either an email or phone number.")}catch(e){if(jt(e))return{data:{user:null,session:null},error:e};throw e}}async verifyOtp(e){var n,t;try{let r,a;"options"in e&&(r=null===(n=e.options)||void 0===n?void 0:n.redirectTo,a=null===(t=e.options)||void 0===t?void 0:t.captchaToken);const{data:i,error:s}=await cr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:dr});if(s)throw s;if(!i)throw new Error("An error occurred on token verification.");const o=i.session,l=i.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(e){if(jt(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSSO(e){var n,t,r;try{let a=null,i=null;return"pkce"===this.flowType&&([a,i]=await er(this.storage,this.storageKey)),await cr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(t=null===(n=e.options)||void 0===n?void 0:n.redirectTo)&&void 0!==t?t:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:hr})}catch(e){if(jt(e))return{data:null,error:e};throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:t}=e;if(t)throw t;if(!n)throw new Ct;const{error:r}=await cr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(jt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:t,type:r,options:a}=e,{error:i}=await cr(this.fetch,"POST",n,{headers:this.headers,body:{email:t,type:r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},redirectTo:null==a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:t,type:r,options:a}=e,{data:i,error:s}=await cr(this.fetch,"POST",n,{headers:this.headers,body:{phone:t,type:r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:s}}throw new _t("You must provide either an email or phone number and a type")}catch(e){if(jt(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),t=(async()=>(await e,await n()))();return this.pendingInLock.push((async()=>{try{await t}catch(e){}})()),t}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=n();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const n=await Yt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),null!==n&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const t=!!e.expires_at&&1e3*e.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${t?"":" not"} expired`,"expires_at",e.expires_at),!t){if(this.userStorage){const n=await Yt(this.userStorage,this.storageKey+"-user");(null==n?void 0:n.user)?e.user=n.user:e.user=ar()}if(this.storage.isServer&&e.user){let n=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,t,r)=>(n||"user"!==t||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,t,r))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await cr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:pr}):await this._useSession(async e=>{var n,t,r;const{data:a,error:i}=e;if(i)throw i;return(null===(n=a.session)||void 0===n?void 0:n.access_token)||this.hasCustomAuthorizationHeader?await cr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(t=a.session)||void 0===t?void 0:t.access_token)&&void 0!==r?r:void 0,xform:pr}):{data:{user:null},error:new Ct}})}catch(e){if(jt(e))return function(e){return jt(e)&&"AuthSessionMissingError"===e.name}(e)&&(await this._removeSession(),await Jt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async t=>{const{data:r,error:a}=t;if(a)throw a;if(!r.session)throw new Ct;const i=r.session;let s=null,o=null;"pkce"===this.flowType&&null!=e.email&&([s,o]=await er(this.storage,this.storageKey));const{data:l,error:c}=await cr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==n?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:o}),jwt:i.access_token,xform:pr});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(e){if(jt(e))return{data:{user:null},error:e};throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ct;const n=Date.now()/1e3;let t=n,r=!0,a=null;const{payload:i}=Xt(e.access_token);if(i.exp&&(t=i.exp,r=t<=n),r){const{session:n,error:t}=await this._callRefreshToken(e.refresh_token);if(t)return{data:{user:null,session:null},error:t};if(!n)return{data:{user:null,session:null},error:null};a=n}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:t-n,expires_at:t},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(e){if(jt(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var t;if(!e){const{data:r,error:a}=n;if(a)throw a;e=null!==(t=r.session)&&void 0!==t?t:void 0}if(!(null==e?void 0:e.refresh_token))throw new Ct;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(jt(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(e,n){try{if(!Ht())throw new Ft("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ft(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if("pkce"===this.flowType)throw new zt("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Ft("Not a valid implicit grant flow url.")}if("pkce"===n){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new zt("No code detected.");const{data:n,error:t}=await this._exchangeCodeForSession(e.code);if(t)throw t;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:n.session,redirectType:null},error:null}}const{provider_token:t,provider_refresh_token:r,access_token:a,refresh_token:i,expires_in:s,expires_at:o,token_type:l}=e;if(!(a&&s&&i&&l))throw new Ft("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let u=c+d;o&&(u=parseInt(o));const p=u-c;1e3*p<=ft&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const h=u-d;c-h>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",h,u,c):c-h<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",h,u,c);const{data:m,error:f}=await this._getUser(a);if(f)throw f;const g={provider_token:t,provider_refresh_token:r,access_token:a,expires_in:d,expires_at:u,refresh_token:i,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(e){if(jt(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Yt(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var t;const{data:r,error:a}=n;if(a)return{error:a};const i=null===(t=r.session)||void 0===t?void 0:t.access_token;if(i){const{error:n}=await this.admin.signOut(i,e);if(n&&(!function(e){return jt(e)&&"AuthApiError"===e.name}(n)||404!==n.status&&401!==n.status&&403!==n.status))return{error:n}}return"others"!==e&&(await this._removeSession(),await Jt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=16*Math.random()|0;return("x"==e?n:3&n|8).toString(16)}),t={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,t),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})})(),{data:{subscription:t}}}async _emitInitialSession(e){return await this._useSession(async n=>{var t,r;try{const{data:{session:r},error:a}=n;if(a)throw a;await(null===(t=this.stateChangeEmitters.get(e))||void 0===t?void 0:t.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(n){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n),console.error(n)}})}async resetPasswordForEmail(e,n={}){let t=null,r=null;"pkce"===this.flowType&&([t,r]=await er(this.storage,this.storageKey,!0));try{return await cr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:t,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(e){if(jt(e))return{data:null,error:e};throw e}}async getUserIdentities(){var e;try{const{data:n,error:t}=await this.getUser();if(t)throw t;return{data:{identities:null!==(e=n.user.identities)&&void 0!==e?e:[]},error:null}}catch(e){if(jt(e))return{data:null,error:e};throw e}}async linkIdentity(e){var n;try{const{data:t,error:r}=await this._useSession(async n=>{var t,r,a,i,s;const{data:o,error:l}=n;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await cr(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(s=null===(i=o.session)||void 0===i?void 0:i.access_token)&&void 0!==s?s:void 0})});if(r)throw r;return Ht()&&!(null===(n=e.options)||void 0===n?void 0:n.skipBrowserRedirect)&&window.location.assign(null==t?void 0:t.url),{data:{provider:e.provider,url:null==t?void 0:t.url},error:null}}catch(n){if(jt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var t,r;const{data:a,error:i}=n;if(i)throw i;return await cr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(t=a.session)||void 0===t?void 0:t.access_token)&&void 0!==r?r:void 0})})}catch(e){if(jt(e))return{data:null,error:e};throw e}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await(t=async t=>(t>0&&await async function(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}(200*Math.pow(2,t-1)),this._debug(n,"refreshing attempt",t),await cr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:dr})),r=(e,n)=>{const t=200*Math.pow(2,e);return n&&Tt(n)&&Date.now()+t-a<ft},new Promise((e,n)=>{(async()=>{for(let a=0;a<1/0;a++)try{const n=await t(a);if(!r(a,null))return void e(n)}catch(e){if(!r(a,e))return void n(e)}})()}))}catch(e){if(this._debug(n,"error",e),jt(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(n,"end")}var t,r}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const t=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",t),Ht()&&!n.skipBrowserRedirect&&window.location.assign(t),{data:{provider:e,url:t},error:null}}async _recoverAndRefresh(){var e,n;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await Yt(this.storage,this.storageKey);if(r&&this.userStorage){let n=await Yt(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||n||(n={user:r.user},await Gt(this.userStorage,this.storageKey+"-user",n)),r.user=null!==(e=null==n?void 0:n.user)&&void 0!==e?e:ar()}else if(r&&!r.user&&!r.user){const e=await Yt(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(r.user=e.user,await Jt(this.storage,this.storageKey+"-user"),await Gt(this.storage,this.storageKey,r)):r.user=ar()}if(this._debug(t,"session from storage",r),!this._isValidSession(r))return this._debug(t,"session is not valid"),void(null!==r&&await this._removeSession());const a=1e3*(null!==(n=r.expires_at)&&void 0!==n?n:1/0)-Date.now()<9e4;if(this._debug(t,`session has${a?"":" not"} expired with margin of 90000s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),Tt(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(r.user&&!0===r.user.__isUserNotAvailableProxy)try{const{data:e,error:n}=await this._getUser(r.access_token);!n&&(null==e?void 0:e.user)?(r.user=e.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(t,"could not get user data, skipping SIGNED_IN notification")}catch(e){console.error("Error getting user data:",e),this._debug(t,"error getting user data, skipping SIGNED_IN notification",e)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(e){return this._debug(t,"error",e),void console.error(e)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var n,t;if(!e)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Qt;const{data:n,error:t}=await this._refreshAccessToken(e);if(t)throw t;if(!n.session)throw new Ct;await this._saveSession(n.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);const r={session:n.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(e){if(this._debug(r,"error",e),jt(e)){const t={session:null,error:e};return Tt(e)||await this._removeSession(),null===(n=this.refreshingDeferred)||void 0===n||n.resolve(t),t}throw null===(t=this.refreshingDeferred)||void 0===t||t.reject(e),e}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,t=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${t}`);try{this.broadcastChannel&&t&&this.broadcastChannel.postMessage({event:e,session:n});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async t=>{try{await t.callback(e,n)}catch(e){r.push(e)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),t=n.user&&!0===n.user.__isUserNotAvailableProxy;if(this.userStorage){!t&&n.user&&await Gt(this.userStorage,this.storageKey+"-user",{user:n.user});const e=Object.assign({},n);delete e.user;const r=ir(e);await Gt(this.storage,this.storageKey,r)}else{const e=ir(n);await Gt(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await Jt(this.storage,this.storageKey),await Jt(this.storage,this.storageKey+"-code-verifier"),await Jt(this.storage,this.storageKey+"-user"),this.userStorage&&await Jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ht()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ft);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:t}}=n;if(!t||!t.refresh_token||!t.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*t.expires_at-e)/ft);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(t.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof yr))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,t){const r=[`provider=${encodeURIComponent(n)}`];if((null==t?void 0:t.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),(null==t?void 0:t.scopes)&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),"pkce"===this.flowType){const[e,n]=await er(this.storage,this.storageKey),t=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(n)}`});r.push(t.toString())}if(null==t?void 0:t.queryParams){const e=new URLSearchParams(t.queryParams);r.push(e.toString())}return(null==t?void 0:t.skipBrowserRedirect)&&r.push(`skip_http_redirect=${t.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var t;const{data:r,error:a}=n;return a?{data:null,error:a}:await cr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(t=null==r?void 0:r.session)||void 0===t?void 0:t.access_token})})}catch(e){if(jt(e))return{data:null,error:e};throw e}}async _enroll(e){try{return await this._useSession(async n=>{var t,r;const{data:a,error:i}=n;if(i)return{data:null,error:i};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await cr(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:null===(t=null==a?void 0:a.session)||void 0===t?void 0:t.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null==o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(e){if(jt(e))return{data:null,error:e};throw e}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var t;const{data:r,error:a}=n;if(a)return{data:null,error:a};const{data:i,error:s}=await cr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(t=null==r?void 0:r.session)||void 0===t?void 0:t.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:s})})}catch(e){if(jt(e))return{data:null,error:e};throw e}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var t;const{data:r,error:a}=n;return a?{data:null,error:a}:await cr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(t=null==r?void 0:r.session)||void 0===t?void 0:t.access_token})})}catch(e){if(jt(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(e){const{data:n,error:t}=await this._challenge({factorId:e.factorId});return t?{data:null,error:t}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const t=(null==e?void 0:e.factors)||[],r=t.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=t.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:t,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,t;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Xt(r.access_token);let s=null;i.aal&&(s=i.aal);let o=s;return(null!==(t=null===(n=r.user.factors)||void 0===n?void 0:n.filter(e=>"verified"===e.status))&&void 0!==t?t:[]).length>0&&(o="aal2"),{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:i.amr||[]},error:null}}))}async fetchJwk(e,n={keys:[]}){let t=n.keys.find(n=>n.kid===e);if(t)return t;const r=Date.now();if(t=this.jwks.keys.find(n=>n.kid===e),t&&this.jwks_cached_at+6e5>r)return t;const{data:a,error:i}=await cr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return a.keys&&0!==a.keys.length?(this.jwks=a,this.jwks_cached_at=r,t=a.keys.find(n=>n.kid===e),t||null):null}async getClaims(e,n={}){try{let t=e;if(!t){const{data:e,error:n}=await this.getSession();if(n||!e.session)return{data:null,error:n};t=e.session.access_token}const{header:r,payload:a,signature:i,raw:{header:s,payload:o}}=Xt(t);(null==n?void 0:n.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null==n?void 0:n.keys)?{keys:n.keys}:null==n?void 0:n.jwks):null;if(!l){const{error:e}=await this.getUser(t);if(e)throw e;return{data:{claims:a,header:r,signature:i},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),d=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,i,function(e){const n=[];return function(e,n){for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r>55295&&r<=56319){const n=1024*(r-55296)&65535;r=65536+(e.charCodeAt(t+1)-56320&65535|n),t+=1}$t(r,n)}}(e,e=>n.push(e)),new Uint8Array(n)}(`${s}.${o}`)))throw new At("Invalid JWT signature");return{data:{claims:a,header:r,signature:i},error:null}}catch(e){if(jt(e))return{data:null,error:e};throw e}}}Cr.nextInstanceID=0;const Sr=Cr;class _r extends Sr{constructor(e){super(e)}}class Fr{constructor(e,n,t){var r,a,i;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const s=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(s);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d=function(e,n){var t,r;const{db:a,auth:i,realtime:s,global:o}=e,{db:l,auth:c,realtime:d,global:u}=n,p={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),s),global:Object.assign(Object.assign(Object.assign({},u),o),{headers:Object.assign(Object.assign({},null!==(t=null==u?void 0:u.headers)&&void 0!==t?t:{}),null!==(r=null==o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>{return e=this,n=void 0,r=function*(){return""},new((t=void 0)||(t=Promise))(function(a,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(s,o)}l((r=r.apply(e,n||[])).next())});var e,n,t,r}};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}(null!=t?t:{},{db:lt,realtime:dt,auth:Object.assign(Object.assign({},ct),{storageKey:c}),global:ot});this.storageKey=null!==(r=d.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=d.global.headers)&&void 0!==a?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(e,n)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(n)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(i=d.auth)&&void 0!==i?i:{},this.headers,d.global.fetch),this.fetch=ht(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new rn(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new nn(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new it(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},t={}){return this.rest.rpc(e,n,t)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n,t,r,a,i;return t=this,r=void 0,i=function*(){if(this.accessToken)return yield this.accessToken();const{data:t}=yield this.auth.getSession();return null!==(n=null===(e=t.session)||void 0===e?void 0:e.access_token)&&void 0!==n?n:null},new((a=void 0)||(a=Promise))(function(e,n){function s(e){try{l(i.next(e))}catch(e){n(e)}}function o(e){try{l(i.throw(e))}catch(e){n(e)}}function l(n){var t;n.done?e(n.value):(t=n.value,t instanceof a?t:new a(function(e){e(t)})).then(s,o)}l((i=i.apply(t,r||[])).next())})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:t,storage:r,storageKey:a,flowType:i,lock:s,debug:o},l,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _r({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),l),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:t,storage:r,flowType:i,lock:s,debug:o,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Bn(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,n)=>{this._handleTokenChanged(e,"CLIENT",null==n?void 0:n.access_token)})}_handleTokenChanged(e,n,t){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===t?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==n&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=t}}class zr{constructor(){this.currentUser=null,this.currentInstitution=null,this.supabase=new Fr("https://krojphsvzuwtgxxkjklj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtyb2pwaHN2enV3dGd4eGtqa2xqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI0NzMwMTMsImV4cCI6MjA2ODA0OTAxM30.U8CvDXnn84ow2984GIiZqMcAE1-Pc6lGavTVqm_fLtQ",void 0),this.initializeAuth()}async initializeAuth(){try{const{data:{session:e}}=await this.supabase.auth.getSession();e?.user&&await this.loadUserProfile(e.user.id)}catch(e){console.error("Erreur lors de l'initialisation de l'authentification:",e)}}async signUp(e,n,t){try{const{data:r,error:a}=await this.supabase.auth.signUp({email:e,password:n,options:{data:{first_name:t.firstName,last_name:t.lastName,role:t.role||"user"}}});if(a)throw a;if(r.user){if(t.institutionCode&&!await this.getInstitutionByCode(t.institutionCode))throw new Error("Code d'établissement invalide");return{success:!0,user:await this.createUserProfile(r.user.id,{email:r.user.email,first_name:t.firstName,last_name:t.lastName,role:t.role||"user",institution_id:t.institutionCode?(await this.getInstitutionByCode(t.institutionCode))?.id:void 0,is_active:!0})}}return{success:!1,error:"Erreur lors de la création du compte"}}catch(e){return{success:!1,error:e.message}}}async signIn(e,n){try{const{data:t,error:r}=await this.supabase.auth.signInWithPassword({email:e,password:n});if(r)throw r;if(t.user){const e=await this.loadUserProfile(t.user.id);return e&&e.institution_id&&(this.currentInstitution=await this.getInstitution(e.institution_id)),{success:!0,user:e,institution:this.currentInstitution||void 0}}return{success:!1,error:"Erreur de connexion"}}catch(e){return{success:!1,error:e.message}}}async signOut(){try{const{error:e}=await this.supabase.auth.signOut();if(e)throw e;return this.currentUser=null,this.currentInstitution=null,!0}catch(e){return console.error("Erreur lors de la déconnexion:",e),!1}}async createInstitution(e){const n=this.generateInstitutionCode(),{data:t,error:r}=await this.supabase.from("institutions").insert({...e,code:n,status:"active",subscription_plan:"basic",max_books:1e3,max_users:10}).select().single();if(r)throw r;return this.currentUser&&await this.supabase.from("users").update({institution_id:t.id,role:"admin"}).eq("id",this.currentUser.id),{institution:t,code:n}}generateInstitutionCode(){let e="";for(let n=0;n<8;n++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(36*Math.random()));return e}async getInstitutionByCode(e){const{data:n,error:t}=await this.supabase.from("institutions").select("*").eq("code",e.toUpperCase()).eq("status","active").single();return t?null:n}async getInstitution(e){const{data:n,error:t}=await this.supabase.from("institutions").select("*").eq("id",e).single();return t?null:n}async createUserProfile(e,n){const{data:t,error:r}=await this.supabase.from("users").insert({id:e,...n,is_active:!0}).select().single();if(r)throw r;return t}async loadUserProfile(e){const{data:n,error:t}=await this.supabase.from("users").select("*").eq("id",e).single();return t?null:(this.currentUser=n,n)}async getBooks(){return console.log("getBooks appelé - retour de données de test"),[]}async addBook(e){return console.log("addBook appelé avec:",e),1}async updateBook(e){return console.log("updateBook appelé avec:",e),!0}async deleteBook(e){return console.log("deleteBook appelé avec ID:",e),!0}async searchBooks(e){return console.log("searchBooks appelé avec query:",e),[]}async getBorrowers(){return console.log("getBorrowers appelé"),[]}async addBorrower(e){return console.log("addBorrower appelé avec:",e),1}async updateBorrower(e){return console.log("updateBorrower appelé avec:",e),!0}async deleteBorrower(e){return console.log("deleteBorrower appelé avec ID:",e),!0}async searchBorrowers(e){return console.log("searchBorrowers appelé avec query:",e),[]}async borrowBook(e,n,t){return console.log("borrowBook appelé avec:",{bookId:e,borrowerId:n,expectedReturnDate:t}),1}async returnBook(e,n){return console.log("returnBook appelé avec:",{borrowHistoryId:e,notes:n}),!0}async getBorrowedBooks(){return console.log("getBorrowedBooks appelé"),[]}async getBorrowHistory(e){return console.log("getBorrowHistory appelé avec filter:",e),[]}async getAuthors(){return console.log("getAuthors appelé"),[]}async addAuthor(e){return console.log("addAuthor appelé avec:",e),1}async getCategories(){return console.log("getCategories appelé"),[]}async addCategory(e){return console.log("addCategory appelé avec:",e),1}async getStats(){return console.log("getStats appelé"),{totalBooks:0,borrowedBooks:0,availableBooks:0,totalAuthors:0,totalCategories:0,totalBorrowers:0,totalStudents:0,totalStaff:0,overdueBooks:0}}getCurrentUser(){return this.currentUser}getCurrentInstitution(){return this.currentInstitution}isAuthenticated(){return null!==this.currentUser}async switchInstitution(e){try{const n=await this.getInstitutionByCode(e);return!(!n||this.currentUser&&this.currentUser.institution_id!==n.id&&"super_admin"!==this.currentUser.role||(this.currentInstitution=n,0))}catch(e){return console.error("Erreur lors du changement d'institution:",e),!1}}async clearAllData(){return console.log("clearAllData appelé"),!0}async createDocument(e){return console.log("createDocument appelé avec:",e),null}async updateDocument(e){return console.log("updateDocument appelé avec:",e),!0}async deleteDocument(e){return console.log("deleteDocument appelé avec ID:",e),!0}async createAuthor(e){return console.log("createAuthor appelé avec:",e),null}async updateAuthor(e){return console.log("updateAuthor appelé avec:",e),!0}async deleteAuthor(e){return console.log("deleteAuthor appelé avec ID:",e),!0}async createCategory(e){return console.log("createCategory appelé avec:",e),null}async updateCategory(e){return console.log("updateCategory appelé avec:",e),!0}async deleteCategory(e){return console.log("deleteCategory appelé avec ID:",e),!0}async createBorrower(e){return console.log("createBorrower appelé avec:",e),null}async createBorrowHistory(e){return console.log("createBorrowHistory appelé avec:",e),null}async updateBorrowHistory(e){return console.log("updateBorrowHistory appelé avec:",e),!0}async deleteBorrowHistory(e){return console.log("deleteBorrowHistory appelé avec ID:",e),!0}}const Dr=({book:e,borrowers:n,onSubmit:t,onCancel:a,onRefreshBorrowers:s,supabaseService:o})=>{const[l,c]=(0,i.useState)(null),[d,u]=(0,i.useState)(""),[p,h]=(0,i.useState)(!1),[m,f]=(0,i.useState)(""),[g,x]=(0,i.useState)("all"),[b,v]=(0,i.useState)("2weeks"),[y,w]=(0,i.useState)(!1),[j,k]=(0,i.useState)({type:"student",firstName:"",lastName:"",matricule:"",classe:"",cniNumber:"",position:"",email:"",phone:""});i.useEffect(()=>{E(b)},[b]);const E=e=>{const n=new Date;let t=new Date(n);switch(e){case"1week":t.setDate(n.getDate()+7);break;case"2weeks":t.setDate(n.getDate()+14);break;case"1month":t.setMonth(n.getMonth()+1);break;default:return}u(t.toISOString().split("T")[0])},N=n.filter(e=>{if("all"!==g&&e.type!==g)return!1;if(m){const n=m.toLowerCase();return e.firstName.toLowerCase().includes(n)||e.lastName.toLowerCase().includes(n)||e.matricule.toLowerCase().includes(n)||e.classe&&e.classe.toLowerCase().includes(n)||e.position&&e.position.toLowerCase().includes(n)}return!0}),C=n.find(e=>e.id===l);return(0,r.jsxs)("div",{className:"enhanced-borrow-form",children:[(0,r.jsxs)("div",{className:"book-info-section",children:[(0,r.jsx)("div",{className:"book-cover",children:e.coverUrl?(0,r.jsx)("img",{src:e.coverUrl,alt:e.title}):(0,r.jsx)("div",{className:"book-placeholder",children:(0,r.jsx)("svg",{viewBox:"0 0 24 24",width:"32",height:"32",fill:"currentColor",children:(0,r.jsx)("path",{d:"M18 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V4C20 2.9 19.1 2 18 2ZM18 20H6V4H18V20Z"})})})}),(0,r.jsxs)("div",{className:"book-details",children:[(0,r.jsxs)("h4",{className:"book-title",children:['"',e.title,'"']}),(0,r.jsxs)("p",{className:"book-author",children:["par ",e.author]}),(0,r.jsxs)("div",{className:"book-meta",children:[(0,r.jsx)("span",{className:"book-category",children:e.category}),e.publishedDate&&(0,r.jsx)("span",{className:"book-year",children:e.publishedDate})]})]})]}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("label",{className:"form-label",children:"Durée d'emprunt"}),(0,r.jsx)("div",{className:"duration-selector",children:[{id:"1week",label:"1 semaine",recommended:!1},{id:"2weeks",label:"2 semaines",recommended:!0},{id:"1month",label:"1 mois",recommended:!1},{id:"custom",label:"Personnalisé",recommended:!1}].map(e=>(0,r.jsxs)("button",{type:"button",className:`duration-button ${b===e.id?"selected":""} ${e.recommended?"recommended":""}`,onClick:()=>v(e.id),children:[e.label,e.recommended&&(0,r.jsx)("span",{className:"recommended-badge",children:"Recommandé"})]},e.id))})]}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsx)("label",{className:"form-label",children:"Date de retour prévue *"}),(0,r.jsx)("input",{type:"date",value:d,onChange:e=>{u(e.target.value),v("custom")},className:"date-input",min:(new Date).toISOString().split("T")[0],required:!0}),(0,r.jsx)("small",{className:"form-hint",children:"custom"!==b&&"Durée sélectionnée : "+("1week"===b?"7 jours":"2weeks"===b?"14 jours":"1 mois")})]}),(0,r.jsxs)("div",{className:"form-section",children:[(0,r.jsxs)("div",{className:"section-header",children:[(0,r.jsx)("label",{className:"form-label",children:"Emprunteur *"}),(0,r.jsxs)("button",{type:"button",className:"add-borrower-button",onClick:()=>w(!0),children:[(0,r.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:(0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),"Ajouter emprunteur"]})]}),(0,r.jsxs)("div",{className:"borrower-filters",children:[(0,r.jsxs)("div",{className:"search-container",children:[(0,r.jsx)("input",{type:"text",placeholder:"Rechercher un emprunteur...",value:m,onChange:e=>f(e.target.value),className:"search-input"}),(0,r.jsx)("svg",{className:"search-icon",viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",children:(0,r.jsx)("path",{d:"M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3S3 5.91 3 9.5S5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14ZM9.5 14C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14Z"})})]}),(0,r.jsx)("div",{className:"type-filter",children:(0,r.jsxs)("select",{value:g,onChange:e=>x(e.target.value),className:"filter-select",children:[(0,r.jsx)("option",{value:"all",children:"Tous"}),(0,r.jsx)("option",{value:"student",children:"Étudiants"}),(0,r.jsx)("option",{value:"staff",children:"Personnel"})]})})]}),(0,r.jsxs)("div",{className:"borrowers-list",children:[(0,r.jsxs)("div",{className:"list-header",children:[(0,r.jsx)("span",{children:"Nom"}),(0,r.jsx)("span",{children:"Type"}),(0,r.jsx)("span",{children:"Matricule"}),(0,r.jsx)("span",{children:"Classe/Poste"})]}),(0,r.jsx)("div",{className:"list-content",children:N.length>0?N.map(e=>(0,r.jsxs)("div",{className:"borrower-row "+(l===e.id?"selected":""),onClick:()=>c(e.id),children:[(0,r.jsxs)("div",{className:"borrower-name",children:[(0,r.jsxs)("div",{className:"name-main",children:[e.firstName," ",e.lastName]}),(0,r.jsx)("div",{className:"name-sub",children:e.email})]}),(0,r.jsx)("div",{className:"borrower-type",children:(0,r.jsx)("span",{className:`type-badge ${e.type}`,children:"student"===e.type?"Étudiant":"Personnel"})}),(0,r.jsx)("div",{className:"borrower-matricule",children:e.matricule}),(0,r.jsx)("div",{className:"borrower-extra",children:"student"===e.type?e.classe:e.position}),(0,r.jsx)("div",{className:"selection-indicator",children:l===e.id&&(0,r.jsx)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",children:(0,r.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})})})]},e.id)):(0,r.jsxs)("div",{className:"no-borrowers",children:[(0,r.jsx)("svg",{viewBox:"0 0 24 24",width:"48",height:"48",fill:"currentColor",children:(0,r.jsx)("path",{d:"M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.1 3.89 23 5 23H19C20.1 23 21 22.1 21 21V9Z"})}),(0,r.jsx)("p",{children:"Aucun emprunteur trouvé"}),(0,r.jsx)("small",{children:m?`pour "${m}"`:"Essayez de modifier les filtres"})]})})]})]}),C&&(0,r.jsxs)("div",{className:"selected-summary",children:[(0,r.jsx)("h4",{children:"Récapitulatif de l'emprunt"}),(0,r.jsxs)("div",{className:"summary-card",children:[(0,r.jsxs)("div",{className:"summary-section",children:[(0,r.jsx)("div",{className:"summary-icon book-icon",children:(0,r.jsx)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",children:(0,r.jsx)("path",{d:"M18 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V4C20 2.9 19.1 2 18 2Z"})})}),(0,r.jsxs)("div",{className:"summary-content",children:[(0,r.jsx)("div",{className:"summary-label",children:"Livre"}),(0,r.jsx)("div",{className:"summary-value",children:e.title}),(0,r.jsxs)("div",{className:"summary-sub",children:["par ",e.author]})]})]}),(0,r.jsxs)("div",{className:"summary-section",children:[(0,r.jsx)("div",{className:"summary-icon user-icon",children:(0,r.jsx)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",children:(0,r.jsx)("path",{d:"M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z"})})}),(0,r.jsxs)("div",{className:"summary-content",children:[(0,r.jsx)("div",{className:"summary-label",children:"Emprunteur"}),(0,r.jsxs)("div",{className:"summary-value",children:[C.firstName," ",C.lastName]}),(0,r.jsxs)("div",{className:"summary-sub",children:[C.matricule," • ","student"===C.type?"Étudiant":"Personnel"]})]})]}),(0,r.jsxs)("div",{className:"summary-section",children:[(0,r.jsx)("div",{className:"summary-icon date-icon",children:(0,r.jsx)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",children:(0,r.jsx)("path",{d:"M19 3H18V1H16V3H8V1H6V3H5C3.89 3 3.01 3.9 3.01 5L3 19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V8H19V19ZM7 10H12V15H7V10Z"})})}),(0,r.jsxs)("div",{className:"summary-content",children:[(0,r.jsx)("div",{className:"summary-label",children:"Retour prévu"}),(0,r.jsx)("div",{className:"summary-value",children:new Date(d).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,r.jsxs)("div",{className:"summary-sub",children:["Dans ",Math.ceil((new Date(d).getTime()-(new Date).getTime())/864e5)," jour(s)"]})]})]})]})]}),(0,r.jsxs)("div",{className:"form-actions",children:[(0,r.jsxs)("button",{type:"button",className:"btn-secondary",onClick:a,disabled:p,children:[(0,r.jsx)("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:(0,r.jsx)("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"})}),"Annuler"]}),(0,r.jsx)("button",{type:"submit",className:"btn-primary",disabled:!l||!d||p,onClick:async n=>{if(n.preventDefault(),l&&d){h(!0);try{await t(e.id,l,d)}catch(e){console.error("Erreur:",e)}finally{h(!1)}}},children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"loading-spinner"}),"Traitement..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"currentColor",children:(0,r.jsx)("path",{d:"M9 16.17L4.83 12L3.41 13.41L9 19L21 7L19.59 5.58L9 16.17Z"})}),"Confirmer l'emprunt"]})})]}),y&&(0,r.jsx)("div",{className:"add-borrower-overlay",onClick:()=>w(!1),children:(0,r.jsxs)("div",{className:"add-borrower-modal",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"add-borrower-header",children:[(0,r.jsx)("h3",{children:"Ajouter un emprunteur"}),(0,r.jsx)("button",{className:"modal-close-small",onClick:()=>w(!1),children:"×"})]}),(0,r.jsxs)("div",{className:"add-borrower-content",children:[(0,r.jsxs)("div",{className:"type-selector",children:[(0,r.jsx)("button",{type:"button",className:"type-button "+("student"===j.type?"active":""),onClick:()=>k(e=>({...e,type:"student"})),children:"🎓 Étudiant"}),(0,r.jsx)("button",{type:"button",className:"type-button "+("staff"===j.type?"active":""),onClick:()=>k(e=>({...e,type:"staff"})),children:"👔 Personnel"})]}),(0,r.jsxs)("div",{className:"form-grid-compact",children:[(0,r.jsxs)("div",{className:"form-group-compact",children:[(0,r.jsx)("label",{children:"Prénom *"}),(0,r.jsx)("input",{type:"text",value:j.firstName,onChange:e=>k(n=>({...n,firstName:e.target.value})),className:"form-input-compact",required:!0})]}),(0,r.jsxs)("div",{className:"form-group-compact",children:[(0,r.jsx)("label",{children:"Nom *"}),(0,r.jsx)("input",{type:"text",value:j.lastName,onChange:e=>k(n=>({...n,lastName:e.target.value})),className:"form-input-compact",required:!0})]}),(0,r.jsxs)("div",{className:"form-group-compact",children:[(0,r.jsx)("label",{children:"Matricule *"}),(0,r.jsx)("input",{type:"text",value:j.matricule,onChange:e=>k(n=>({...n,matricule:e.target.value})),className:"form-input-compact",required:!0})]}),"student"===j.type?(0,r.jsxs)("div",{className:"form-group-compact",children:[(0,r.jsx)("label",{children:"Classe"}),(0,r.jsx)("input",{type:"text",value:j.classe,onChange:e=>k(n=>({...n,classe:e.target.value})),className:"form-input-compact",placeholder:"ex: Terminale C"})]}):(0,r.jsxs)("div",{className:"form-group-compact",children:[(0,r.jsx)("label",{children:"Poste"}),(0,r.jsx)("input",{type:"text",value:j.position,onChange:e=>k(n=>({...n,position:e.target.value})),className:"form-input-compact",placeholder:"ex: Professeur"})]}),(0,r.jsxs)("div",{className:"form-group-compact span-full",children:[(0,r.jsx)("label",{children:"Email"}),(0,r.jsx)("input",{type:"email",value:j.email,onChange:e=>k(n=>({...n,email:e.target.value})),className:"form-input-compact"})]})]})]}),(0,r.jsxs)("div",{className:"add-borrower-actions",children:[(0,r.jsx)("button",{type:"button",className:"btn-secondary-small",onClick:()=>w(!1),children:"Annuler"}),(0,r.jsx)("button",{type:"button",className:"btn-primary-small",onClick:async()=>{try{h(!0);const e=await o.addBorrower({...j,syncStatus:"pending",lastModified:(new Date).toISOString(),version:1,createdAt:(new Date).toISOString()});c(e),w(!1),await s(),k({type:"student",firstName:"",lastName:"",matricule:"",classe:"",cniNumber:"",position:"",email:"",phone:""})}catch(e){alert(e.message||"Erreur lors de l'ajout de l'emprunteur")}finally{h(!1)}},disabled:!j.firstName||!j.lastName||!j.matricule||p,children:p?"Ajout...":"Ajouter"})]})]})}),(0,r.jsx)("style",{children:"\n        /* Tous les styles CSS du formulaire d'emprunt ici */\n        /* Le CSS est identique à celui du fichier précédent */\n        /* ... (insérer ici tous les styles CSS de EnhancedBorrowForm) */\n      "})]})},Tr=document.getElementById("root");(0,a.H)(Tr).render((0,r.jsx)(()=>{const[e,n]=(0,i.useState)("auth"),[t,a]=(0,i.useState)(!1),[s,o]=(0,i.useState)(null),[l,c]=(0,i.useState)(null),[d,u]=(0,i.useState)(""),[h,m]=(0,i.useState)([]),[f,g]=(0,i.useState)([]),[x,b]=(0,i.useState)([]),[v,y]=(0,i.useState)([]),[w,j]=(0,i.useState)([]),[k,E]=(0,i.useState)({totalBooks:0,borrowedBooks:0,availableBooks:0,totalAuthors:0,totalCategories:0,totalBorrowers:0,totalStudents:0,totalStaff:0,overdueBooks:0}),[N]=(0,i.useState)(()=>new zr),[C,S]=(0,i.useState)(!1),[F,z]=(0,i.useState)(null),[D,T]=(0,i.useState)(!1),[P,A]=(0,i.useState)("");(0,i.useEffect)(()=>{I()},[]);const I=async()=>{try{const e=N.getCurrentUser(),t=N.getCurrentInstitution();e&&t?(o(e),c(t),a(!0),n("dashboard"),await R()):n("auth")}catch(e){console.error("Erreur lors de la vérification de l'authentification:",e),n("auth")}},R=async()=>{if(N.isAuthenticated())try{T(!0);const[e,n,t,r,a,i]=await Promise.all([N.getBooks(),N.getAuthors(),N.getCategories(),N.getBorrowers(),N.getBorrowedBooks(),N.getStats()]);m(e),g(n),b(t),y(r),j(a),E(i)}catch(e){console.error("Erreur lors du chargement des données:",e),A("Erreur lors du chargement des données")}finally{T(!1)}},L=async()=>{try{await N.signOut(),a(!1),o(null),c(null),n("auth"),m([]),g([]),b([]),y([]),j([]),E({totalBooks:0,borrowedBooks:0,availableBooks:0,totalAuthors:0,totalCategories:0,totalBorrowers:0,totalStudents:0,totalStaff:0,overdueBooks:0})}catch(e){console.error("Erreur lors de la déconnexion:",e)}},B=async e=>{try{await N.addBook(e),await R(),n("books")}catch(e){throw console.error("Erreur lors de l'ajout du livre:",e),e}},O=async e=>{try{await N.deleteBook(e),await R()}catch(e){throw console.error("Erreur lors de la suppression:",e),e}},$=e=>{z(e),S(!0)},U=()=>{S(!1),z(null)},q=async()=>{await R()};return t?(0,r.jsxs)("div",{className:"app",children:[(0,r.jsx)(p,{}),(0,r.jsxs)("div",{className:"app-container",children:[(0,r.jsx)(_,{currentView:e,onNavigate:n,stats:k,currentUser:s,currentInstitution:l}),(0,r.jsx)("main",{className:"main-content",children:(0,r.jsxs)("div",{className:"content-wrapper",children:[D&&(0,r.jsxs)("div",{className:"loading-overlay",children:[(0,r.jsx)("div",{className:"loading-spinner"}),(0,r.jsx)("span",{children:"Chargement..."})]}),P&&(0,r.jsxs)("div",{className:"error-banner",children:[(0,r.jsx)("span",{children:P}),(0,r.jsx)("button",{onClick:()=>A(""),children:"×"})]}),(()=>{switch(e){case"dashboard":default:return(0,r.jsx)(M,{stats:k,onNavigate:n,books:h,categories:x});case"books":return(0,r.jsx)(X,{books:h,onBorrow:$,onDelete:O});case"borrowed":return(0,r.jsx)(re,{books:w.map(e=>({...e.book,isBorrowed:!0,borrowerId:e.borrowerId,borrowDate:e.borrowDate,borrowerName:`${e.borrower?.firstName} ${e.borrower?.lastName}`})),onReturn:e=>{const n=w.find(n=>n.bookId===e);n&&(async e=>{if(void 0!==e)try{await N.returnBook(e,void 0),await R()}catch(e){throw console.error("Erreur lors du retour:",e),e}else console.error("Invalid argument for returnBook:",{borrowHistoryId:e})})(n.id)}});case"add-book":return(0,r.jsx)(de,{authors:f,categories:x,onAddBook:B,onCancel:()=>n("books")});case"borrowers":return(0,r.jsx)(fe,{onClose:()=>n("dashboard"),onRefreshData:q,supabaseService:N});case"history":return(0,r.jsx)(ge,{onClose:()=>n("dashboard"),supabaseService:N});case"settings":return(0,r.jsx)(Fe,{onClose:()=>n("dashboard"),onLogout:L,currentUser:s,currentInstitution:l,supabaseService:N});case"donation":return(0,r.jsx)(Re,{onClose:()=>n("dashboard")});case"about":return(0,r.jsx)(Me,{onClose:()=>n("dashboard")})}})()]})})]}),C&&F&&(0,r.jsx)("div",{className:"borrow-modal-overlay",children:(0,r.jsxs)("div",{className:"borrow-modal",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsxs)("div",{className:"header-content",children:[(0,r.jsx)("div",{className:"header-icon",children:(0,r.jsx)("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.1 3.89 23 5 23H19C20.1 23 21 22.1 21 21V9ZM19 21H5V3H13V9H19V21Z"})})}),(0,r.jsxs)("div",{className:"header-text",children:[(0,r.jsx)("h3",{children:"Nouvel emprunt"}),(0,r.jsx)("p",{children:"Sélectionnez un emprunteur et définissez la durée"})]})]}),(0,r.jsx)("button",{className:"modal-close",onClick:U,children:"×"})]}),(0,r.jsx)(Dr,{book:F,borrowers:v,onSubmit:async(e,n,t)=>{if(void 0!==e&&void 0!==n&&t)try{await N.borrowBook(e,n,t),await R(),S(!1),z(null)}catch(e){throw console.error("Erreur lors de l'emprunt:",e),e}else console.error("Invalid arguments for borrowBook:",{bookId:e,borrowerId:n,expectedReturnDate:t})},onCancel:U,onRefreshBorrowers:q,supabaseService:N})]})}),(0,r.jsx)("style",{children:"\n        .app {\n          height: 100vh;\n          display: flex;\n          flex-direction: column;\n          background: #FAF9F6;\n          overflow: hidden;\n        }\n        \n        .app-container {\n          flex: 1;\n          display: flex;\n          overflow: hidden;\n        }\n        \n        .main-content {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          background: #FAF9F6;\n          overflow: hidden;\n          position: relative;\n        }\n        \n        .content-wrapper {\n          flex: 1;\n          overflow: hidden;\n          border-radius: 12px 0 0 0;\n          background: #FAF9F6;\n          box-shadow: -2px 0 8px rgba(0, 0, 0, 0.08);\n        }\n\n        .loading-overlay {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(255, 255, 255, 0.9);\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          gap: 16px;\n        }\n\n        .loading-spinner {\n          width: 40px;\n          height: 40px;\n          border: 4px solid #E5DCC2;\n          border-top: 4px solid #3E5C49;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .error-banner {\n          background: #FEF2F2;\n          border: 1px solid #FECACA;\n          color: #DC2626;\n          padding: 12px 16px;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          font-size: 14px;\n          font-weight: 500;\n        }\n\n        .error-banner button {\n          background: none;\n          border: none;\n          color: #DC2626;\n          cursor: pointer;\n          font-size: 18px;\n          padding: 0;\n          margin-left: 12px;\n        }\n\n        /* Enhanced Borrow Modal */\n        .borrow-modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.75);\n          backdrop-filter: blur(12px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 20px;\n          animation: fadeIn 0.3s ease-out;\n        }\n        \n        @keyframes fadeIn {\n          from { opacity: 0; backdrop-filter: blur(0px); }\n          to { opacity: 1; backdrop-filter: blur(12px); }\n        }\n        \n        .borrow-modal {\n          background: #FFFFFF;\n          border-radius: 24px;\n          width: 100%;\n          max-width: 700px;\n          max-height: 90vh;\n          overflow-y: auto;\n          box-shadow: \n            0 32px 64px rgba(62, 92, 73, 0.25),\n            0 16px 32px rgba(62, 92, 73, 0.15);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n          animation: slideUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n        }\n        \n        @keyframes slideUp {\n          from { \n            opacity: 0;\n            transform: translateY(32px) scale(0.95);\n          }\n          to { \n            opacity: 1;\n            transform: translateY(0) scale(1);\n          }\n        }\n        \n        .modal-header {\n          display: flex;\n          align-items: flex-start;\n          justify-content: space-between;\n          padding: 32px 32px 24px;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .modal-header::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 200px;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.1));\n          transform: skewX(-15deg);\n          transform-origin: top;\n        }\n        \n        .header-content {\n          display: flex;\n          align-items: flex-start;\n          gap: 20px;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .header-icon {\n          width: 48px;\n          height: 48px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 14px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          backdrop-filter: blur(10px);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n        }\n        \n        .header-text h3 {\n          font-size: 22px;\n          font-weight: 700;\n          color: #F3EED9;\n          margin: 0 0 6px 0;\n          letter-spacing: -0.3px;\n        }\n        \n        .header-text p {\n          font-size: 14px;\n          color: rgba(243, 238, 217, 0.9);\n          margin: 0;\n          line-height: 1.4;\n        }\n        \n        .modal-close {\n          background: rgba(243, 238, 217, 0.1);\n          border: 1px solid rgba(243, 238, 217, 0.2);\n          cursor: pointer;\n          padding: 12px;\n          border-radius: 12px;\n          color: #F3EED9;\n          font-size: 24px;\n          width: 44px;\n          height: 44px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s ease;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .modal-close:hover {\n          background: rgba(243, 238, 217, 0.2);\n          transform: scale(1.05);\n        }\n        \n        .modal-close:active {\n          transform: scale(0.95);\n        }\n        \n        /* Responsive enhancements */\n        @media (max-width: 768px) {\n          .app-container {\n            flex-direction: column;\n          }\n          \n          .content-wrapper {\n            border-radius: 0;\n            box-shadow: none;\n          }\n          \n          .borrow-modal {\n            margin: 12px;\n            border-radius: 20px;\n            max-height: calc(100vh - 24px);\n          }\n          \n          .modal-header {\n            padding: 24px 20px 20px;\n          }\n          \n          .header-content {\n            flex-direction: column;\n            gap: 16px;\n          }\n          \n          .header-icon {\n            align-self: center;\n          }\n          \n         .header-text {\n            text-align: center;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .borrow-modal-overlay {\n            padding: 8px;\n          }\n          \n          .borrow-modal {\n            border-radius: 16px;\n          }\n          \n          .modal-header {\n            padding: 20px 16px 16px;\n          }\n          \n          .header-text h3 {\n            font-size: 20px;\n          }\n        }\n      "})]}):"institution_setup"===e?(0,r.jsx)(Ye,{institutionCode:d,institution:l,onComplete:()=>{n("auth"),alert("Votre établissement a été créé avec succès ! Vous pouvez maintenant vous connecter.")}}):(0,r.jsx)(We,{onLogin:async e=>{try{if(T(!0),A(""),"login"===e.mode){const t=await N.signIn(e.email,e.password);if(!t.success)throw new Error(t.error);if(e.institutionCode&&!await N.switchInstitution(e.institutionCode))throw new Error("Code d'établissement invalide ou accès non autorisé");o(t.user),c(N.getCurrentInstitution()),a(!0),n("dashboard"),await R()}else if("register"===e.mode){const n=await N.signUp(e.email,e.password,{firstName:e.userData.firstName,lastName:e.userData.lastName,institutionCode:e.institutionCode,role:e.userData.role});if(!n.success)throw new Error(n.error);alert("Compte créé avec succès ! Veuillez vérifier votre email et vous connecter.")}else if("create_institution"===e.mode){const t=await N.createInstitution(e.userData.institution);u(t.code);const r=await N.signUp(e.email,e.password,{firstName:e.userData.admin.firstName,lastName:e.userData.admin.lastName,role:"admin"});if(!r.success)throw new Error(r.error);n("institution_setup")}}catch(e){throw A(e.message||"Erreur d'authentification"),e}finally{T(!1)}}})},{}))})();
//# sourceMappingURL=renderer.js.map