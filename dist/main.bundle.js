/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/renderer/App.tsx":
/*!******************************!*\
  !*** ./src/renderer/App.tsx ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   App: () => (/* binding */ App)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_TitleBar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/TitleBar */ "./src/renderer/components/TitleBar.tsx");
/* harmony import */ var _components_Sidebar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/Sidebar */ "./src/renderer/components/Sidebar.tsx");
/* harmony import */ var _components_Dashboard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/Dashboard */ "./src/renderer/components/Dashboard.tsx");
/* harmony import */ var _components_DocumentList__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/DocumentList */ "./src/renderer/components/DocumentList.tsx");
/* harmony import */ var _components_BorrowedDocuments__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/BorrowedDocuments */ "./src/renderer/components/BorrowedDocuments.tsx");
/* harmony import */ var _components_AddDocument__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/AddDocument */ "./src/renderer/components/AddDocument.tsx");
/* harmony import */ var _components_BorrowDocument__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/BorrowDocument */ "./src/renderer/components/BorrowDocument.tsx");
/* harmony import */ var _components_Borrowers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/Borrowers */ "./src/renderer/components/Borrowers.tsx");
/* harmony import */ var _components_BorrowHistory__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/BorrowHistory */ "./src/renderer/components/BorrowHistory.tsx");
/* harmony import */ var _components_Settings__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/Settings */ "./src/renderer/components/Settings.tsx");
/* harmony import */ var _components_AboutAndSupport__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/AboutAndSupport */ "./src/renderer/components/AboutAndSupport.tsx");
/* harmony import */ var _components_EnhancedAuthentication__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/EnhancedAuthentication */ "./src/renderer/components/EnhancedAuthentication.tsx");
/* harmony import */ var _components_InstitutionSetup__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/InstitutionSetup */ "./src/renderer/components/InstitutionSetup.tsx");
/* harmony import */ var _components_InitialSetup__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/InitialSetup */ "./src/renderer/components/InitialSetup.tsx");
/* harmony import */ var _components_AppPasswordScreen__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/AppPasswordScreen */ "./src/renderer/components/AppPasswordScreen.tsx");
/* harmony import */ var _services_SupabaseClient__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./services/SupabaseClient */ "./src/renderer/services/SupabaseClient.ts");
/* harmony import */ var _services_ConfigService__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./services/ConfigService */ "./src/renderer/services/ConfigService.ts");
/* harmony import */ var _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./services/LocalAuthService */ "./src/renderer/services/LocalAuthService.ts");
/* harmony import */ var _components_AppSettings__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./components/AppSettings */ "./src/renderer/components/AppSettings.tsx");
/* harmony import */ var _components_UserProfile__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./components/UserProfile */ "./src/renderer/components/UserProfile.tsx");
/* harmony import */ var _components_InstitutionUserManagement__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/InstitutionUserManagement */ "./src/renderer/components/InstitutionUserManagement.tsx");
/* harmony import */ var _components_BackupManager__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./components/BackupManager */ "./src/renderer/components/BackupManager.tsx");
/* harmony import */ var _components_ReportsManager__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./components/ReportsManager */ "./src/renderer/components/ReportsManager.tsx");
/* harmony import */ var _components_StatisticsManager__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./components/StatisticsManager */ "./src/renderer/components/StatisticsManager.tsx");
/* harmony import */ var _components_ToastSystem__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./components/ToastSystem */ "./src/renderer/components/ToastSystem.tsx");
/* harmony import */ var _components_KeyboardShortcuts__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./components/KeyboardShortcuts */ "./src/renderer/components/KeyboardShortcuts.tsx");
/* harmony import */ var _types_UnifiedTypes__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./types/UnifiedTypes */ "./src/renderer/types/UnifiedTypes.ts");

// src/renderer/App.tsx - Version modifiée pour Supabase




























const App = () => {
    const [currentView, setCurrentView] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('initial_setup');
    const [isAuthenticated, setIsAuthenticated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [currentUser, setCurrentUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [currentInstitution, setCurrentInstitution] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [unifiedUser, setUnifiedUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [unifiedInstitution, setUnifiedInstitution] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [institutionCode, setInstitutionCode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    // Mode démo supprimé - plus d'initialisation de données
    const [appMode, setAppMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('offline');
    const [isAppConfigured, setIsAppConfigured] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    // App security states
    const [isAppLocked, setIsAppLocked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);
    const [needsPasswordSetup, setNeedsPasswordSetup] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    // Data states
    const [documents, setDocuments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [authors, setAuthors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [categories, setCategories] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [borrowers, setBorrowers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [borrowedDocuments, setBorrowedDocuments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [recentActivity, setRecentActivity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [stats, setStats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        totalDocuments: 0,
        borrowedDocuments: 0,
        availableDocuments: 0,
        totalAuthors: 0,
        totalCategories: 0,
        totalBorrowers: 0,
        totalStudents: 0,
        totalStaff: 0,
        overdueDocuments: 0
    });
    // Services
    const [supabaseService] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => new _services_SupabaseClient__WEBPACK_IMPORTED_MODULE_17__.SupabaseRendererService());
    const [showBorrowModal, setShowBorrowModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [selectedDocumentForBorrow, setSelectedDocumentForBorrow] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [editingDocument, setEditingDocument] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [showReportsModal, setShowReportsModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [showStatisticsModal, setShowStatisticsModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [showUserManagementModal, setShowUserManagementModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [showOrphanDataDialog, setShowOrphanDataDialog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [orphanDataCount, setOrphanDataCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({ documents: 0, authors: 0, categories: 0, borrowers: 0, borrowHistory: 0 });
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        checkAppSecurity();
    }, []);
    const checkAppSecurity = async () => {
        try {
            // Vérifier si un mot de passe d'application est requis
            const appSettings = _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_19__.LocalAuthService.getAppSettings();
            if (appSettings.requireAppPassword) {
                setIsAppLocked(true);
                setNeedsPasswordSetup(false);
            }
            else {
                setIsAppLocked(false);
                await checkInitialConfiguration();
            }
        }
        catch (error) {
            console.error('Erreur lors de la vérification de sécurité:', error);
            setIsAppLocked(false);
            await checkInitialConfiguration();
        }
    };
    const handleAppUnlock = async () => {
        setIsAppLocked(false);
        await checkInitialConfiguration();
    };
    const handlePasswordSetup = async () => {
        setNeedsPasswordSetup(false);
        setIsAppLocked(false);
        await checkInitialConfiguration();
    };
    const checkInitialConfiguration = async () => {
        try {
            // Vérifier si l'application a été configurée
            const configured = _services_ConfigService__WEBPACK_IMPORTED_MODULE_18__.ConfigService.isConfigured();
            const mode = _services_ConfigService__WEBPACK_IMPORTED_MODULE_18__.ConfigService.getMode();
            setIsAppConfigured(configured);
            setAppMode(mode);
            // Charger les informations de dernière connexion si disponibles
            const lastLogin = _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_19__.LocalAuthService.getLastLoginInfo();
            if (configured) {
                console.log(`Application configurée en mode: ${mode}`);
                // Si auto-login activé et informations disponibles
                if (lastLogin && lastLogin.password && _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_19__.LocalAuthService.getAppSettings().autoLogin) {
                    console.log('Tentative de connexion automatique...');
                    try {
                        await handleAuthentication({
                            email: lastLogin.email,
                            password: lastLogin.password,
                            institutionCode: lastLogin.institutionCode,
                            mode: 'login'
                        });
                        return;
                    }
                    catch (error) {
                        console.log('Échec de la connexion automatique:', error);
                    }
                }
                setCurrentView('auth');
                await checkAuthStatus();
            }
            else {
                console.log('Première exécution - configuration nécessaire');
                setCurrentView('initial_setup');
            }
        }
        catch (error) {
            console.error('Erreur lors de la vérification de la configuration:', error);
            setCurrentView('initial_setup');
        }
    };
    const handleInitialSetup = async (mode) => {
        try {
            console.log(`Configuration initiale: mode ${mode}`);
            // Sauvegarder la configuration
            _services_ConfigService__WEBPACK_IMPORTED_MODULE_18__.ConfigService.configureApp(mode);
            // Mettre à jour l'état local
            setAppMode(mode);
            setIsAppConfigured(true);
            // Rediriger vers l'authentification
            setCurrentView('auth');
            // Mode offline avec vraies données locales - plus de mode démo
        }
        catch (error) {
            console.error('Erreur lors de la configuration initiale:', error);
            setError('Erreur lors de la sauvegarde de la configuration');
        }
    };
    const checkAuthStatus = async () => {
        try {
            // En mode offline, on utilise uniquement l'authentification locale
            if (appMode === 'offline') {
                setCurrentView('auth');
                return;
            }
            const user = supabaseService.getCurrentUser();
            const institution = supabaseService.getCurrentInstitution();
            if (user && institution) {
                setCurrentUser(user);
                setCurrentInstitution(institution);
                setIsAuthenticated(true);
                setCurrentView('dashboard');
                await loadData();
            }
            else {
                setCurrentView('auth');
            }
        }
        catch (error) {
            console.error('Erreur lors de la vérification de l\'authentification:', error);
            setCurrentView('auth');
        }
    };
    const loadData = async () => {
        if (appMode === 'online' && !supabaseService.isAuthenticated())
            return;
        try {
            setIsLoading(true);
            if (appMode === 'offline') {
                // Mode offline - charger les données depuis SQLite via electronAPI avec filtrage par institution
                const institutionCode = supabaseService.getCurrentInstitution()?.code || '';
                console.log('🔍 DEBUG App.tsx loadData - currentInstitution from state:', currentInstitution);
                console.log('🔍 DEBUG App.tsx loadData - currentInstitution from service:', supabaseService.getCurrentInstitution());
                console.log('🔍 DEBUG App.tsx loadData - institutionCode:', institutionCode);
                const [documentsData, authorsData, categoriesData, borrowersData, borrowedDocumentsData, recentActivityData] = await Promise.all([
                    window.electronAPI.getDocuments(institutionCode),
                    window.electronAPI.getAuthors(institutionCode),
                    window.electronAPI.getCategories(institutionCode),
                    window.electronAPI.getBorrowers(institutionCode),
                    window.electronAPI.getBorrowHistory(undefined, institutionCode),
                    window.electronAPI.getRecentActivity(5, institutionCode)
                ]);
                setDocuments(documentsData || []);
                setAuthors(authorsData || []);
                setCategories(categoriesData || []);
                setBorrowers(borrowersData || []);
                setBorrowedDocuments(borrowedDocumentsData || []);
                setRecentActivity(recentActivityData || []);
                // DEBUG: Log borrowed documents for institution isolation verification
                console.log('🔍 DEBUG App.tsx loadData - Borrowed documents loaded:', {
                    institutionCode,
                    count: borrowedDocumentsData?.length || 0,
                    activeEmprunts: borrowedDocumentsData?.filter(bh => bh.status === 'active').length || 0,
                    borrowedDocuments: borrowedDocumentsData?.map(bh => ({
                        id: bh.id,
                        documentId: bh.documentId,
                        status: bh.status,
                        institution_code: bh.institution_code,
                        borrowDate: bh.borrowDate
                    })) || []
                });
                // Calculer les statistiques manuellement pour le mode offline
                const totalDocuments = documentsData?.length || 0;
                const borrowedCount = borrowedDocumentsData?.filter(bh => bh.status === 'active').length || 0;
                const availableDocuments = totalDocuments - borrowedCount;
                const totalAuthors = authorsData?.length || 0;
                const totalCategories = categoriesData?.length || 0;
                const totalBorrowers = borrowersData?.length || 0;
                const totalStudents = borrowersData?.filter(b => b.type === 'student').length || 0;
                const totalStaff = borrowersData?.filter(b => b.type === 'staff').length || 0;
                const overdueDocuments = borrowedDocumentsData?.filter(bh => {
                    if (bh.status !== 'active')
                        return false;
                    const expectedReturnDate = new Date(bh.expectedReturnDate);
                    return expectedReturnDate < new Date();
                }).length || 0;
                setStats({
                    totalDocuments,
                    borrowedDocuments: borrowedCount,
                    availableDocuments,
                    totalAuthors,
                    totalCategories,
                    totalBorrowers,
                    totalStudents,
                    totalStaff,
                    overdueDocuments
                });
            }
            else {
                // Mode online - utiliser Supabase avec filtrage par institution
                const institutionCode = supabaseService.getCurrentInstitution()?.code || '';
                console.log('🔍 DEBUG App.tsx loadData ONLINE - institutionCode:', institutionCode);
                const [documentsData, authorsData, categoriesData, borrowersData, borrowedDocumentsData, statsData] = await Promise.all([
                    supabaseService.getDocuments(institutionCode),
                    supabaseService.getAuthors(institutionCode),
                    supabaseService.getCategories(institutionCode),
                    supabaseService.getBorrowers(institutionCode),
                    supabaseService.getBorrowedDocuments(institutionCode),
                    supabaseService.getStats(institutionCode)
                ]);
                setDocuments(documentsData);
                setAuthors(authorsData);
                setCategories(categoriesData);
                setBorrowers(borrowersData);
                setBorrowedDocuments(borrowedDocumentsData);
                setStats(statsData);
            }
        }
        catch (error) {
            console.error('Erreur lors du chargement des données:', error);
            setError('Erreur lors du chargement des données');
        }
        finally {
            setIsLoading(false);
        }
    };
    // Fonction loadDemoData supprimée - plus d'initialisation de données
    const handleAuthentication = async (credentials) => {
        try {
            setIsLoading(true);
            setError('');
            if (credentials.mode === 'login') {
                // En mode offline, utiliser le nouveau service d'authentification
                if (appMode === 'offline') {
                    console.log('Mode offline - authentification avec LocalAuthService');
                    // Utiliser le service d'authentification local
                    console.log('🔍 DEBUG App.tsx - Authentication attempt with:', {
                        email: credentials.email,
                        institutionCode: credentials.institutionCode || ''
                    });
                    const authResult = _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_19__.LocalAuthService.authenticate(credentials.email, credentials.password, credentials.institutionCode || '');
                    console.log('🔍 DEBUG App.tsx - Authentication result:', authResult);
                    if (!authResult.success) {
                        throw new Error(authResult.message || 'Échec de l\'authentification');
                    }
                    const localUser = authResult.user;
                    // Sauvegarder les informations de connexion si demandé
                    _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_19__.LocalAuthService.saveLastLoginInfo(credentials.email, credentials.institutionCode || '', true, // Toujours mémoriser le mot de passe en mode offline
                    credentials.password);
                    if (localUser) {
                        // Convertir l'utilisateur local au format User
                        const appUser = {
                            id: localUser.id,
                            firstName: localUser.firstName,
                            lastName: localUser.lastName,
                            email: localUser.email,
                            role: localUser.role
                        };
                        // Chercher l'institution correspondante ou créer une par défaut
                        console.log('🔍 DEBUG App.tsx - Looking for institution with code:', localUser.institutionCode);
                        const institution = _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_19__.LocalAuthService.findInstitutionByCode(localUser.institutionCode);
                        console.log('🔍 DEBUG App.tsx - Found institution:', institution);
                        const appInstitution = institution ? {
                            id: institution.id,
                            name: institution.name,
                            code: institution.code,
                            address: institution.address,
                            city: institution.city,
                            country: institution.country,
                            phone: institution.phone,
                            email: institution.email,
                            website: institution.website,
                            logo: institution.logo,
                            description: institution.description,
                            type: institution.type,
                            status: 'active',
                            subscription_plan: 'basic',
                            max_books: 10000,
                            max_users: 100,
                            created_at: institution.created_at,
                            updated_at: new Date().toISOString()
                        } : {
                            id: 'default-offline',
                            name: 'Ma Bibliothèque',
                            code: localUser.institutionCode,
                            address: '',
                            city: '',
                            country: '',
                            phone: '',
                            email: '',
                            website: '',
                            logo: '',
                            description: 'Institution locale par défaut',
                            type: 'library',
                            status: 'active',
                            subscription_plan: 'basic',
                            max_books: 10000,
                            max_users: 100,
                            created_at: new Date().toISOString(),
                            updated_at: new Date().toISOString()
                        };
                        setCurrentUser(appUser);
                        setCurrentInstitution(appInstitution);
                        // CRITICAL: Switch the SupabaseService to the correct institution
                        console.log('🔍 DEBUG App.tsx - Switching SupabaseService institution to:', appInstitution.code);
                        await supabaseService.switchInstitution(appInstitution.code);
                        // CRITICAL: Clear previous data to ensure institution isolation
                        setDocuments([]);
                        setBorrowedDocuments([]);
                        setAuthors([]);
                        setCategories([]);
                        setBorrowers([]);
                        setStats({
                            totalDocuments: 0,
                            borrowedDocuments: 0,
                            availableDocuments: 0,
                            totalAuthors: 0,
                            totalCategories: 0,
                            totalBorrowers: 0,
                            totalStudents: 0,
                            totalStaff: 0,
                            overdueDocuments: 0
                        });
                        console.log('🔍 DEBUG App.tsx - Cleared previous institution data');
                        // Créer les versions unifiées
                        setUnifiedUser((0,_types_UnifiedTypes__WEBPACK_IMPORTED_MODULE_28__.convertToUnifiedUser)(localUser, 'offline'));
                        setUnifiedInstitution((0,_types_UnifiedTypes__WEBPACK_IMPORTED_MODULE_28__.convertToUnifiedInstitution)(institution || {
                            id: 'default-offline',
                            name: 'Ma Bibliothèque',
                            code: localUser.institutionCode,
                            address: '',
                            city: '',
                            country: '',
                            phone: '',
                            email: '',
                            website: '',
                            logo: '',
                            description: 'Bibliothèque locale',
                            type: 'library',
                            adminEmail: localUser.email,
                            created_at: new Date().toISOString()
                        }, 'offline'));
                        setIsAuthenticated(true);
                        setCurrentView('dashboard');
                        // CRITICAL: Load data for the new institution
                        console.log('🔍 DEBUG App.tsx - Loading data for institution:', appInstitution.code);
                        await loadData();
                        // Vérifier s'il y a des données orphelines à assigner
                        setTimeout(() => checkForOrphanData(), 1000);
                        return;
                    }
                }
                // Mode online (désactivé pour cette version)
                throw new Error('Le mode en ligne n\'est pas encore disponible dans cette version.');
            }
            else if (credentials.mode === 'register') {
                // Inscription avec code d'établissement
                const result = await supabaseService.signUp(credentials.email, credentials.password, {
                    firstName: credentials.userData.firstName,
                    lastName: credentials.userData.lastName,
                    institutionCode: credentials.institutionCode || 'DEFAULT'
                });
                if (!result.success) {
                    throw new Error(result.error);
                }
                // Afficher un message de succès et rediriger vers login
                alert('Compte créé avec succès ! Veuillez vérifier votre email et vous connecter.');
            }
            else if (credentials.mode === 'create_institution') {
                // Création d'institution locale
                const institutionData = credentials.userData.institution;
                // Créer l'institution avec le service local
                const newInstitution = _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_19__.LocalAuthService.createInstitution({
                    name: institutionData.name,
                    address: institutionData.address || '',
                    city: institutionData.city || '',
                    country: institutionData.country || '',
                    phone: institutionData.phone || '',
                    email: institutionData.email || '',
                    website: institutionData.website || '',
                    logo: institutionData.logo || '',
                    description: institutionData.description || '',
                    type: institutionData.type || 'library',
                    adminEmail: credentials.email
                });
                setInstitutionCode(newInstitution.code);
                // Créer le compte administrateur local
                const adminUser = _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_19__.LocalAuthService.addUser({
                    email: credentials.email,
                    password: credentials.password,
                    firstName: credentials.userData.admin.firstName,
                    lastName: credentials.userData.admin.lastName,
                    role: 'admin',
                    institutionCode: newInstitution.code,
                    preferences: {
                        rememberMe: true,
                        autoLogin: false,
                        theme: 'light'
                    }
                });
                if (!adminUser) {
                    throw new Error('Erreur lors de la création du compte administrateur');
                }
                setCurrentView('institution_setup');
            }
        }
        catch (error) {
            setError(error.message || 'Erreur d\'authentification');
            throw error;
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleLogout = async () => {
        try {
            await supabaseService.signOut();
            setIsAuthenticated(false);
            setCurrentUser(null);
            setCurrentInstitution(null);
            setUnifiedUser(null);
            setUnifiedInstitution(null);
            // Clear all data when logging out to ensure fresh start for next user
            setDocuments([]);
            setBorrowedDocuments([]);
            setAuthors([]);
            setCategories([]);
            setBorrowers([]);
            setStats({
                totalDocuments: 0,
                borrowedDocuments: 0,
                availableDocuments: 0,
                totalAuthors: 0,
                totalCategories: 0,
                totalBorrowers: 0,
                totalStudents: 0,
                totalStaff: 0,
                overdueDocuments: 0
            });
            console.log('🔍 DEBUG App.tsx - Cleared all data on logout');
            setCurrentView('auth');
        }
        catch (error) {
            console.error('Erreur lors de la déconnexion:', error);
        }
    };
    const handleUserUpdate = (updatedUser) => {
        setUnifiedUser(updatedUser);
        // Mettre à jour aussi currentUser pour la compatibilité
        if (appMode === 'offline') {
            const appUser = {
                id: updatedUser.id,
                firstName: updatedUser.firstName || '',
                lastName: updatedUser.lastName || '',
                email: updatedUser.email,
                role: updatedUser.role
            };
            setCurrentUser(appUser);
        }
    };
    const handleAddDocument = async (document) => {
        try {
            if (appMode === 'offline') {
                // Mode offline - utiliser l'API électron pour SQLite avec filtrage par institution
                const institutionCode = supabaseService.getCurrentInstitution()?.code;
                if (!institutionCode) {
                    throw new Error('Code d\'institution manquant. Veuillez vous reconnecter.');
                }
                if (editingDocument) {
                    // Modification d'un document existant
                    const documentToUpdate = { ...document, id: editingDocument.id };
                    await window.electronAPI.updateDocument(documentToUpdate, institutionCode);
                    console.log('Document modifié en mode offline:', editingDocument.id);
                }
                else {
                    // Ajout d'un nouveau document
                    const documentId = await window.electronAPI.addDocument(document, institutionCode);
                    console.log('Document ajouté en mode offline avec ID:', documentId);
                }
                // Ajouter l'auteur s'il n'existe pas
                if (!authors.find(a => a.name === document.auteur)) {
                    await window.electronAPI.addAuthor({
                        name: document.auteur,
                        biography: '',
                        birthDate: '',
                        nationality: '',
                        syncStatus: 'pending',
                        lastModified: new Date().toISOString(),
                        version: 1,
                        createdAt: new Date().toISOString()
                    }, institutionCode);
                }
                // Ajouter la catégorie si elle n'existe pas (basée sur les descripteurs)
                const categoryName = document.descripteurs.split(',')[0]?.trim();
                if (categoryName && !categories.find(c => c.name === categoryName)) {
                    await window.electronAPI.addCategory({
                        name: categoryName,
                        description: `Catégorie créée automatiquement pour ${categoryName}`,
                        color: '#3E5C49',
                        syncStatus: 'pending',
                        lastModified: new Date().toISOString(),
                        version: 1,
                        createdAt: new Date().toISOString()
                    }, institutionCode);
                }
                // Recharger les données pour mettre à jour l'interface
                await loadData();
            }
            else {
                // Mode online - utiliser Supabase avec filtrage par institution
                const institutionCode = supabaseService.getCurrentInstitution()?.code;
                if (!institutionCode) {
                    throw new Error('Code d\'institution manquant. Veuillez vous reconnecter.');
                }
                await supabaseService.addDocument(document, institutionCode);
                await loadData();
            }
            // Nettoyer l'état d'édition et retourner à la liste des documents
            setEditingDocument(null);
            setCurrentView('documents');
        }
        catch (error) {
            console.error('Erreur lors de l\'ajout du document:', error);
            throw error;
        }
    };
    const handleReturnDocument = async (borrowHistoryId, notes) => {
        if (borrowHistoryId === undefined) {
            console.error('Invalid argument for returnBook:', { borrowHistoryId });
            return;
        }
        try {
            if (appMode === 'offline') {
                // Mode offline - utiliser l'API électron pour SQLite avec filtrage par institution
                const institutionCode = supabaseService.getCurrentInstitution()?.code || '';
                await window.electronAPI.returnBook(borrowHistoryId, notes, institutionCode);
                console.log('Document retourné en mode offline:', borrowHistoryId);
            }
            else {
                // Mode online - utiliser Supabase
                // Note: returnBook ne nécessite pas institutionCode car il utilise l'ID d'historique
                await supabaseService.returnBook(borrowHistoryId.toString(), notes);
            }
            await loadData();
        }
        catch (error) {
            console.error('Erreur lors du retour:', error);
            throw error;
        }
    };
    const handleDeleteDocument = async (documentId) => {
        try {
            if (appMode === 'offline') {
                // Mode offline - utiliser l'API électron pour SQLite avec filtrage par institution
                const institutionCode = supabaseService.getCurrentInstitution()?.code;
                if (!institutionCode) {
                    throw new Error('Code d\'institution manquant. Veuillez vous reconnecter.');
                }
                await window.electronAPI.deleteDocument(documentId, institutionCode);
                console.log('Document supprimé en mode offline:', documentId);
                // Recharger les données pour mettre à jour l'interface
                await loadData();
            }
            else {
                // Mode online - utiliser Supabase
                await supabaseService.deleteDocument(documentId.toString());
            }
            // Recharger les données après l'opération
            await loadData();
        }
        catch (error) {
            console.error('Erreur lors de la suppression:', error);
            throw error;
        }
    };
    const handleEditDocument = (document) => {
        setEditingDocument(document);
        setCurrentView('add-document');
    };
    const handleBorrowDocument = (document) => {
        setSelectedDocumentForBorrow(document);
        setShowBorrowModal(true);
    };
    const closeBorrowModal = () => {
        setSelectedDocumentForBorrow(null);
        setShowBorrowModal(false);
    };
    const handleBorrow = async (documentId, borrowerId, returnDate) => {
        try {
            if (appMode === 'offline') {
                // Mode offline - utiliser l'API électron pour SQLite avec filtrage par institution
                const institutionCode = supabaseService.getCurrentInstitution()?.code;
                if (!institutionCode) {
                    throw new Error('Code d\'institution manquant. Veuillez vous reconnecter.');
                }
                await window.electronAPI.borrowDocument(documentId, borrowerId, returnDate, institutionCode);
                console.log('Document emprunté en mode offline:', { documentId, borrowerId, returnDate });
            }
            else {
                // Mode online - utiliser Supabase avec filtrage par institution
                const institutionCode = supabaseService.getCurrentInstitution()?.code;
                if (!institutionCode) {
                    throw new Error('Code d\'institution manquant. Veuillez vous reconnecter.');
                }
                await supabaseService.borrowDocument({
                    documentId: documentId.toString(),
                    borrowerId: borrowerId.toString(),
                    expectedReturnDate: returnDate
                }, institutionCode);
            }
            // Recharger les données après l'opération
            await loadData();
            closeBorrowModal();
        }
        catch (error) {
            console.error('Erreur lors de l\'emprunt:', error);
            throw error;
        }
    };
    const handleReturn = async (documentId) => {
        try {
            if (appMode === 'offline') {
                // Mode offline - trouver l'emprunt actif et le retourner
                const activeBorrow = borrowedDocuments.find(bh => bh.documentId === documentId && bh.status === 'active');
                if (activeBorrow && activeBorrow.id) {
                    const institutionCode = supabaseService.getCurrentInstitution()?.code || '';
                    await window.electronAPI.returnBook(activeBorrow.id, undefined, institutionCode);
                    console.log('Document retourné en mode offline:', documentId);
                }
                else {
                    console.error('Aucun emprunt actif trouvé pour le document:', documentId);
                    return;
                }
            }
            else {
                // Mode online - utiliser Supabase
                await supabaseService.returnDocument(documentId.toString());
            }
            // Recharger les données après l'opération
            await loadData();
            closeBorrowModal();
        }
        catch (error) {
            console.error('Erreur lors du retour:', error);
            throw error;
        }
    };
    const handleAddBorrower = async (borrower) => {
        try {
            if (appMode === 'offline') {
                // Mode offline - utiliser l'API électron pour SQLite avec filtrage par institution
                const institutionCode = supabaseService.getCurrentInstitution()?.code;
                if (!institutionCode) {
                    throw new Error('Code d\'institution manquant. Veuillez vous reconnecter.');
                }
                const newId = await window.electronAPI.addBorrower(borrower, institutionCode);
                await loadData(); // Refresh data
                return newId;
            }
            else {
                // Mode online - utiliser Supabase
                const result = await supabaseService.addBorrower(borrower);
                await loadData(); // Refresh data
                return result ? parseInt(result.id) : Date.now();
            }
        }
        catch (error) {
            console.error('Erreur lors de l\'ajout de l\'emprunteur:', error);
            throw error;
        }
    };
    const refreshData = async () => {
        await loadData();
    };
    const checkForOrphanData = async () => {
        try {
            if (appMode === 'offline' && supabaseService.getCurrentInstitution()?.code) {
                const count = await window.electronAPI.getOrphanDataCount();
                const totalOrphans = count.documents + count.authors + count.categories + count.borrowers + count.borrowHistory;
                if (totalOrphans > 0) {
                    setOrphanDataCount(count);
                    setShowOrphanDataDialog(true);
                }
            }
        }
        catch (error) {
            console.error('Erreur lors de la vérification des données orphelines:', error);
        }
    };
    const handleAssignOrphanData = async () => {
        try {
            if (!supabaseService.getCurrentInstitution()?.code)
                return;
            setIsLoading(true);
            const result = await window.electronAPI.assignOrphanDataToInstitution(supabaseService.getCurrentInstitution()?.code || '');
            const totalAssigned = result.documents + result.authors + result.categories + result.borrowers + result.borrowHistory;
            if (totalAssigned > 0) {
                await loadData(); // Recharger les données
                setError(''); // Effacer les erreurs précédentes
                console.log(`${totalAssigned} éléments assignés à l'établissement ${supabaseService.getCurrentInstitution()?.code}`);
            }
            setShowOrphanDataDialog(false);
        }
        catch (error) {
            console.error('Erreur lors de l\'assignation des données:', error);
            setError('Erreur lors de l\'assignation des données à l\'établissement');
        }
        finally {
            setIsLoading(false);
        }
    };
    // Gérer l'affichage avec TitleBar toujours visible
    const renderAuthenticatedContent = () => {
        // Écran de configuration initiale - sans TitleBar
        if (currentView === 'initial_setup') {
            return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_InitialSetup__WEBPACK_IMPORTED_MODULE_15__.InitialSetup, { onComplete: handleInitialSetup, onClose: () => window.electronAPI?.closeWindow?.() });
        }
        // Tous les autres écrans auront la TitleBar
        return null; // Sera géré dans renderMainContent
    };
    // Gérer le contenu principal avec TitleBar
    const renderMainContent = () => {
        if (!isAuthenticated) {
            if (currentView === 'institution_setup') {
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_InstitutionSetup__WEBPACK_IMPORTED_MODULE_14__.InstitutionSetup, { institutionCode: institutionCode, institution: currentInstitution, onComplete: () => {
                        setCurrentView('auth');
                        alert('Votre établissement a été créé avec succès ! Vous pouvez maintenant vous connecter.');
                    }, onClose: () => window.electronAPI?.closeWindow?.() }));
            }
            return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_EnhancedAuthentication__WEBPACK_IMPORTED_MODULE_13__.EnhancedAuthentication, { onLogin: handleAuthentication });
        }
        return renderCurrentView();
    };
    const renderCurrentView = () => {
        switch (currentView) {
            case 'dashboard':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Dashboard__WEBPACK_IMPORTED_MODULE_4__.Dashboard, { stats: stats, onNavigate: setCurrentView, documents: documents, categories: categories, recentActivity: recentActivity }));
            case 'documents':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_DocumentList__WEBPACK_IMPORTED_MODULE_5__.DocumentList, { documents: documents, onAdd: () => setCurrentView('add-document'), onEdit: handleEditDocument, onBorrow: handleBorrowDocument, onDelete: handleDeleteDocument, onRefresh: refreshData, syncStatus: {}, networkStatus: {} }));
            case 'borrowed':
                // Debug: vérifier l'isolation des emprunts actifs
                const currentInstitutionCode = supabaseService.getCurrentInstitution()?.code;
                const activeBorrows = borrowedDocuments.filter(bh => bh.status === 'active');
                console.log('🔍 DEBUG EMPRUNTS ACTIFS - Institution courante:', currentInstitutionCode);
                console.log('🔍 DEBUG EMPRUNTS ACTIFS - Nombre total d\'emprunts actifs:', activeBorrows.length);
                console.log('🔍 DEBUG EMPRUNTS ACTIFS - Détails des emprunts:', activeBorrows.map(bh => ({
                    id: bh.id,
                    documentTitle: bh.document?.titre,
                    borrowerName: `${bh.borrower?.firstName} ${bh.borrower?.lastName}`,
                    institutionCode: bh.institution_code || 'VIDE'
                })));
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_BorrowedDocuments__WEBPACK_IMPORTED_MODULE_6__.BorrowedDocuments, { documents: activeBorrows
                        .map(bh => ({
                        ...bh.document,
                        nomEmprunteur: `${bh.borrower?.firstName} ${bh.borrower?.lastName}`,
                        dateEmprunt: bh.borrowDate,
                        dateRetourPrevu: bh.expectedReturnDate
                    })), onReturn: (documentId) => {
                        const borrowHistory = borrowedDocuments.find(bh => bh.documentId === documentId && bh.status === 'active');
                        if (borrowHistory) {
                            handleReturnDocument(borrowHistory.id, undefined);
                        }
                    } }));
            case 'add-document':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_AddDocument__WEBPACK_IMPORTED_MODULE_7__.AddDocument, { onAdd: handleAddDocument, onCancel: () => {
                        setEditingDocument(null);
                        setCurrentView('documents');
                    }, editingDocument: editingDocument || undefined }));
            case 'borrowers':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Borrowers__WEBPACK_IMPORTED_MODULE_9__["default"], { onClose: () => setCurrentView('dashboard'), onRefreshData: refreshData, supabaseService: supabaseService }));
            case 'history':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_BorrowHistory__WEBPACK_IMPORTED_MODULE_10__.BorrowHistory, { onClose: () => setCurrentView('dashboard'), supabaseService: supabaseService }));
            case 'settings':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Settings__WEBPACK_IMPORTED_MODULE_11__.Settings, { onClose: () => setCurrentView('dashboard'), onLogout: handleLogout, currentUser: currentUser, currentInstitution: currentInstitution, supabaseService: supabaseService }));
            case 'about-support':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_AboutAndSupport__WEBPACK_IMPORTED_MODULE_12__.AboutAndSupport, { onClose: () => setCurrentView('dashboard') }));
            case 'app-settings':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_AppSettings__WEBPACK_IMPORTED_MODULE_20__.AppSettings, { onClose: () => setCurrentView('dashboard') }));
            case 'user-profile':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_UserProfile__WEBPACK_IMPORTED_MODULE_21__.UserProfile, { currentUser: unifiedUser, currentInstitution: unifiedInstitution, appMode: appMode, onClose: () => setCurrentView('dashboard'), onUserUpdate: handleUserUpdate }));
            case 'user-management':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_InstitutionUserManagement__WEBPACK_IMPORTED_MODULE_22__.InstitutionUserManagement, { currentUser: unifiedUser, currentInstitution: unifiedInstitution, appMode: appMode, onClose: () => setCurrentView('dashboard') }));
            case 'backup-manager':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_BackupManager__WEBPACK_IMPORTED_MODULE_23__.BackupManager, { onClose: () => setCurrentView('dashboard') }));
            default:
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Dashboard__WEBPACK_IMPORTED_MODULE_4__.Dashboard, { stats: stats, onNavigate: setCurrentView, documents: documents, categories: categories, recentActivity: recentActivity }));
        }
    };
    // Rendu des écrans de sécurité
    if (isAppLocked || needsPasswordSetup) {
        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_AppPasswordScreen__WEBPACK_IMPORTED_MODULE_16__.AppPasswordScreen, { onUnlock: handleAppUnlock, onSkip: needsPasswordSetup ? handlePasswordSetup : undefined, onClose: () => window.electronAPI?.closeWindow?.(), isSetup: needsPasswordSetup }));
    }
    // Configuration initiale - avec TitleBar aussi
    const initialSetupContent = renderAuthenticatedContent();
    if (initialSetupContent) {
        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ToastSystem__WEBPACK_IMPORTED_MODULE_26__.ToastProvider, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_KeyboardShortcuts__WEBPACK_IMPORTED_MODULE_27__.KeyboardShortcutsProvider, { onNavigate: setCurrentView, onOpenAddDocument: () => setCurrentView('add-document'), onOpenSettings: () => setCurrentView('settings'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "app", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_TitleBar__WEBPACK_IMPORTED_MODULE_2__.TitleBar, { onRefresh: refreshData, isAuthenticated: isAuthenticated }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "app-container", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "auth-container", children: initialSetupContent }) })] }) }) }));
    }
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ToastSystem__WEBPACK_IMPORTED_MODULE_26__.ToastProvider, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_KeyboardShortcuts__WEBPACK_IMPORTED_MODULE_27__.KeyboardShortcutsProvider, { onNavigate: setCurrentView, onOpenAddDocument: () => setCurrentView('add-document'), onOpenSettings: () => setCurrentView('settings'), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "app", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_TitleBar__WEBPACK_IMPORTED_MODULE_2__.TitleBar, { onRefresh: refreshData, isAuthenticated: isAuthenticated }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "app-container", children: isAuthenticated ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AppContent
                                // Mode démo supprimé
                                , { 
                                    // Mode démo supprimé
                                    currentView: currentView, setCurrentView: setCurrentView, isLoading: isLoading, error: error, setError: setError, renderCurrentView: renderCurrentView, showBorrowModal: showBorrowModal, selectedDocumentForBorrow: selectedDocumentForBorrow, closeBorrowModal: closeBorrowModal, handleBorrow: handleBorrow, handleReturn: handleReturn, handleAddBorrower: handleAddBorrower, refreshData: refreshData, supabaseService: supabaseService, borrowers: borrowers, documents: documents, borrowedDocuments: borrowedDocuments, showReportsModal: showReportsModal, setShowReportsModal: setShowReportsModal, showStatisticsModal: showStatisticsModal, setShowStatisticsModal: setShowStatisticsModal, stats: stats, currentUser: currentUser, currentInstitution: currentInstitution, unifiedUser: unifiedUser, unifiedInstitution: unifiedInstitution, isAuthenticated: isAuthenticated, onLogout: handleLogout, showOrphanDataDialog: showOrphanDataDialog, setShowOrphanDataDialog: setShowOrphanDataDialog, orphanDataCount: orphanDataCount, handleAssignOrphanData: handleAssignOrphanData, showUserManagementModal: showUserManagementModal, setShowUserManagementModal: setShowUserManagementModal })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "auth-container", children: renderMainContent() })) })] }), showUserManagementModal && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_InstitutionUserManagement__WEBPACK_IMPORTED_MODULE_22__.InstitutionUserManagement, { currentUser: unifiedUser, currentInstitution: unifiedInstitution, appMode: appMode, onClose: () => setShowUserManagementModal(false) }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        * {
          box-sizing: border-box;
        }
        
        body, html, #root {
          margin: 0;
          padding: 0;
          height: 100vh;
          overflow: hidden;
        }
        
        .app {
          height: 100vh;
          display: flex;
          flex-direction: column;
          background: #FAF9F6;
        }
        
        .app-container {
          flex: 1;
          margin-top: 48px; /* Height of fixed TitleBar */
          overflow: hidden;
          display: flex;
        }
        
        .auth-container {
          flex: 1;
          display: flex;
          flex-direction: column;
          overflow: auto;
        }
        
        /* Fix pour les problèmes de saisie dans les formulaires */
        input, textarea, select {
          -webkit-user-select: text !important;
          user-select: text !important;
          pointer-events: auto !important;
          -webkit-app-region: no-drag !important;
          position: relative;
          z-index: 1;
        }
        
        input:focus, textarea:focus, select:focus {
          outline: none;
          -webkit-user-select: text !important;
          user-select: text !important;
        }
        
        /* Fix pour les modals */
        .modal-overlay {
          -webkit-app-region: no-drag !important;
        }
        
        .modal-container input,
        .modal-container textarea,
        .modal-container select {
          -webkit-app-region: no-drag !important;
          pointer-events: auto !important;
        }
        
        /* Fix pour les boutons dans les formulaires */
        button {
          -webkit-app-region: no-drag !important;
        }
        
        /* Fix pour les formulaires en général */
        form, form * {
          -webkit-app-region: no-drag !important;
        }
      ` })] }));
};
const AppContent = ({ 
// Mode démo supprimé,
currentView, setCurrentView, isLoading, error, setError, renderCurrentView, showBorrowModal, selectedDocumentForBorrow, closeBorrowModal, handleBorrow, handleReturn, handleAddBorrower, refreshData, supabaseService, borrowers, documents, borrowedDocuments, showReportsModal, setShowReportsModal, showStatisticsModal, setShowStatisticsModal, stats, currentUser, currentInstitution, unifiedUser, unifiedInstitution, isAuthenticated, onLogout, showOrphanDataDialog, setShowOrphanDataDialog, orphanDataCount, handleAssignOrphanData, showUserManagementModal, setShowUserManagementModal }) => {
    const { info } = (0,_components_ToastSystem__WEBPACK_IMPORTED_MODULE_26__.useQuickToast)();
    const [demoNotificationShown, setDemoNotificationShown] = react__WEBPACK_IMPORTED_MODULE_1___default().useState(false);
    // Notification de mode démo supprimée
    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(() => {
        // Plus de notification de mode démo
    }, [info]);
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Sidebar__WEBPACK_IMPORTED_MODULE_3__.Sidebar, { currentView: currentView, onNavigate: (view) => {
                    if (view === 'reports') {
                        setShowReportsModal(true);
                    }
                    else if (view === 'statistics') {
                        setShowStatisticsModal(true);
                    }
                    else if (view === 'user-management') {
                        setShowUserManagementModal(true);
                    }
                    else {
                        setCurrentView(view);
                    }
                }, stats: stats, currentUser: unifiedUser, currentInstitution: unifiedInstitution, onLogout: onLogout }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("main", { className: "main-content", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "content-wrapper", children: [isLoading && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "loading-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "loading-spinner" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Chargement..." })] })), error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "error-banner", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: error }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => setError(''), children: "\u00D7" })] })), renderCurrentView()] }) }), showBorrowModal && selectedDocumentForBorrow && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_BorrowDocument__WEBPACK_IMPORTED_MODULE_8__.BorrowDocument, { document: selectedDocumentForBorrow, borrowers: borrowers, onBorrow: handleBorrow, onReturn: handleReturn, onCancel: closeBorrowModal, onAddBorrower: handleAddBorrower })), showReportsModal && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ReportsManager__WEBPACK_IMPORTED_MODULE_24__.ReportsManager, { documents: documents, borrowers: borrowers, borrowHistory: borrowedDocuments, onClose: () => setShowReportsModal(false) })), showStatisticsModal && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_StatisticsManager__WEBPACK_IMPORTED_MODULE_25__.StatisticsManager, { documents: documents, borrowers: borrowers, borrowHistory: borrowedDocuments, onClose: () => setShowStatisticsModal(false) })), showOrphanDataDialog && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { style: {
                    position: 'fixed',
                    top: 0,
                    left: 0,
                    right: 0,
                    bottom: 0,
                    backgroundColor: 'rgba(0, 0, 0, 0.5)',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    zIndex: 2000
                }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { style: {
                        backgroundColor: '#FAF9F6',
                        padding: '32px',
                        borderRadius: '12px',
                        maxWidth: '500px',
                        width: '90%',
                        boxShadow: '0 10px 30px rgba(0, 0, 0, 0.3)'
                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { style: {
                                margin: '0 0 16px 0',
                                color: '#3E5C49',
                                fontSize: '20px',
                                fontWeight: '600'
                            }, children: "Donn\u00E9es existantes d\u00E9tect\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { style: {
                                color: '#6E6E6E',
                                marginBottom: '20px',
                                lineHeight: '1.5'
                            }, children: "Nous avons d\u00E9tect\u00E9 des donn\u00E9es qui ne sont pas encore assign\u00E9es \u00E0 votre \u00E9tablissement :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { style: {
                                backgroundColor: '#F5F5F5',
                                padding: '16px',
                                borderRadius: '8px',
                                marginBottom: '20px'
                            }, children: [orphanDataCount.documents > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { style: { marginBottom: '8px', color: '#3E5C49' }, children: ["\uD83D\uDCDA ", orphanDataCount.documents, " document(s)"] })), orphanDataCount.authors > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { style: { marginBottom: '8px', color: '#3E5C49' }, children: ["\uD83D\uDC64 ", orphanDataCount.authors, " auteur(s)"] })), orphanDataCount.categories > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { style: { marginBottom: '8px', color: '#3E5C49' }, children: ["\uD83C\uDFF7\uFE0F ", orphanDataCount.categories, " cat\u00E9gorie(s)"] })), orphanDataCount.borrowers > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { style: { marginBottom: '8px', color: '#3E5C49' }, children: ["\uD83D\uDC65 ", orphanDataCount.borrowers, " emprunteur(s)"] })), orphanDataCount.borrowHistory > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { style: { color: '#3E5C49' }, children: ["\uD83D\uDCCA ", orphanDataCount.borrowHistory, " historique(s) d'emprunt"] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { style: {
                                color: '#6E6E6E',
                                marginBottom: '24px',
                                fontSize: '14px'
                            }, children: ["Voulez-vous assigner ces donn\u00E9es \u00E0 votre \u00E9tablissement \"", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: currentInstitution?.name }), "\" ?"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { style: {
                                display: 'flex',
                                gap: '12px',
                                justifyContent: 'flex-end'
                            }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => setShowOrphanDataDialog(false), style: {
                                        padding: '10px 20px',
                                        backgroundColor: '#E5DCC2',
                                        color: '#6E6E6E',
                                        border: 'none',
                                        borderRadius: '8px',
                                        cursor: 'pointer',
                                        fontSize: '14px',
                                        fontWeight: '500'
                                    }, children: "Plus tard" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: handleAssignOrphanData, disabled: isLoading, style: {
                                        padding: '10px 20px',
                                        backgroundColor: isLoading ? '#C2571B80' : '#C2571B',
                                        color: 'white',
                                        border: 'none',
                                        borderRadius: '8px',
                                        cursor: isLoading ? 'not-allowed' : 'pointer',
                                        fontSize: '14px',
                                        fontWeight: '500'
                                    }, children: isLoading ? 'Assignation...' : 'Assigner maintenant' })] })] }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .app {
          height: 100vh;
          display: flex;
          flex-direction: column;
          background: #FAF9F6;
          overflow-y: auto;
          overflow-x: hidden;
        }
        
        .app-container {
          flex: 1;
          display: flex;
          overflow: hidden;
        }

        .auth-container {
          flex: 1;
          display: flex;
          flex-direction: column;
          overflow-y: visible;
          overflow-x: hidden;
          background: #FAF9F6;
          height: 100%;
        }
        
        .main-content {
          flex: 1;
          display: flex;
          flex-direction: column;
          background: #FAF9F6;
          overflow: hidden;
          position: relative;
        }
        
        .content-wrapper {
          flex: 1;
          overflow-y: auto;
          overflow-x: hidden;
          border-radius: 12px 0 0 0;
          background: #FAF9F6;
          box-shadow: -2px 0 8px rgba(0, 0, 0, 0.08);
          max-height: 100vh;
        }

        .loading-overlay {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(255, 255, 255, 0.9);
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          gap: 16px;
        }

        .loading-spinner {
          width: 40px;
          height: 40px;
          border: 4px solid #E5DCC2;
          border-top: 4px solid #3E5C49;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        .error-banner {
          background: #FEF2F2;
          border: 1px solid #FECACA;
          color: #DC2626;
          padding: 12px 16px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          font-size: 14px;
          font-weight: 500;
        }

        .error-banner button {
          background: none;
          border: none;
          color: #DC2626;
          cursor: pointer;
          font-size: 18px;
          padding: 0;
          margin-left: 12px;
        }

        /* Enhanced Borrow Modal */
        .borrow-modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(46, 46, 46, 0.75);
          backdrop-filter: blur(12px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
          animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
          from { opacity: 0; backdrop-filter: blur(0px); }
          to { opacity: 1; backdrop-filter: blur(12px); }
        }
        
        .borrow-modal {
          background: #FFFFFF;
          border-radius: 24px;
          width: 100%;
          max-width: 700px;
          max-height: 90vh;
          overflow-y: auto;
          box-shadow: 
            0 32px 64px rgba(62, 92, 73, 0.25),
            0 16px 32px rgba(62, 92, 73, 0.15);
          border: 1px solid rgba(229, 220, 194, 0.3);
          animation: slideUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        @keyframes slideUp {
          from { 
            opacity: 0;
            transform: translateY(32px) scale(0.95);
          }
          to { 
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
        
        .modal-header {
          display: flex;
          align-items: flex-start;
          justify-content: space-between;
          padding: 32px 32px 24px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          position: relative;
          overflow: hidden;
        }
        
        .modal-header::before {
          content: '';
          position: absolute;
          top: 0;
          right: 0;
          width: 200px;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.1));
          transform: skewX(-15deg);
          transform-origin: top;
        }
        
        .header-content {
          display: flex;
          align-items: flex-start;
          gap: 20px;
          position: relative;
          z-index: 1;
        }
        
        .header-icon {
          width: 48px;
          height: 48px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 14px;
          display: flex;
          align-items: center;
          justify-content: center;
          backdrop-filter: blur(10px);
          border: 1px solid rgba(243, 238, 217, 0.3);
        }
        
        .header-text h3 {
          font-size: 22px;
          font-weight: 700;
          color: #F3EED9;
          margin: 0 0 6px 0;
          letter-spacing: -0.3px;
        }
        
        .header-text p {
          font-size: 14px;
          color: rgba(243, 238, 217, 0.9);
          margin: 0;
          line-height: 1.4;
        }
        
        .modal-close {
          background: rgba(243, 238, 217, 0.1);
          border: 1px solid rgba(243, 238, 217, 0.2);
          cursor: pointer;
          padding: 12px;
          border-radius: 12px;
          color: #F3EED9;
          font-size: 24px;
          width: 44px;
          height: 44px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          position: relative;
          z-index: 1;
        }
        
        .modal-close:hover {
          background: rgba(243, 238, 217, 0.2);
          transform: scale(1.05);
        }
        
        .modal-close:active {
          transform: scale(0.95);
        }
        
        /* Responsive enhancements */
        @media (max-width: 768px) {
          .app-container {
            flex-direction: column;
          }
          
          .content-wrapper {
            border-radius: 0;
            box-shadow: none;
          }
          
          .borrow-modal {
            margin: 12px;
            border-radius: 20px;
            max-height: calc(100vh - 24px);
          }
          
          .modal-header {
            padding: 24px 20px 20px;
          }
          
          .header-content {
            flex-direction: column;
            gap: 16px;
          }
          
          .header-icon {
            align-self: center;
          }
          
         .header-text {
            text-align: center;
          }
        }
        
        @media (max-width: 480px) {
          .borrow-modal-overlay {
            padding: 8px;
          }
          
          .borrow-modal {
            border-radius: 16px;
          }
          
          .modal-header {
            padding: 20px 16px 16px;
          }
          
          .header-text h3 {
            font-size: 20px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/AboutAndSupport.tsx":
/*!*****************************************************!*\
  !*** ./src/renderer/components/AboutAndSupport.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AboutAndSupport: () => (/* binding */ AboutAndSupport)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/coffee.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/heart.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/gift.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/star.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/zap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/shield.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/rocket.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/code.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/lightbulb.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/info.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/arrow-left.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/target.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/sparkles.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/copy.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/map-pin.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/briefcase.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/mail.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/external-link.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/phone.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/graduation-cap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trophy.mjs");



const AboutAndSupport = ({ onClose }) => {
    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('about');
    const [selectedAmount, setSelectedAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1000);
    const [customAmount, setCustomAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    // Données développeur
    const developerInfo = {
        name: 'CHEUDJEU TEFOYE CÉDRIC BASILIO',
        title: 'Expert en Développement Informatique & Intelligence Artificielle',
        location: 'Douala, Cameroun',
        phone: '+237 652 761 931',
        email: 'cedrictefoye@gmail.com',
        currentPosition: 'Responsable Cellule Informatique - Faculté de Médecine, Université de Douala',
        experience: '4+ ans d\'expérience',
        avatar: '👨‍💻'
    };
    // Montants prédéfinis
    const predefinedAmounts = [
        { value: 500, label: '500 FCFA', icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], description: 'Un café pour le dev' },
        { value: 1000, label: '1 000 FCFA', icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], description: 'Petit soutien', popular: true },
        { value: 2500, label: '2 500 FCFA', icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], description: 'Généreux donateur' },
        { value: 5000, label: '5 000 FCFA', icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], description: 'Super supporter' }
    ];
    // Technologies
    const technologies = {
        frontend: ['React.js', 'TypeScript', 'HTML5/CSS3', 'Electron'],
        backend: ['Node.js', 'SQLite', 'RESTful APIs'],
        tools: ['Git/GitHub', 'Webpack', 'VS Code'],
        design: ['Figma', 'Modern UI/UX', 'Responsive Design']
    };
    // Fonctionnalités du projet
    const projectFeatures = [
        {
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"],
            title: 'Gestion complète',
            description: 'Système complet de gestion de bibliothèque avec emprunteurs, livres et historique'
        },
        {
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"],
            title: 'Multi-utilisateurs',
            description: 'Support pour étudiants et personnel avec différents types d\'accès'
        },
        {
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"],
            title: 'Interface moderne',
            description: 'Design contemporain avec animations fluides et expérience utilisateur optimisée'
        },
        {
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"],
            title: 'Sécurisé',
            description: 'Protection des données avec chiffrement et authentification avancée'
        },
        {
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"],
            title: 'Performance',
            description: 'Application native rapide avec base de données locale optimisée'
        },
        {
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"],
            title: 'Open Source',
            description: 'Code source libre et gratuit pour toute la communauté éducative'
        }
    ];
    // Raisons de soutenir
    const supportReasons = [
        {
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"],
            title: 'Développement continu',
            description: 'Financer de nouvelles fonctionnalités et l\'amélioration du système',
            color: '#3E5C49'
        },
        {
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"],
            title: 'Gratuit pour tous',
            description: 'Maintenir le projet accessible gratuitement pour toutes les bibliothèques',
            color: '#E91E63'
        },
        {
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"],
            title: 'Support communautaire',
            description: 'Fournir une assistance technique et des formations aux utilisateurs',
            color: '#C2571B'
        },
        {
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"],
            title: 'Innovation',
            description: 'Intégrer les dernières technologies pour une meilleure expérience',
            color: '#9C27B0'
        }
    ];
    const handleCopy = async (text, type) => {
        try {
            await navigator.clipboard.writeText(text);
            setCopied(type);
            setTimeout(() => setCopied(null), 2000);
        }
        catch (err) {
            console.error('Erreur lors de la copie:', err);
        }
    };
    const finalAmount = selectedAmount || parseInt(customAmount) || 0;
    const tabs = [
        { id: 'about', label: 'À propos', icon: lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], gradient: 'linear-gradient(135deg, #3E5C49 0%, #2E453A 100%)' },
        { id: 'project', label: 'Le Projet', icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], gradient: 'linear-gradient(135deg, #C2571B 0%, #A8481A 100%)' },
        { id: 'support', label: 'Soutenir', icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], gradient: 'linear-gradient(135deg, #E91E63 0%, #C2185B 100%)' },
        { id: 'developer', label: 'Développeur', icon: lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], gradient: 'linear-gradient(135deg, #607D8B 0%, #455A64 100%)' }
    ];
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "about-support-page", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-background", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hero-pattern" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "floating-elements", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-shape shape-1" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-shape shape-2" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-shape shape-3" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "back-button", onClick: onClose, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Retour au tableau de bord" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-main", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-icon-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hero-icon main-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 48 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hero-icon secondary-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 24 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h1", { className: "hero-title", children: ["Syst\u00E8me de Gestion de Biblioth\u00E8que", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "title-accent", children: "Moderne & Gratuit" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "hero-subtitle", children: "D\u00E9couvrez l'histoire, les technologies et soutenez le d\u00E9veloppement de cette solution open source d\u00E9di\u00E9e aux biblioth\u00E8ques" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-stats", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-number", children: "500+" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Biblioth\u00E8ques" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-number", children: "10K+" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Livres g\u00E9r\u00E9s" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-number", children: "100%" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Open Source" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-number", children: "MIT" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Licence libre" })] })] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "main-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tabs-navigation", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tabs-container", children: tabs.map((tab) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `tab-button ${activeTab === tab.id ? 'active' : ''}`, onClick: () => setActiveTab(tab.id), style: {
                                    '--tab-gradient': tab.gradient
                                }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tab-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(tab.icon, { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tab-label", children: tab.label }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tab-indicator" })] }, tab.id))) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-content", children: [activeTab === 'about' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "content-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 32 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-title-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "section-title", children: "\u00C0 propos du projet" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "section-subtitle", children: "Une solution moderne pour la gestion des biblioth\u00E8ques" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "about-intro", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "intro-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Vision & Mission" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Notre vision est de d\u00E9mocratiser l'acc\u00E8s aux outils de gestion modernes pour les biblioth\u00E8ques, en particulier dans les \u00E9tablissements \u00E9ducatifs. Nous croyons que chaque institution, quelle que soit sa taille ou ses ressources, devrait avoir acc\u00E8s \u00E0 des solutions technologiques de qualit\u00E9 pour am\u00E9liorer l'exp\u00E9rience de ses utilisateurs." })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "features-showcase", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "showcase-title", children: "Fonctionnalit\u00E9s principales" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "features-grid", children: projectFeatures.map((feature, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "feature-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(feature.icon, { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "feature-title", children: feature.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "feature-description", children: feature.description })] }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "project-highlights", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "highlight-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "highlight-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 32 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "highlight-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Objectifs 2024-2025" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ul", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Int\u00E9gration d'intelligence artificielle pour les recommandations" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Mode collaboratif multi-\u00E9tablissements" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Application mobile compagnon" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Syst\u00E8me de notifications avanc\u00E9" })] })] })] }) })] })), activeTab === 'project' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "content-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 32 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-title-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "section-title", children: "Technologies & Architecture" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "section-subtitle", children: "Une stack moderne pour une performance optimale" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tech-overview", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tech-categories", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tech-category", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Frontend" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tech-tags", children: technologies.frontend.map((tech, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tech-tag frontend", children: tech }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tech-category", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Backend" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tech-tags", children: technologies.backend.map((tech, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tech-tag backend", children: tech }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tech-category", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Outils" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tech-tags", children: technologies.tools.map((tech, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tech-tag tools", children: tech }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tech-category", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Design" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tech-tags", children: technologies.design.map((tech, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tech-tag design", children: tech }, index))) })] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "architecture-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Architecture & Performances" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "architecture-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "arch-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Application Native" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Electron pour une exp\u00E9rience desktop optimale avec les avantages du web" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "arch-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Base de donn\u00E9es locale" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "SQLite pour des performances rapides et une installation simplifi\u00E9e" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "arch-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Interface r\u00E9active" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Design responsive adapt\u00E9 \u00E0 tous les \u00E9crans et dispositifs" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "arch-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "S\u00E9curit\u00E9 avanc\u00E9e" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Chiffrement des donn\u00E9es et authentification robuste" })] })] })] })] })), activeTab === 'support' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "content-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 32 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-title-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "section-title", children: "Soutenez le d\u00E9veloppement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "section-subtitle", children: "Votre contribution aide \u00E0 maintenir et am\u00E9liorer ce projet open source" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "support-reasons", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Pourquoi votre soutien est important" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "reasons-grid", children: supportReasons.map((reason, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "reason-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "reason-icon", style: { backgroundColor: reason.color }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(reason.icon, { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "reason-title", children: reason.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "reason-description", children: reason.description })] }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "donation-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Choisir le montant" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "donation-description", children: "Chaque contribution, m\u00EAme petite, fait une grande diff\u00E9rence pour le d\u00E9veloppement du projet" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "amounts-grid", children: predefinedAmounts.map((amount) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `amount-card ${selectedAmount === amount.value ? 'selected' : ''} ${amount.popular ? 'popular' : ''}`, onClick: () => {
                                                        setSelectedAmount(amount.value);
                                                        setCustomAmount('');
                                                    }, children: [amount.popular && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "popular-badge", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 12 }), "Populaire"] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "amount-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(amount.icon, { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "amount-value", children: amount.label }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "amount-description", children: amount.description })] }, amount.value))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "custom-amount", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "custom-label", children: "Ou entrez un montant personnalis\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "custom-input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "number", value: customAmount, onChange: (e) => {
                                                                    setCustomAmount(e.target.value);
                                                                    setSelectedAmount(null);
                                                                }, placeholder: "0", className: "custom-input", min: "100" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "currency", children: "FCFA" })] })] }), finalAmount > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "payment-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Informations de paiement Mobile Money" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { children: ["Montant s\u00E9lectionn\u00E9: ", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("strong", { children: [finalAmount.toLocaleString(), " FCFA"] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "payment-networks", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "network-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "network-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "network-indicator mtn" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "network-name", children: "MTN Mobile Money" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "network-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "detail-label", children: "Num\u00E9ro" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-value", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "phone-number", children: "+237 652 761 931" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "copy-button", onClick: () => handleCopy('+237652761931', 'mtn-number'), children: copied === 'mtn-number' ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 16 }) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "detail-label", children: "Nom" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-value", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "CHEUDJEU TEFOYE CEDRIC BASILIO" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "copy-button", onClick: () => handleCopy('CHEUDJEU TEFOYE CEDRIC BASILIO', 'name'), children: copied === 'name' ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 16 }) })] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "network-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "network-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "network-indicator orange" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "network-name", children: "Orange Money" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "network-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "detail-label", children: "Num\u00E9ro" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-value", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "phone-number", children: "+237 652 761 931" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "copy-button", onClick: () => handleCopy('+237652761931', 'orange-number'), children: copied === 'orange-number' ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 16 }) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "detail-label", children: "Nom" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-value", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "CHEUDJEU TEFOYE CEDRIC BASILIO" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "copy-button", onClick: () => handleCopy('CHEUDJEU TEFOYE CEDRIC BASILIO', 'name-orange'), children: copied === 'name-orange' ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 16 }) })] })] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "support-note", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "note-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "note-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { children: "Merci pour votre soutien ! \uD83D\uDE4F" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Apr\u00E8s votre transfert, n'h\u00E9sitez pas \u00E0 me contacter pour confirmer votre don. Votre contribution sera utilis\u00E9e pour am\u00E9liorer et maintenir ce projet open source." })] })] })] }))] })] })), activeTab === 'developer' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "content-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 32 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-title-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "section-title", children: "Rencontrez le d\u00E9veloppeur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "section-subtitle", children: "Passionn\u00E9 de technologie et d'innovation au service de l'\u00E9ducation" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "developer-profile", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "profile-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "profile-avatar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "avatar-emoji", children: developerInfo.avatar }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "profile-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "profile-name", children: developerInfo.name }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "profile-title", children: developerInfo.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "profile-meta", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "meta-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_20__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: developerInfo.location })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "meta-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_21__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: developerInfo.experience })] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "contact-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Contact & R\u00E9seaux" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "contact-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("a", { href: `mailto:${developerInfo.email}`, className: "contact-link", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_22__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: developerInfo.email }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_23__["default"], { size: 16 })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("a", { href: `tel:${developerInfo.phone}`, className: "contact-link", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_24__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: developerInfo.phone }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_23__["default"], { size: 16 })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "current-position", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Poste actuel" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "position-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "position-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_21__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "position-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { children: developerInfo.currentPosition }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Administration des syst\u00E8mes informatiques, d\u00E9veloppement d'applications de gestion acad\u00E9mique et impl\u00E9mentation de solutions d'IA pour l'optimisation des processus." })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "achievements", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Formations & R\u00E9alisations" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "achievements-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "achievement-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "achievement-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_25__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { children: "Master IA" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Intelligence Artificielle - Universit\u00E9 de Dschang (2023)" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "achievement-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "achievement-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_26__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { children: "Hackathons" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Halkaton 2022, MountainHack 2020" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "achievement-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "achievement-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { children: "OVERBRAND" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Co-fondateur & Directeur technique" })] })] })] })] })] }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .about-support-page {
          height: 100%;
          overflow-y: auto;
          background: linear-gradient(180deg, #FAF9F6 0%, #F8F6F0 100%);
        }

        /* Hero Section */
        .hero-section {
          position: relative;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 80%, #1A2E21 100%);
          color: #F3EED9;
          padding: 48px 32px 64px;
          overflow: hidden;
          min-height: 60vh;
          display: flex;
          align-items: center;
        }

        .hero-background {
          position: absolute;
          inset: 0;
          overflow: hidden;
        }

        .hero-pattern {
          position: absolute;
          inset: 0;
          background-image: 
            radial-gradient(circle at 20% 80%, rgba(243, 238, 217, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 80% 20%, rgba(194, 87, 27, 0.08) 0%, transparent 50%),
            radial-gradient(circle at 40% 40%, rgba(243, 238, 217, 0.05) 0%, transparent 30%);
          animation: patternMove 30s ease-in-out infinite;
        }

        @keyframes patternMove {
          0%, 100% { transform: translate(0, 0) rotate(0deg) scale(1); }
          25% { transform: translate(30px, -20px) rotate(1deg) scale(1.02); }
          50% { transform: translate(-20px, 30px) rotate(-1deg) scale(0.98); }
          75% { transform: translate(20px, 20px) rotate(0.5deg) scale(1.01); }
        }

        .floating-elements {
          position: absolute;
          inset: 0;
          pointer-events: none;
        }

        .floating-shape {
          position: absolute;
          background: rgba(243, 238, 217, 0.1);
          border-radius: 50%;
          animation: float 8s ease-in-out infinite;
        }

        .shape-1 {
          width: 60px;
          height: 60px;
          top: 20%;
          left: 10%;
          animation-delay: 0s;
        }

        .shape-2 {
          width: 40px;
          height: 40px;
          top: 60%;
          right: 15%;
          animation-delay: 2s;
        }

        .shape-3 {
          width: 80px;
          height: 80px;
          bottom: 30%;
          left: 70%;
          animation-delay: 4s;
        }

        @keyframes float {
          0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.6; }
          50% { transform: translateY(-30px) rotate(180deg); opacity: 1; }
        }

        .hero-content {
          position: relative;
          z-index: 1;
          max-width: 1200px;
          margin: 0 auto;
          width: 100%;
        }

        .back-button {
          display: flex;
          align-items: center;
          gap: 8px;
          background: rgba(243, 238, 217, 0.15);
          border: 1px solid rgba(243, 238, 217, 0.3);
          color: #F3EED9;
          padding: 12px 20px;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.3s ease;
          font-size: 14px;
          font-weight: 500;
          margin-bottom: 40px;
          width: fit-content;
          backdrop-filter: blur(10px);
        }

        .back-button:hover {
          background: rgba(243, 238, 217, 0.25);
          transform: translateX(-4px);
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }

        .hero-main {
          display: flex;
          align-items: center;
          gap: 40px;
          margin-bottom: 48px;
          text-align: center;
          flex-direction: column;
        }

        .hero-icon-container {
          position: relative;
          margin-bottom: 16px;
        }

        .hero-icon {
          width: 120px;
          height: 120px;
          border-radius: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          position: relative;
        }

        .main-icon {
          background: rgba(243, 238, 217, 0.2);
          backdrop-filter: blur(10px);
          border: 2px solid rgba(243, 238, 217, 0.3);
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .secondary-icon {
          position: absolute;
          top: -8px;
          right: -8px;
          width: 40px;
          height: 40px;
          background: linear-gradient(135deg, #E91E63, #C2185B);
          border-radius: 12px;
          border: 2px solid #F3EED9;
          animation: heartbeat 2s ease-in-out infinite;
        }

        @keyframes heartbeat {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.1); }
        }

        .hero-title {
          font-size: 48px;
          font-weight: 900;
          margin: 0 0 16px 0;
          line-height: 1.1;
          letter-spacing: -1px;
          text-align: center;
        }

        .title-accent {
          display: block;
          font-size: 32px;
          color: rgba(243, 238, 217, 0.8);
          font-weight: 600;
          margin-top: 8px;
        }

        .hero-subtitle {
          font-size: 20px;
          opacity: 0.9;
          margin: 0;
          line-height: 1.6;
          max-width: 700px;
          text-align: center;
        }

        .hero-stats {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: 24px;
          max-width: 800px;
          margin: 0 auto;
        }

        .stat-card {
          background: rgba(243, 238, 217, 0.1);
          backdrop-filter: blur(10px);
          border: 1px solid rgba(243, 238, 217, 0.2);
          border-radius: 16px;
          padding: 20px;
          text-align: center;
          transition: all 0.3s ease;
        }

        .stat-card:hover {
          transform: translateY(-4px);
          background: rgba(243, 238, 217, 0.15);
          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }

        .stat-icon {
          margin: 0 auto 12px;
          color: rgba(243, 238, 217, 0.8);
        }

        .stat-number {
          font-size: 24px;
          font-weight: 800;
          color: #F3EED9;
          display: block;
          line-height: 1;
        }

        .stat-label {
          font-size: 12px;
          color: rgba(243, 238, 217, 0.7);
          margin-top: 4px;
          text-transform: uppercase;
          letter-spacing: 1px;
        }

        /* Contenu principal */
        .main-content {
          padding: 0 32px 48px;
          max-width: 1200px;
          margin: 0 auto;
          position: relative;
          margin-top: -32px;
        }

        /* Navigation Tabs */
        .tabs-navigation {
          background: #FFFFFF;
          border-radius: 20px;
          padding: 8px;
          margin-bottom: 32px;
          box-shadow: 0 8px 32px rgba(62, 92, 73, 0.1);
          border: 1px solid #E5DCC2;
          position: sticky;
          top: 20px;
          z-index: 100;
          backdrop-filter: blur(10px);
        }

        .tabs-container {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 8px;
        }

        .tab-button {
          position: relative;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
          padding: 16px 12px;
          border: none;
          background: transparent;
          color: #4A4A4A;
          border-radius: 16px;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          font-size: 14px;
          font-weight: 600;
          overflow: hidden;
        }

        .tab-button::before {
          content: '';
          position: absolute;
          inset: 0;
          background: var(--tab-gradient);
          opacity: 0;
          transition: opacity 0.3s ease;
          border-radius: 16px;
        }

        .tab-button:hover {
          color: #2E2E2E;
          transform: translateY(-2px);
        }

        .tab-button:hover::before {
          opacity: 0.1;
        }

        .tab-button.active {
          color: #FFFFFF;
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        }

        .tab-button.active::before {
          opacity: 1;
        }

        .tab-icon {
          position: relative;
          z-index: 1;
          transition: transform 0.3s ease;
        }

        .tab-button.active .tab-icon {
          transform: scale(1.1);
        }

        .tab-label {
          position: relative;
          z-index: 1;
          font-weight: 600;
        }

        .tab-indicator {
          position: absolute;
          bottom: 4px;
          left: 50%;
          transform: translateX(-50%) scaleX(0);
          width: 20px;
          height: 3px;
          background: currentColor;
          border-radius: 2px;
          transition: transform 0.3s ease;
        }

        .tab-button.active .tab-indicator {
          transform: translateX(-50%) scaleX(1);
        }

        /* Contenu des sections */
        .content-section {
          animation: fadeInUp 0.6s ease-out;
        }

        @keyframes fadeInUp {
          from { 
            opacity: 0; 
            transform: translateY(30px); 
          }
          to { 
            opacity: 1; 
            transform: translateY(0); 
          }
        }

        .section-header {
          display: flex;
          align-items: center;
          gap: 20px;
          margin-bottom: 40px;
          padding: 32px;
          background: #FFFFFF;
          border-radius: 20px;
          box-shadow: 0 4px 20px rgba(62, 92, 73, 0.1);
          border: 1px solid #E5DCC2;
        }

        .section-icon {
          width: 64px;
          height: 64px;
          background: linear-gradient(135deg, #3E5C49, #2E453A);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          flex-shrink: 0;
        }

        .section-title {
          font-size: 32px;
          font-weight: 800;
          color: #2E2E2E;
          margin: 0 0 8px 0;
          letter-spacing: -0.5px;
        }

        .section-subtitle {
          font-size: 16px;
          color: #4A4A4A;
          margin: 0;
          line-height: 1.5;
        }

        /* Contenu spécifique aux onglets */
        .about-intro {
          margin-bottom: 40px;
        }

        .intro-card {
          background: #FFFFFF;
          border-radius: 16px;
          padding: 32px;
          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.1);
          border: 1px solid #E5DCC2;
        }

        .intro-card h3 {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 16px 0;
        }

        .intro-card p {
          font-size: 16px;
          color: #4A4A4A;
          line-height: 1.7;
          margin: 0;
        }

        .features-showcase {
          margin-bottom: 40px;
        }

        .showcase-title {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 24px 0;
          text-align: center;
        }

        .features-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 24px;
        }

        .feature-card {
          background: #FFFFFF;
          border-radius: 16px;
          padding: 24px;
          text-align: center;
          transition: all 0.3s ease;
          border: 1px solid #E5DCC2;
          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.08);
        }

        .feature-card:hover {
          transform: translateY(-8px);
          box-shadow: 0 12px 32px rgba(62, 92, 73, 0.15);
          border-color: rgba(62, 92, 73, 0.3);
        }

        .feature-icon {
          width: 56px;
          height: 56px;
          background: linear-gradient(135deg, rgba(62, 92, 73, 0.1), rgba(62, 92, 73, 0.2));
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #3E5C49;
          margin: 0 auto 16px;
        }

        .feature-title {
          font-size: 18px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 12px 0;
        }

        .feature-description {
          font-size: 14px;
          color: #4A4A4A;
          line-height: 1.6;
          margin: 0;
        }

        .project-highlights {
          margin-bottom: 40px;
        }

        .highlight-card {
          background: linear-gradient(135deg, rgba(62, 92, 73, 0.05), rgba(194, 87, 27, 0.05));
          border: 1px solid rgba(62, 92, 73, 0.2);
          border-radius: 20px;
          padding: 32px;
          display: flex;
          gap: 24px;
          align-items: flex-start;
        }

        .highlight-icon {
          width: 64px;
          height: 64px;
          background: linear-gradient(135deg, #C2571B, #A8481A);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          flex-shrink: 0;
        }

        .highlight-content h4 {
          font-size: 20px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 16px 0;
        }

        .highlight-content ul {
          list-style: none;
          padding: 0;
          margin: 0;
        }

        .highlight-content li {
          padding: 8px 0;
          padding-left: 20px;
          position: relative;
          color: #4A4A4A;
          line-height: 1.6;
        }

        .highlight-content li::before {
          content: '→';
          position: absolute;
          left: 0;
          color: #C2571B;
          font-weight: bold;
        }

        /* Onglet Technologies */
        .tech-overview {
          margin-bottom: 40px;
        }

        .tech-categories {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 24px;
        }

        .tech-category {
          background: #FFFFFF;
          border-radius: 16px;
          padding: 24px;
          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.1);
          border: 1px solid #E5DCC2;
        }

        .tech-category h4 {
          font-size: 18px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 16px 0;
        }

        .tech-tags {
          display: flex;
          flex-wrap: wrap;
          gap: 8px;
        }

        .tech-tag {
          padding: 6px 12px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 600;
          color: #FFFFFF;
        }

        .tech-tag.frontend { background: #3E5C49; }
        .tech-tag.backend { background: #C2571B; }
        .tech-tag.tools { background: #6E6E6E; }
        .tech-tag.design { background: #E91E63; }

        .architecture-info {
          background: #FFFFFF;
          border-radius: 16px;
          padding: 32px;
          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.1);
          border: 1px solid #E5DCC2;
        }

        .architecture-info h3 {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 24px 0;
          text-align: center;
        }

        .architecture-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 20px;
        }

        .arch-card {
          background: rgba(62, 92, 73, 0.05);
          border: 1px solid rgba(62, 92, 73, 0.1);
          border-radius: 12px;
          padding: 20px;
          text-align: center;
        }

        .arch-card h4 {
          font-size: 16px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 8px 0;
        }

        .arch-card p {
          font-size: 14px;
          color: #4A4A4A;
          margin: 0;
          line-height: 1.5;
        }

        /* Onglet Support */
        .support-reasons {
          margin-bottom: 40px;
        }

        .support-reasons h3 {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 24px 0;
          text-align: center;
        }

        .reasons-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 24px;
        }

        .reason-card {
          background: #FFFFFF;
          border-radius: 16px;
          padding: 24px;
          text-align: center;
          transition: all 0.3s ease;
          border: 1px solid #E5DCC2;
          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.08);
        }

        .reason-card:hover {
          transform: translateY(-8px);
          box-shadow: 0 12px 32px rgba(62, 92, 73, 0.15);
        }

        .reason-icon {
          width: 56px;
          height: 56px;
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #FFFFFF;
          margin: 0 auto 16px;
        }

        .reason-title {
          font-size: 18px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 12px 0;
        }

        .reason-description {
          font-size: 14px;
          color: #4A4A4A;
          line-height: 1.6;
          margin: 0;
        }

        .donation-section {
          background: #FFFFFF;
          border-radius: 20px;
          padding: 32px;
          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.1);
          border: 1px solid #E5DCC2;
          margin-bottom: 40px;
        }

        .donation-section h3 {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 8px 0;
        }

        .donation-description {
          font-size: 16px;
          color: #4A4A4A;
          margin: 0 0 32px 0;
          line-height: 1.6;
        }

        .amounts-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
          gap: 16px;
          margin-bottom: 32px;
        }

        .amount-card {
          background: #FFFFFF;
          border: 2px solid #E5DCC2;
          border-radius: 16px;
          padding: 20px;
          cursor: pointer;
          transition: all 0.3s ease;
          text-align: center;
          position: relative;
          overflow: hidden;
        }

        .amount-card:hover {
          border-color: #E91E63;
          transform: translateY(-4px);
          box-shadow: 0 8px 24px rgba(233, 30, 99, 0.15);
        }

        .amount-card.selected {
          border-color: #E91E63;
          background: rgba(233, 30, 99, 0.05);
          box-shadow: 0 8px 24px rgba(233, 30, 99, 0.2);
        }

        .amount-card.popular {
          border-color: #E91E63;
        }

        .popular-badge {
          position: absolute;
          top: -8px;
          left: 50%;
          transform: translateX(-50%);
          background: #E91E63;
          color: #FFFFFF;
          padding: 4px 12px;
          border-radius: 12px;
          font-size: 10px;
          font-weight: 700;
          display: flex;
          align-items: center;
          gap: 4px;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .amount-icon {
          width: 40px;
          height: 40px;
          background: rgba(233, 30, 99, 0.1);
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #E91E63;
          margin: 0 auto 12px;
        }

        .amount-value {
          font-size: 16px;
          font-weight: 700;
          color: #2E2E2E;
          margin-bottom: 6px;
        }

        .amount-description {
          font-size: 12px;
          color: #4A4A4A;
        }

        .custom-amount {
          background: rgba(233, 30, 99, 0.05);
          border: 2px solid rgba(233, 30, 99, 0.2);
          border-radius: 16px;
          padding: 24px;
          margin-bottom: 32px;
        }

        .custom-label {
          display: block;
          font-size: 16px;
          font-weight: 600;
          color: #2E2E2E;
          margin-bottom: 12px;
        }

        .custom-input-group {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .custom-input {
          flex: 1;
          padding: 16px;
          border: 2px solid #E5DCC2;
          border-radius: 12px;
          font-size: 18px;
          font-weight: 600;
          text-align: right;
        }

        .custom-input:focus {
          outline: none;
          border-color: #E91E63;
        }

        .currency {
          font-size: 18px;
          font-weight: 600;
          color: #4A4A4A;
        }

        .payment-details {
          margin-top: 32px;
        }

        .payment-details h4 {
          font-size: 20px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 16px 0;
        }

        .payment-details p {
          font-size: 16px;
          color: #4A4A4A;
          margin: 0 0 24px 0;
        }

        .payment-networks {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 20px;
          margin-bottom: 24px;
        }

        .network-card {
          background: rgba(248, 246, 240, 0.8);
          border: 2px solid #E5DCC2;
          border-radius: 16px;
          padding: 20px;
        }

        .network-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 16px;
        }

        .network-indicator {
          width: 12px;
          height: 12px;
          border-radius: 50%;
        }

        .network-indicator.mtn {
          background: #FFCC00;
        }

        .network-indicator.orange {
          background: #FF6600;
        }

        .network-name {
          font-size: 16px;
          font-weight: 700;
          color: #2E2E2E;
        }

        .network-details {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .detail-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .detail-label {
          font-size: 12px;
          font-weight: 600;
          color: #4A4A4A;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .detail-value {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
        }

        .phone-number {
          font-family: 'Courier New', monospace;
          background: rgba(233, 30, 99, 0.1);
          padding: 4px 8px;
          border-radius: 6px;
        }

        .copy-button {
          background: #F3EED9;
          border: 1px solid #E5DCC2;
          color: #4A4A4A;
          padding: 4px;
          border-radius: 6px;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .copy-button:hover {
          background: #E91E63;
          color: #FFFFFF;
          border-color: #E91E63;
        }

        .support-note {
          display: flex;
          gap: 16px;
          background: rgba(233, 30, 99, 0.05);
          border: 1px solid rgba(233, 30, 99, 0.2);
          border-radius: 16px;
          padding: 20px;
          margin-top: 24px;
        }

        .note-icon {
          width: 40px;
          height: 40px;
          background: #E91E63;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #FFFFFF;
          flex-shrink: 0;
        }

        .note-content h5 {
          font-size: 16px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 8px 0;
        }

        .note-content p {
          font-size: 14px;
          color: #4A4A4A;
          margin: 0;
          line-height: 1.6;
        }

        /* Onglet Développeur */
        .developer-profile {
          display: flex;
          flex-direction: column;
          gap: 32px;
        }

        .profile-card {
          background: #FFFFFF;
          border-radius: 20px;
          padding: 32px;
          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.1);
          border: 1px solid #E5DCC2;
          display: flex;
          align-items: center;
          gap: 24px;
        }

        .profile-avatar {
          width: 80px;
          height: 80px;
          background: linear-gradient(135deg, #607D8B, #455A64);
          border-radius: 20px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 32px;
          flex-shrink: 0;
        }

        .profile-name {
          font-size: 24px;
          font-weight: 800;
          color: #2E2E2E;
          margin: 0 0 8px 0;
        }

        .profile-title {
          font-size: 16px;
          color: #607D8B;
          margin: 0 0 16px 0;
          font-weight: 600;
        }

        .profile-meta {
          display: flex;
          gap: 20px;
          flex-wrap: wrap;
        }

        .meta-item {
          display: flex;
          align-items: center;
          gap: 6px;
          color: #4A4A4A;
          font-size: 14px;
        }

        .contact-info {
          background: #FFFFFF;
          border-radius: 16px;
          padding: 24px;
          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.1);
          border: 1px solid #E5DCC2;
        }

        .contact-info h4 {
          font-size: 20px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 16px 0;
        }

        .contact-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 16px;
        }

        .contact-link {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px 16px;
          background: rgba(96, 125, 139, 0.05);
          border-radius: 12px;
          color: #2E2E2E;
          text-decoration: none;
          transition: all 0.2s ease;
        }

        .contact-link:hover {
          background: rgba(96, 125, 139, 0.1);
          transform: translateY(-2px);
        }

        .current-position {
          background: #FFFFFF;
          border-radius: 16px;
          padding: 24px;
          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.1);
          border: 1px solid #E5DCC2;
        }

        .current-position h4 {
          font-size: 20px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 16px 0;
        }

        .position-card {
          display: flex;
          gap: 16px;
          background: rgba(96, 125, 139, 0.05);
          border-radius: 12px;
          padding: 20px;
        }

        .position-icon {
          width: 48px;
          height: 48px;
          background: #607D8B;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #FFFFFF;
          flex-shrink: 0;
        }

        .position-content h5 {
          font-size: 16px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 8px 0;
        }

        .position-content p {
          font-size: 14px;
          color: #4A4A4A;
          margin: 0;
          line-height: 1.6;
        }

        .achievements {
          background: #FFFFFF;
          border-radius: 16px;
          padding: 24px;
          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.1);
          border: 1px solid #E5DCC2;
        }

        .achievements h4 {
          font-size: 20px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 16px 0;
        }

        .achievements-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 16px;
        }

        .achievement-card {
          background: rgba(96, 125, 139, 0.05);
          border: 1px solid rgba(96, 125, 139, 0.1);
          border-radius: 12px;
          padding: 16px;
          text-align: center;
          transition: all 0.3s ease;
        }

        .achievement-card:hover {
          background: rgba(96, 125, 139, 0.1);
          transform: translateY(-4px);
        }

        .achievement-icon {
          width: 40px;
          height: 40px;
          background: #607D8B;
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #FFFFFF;
          margin: 0 auto 12px;
        }

        .achievement-card h5 {
          font-size: 14px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 4px 0;
        }

        .achievement-card p {
          font-size: 12px;
          color: #4A4A4A;
          margin: 0;
          line-height: 1.4;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
          .hero-section {
            padding: 32px 16px 48px;
            min-height: 50vh;
          }

          .hero-title {
            font-size: 36px;
          }

          .title-accent {
            font-size: 24px;
          }

          .hero-subtitle {
            font-size: 18px;
          }

          .hero-stats {
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
          }

          .main-content {
            padding: 0 16px 32px;
          }

          .tabs-container {
            grid-template-columns: repeat(2, 1fr);
            gap: 4px;
          }

          .tab-button {
            padding: 12px 8px;
            font-size: 12px;
          }

          .section-header {
            flex-direction: column;
            text-align: center;
            gap: 16px;
            padding: 24px;
          }

          .section-title {
            font-size: 28px;
          }

          .features-grid {
            grid-template-columns: 1fr;
          }

          .highlight-card {
            flex-direction: column;
            gap: 16px;
            text-align: center;
          }

          .tech-categories {
            grid-template-columns: 1fr;
          }

          .architecture-grid {
            grid-template-columns: 1fr;
          }

          .reasons-grid {
            grid-template-columns: 1fr;
          }

          .amounts-grid {
            grid-template-columns: repeat(2, 1fr);
          }

          .payment-networks {
            grid-template-columns: 1fr;
          }

          .profile-card {
            flex-direction: column;
            text-align: center;
          }

          .contact-grid {
            grid-template-columns: 1fr;
          }

          .achievements-grid {
            grid-template-columns: 1fr;
          }
        }

        @media (max-width: 480px) {
          .hero-title {
            font-size: 28px;
          }

          .title-accent {
            font-size: 20px;
          }

          .hero-stats {
            grid-template-columns: 1fr;
          }

          .tabs-container {
            grid-template-columns: 1fr;
          }

          .amounts-grid {
            grid-template-columns: 1fr;
          }

          .detail-item {
            flex-direction: column;
            align-items: stretch;
            gap: 8px;
          }

          .detail-value {
            justify-content: space-between;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/AddDocument.tsx":
/*!*************************************************!*\
  !*** ./src/renderer/components/AddDocument.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AddDocument: () => (/* binding */ AddDocument)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/calendar.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/tag.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/building.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/map-pin.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/image.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/hash.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/sparkles.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/plus.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/chevron-right.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/save.mjs");



const AddDocument = ({ onAdd, onCancel, editingDocument }) => {
    const [currentStep, setCurrentStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);
    const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        auteur: '',
        titre: '',
        editeur: '',
        lieuEdition: '',
        annee: new Date().getFullYear().toString(),
        descripteurs: '',
        cote: '',
        isbn: '',
        description: '',
        couverture: '',
        estEmprunte: false,
        syncStatus: 'pending',
        lastModified: new Date().toISOString(),
        version: 1
    });
    const [authors, setAuthors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([
        { id: '1', name: 'Victor Hugo' },
        { id: '2', name: 'Marcel Proust' },
        { id: '3', name: 'Simone de Beauvoir' }
    ]);
    const [categories, setCategories] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [errors, setErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        if (editingDocument) {
            setFormData({
                auteur: editingDocument.auteur,
                titre: editingDocument.titre,
                editeur: editingDocument.editeur,
                lieuEdition: editingDocument.lieuEdition,
                annee: editingDocument.annee,
                descripteurs: editingDocument.descripteurs,
                cote: editingDocument.cote,
                isbn: editingDocument.isbn || '',
                description: editingDocument.description || '',
                couverture: editingDocument.couverture || '',
                estEmprunte: editingDocument.estEmprunte,
                syncStatus: editingDocument.syncStatus,
                lastModified: editingDocument.lastModified,
                version: editingDocument.version
            });
        }
    }, [editingDocument]);
    const generateCote = () => {
        if (formData.descripteurs && formData.auteur && formData.annee) {
            const category = formData.descripteurs.split(',')[0].trim().toUpperCase();
            const authorCode = formData.auteur.split(' ').map(name => name.substring(0, 3).toUpperCase()).join('-');
            const yearCode = formData.annee.substring(2);
            const randomNum = Math.floor(Math.random() * 999).toString().padStart(3, '0');
            const generatedCote = `${category.substring(0, 3)}-${authorCode}-${yearCode}${randomNum}`;
            setFormData(prev => ({ ...prev, cote: generatedCote }));
        }
    };
    const validateStep = (step) => {
        const newErrors = {};
        if (step === 1) {
            if (!formData.auteur.trim())
                newErrors.auteur = 'L\'auteur est obligatoire';
            if (!formData.titre.trim())
                newErrors.titre = 'Le titre est obligatoire';
            if (!formData.editeur.trim())
                newErrors.editeur = 'L\'éditeur est obligatoire';
        }
        if (step === 2) {
            if (!formData.lieuEdition.trim())
                newErrors.lieuEdition = 'Le lieu d\'édition est obligatoire';
            if (!formData.annee.trim())
                newErrors.annee = 'L\'année est obligatoire';
            const year = parseInt(formData.annee);
            if (isNaN(year) || year < 1000 || year > new Date().getFullYear() + 10) {
                newErrors.annee = 'Année invalide';
            }
        }
        if (step === 3) {
            if (!formData.descripteurs.trim())
                newErrors.descripteurs = 'Les descripteurs sont obligatoires';
            if (!formData.cote.trim())
                newErrors.cote = 'La cote est obligatoire';
            if (formData.isbn && !/^(978|979)?[0-9]{9}[0-9X]$/.test(formData.isbn.replace(/-/g, ''))) {
                newErrors.isbn = 'Format ISBN invalide';
            }
        }
        setErrors(newErrors);
        return Object.keys(newErrors).length === 0;
    };
    const handleNext = () => {
        if (validateStep(currentStep)) {
            setCurrentStep(prev => Math.min(prev + 1, 3));
        }
    };
    const handlePrev = () => {
        setCurrentStep(prev => Math.max(prev - 1, 1));
    };
    const handleSubmit = async () => {
        if (!validateStep(3)) {
            return;
        }
        setIsLoading(true);
        try {
            const documentData = {
                ...formData,
                estEmprunte: false,
                syncStatus: 'pending',
                lastModified: new Date().toISOString(),
                version: editingDocument ? editingDocument.version + 1 : 1
            };
            await onAdd(documentData);
            if (!editingDocument) {
                setFormData({
                    auteur: '',
                    titre: '',
                    editeur: '',
                    lieuEdition: '',
                    annee: new Date().getFullYear().toString(),
                    descripteurs: '',
                    cote: '',
                    isbn: '',
                    description: '',
                    couverture: '',
                    estEmprunte: false,
                    syncStatus: 'pending',
                    lastModified: new Date().toISOString(),
                    version: 1
                });
                setCurrentStep(1);
            }
        }
        catch (error) {
            console.error('Erreur lors de l\'ajout du document:', error);
            setErrors({ submit: 'Erreur lors de l\'enregistrement du document' });
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleInputChange = (field, value) => {
        setFormData(prev => ({ ...prev, [field]: value }));
        if (errors[field]) {
            setErrors(prev => ({ ...prev, [field]: '' }));
        }
    };
    const getStepTitle = (step) => {
        switch (step) {
            case 1: return 'Informations principales';
            case 2: return 'Publication';
            case 3: return 'Classification';
            default: return '';
        }
    };
    const getStepDescription = (step) => {
        switch (step) {
            case 1: return 'Identifiez l\'œuvre et son auteur';
            case 2: return 'Détails de publication';
            case 3: return 'Organisation et métadonnées';
            default: return '';
        }
    };
    const getStepIcon = (step) => {
        switch (step) {
            case 1: return lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"];
            case 2: return lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"];
            case 3: return lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"];
            default: return lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"];
        }
    };
    const renderStepContent = () => {
        switch (currentStep) {
            case 1:
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 18 }), "Auteur *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.auteur, onChange: (e) => handleInputChange('auteur', e.target.value), className: `form-input ${errors.auteur ? 'error' : ''}`, placeholder: "Nom complet de l'auteur", list: "authors-list", autoFocus: true }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("datalist", { id: "authors-list", children: authors.map(author => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: author.name }, author.id))) }), errors.auteur && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: errors.auteur })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 18 }), "Titre du document *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.titre, onChange: (e) => handleInputChange('titre', e.target.value), className: `form-input ${errors.titre ? 'error' : ''}`, placeholder: "Titre complet de l'\u0153uvre" }), errors.titre && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: errors.titre })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 18 }), "\u00C9diteur *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.editeur, onChange: (e) => handleInputChange('editeur', e.target.value), className: `form-input ${errors.editeur ? 'error' : ''}`, placeholder: "Nom de la maison d'\u00E9dition" }), errors.editeur && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: errors.editeur })] })] }));
            case 2:
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 18 }), "Lieu d'\u00E9dition *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.lieuEdition, onChange: (e) => handleInputChange('lieuEdition', e.target.value), className: `form-input ${errors.lieuEdition ? 'error' : ''}`, placeholder: "Ville de publication" }), errors.lieuEdition && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: errors.lieuEdition })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 18 }), "Ann\u00E9e de publication *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "number", value: formData.annee, onChange: (e) => handleInputChange('annee', e.target.value), className: `form-input ${errors.annee ? 'error' : ''}`, placeholder: "YYYY", min: "1000", max: new Date().getFullYear() + 10 }), errors.annee && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: errors.annee })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "ISBN (optionnel)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.isbn, onChange: (e) => handleInputChange('isbn', e.target.value), className: `form-input ${errors.isbn ? 'error' : ''}`, placeholder: "978-2-123456-78-9" }), errors.isbn && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: errors.isbn }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "form-help", children: "Format standard ISBN-13 ou ISBN-10" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 18 }), "Image de couverture (optionnel)"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "file-input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.couverture, onChange: (e) => handleInputChange('couverture', e.target.value), className: "form-input", placeholder: "Chemin vers l'image ou URL", readOnly: true }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", className: "file-browse-btn", onClick: () => {
                                                // Simulation de sélection de fichier
                                                setFormData(prev => ({ ...prev, couverture: '/path/to/cover.jpg' }));
                                            }, children: "Parcourir" })] })] })] }));
            case 3:
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 18 }), "Descripteurs / Mots-cl\u00E9s *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.descripteurs, onChange: (e) => handleInputChange('descripteurs', e.target.value), className: `form-input ${errors.descripteurs ? 'error' : ''}`, placeholder: "Fiction, Roman historique, XIXe si\u00E8cle..." }), errors.descripteurs && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: errors.descripteurs }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "form-help", children: "S\u00E9parez les mots-cl\u00E9s par des virgules pour faciliter la recherche" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 18 }), "Cote de classification *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-with-action", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.cote, onChange: (e) => handleInputChange('cote', e.target.value), className: `form-input ${errors.cote ? 'error' : ''}`, placeholder: "Code unique de classification" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { type: "button", onClick: generateCote, className: "action-btn generate-btn", title: "G\u00E9n\u00E9rer automatiquement", disabled: !formData.descripteurs || !formData.auteur || !formData.annee, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16 }), "G\u00E9n\u00E9rer"] })] }), errors.cote && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: errors.cote }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "form-help", children: "La cote est g\u00E9n\u00E9r\u00E9e automatiquement bas\u00E9e sur les descripteurs, l'auteur et l'ann\u00E9e" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Description d\u00E9taill\u00E9e (optionnel)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea", { value: formData.description, onChange: (e) => handleInputChange('description', e.target.value), className: "form-textarea", rows: 4, placeholder: "R\u00E9sum\u00E9, notes personnelles, contexte historique..." }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "form-help", children: "Ajoutez toute information utile pour identifier ou contextualiser ce document" })] })] }));
            default:
                return null;
        }
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { className: "modal-title", children: editingDocument ? 'Modifier le document' : 'Nouveau document' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "modal-subtitle", children: "Enrichissez votre biblioth\u00E8que" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: onCancel, className: "close-btn", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "progress-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-steps", children: [1, 2, 3].map((step) => {
                                    const StepIcon = getStepIcon(step);
                                    const isActive = step === currentStep;
                                    const isCompleted = step < currentStep;
                                    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `progress-step ${isActive ? 'active' : ''} ${isCompleted ? 'completed' : ''}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "step-indicator", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StepIcon, { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "step-title", children: getStepTitle(step) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "step-description", children: getStepDescription(step) })] })] }, step));
                                }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-bar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-fill", style: { width: `${(currentStep / 3) * 100}%` } }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-content", children: [errors.submit && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "alert alert-error", children: errors.submit })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "step-container", children: renderStepContent() })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "actions-left", children: currentStep > 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: handlePrev, className: "btn btn-secondary", children: "Pr\u00E9c\u00E9dent" })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "actions-right", children: currentStep < 3 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { onClick: handleNext, className: "btn btn-primary", children: ["Suivant", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16 })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: handleSubmit, disabled: isLoading, className: "btn btn-success", children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "spinner" }), "Enregistrement..."] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16 }), editingDocument ? 'Modifier' : 'Ajouter'] })) })) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .modal-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.75);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 50;
          padding: 20px;
        }

        .modal-container {
          background: white;
          border-radius: 20px;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
          width: 100%;
          max-width: 700px;
          max-height: 90vh;
          display: flex;
          flex-direction: column;
          overflow: hidden;
        }

        .modal-header {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          padding: 24px 32px;
          display: flex;
          align-items: center;
          justify-content: space-between;
        }

        .header-content {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .header-icon {
          width: 48px;
          height: 48px;
          background: rgba(255, 255, 255, 0.1);
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          backdrop-filter: blur(10px);
        }

        .header-text {
          flex: 1;
        }

        .modal-title {
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 4px 0;
          line-height: 1.2;
        }

        .modal-subtitle {
          font-size: 14px;
          opacity: 0.8;
          margin: 0;
        }

        .close-btn {
          width: 40px;
          height: 40px;
          border: none;
          background: rgba(255, 255, 255, 0.1);
          color: white;
          border-radius: 10px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          z-index: 10;
        }

        .close-btn:hover {
          background: rgba(255, 255, 255, 0.2);
          transform: scale(1.05);
        }

        .progress-container {
          padding: 24px 32px 0;
          background: #FAF9F6;
          border-bottom: 1px solid rgba(229, 220, 194, 0.4);
        }

        .progress-steps {
          display: flex;
          justify-content: space-between;
          margin-bottom: 16px;
        }

        .progress-step {
          display: flex;
          align-items: center;
          gap: 12px;
          flex: 1;
          opacity: 0.5;
          transition: all 0.3s ease;
        }

        .progress-step.active,
        .progress-step.completed {
          opacity: 1;
        }

        .step-indicator {
          width: 36px;
          height: 36px;
          border-radius: 50%;
          background: rgba(229, 220, 194, 0.3);
          display: flex;
          align-items: center;
          justify-content: center;
          color: #6E6E6E;
          transition: all 0.3s ease;
          flex-shrink: 0;
        }

        .progress-step.active .step-indicator {
          background: #3E5C49;
          color: #F3EED9;
        }

        .progress-step.completed .step-indicator {
          background: #C2571B;
          color: #F3EED9;
        }

        .step-info {
          display: flex;
          flex-direction: column;
          gap: 2px;
          min-width: 0;
        }

        .step-title {
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
          line-height: 1.2;
        }

        .step-description {
          font-size: 12px;
          color: #4A4A4A;
          line-height: 1.2;
        }

        .progress-bar {
          height: 4px;
          background: rgba(229, 220, 194, 0.3);
          border-radius: 2px;
          overflow: hidden;
          margin-bottom: 24px;
        }

        .progress-fill {
          height: 100%;
          background: linear-gradient(90deg, #3E5C49 0%, #C2571B 100%);
          transition: width 0.3s ease;
          border-radius: 2px;
        }

        .modal-content {
          flex: 1;
          overflow-y: auto;
          padding: 32px;
        }

        .alert {
          padding: 16px;
          border-radius: 12px;
          margin-bottom: 24px;
          display: flex;
          align-items: center;
          gap: 12px;
          font-size: 14px;
          font-weight: 500;
        }

        .alert-error {
          background: #fef2f2;
          color: #dc2626;
          border: 1px solid #fecaca;
        }

        .step-container {
          min-height: 300px;
        }

        .step-content {
          display: flex;
          flex-direction: column;
          gap: 24px;
          animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateX(20px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
        }

        .form-label {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
        }

        .form-input,
        .form-textarea {
          width: 100%;
          padding: 12px 16px;
          border: 2px solid rgba(229, 220, 194, 0.4);
          border-radius: 10px;
          font-size: 14px;
          background: white;
          color: #2E2E2E;
          transition: all 0.2s ease;
          box-sizing: border-box;
        }

        .form-input:focus,
        .form-textarea:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }

        .form-input.error {
          border-color: #dc2626;
          background: #fef2f2;
        }

        .form-textarea {
          resize: vertical;
          min-height: 100px;
          font-family: inherit;
        }

        .file-input-group,
        .input-with-action {
          display: flex;
          gap: 12px;
          align-items: flex-start;
        }

        .file-input-group .form-input,
        .input-with-action .form-input {
          flex: 1;
        }

        .file-browse-btn,
        .action-btn {
          padding: 12px 16px;
          border: none;
          border-radius: 10px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          gap: 8px;
          white-space: nowrap;
        }

        .file-browse-btn {
          background: #6E6E6E;
          color: #F3EED9;
        }

        .file-browse-btn:hover {
          background: #5A5A5A;
          transform: translateY(-1px);
        }

        .generate-btn {
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          color: #F3EED9;
        }

        .generate-btn:hover:not(:disabled) {
          background: linear-gradient(135deg, #A8481A 0%, #8A3C18 100%);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(194, 87, 27, 0.3);
        }

        .generate-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
          transform: none;
        }

        .form-help {
          font-size: 12px;
          color: #4A4A4A;
          margin: 0;
          line-height: 1.4;
        }

        .error-message {
          color: #dc2626;
          font-size: 12px;
          font-weight: 500;
          margin: 0;
          padding: 4px 8px;
          background: #fef2f2;
          border-radius: 6px;
          border-left: 3px solid #dc2626;
        }

        .modal-actions {
          padding: 24px 32px;
          background: #FAF9F6;
          border-top: 1px solid rgba(229, 220, 194, 0.4);
          display: flex;
          align-items: center;
          justify-content: space-between;
        }

        .actions-left,
        .actions-right {
          display: flex;
          gap: 12px;
        }

        .btn {
          padding: 12px 20px;
          border: none;
          border-radius: 10px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          gap: 8px;
          min-width: 120px;
          justify-content: center;
        }

        .btn-secondary {
          background: #F3EED9;
          color: #2E2E2E;
          border: 1px solid rgba(229, 220, 194, 0.4);
        }

        .btn-secondary:hover {
          background: #E5DCC2;
          transform: translateY(-1px);
        }

        .btn-primary {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
        }

        .btn-primary:hover {
          background: linear-gradient(135deg, #2E453A 0%, #1F2F25 100%);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.3);
        }

        .btn-success {
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          color: #F3EED9;
        }

        .btn-success:hover:not(:disabled) {
          background: linear-gradient(135deg, #A8481A 0%, #8A3C18 100%);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(194, 87, 27, 0.3);
        }

        .btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }

        .spinner {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-top: 2px solid white;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          to {
            transform: rotate(360deg);
          }
        }

        @media (max-width: 768px) {
          .modal-overlay {
            padding: 16px;
          }

          .modal-container {
            max-height: 95vh;
          }

          .modal-header {
            padding: 20px 24px;
          }

          .header-content {
            gap: 12px;
          }

          .header-icon {
            width: 40px;
            height: 40px;
          }

          .modal-title {
            font-size: 20px;
          }

          .progress-container {
            padding: 20px 24px 0;
          }

          .progress-steps {
            flex-direction: column;
            gap: 16px;
            margin-bottom: 20px;
          }

          .progress-step {
            flex-direction: row;
            gap: 12px;
          }

          .step-info {
            flex: 1;
          }

          .modal-content {
            padding: 24px;
          }

          .form-row {
            grid-template-columns: 1fr;
            gap: 16px;
          }

          .file-input-group,
          .input-with-action {
            flex-direction: column;
            gap: 8px;
          }

          .file-browse-btn,
          .action-btn {
            width: 100%;
            justify-content: center;
          }

          .modal-actions {
            padding: 20px 24px;
            flex-direction: column;
            gap: 12px;
          }

          .actions-left,
          .actions-right {
            width: 100%;
          }

          .btn {
            width: 100%;
            min-width: auto;
          }
        }

        @media (max-width: 480px) {
          .modal-overlay {
            padding: 12px;
          }

          .modal-header {
            padding: 16px 20px;
          }

          .modal-title {
            font-size: 18px;
          }

          .modal-subtitle {
            font-size: 13px;
          }

          .progress-container {
            padding: 16px 20px 0;
          }

          .modal-content {
            padding: 20px;
          }

          .step-content {
            gap: 20px;
          }

          .modal-actions {
            padding: 16px 20px;
          }
        }

        /* États de focus améliorés pour l'accessibilité */
        .btn:focus-visible,
        .form-input:focus-visible,
        .form-textarea:focus-visible {
          outline: 2px solid #3bf69fff;
          outline-offset: 2px;
        }

        .close-btn:focus-visible {
          outline: 2px solid white;
          outline-offset: 2px;
        }

        /* Animation d'entrée du modal */
        .modal-container {
          animation: modalEnter 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes modalEnter {
          from {
            opacity: 0;
            transform: scale(0.9) translateY(-20px);
          }
          to {
            opacity: 1;
            transform: scale(1) translateY(0);
          }
        }

        /* Amélioration des transitions entre les étapes */
        .step-container {
          position: relative;
          overflow: hidden;
        }

        .step-content {
          position: relative;
          z-index: 1;
        }

        /* Style pour les suggestions d'autocomplétion */
        .form-input[list]::-webkit-list-button {
          display: none;
        }

        /* Amélioration visuelle des états d'erreur */
        .form-input.error:focus {
          border-color: #dc2626;
          box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
        }

        /* Style pour les placeholders */
        .form-input::placeholder,
        .form-textarea::placeholder {
          color: #9ca3af;
          opacity: 1;
        }

        /* Amélioration de la barre de progression */
        .progress-fill {
          background: linear-gradient(90deg, #3bf6c4ff 0%, #5cf6b3ff 50%, #10b981 100%);
          position: relative;
          overflow: hidden;
        }

        .progress-fill::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
          animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
          0% {
            left: -100%;
          }
          100% {
            left: 100%;
          }
        }

        /* Style pour les tooltips sur les boutons */
        .action-btn[title]:hover::after {
          content: attr(title);
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%);
          background: #1f2937;
          color: white;
          padding: 6px 10px;
          border-radius: 6px;
          font-size: 12px;
          white-space: nowrap;
          z-index: 100;
          margin-bottom: 5px;
        }

        .action-btn {
          position: relative;
        }

        /* Amélioration des focus states pour la navigation au clavier */
        .progress-step:focus-within .step-indicator {
          box-shadow: 0 0 0 3px rgba(59, 246, 165, 0.2);
        }

        /* Style pour les listes déroulantes d'autocomplétion */
        datalist {
          display: none;
        }

        /* Amélioration de l'espacement vertical */
        .form-group + .form-group {
          margin-top: 0;
        }

        /* Style pour les liens dans les messages d'aide */
        .form-help a {
          color: #3bf6beff;
          text-decoration: none;
        }

        .form-help a:hover {
          text-decoration: underline;
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/AnimatedBackground.tsx":
/*!********************************************************!*\
  !*** ./src/renderer/components/AnimatedBackground.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AnimatedBackground: () => (/* binding */ AnimatedBackground)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


const AnimatedBackground = ({ variant = 'books', intensity = 'medium' }) => {
    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        const canvas = canvasRef.current;
        if (!canvas)
            return;
        const ctx = canvas.getContext('2d');
        if (!ctx)
            return;
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        // Floating books animation
        if (variant === 'books') {
            const books = [];
            const bookCount = intensity === 'low' ? 8 : intensity === 'medium' ? 15 : 25;
            // Initialize books
            for (let i = 0; i < bookCount; i++) {
                books.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    size: Math.random() * 20 + 15,
                    speed: Math.random() * 0.5 + 0.2,
                    opacity: Math.random() * 0.3 + 0.1,
                    rotation: Math.random() * Math.PI * 2,
                    rotationSpeed: (Math.random() - 0.5) * 0.02
                });
            }
            const animate = () => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                books.forEach(book => {
                    ctx.save();
                    ctx.translate(book.x, book.y);
                    ctx.rotate(book.rotation);
                    ctx.globalAlpha = book.opacity;
                    // Draw book shape
                    const gradient = ctx.createLinearGradient(-book.size / 2, -book.size / 2, book.size / 2, book.size / 2);
                    gradient.addColorStop(0, '#3E5C49');
                    gradient.addColorStop(0.5, '#4A6A55');
                    gradient.addColorStop(1, '#2E453A');
                    ctx.fillStyle = gradient;
                    ctx.fillRect(-book.size / 2, -book.size / 1.5, book.size, book.size * 1.3);
                    // Book spine
                    ctx.fillStyle = '#2E453A';
                    ctx.fillRect(-book.size / 2, -book.size / 1.5, book.size * 0.1, book.size * 1.3);
                    // Book pages
                    ctx.fillStyle = 'rgba(243, 238, 217, 0.8)';
                    ctx.fillRect(-book.size / 2 + book.size * 0.1, -book.size / 1.5 + 2, book.size * 0.8, book.size * 1.2);
                    ctx.restore();
                    // Update position
                    book.y -= book.speed;
                    book.rotation += book.rotationSpeed;
                    if (book.y < -book.size) {
                        book.y = canvas.height + book.size;
                        book.x = Math.random() * canvas.width;
                    }
                });
                requestAnimationFrame(animate);
            };
            animate();
        }
        // Particle system
        if (variant === 'particles') {
            const particles = [];
            const particleCount = intensity === 'low' ? 30 : intensity === 'medium' ? 60 : 100;
            const addParticle = () => {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: canvas.height + 10,
                    vx: (Math.random() - 0.5) * 2,
                    vy: -Math.random() * 3 - 1,
                    size: Math.random() * 3 + 1,
                    life: 0,
                    maxLife: Math.random() * 200 + 100
                });
            };
            // Initialize particles
            for (let i = 0; i < particleCount; i++) {
                addParticle();
            }
            const animate = () => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                particles.forEach((particle, index) => {
                    particle.x += particle.vx;
                    particle.y += particle.vy;
                    particle.life++;
                    const alpha = 1 - (particle.life / particle.maxLife);
                    ctx.globalAlpha = alpha * 0.6;
                    const gradient = ctx.createRadialGradient(particle.x, particle.y, 0, particle.x, particle.y, particle.size);
                    gradient.addColorStop(0, '#3E5C49');
                    gradient.addColorStop(1, 'transparent');
                    ctx.fillStyle = gradient;
                    ctx.beginPath();
                    ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
                    ctx.fill();
                    if (particle.life >= particle.maxLife || particle.y < -10) {
                        particles.splice(index, 1);
                        addParticle();
                    }
                });
                requestAnimationFrame(animate);
            };
            animate();
        }
        // Dynamic gradient
        if (variant === 'gradient') {
            let time = 0;
            const animate = () => {
                time += 0.005;
                const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
                const hue1 = Math.sin(time) * 30 + 210; // Blue-green range
                const hue2 = Math.sin(time + Math.PI / 3) * 30 + 150; // Green range
                const hue3 = Math.sin(time + Math.PI) * 30 + 45; // Yellow-orange range
                gradient.addColorStop(0, `hsla(${hue1}, 40%, 25%, 0.1)`);
                gradient.addColorStop(0.5, `hsla(${hue2}, 35%, 30%, 0.05)`);
                gradient.addColorStop(1, `hsla(${hue3}, 45%, 35%, 0.1)`);
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                requestAnimationFrame(animate);
            };
            animate();
        }
        const handleResize = () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        };
        window.addEventListener('resize', handleResize);
        return () => {
            window.removeEventListener('resize', handleResize);
        };
    }, [variant, intensity]);
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("canvas", { ref: canvasRef, style: {
            position: 'fixed',
            top: 0,
            left: 0,
            width: '100%',
            height: '100%',
            pointerEvents: 'none',
            zIndex: -1,
            opacity: 0.6
        } }));
};


/***/ }),

/***/ "./src/renderer/components/AppPasswordScreen.tsx":
/*!*******************************************************!*\
  !*** ./src/renderer/components/AppPasswordScreen.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AppPasswordScreen: () => (/* binding */ AppPasswordScreen)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/lock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/shield.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/key-round.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye-off.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-circle.mjs");

// src/renderer/components/AppPasswordScreen.tsx


const AppPasswordScreen = ({ onUnlock, onSkip, onClose, isSetup = false }) => {
    const [password, setPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [confirmPassword, setConfirmPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [showPassword, setShowPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const handleSubmit = async (e) => {
        e.preventDefault();
        setError('');
        setIsLoading(true);
        try {
            if (isSetup) {
                // Configuration d'un nouveau mot de passe
                if (password.length < 4) {
                    throw new Error('Le mot de passe doit contenir au moins 4 caractères');
                }
                if (password !== confirmPassword) {
                    throw new Error('Les mots de passe ne correspondent pas');
                }
                // Sauvegarder le mot de passe (via le service LocalAuthService)
                const { LocalAuthService } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../services/LocalAuthService */ "./src/renderer/services/LocalAuthService.ts"));
                LocalAuthService.setAppPassword(password);
                onUnlock();
            }
            else {
                // Vérification du mot de passe existant
                const { LocalAuthService } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../services/LocalAuthService */ "./src/renderer/services/LocalAuthService.ts"));
                if (LocalAuthService.verifyAppPassword(password)) {
                    onUnlock();
                }
                else {
                    throw new Error('Mot de passe incorrect');
                }
            }
        }
        catch (err) {
            setError(err.message);
        }
        finally {
            setIsLoading(false);
        }
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "app-password-screen", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "password-background", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "pattern-overlay" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "floating-locks", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-lock", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-lock", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 32 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-lock", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 28 }) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "password-container", children: [onClose && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-app-btn", onClick: onClose, title: "Fermer l'application", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 20 }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "password-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "lock-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 48 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { children: isSetup ? 'Sécuriser l\'Application' : 'Application Verrouillée' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: isSetup
                                    ? 'Définissez un mot de passe pour sécuriser l\'accès à l\'application'
                                    : 'Entrez le mot de passe pour déverrouiller l\'application' })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form", { onSubmit: handleSubmit, className: "password-form", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: isSetup ? 'Nouveau mot de passe' : 'Mot de passe' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: showPassword ? 'text' : 'password', value: password, onChange: (e) => setPassword(e.target.value), placeholder: isSetup ? 'Créez un mot de passe' : 'Entrez votre mot de passe', required: true, disabled: isLoading, autoFocus: true }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", className: "toggle-password", onClick: () => setShowPassword(!showPassword), children: showPassword ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 18 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 18 }) })] })] }), isSetup && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Confirmer le mot de passe" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: showPassword ? 'text' : 'password', value: confirmPassword, onChange: (e) => setConfirmPassword(e.target.value), placeholder: "Confirmez votre mot de passe", required: true, disabled: isLoading })] })] })), error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "error-message", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: error })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "password-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "submit", className: "unlock-btn", disabled: !password || isLoading || (isSetup && !confirmPassword), children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "spinner" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Traitement..." })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: isSetup ? 'Définir le mot de passe' : 'Déverrouiller' })] })) }), (isSetup || onSkip) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", className: "skip-btn", onClick: onSkip, disabled: isLoading, children: isSetup ? 'Ignorer (non sécurisé)' : 'Réinitialiser' }))] }), isSetup && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "security-notice", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "notice-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "notice-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Conseil de s\u00E9curit\u00E9 :" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ul", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Utilisez un mot de passe unique" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Conservez-le en lieu s\u00FBr" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Ne le partagez pas" })] })] })] }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .app-password-screen {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 9999;
          overflow-y: auto;
          padding: 20px;
        }

        .password-background {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          opacity: 0.1;
        }

        .pattern-overlay {
          width: 100%;
          height: 100%;
          background-image: 
            radial-gradient(circle at 25% 25%, #F3EED9 2px, transparent 2px),
            radial-gradient(circle at 75% 75%, #F3EED9 2px, transparent 2px);
          background-size: 60px 60px;
          animation: patternMove 25s linear infinite;
        }

        .floating-locks {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
        }

        .floating-lock {
          position: absolute;
          color: rgba(243, 238, 217, 0.15);
          animation: float 8s ease-in-out infinite;
        }

        .floating-lock:nth-child(1) {
          top: 15%;
          left: 15%;
          animation-delay: 0s;
        }

        .floating-lock:nth-child(2) {
          top: 25%;
          right: 15%;
          animation-delay: 3s;
        }

        .floating-lock:nth-child(3) {
          bottom: 25%;
          left: 25%;
          animation-delay: 6s;
        }

        .password-container {
          background: white;
          border-radius: 20px;
          padding: 40px;
          max-width: 450px;
          width: 90%;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
          position: relative;
          z-index: 1;
          border: 1px solid rgba(229, 220, 194, 0.3);
          margin: auto;
          min-height: fit-content;
          max-height: calc(100vh - 40px);
          overflow-y: auto;
        }

        .close-app-btn {
          position: absolute;
          top: 16px;
          right: 16px;
          width: 40px;
          height: 40px;
          border: none;
          background: rgba(243, 238, 217, 0.1);
          color: #6E6E6E;
          border-radius: 10px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          z-index: 10;
        }

        .close-app-btn:hover {
          background: rgba(220, 38, 38, 0.1);
          color: #DC2626;
          transform: scale(1.05);
        }

        .password-header {
          text-align: center;
          margin-bottom: 32px;
        }

        .lock-icon {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          width: 80px;
          height: 80px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          border-radius: 20px;
          color: #F3EED9;
          margin-bottom: 20px;
          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.3);
        }

        .password-header h1 {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 8px 0;
          line-height: 1.2;
        }

        .password-header p {
          color: #4A4A4A;
          margin: 0;
          line-height: 1.5;
          font-size: 14px;
        }

        .password-form {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
        }

        .input-group {
          position: relative;
          display: flex;
          align-items: center;
          border: 2px solid rgba(229, 220, 194, 0.4);
          border-radius: 10px;
          padding: 0 16px;
          transition: all 0.2s ease;
          background: white;
        }

        .input-group:focus-within {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }

        .input-group svg {
          color: #6E6E6E;
          margin-right: 12px;
          flex-shrink: 0;
        }

        .input-group input {
          flex: 1;
          border: none;
          padding: 12px 0;
          font-size: 14px;
          outline: none;
          background: transparent;
          color: #2E2E2E;
        }

        .input-group input::placeholder {
          color: #9ca3af;
          opacity: 1;
        }

        .toggle-password {
          background: none;
          border: none;
          color: #6E6E6E;
          cursor: pointer;
          padding: 4px;
          margin-left: 8px;
          border-radius: 6px;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .toggle-password:hover {
          color: #3E5C49;
          background: rgba(62, 92, 73, 0.1);
        }

        .error-message {
          display: flex;
          align-items: center;
          gap: 12px;
          color: #dc2626;
          background: #fef2f2;
          padding: 16px;
          border-radius: 12px;
          font-size: 14px;
          font-weight: 500;
          border: 1px solid #fecaca;
        }

        .password-actions {
          display: flex;
          flex-direction: column;
          gap: 12px;
          margin-top: 8px;
        }

        .unlock-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          border: none;
          padding: 12px 20px;
          border-radius: 10px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
          min-width: 120px;
        }

        .unlock-btn:not(:disabled):hover {
          background: linear-gradient(135deg, #2E453A 0%, #1F2F25 100%);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.3);
        }

        .unlock-btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }

        .skip-btn {
          background: #F3EED9;
          border: 1px solid rgba(229, 220, 194, 0.4);
          color: #2E2E2E;
          padding: 12px 20px;
          border-radius: 10px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .skip-btn:hover {
          background: #E5DCC2;
          transform: translateY(-1px);
        }

        .security-notice {
          background: rgba(62, 92, 73, 0.05);
          border: 1px solid rgba(62, 92, 73, 0.1);
          border-radius: 12px;
          padding: 16px;
          margin-top: 8px;
        }

        .notice-icon {
          color: #3E5C49;
          margin-bottom: 8px;
        }

        .notice-content p {
          font-weight: 600;
          color: #3E5C49;
          margin: 0 0 12px 0;
          font-size: 14px;
        }

        .notice-content ul {
          margin: 0;
          padding-left: 20px;
          color: #2E453A;
          font-size: 13px;
          line-height: 1.5;
        }

        .notice-content li {
          margin-bottom: 4px;
        }

        .spinner {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(243, 238, 217, 0.3);
          border-top: 2px solid #F3EED9;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes patternMove {
          0% { transform: translateX(0) translateY(0); }
          100% { transform: translateX(60px) translateY(60px); }
        }

        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-30px); }
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
          .password-container {
            padding: 32px 24px;
            width: 95%;
            margin: 16px;
          }

          .password-header h1 {
            font-size: 20px;
          }

          .lock-icon {
            width: 64px;
            height: 64px;
          }
        }

        @media (max-width: 480px) {
          .password-container {
            padding: 24px 20px;
            border-radius: 16px;
          }

          .password-header h1 {
            font-size: 18px;
          }

          .lock-icon {
            width: 56px;
            height: 56px;
          }

          .password-header p {
            font-size: 13px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/AppSettings.tsx":
/*!*************************************************!*\
  !*** ./src/renderer/components/AppSettings.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AppSettings: () => (/* binding */ AppSettings)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/settings.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/database.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/shield.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/building.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/info.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/upload.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/wifi-off.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/wifi.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/rotate-ccw.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/save.mjs");
/* harmony import */ var _MicroInteractions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MicroInteractions */ "./src/renderer/components/MicroInteractions.tsx");
/* harmony import */ var _ToastSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ToastSystem */ "./src/renderer/components/ToastSystem.tsx");





const AppSettings = ({ onClose }) => {
    const { success, error } = (0,_ToastSystem__WEBPACK_IMPORTED_MODULE_3__.useQuickToast)();
    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('general');
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [isAdmin, setIsAdmin] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [config, setConfig] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        mode: 'offline',
        autoBackup: false,
        backupFrequency: 'weekly',
        requireAppPassword: false,
        sessionTimeout: 30,
        theme: 'light'
    });
    const [appPassword, setAppPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [showPasswordSection, setShowPasswordSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [institutionSettings, setInstitutionSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        name: 'Bibliothèque Numérique',
        address: '',
        city: '',
        country: '',
        phone: '',
        email: '',
        website: '',
        logo: '',
        description: 'Système de gestion de bibliothèque moderne'
    });
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        loadConfig();
        checkAdminStatus();
        loadAppPasswordSettings();
    }, []);
    const loadConfig = () => {
        // Charger la configuration depuis localStorage
        const storedMode = localStorage.getItem('appMode') || 'offline';
        const storedConfig = localStorage.getItem('appConfig');
        if (storedConfig) {
            try {
                const parsed = JSON.parse(storedConfig);
                setConfig({ ...config, mode: storedMode, ...parsed });
            }
            catch (e) {
                console.warn('Could not parse stored config:', e);
            }
        }
        else {
            setConfig(prev => ({ ...prev, mode: storedMode }));
        }
        // Charger les paramètres d'institution
        const storedInstitution = localStorage.getItem('institutionSettings');
        if (storedInstitution) {
            try {
                const parsed = JSON.parse(storedInstitution);
                setInstitutionSettings(prev => ({ ...prev, ...parsed }));
            }
            catch (e) {
                console.warn('Could not parse institution settings:', e);
            }
        }
    };
    const loadAppPasswordSettings = () => {
        try {
            const appSettings = localStorage.getItem('app_settings');
            if (appSettings) {
                const parsed = JSON.parse(appSettings);
                setConfig(prev => ({
                    ...prev,
                    requireAppPassword: parsed.requireAppPassword || false
                }));
                setShowPasswordSection(parsed.requireAppPassword || false);
            }
        }
        catch (error) {
            console.error('Erreur lors du chargement des paramètres de mot de passe:', error);
        }
    };
    const checkAdminStatus = () => {
        // Vérifier si l'utilisateur connecté est un admin
        const currentUser = localStorage.getItem('currentUser');
        const appMode = localStorage.getItem('appMode');
        // En mode offline, permettre l'accès admin par défaut si aucun utilisateur spécifique n'est défini
        if (appMode === 'offline') {
            if (currentUser) {
                try {
                    const user = JSON.parse(currentUser);
                    setIsAdmin(user.role === 'admin' || user.isAdmin === true);
                }
                catch (e) {
                    console.warn('Could not parse current user:', e);
                    // En mode offline, donner accès admin par défaut
                    setIsAdmin(true);
                }
            }
            else {
                // Pas d'utilisateur défini en mode offline, donner accès admin
                setIsAdmin(true);
            }
        }
        else {
            // Mode online, vérification stricte
            if (currentUser) {
                try {
                    const user = JSON.parse(currentUser);
                    setIsAdmin(user.role === 'admin' || user.isAdmin === true);
                }
                catch (e) {
                    console.warn('Could not parse current user:', e);
                    setIsAdmin(false);
                }
            }
            else {
                setIsAdmin(false);
            }
        }
    };
    const saveConfig = async () => {
        setIsLoading(true);
        try {
            // Sauvegarder la configuration
            localStorage.setItem('appMode', config.mode);
            localStorage.setItem('appConfig', JSON.stringify({
                autoBackup: config.autoBackup,
                backupFrequency: config.backupFrequency,
                requireAppPassword: config.requireAppPassword,
                sessionTimeout: config.sessionTimeout,
                theme: config.theme
            }));
            // Sauvegarder les paramètres de mot de passe d'application via LocalAuthService
            if (config.requireAppPassword && appPassword.trim()) {
                const appSettings = JSON.parse(localStorage.getItem('app_settings') || '{}');
                appSettings.requireAppPassword = true;
                appSettings.appPassword = appPassword; // En production, il faudrait hasher
                localStorage.setItem('app_settings', JSON.stringify(appSettings));
            }
            else if (!config.requireAppPassword) {
                const appSettings = JSON.parse(localStorage.getItem('app_settings') || '{}');
                appSettings.requireAppPassword = false;
                delete appSettings.appPassword;
                localStorage.setItem('app_settings', JSON.stringify(appSettings));
            }
            // Sauvegarder les paramètres d'institution si admin
            if (isAdmin) {
                localStorage.setItem('institutionSettings', JSON.stringify(institutionSettings));
            }
            success('Configuration sauvegardée', 'Les paramètres ont été enregistrés avec succès');
            // Redémarrer l'application si le mode a changé
            if (config.mode !== localStorage.getItem('appMode')) {
                setTimeout(() => {
                    window.location.reload();
                }, 1000);
            }
        }
        catch (err) {
            error('Erreur de sauvegarde', 'Impossible de sauvegarder la configuration');
        }
        finally {
            setIsLoading(false);
        }
    };
    const resetToDefaults = () => {
        if (window.confirm('Êtes-vous sûr de vouloir réinitialiser tous les paramètres ?')) {
            setConfig({
                mode: 'offline',
                autoBackup: false,
                backupFrequency: 'weekly',
                requireAppPassword: false,
                sessionTimeout: 30,
                theme: 'light'
            });
        }
    };
    const resetDatabase = async () => {
        if (window.confirm('🔧 Réinitialiser la base de données ?\n\nCela va corriger les problèmes de schéma mais supprimera toutes les données.')) {
            try {
                // Supprimer toutes les données
                await window.electronAPI?.clearAllData();
                success('Base de données réinitialisée', 'Le schéma de la base de données a été corrigé. L\'application va redémarrer.');
                setTimeout(() => {
                    window.location.reload();
                }, 2000);
            }
            catch (err) {
                error('Erreur', 'Impossible de réinitialiser la base de données');
                console.error('Erreur de réinitialisation:', err);
            }
        }
    };
    const clearAllData = async () => {
        if (window.confirm('⚠️ ATTENTION: Cette action supprimera TOUTES les données de l\'application. Êtes-vous absolument sûr ?')) {
            if (window.confirm('Cette action est IRRÉVERSIBLE. Tapez "CONFIRMER" dans la prochaine boîte pour continuer.')) {
                const confirmation = window.prompt('Tapez "CONFIRMER" pour supprimer toutes les données:');
                if (confirmation === 'CONFIRMER') {
                    try {
                        // Nettoyer la base de données
                        await window.electronAPI?.clearAllData();
                        // Nettoyer le localStorage
                        localStorage.clear();
                        success('Données supprimées', 'Toutes les données ont été supprimées. L\'application va redémarrer.');
                        setTimeout(() => {
                            window.location.reload();
                        }, 2000);
                    }
                    catch (err) {
                        error('Erreur', 'Impossible de supprimer les données');
                    }
                }
            }
        }
    };
    const handleInputChange = (field, value) => {
        setConfig(prev => ({ ...prev, [field]: value }));
    };
    const handleInstitutionChange = (field, value) => {
        setInstitutionSettings(prev => ({ ...prev, [field]: value }));
    };
    const handleLogoUpload = (event) => {
        const file = event.target.files?.[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                const result = e.target?.result;
                setInstitutionSettings(prev => ({ ...prev, logo: result }));
            };
            reader.readAsDataURL(file);
        }
    };
    const tabs = [
        { id: 'general', label: 'Général', icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"] },
        { id: 'database', label: 'Base de données', icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"] },
        { id: 'security', label: 'Sécurité', icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"] },
        ...(isAdmin ? [{ id: 'institution', label: 'Institution', icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"] }] : []),
        { id: 'about', label: 'À propos', icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"] }
    ];
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 28 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "modal-title", children: "Param\u00E8tres de l'application" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "modal-subtitle", children: "Configurez votre biblioth\u00E8que num\u00E9rique" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: onClose, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tabs-container", children: tabs.map(tab => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `tab-button ${activeTab === tab.id ? 'active' : ''}`, onClick: () => setActiveTab(tab.id), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(tab.icon, { size: 18 }), tab.label] }, tab.id))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-content", children: [activeTab === 'general' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-panel", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "group-title", children: "Mode de fonctionnement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Mode de l'application" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Choisissez entre le mode hors ligne (SQLite local) ou en ligne (Supabase)" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: config.mode, onChange: (e) => handleInputChange('mode', e.target.value), className: "setting-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "offline", children: "\uD83D\uDD12 Hors ligne (SQLite)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "online", children: "\uD83C\uDF10 En ligne (Supabase)" })] }) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "group-title", children: "Th\u00E8me" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Apparence" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Choisissez le th\u00E8me de l'interface" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: config.theme, onChange: (e) => handleInputChange('theme', e.target.value), className: "setting-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "light", children: "\u2600\uFE0F Clair" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "dark", children: "\uD83C\uDF19 Sombre" })] }) })] })] })] })), activeTab === 'database' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-panel", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "group-title", children: "Sauvegarde automatique" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Activer la sauvegarde automatique" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Sauvegarder automatiquement la base de donn\u00E9es" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "toggle", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: config.autoBackup, onChange: (e) => handleInputChange('autoBackup', e.target.checked) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "slider" })] }) })] }), config.autoBackup && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Fr\u00E9quence de sauvegarde" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "\u00C0 quelle fr\u00E9quence sauvegarder" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: config.backupFrequency, onChange: (e) => handleInputChange('backupFrequency', e.target.value), className: "setting-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "daily", children: "Quotidienne" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "weekly", children: "Hebdomadaire" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "monthly", children: "Mensuelle" })] }) })] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group danger", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "group-title", children: "Zone de danger" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "R\u00E9initialiser la base de donn\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "\uD83D\uDD27 Corrige les probl\u00E8mes de sch\u00E9ma de base de donn\u00E9es en recr\u00E9ant les tables" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "btn-warning", onClick: resetDatabase, children: "R\u00E9initialiser DB" }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Supprimer toutes les donn\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "\u26A0\uFE0F Supprime d\u00E9finitivement tous les documents, emprunteurs et historiques" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "btn-danger", onClick: clearAllData, children: "Supprimer tout" }) })] })] })] })), activeTab === 'security' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tab-panel", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "group-title", children: "Mot de passe d'application" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Exiger un mot de passe au d\u00E9marrage" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Prot\u00E9gez l'acc\u00E8s \u00E0 l'application avec un mot de passe" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "toggle", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: config.requireAppPassword, onChange: (e) => {
                                                                            handleInputChange('requireAppPassword', e.target.checked);
                                                                            setShowPasswordSection(e.target.checked);
                                                                        } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "slider" })] }) })] }), showPasswordSection && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Mot de passe de l'application" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "D\u00E9finissez le mot de passe requis au d\u00E9marrage de l'application" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "password", value: appPassword, onChange: (e) => setAppPassword(e.target.value), className: "setting-input password-input", placeholder: "Mot de passe", required: config.requireAppPassword }) })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "D\u00E9lai d'expiration de session (minutes)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Dur\u00E9e avant verrouillage automatique de l'application" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "number", min: "5", max: "120", value: config.sessionTimeout, onChange: (e) => handleInputChange('sessionTimeout', parseInt(e.target.value)), className: "setting-input" }) })] })] }) })), activeTab === 'institution' && isAdmin && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-panel", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "group-title", children: "Informations g\u00E9n\u00E9rales" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Logo de l'institution" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Logo qui appara\u00EEtra sur les rapports et documents officiels" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "logo-upload-container", children: [institutionSettings.logo && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "logo-preview", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img", { src: institutionSettings.logo, alt: "Logo" }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "upload-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "file", id: "logo-upload", accept: "image/*", onChange: handleLogoUpload, style: { display: 'none' } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { htmlFor: "logo-upload", className: "upload-button", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16 }), institutionSettings.logo ? 'Changer' : 'Ajouter'] }), institutionSettings.logo && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", onClick: () => setInstitutionSettings(prev => ({ ...prev, logo: '' })), className: "remove-button", children: "Supprimer" }))] })] }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Nom de l'institution" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Nom officiel de votre \u00E9tablissement" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionSettings.name, onChange: (e) => handleInstitutionChange('name', e.target.value), className: "setting-input", placeholder: "Nom de l'institution" }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Description" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Br\u00E8ve description de l'institution" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea", { value: institutionSettings.description, onChange: (e) => handleInstitutionChange('description', e.target.value), className: "setting-textarea", placeholder: "Description de l'institution" }) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "group-title", children: "Coordonn\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Adresse" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Adresse postale compl\u00E8te" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionSettings.address, onChange: (e) => handleInstitutionChange('address', e.target.value), className: "setting-input", placeholder: "Adresse" }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Ville" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Ville et code postal" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionSettings.city, onChange: (e) => handleInstitutionChange('city', e.target.value), className: "setting-input", placeholder: "Ville" }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Pays" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Pays de l'institution" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionSettings.country, onChange: (e) => handleInstitutionChange('country', e.target.value), className: "setting-input", placeholder: "Pays" }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "T\u00E9l\u00E9phone" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Num\u00E9ro de t\u00E9l\u00E9phone principal" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "tel", value: institutionSettings.phone, onChange: (e) => handleInstitutionChange('phone', e.target.value), className: "setting-input", placeholder: "T\u00E9l\u00E9phone" }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Email" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Adresse email officielle" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "email", value: institutionSettings.email, onChange: (e) => handleInstitutionChange('email', e.target.value), className: "setting-input", placeholder: "Email" }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Site web" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "URL du site web institutionnel" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "url", value: institutionSettings.website, onChange: (e) => handleInstitutionChange('website', e.target.value), className: "setting-input", placeholder: "https://www.example.com" }) })] })] })] })), activeTab === 'about' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tab-panel", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "about-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "app-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "app-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 48 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Biblioth\u00E8que Num\u00E9rique" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "version", children: "Version 1.0.0" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "description", children: "Syst\u00E8me de gestion de biblioth\u00E8que moderne pour \u00E9tablissements scolaires" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Mode actuel:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: `mode-badge ${config.mode}`, children: config.mode === 'offline' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 14 }), "Hors ligne"] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 14 }), "En ligne"] })) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Base de donn\u00E9es:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: config.mode === 'offline' ? 'SQLite locale' : 'Supabase cloud' })] })] })] }) }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", onClick: resetToDefaults, icon: lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], children: "R\u00E9initialiser" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "success", onClick: saveConfig, disabled: isLoading, icon: lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], children: isLoading ? 'Sauvegarde...' : 'Sauvegarder' })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .settings-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.6);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
          backdrop-filter: blur(8px);
        }

        .settings-modal {
          background: #FFFFFF;
          border-radius: 20px;
          width: 100%;
          max-width: 800px;
          max-height: 90vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
          border: 1px solid rgba(229, 220, 194, 0.3);
        }

        .modal-header {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          padding: 32px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          position: relative;
        }

        .header-content {
          display: flex;
          align-items: center;
          gap: 20px;
        }

        .header-icon {
          width: 56px;
          height: 56px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .modal-title {
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 4px 0;
        }

        .modal-subtitle {
          font-size: 14px;
          opacity: 0.8;
          margin: 0;
        }

        .close-button {
          width: 44px;
          height: 44px;
          border: none;
          background: rgba(243, 238, 217, 0.1);
          color: #F3EED9;
          border-radius: 12px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          position: absolute;
          top: 32px;
          right: 32px;
          z-index: 1001;
        }

        .close-button:hover {
          background: rgba(243, 238, 217, 0.2);
        }

        .settings-content {
          flex: 1;
          display: flex;
          overflow: hidden;
        }

        .tabs-container {
          width: 200px;
          background: #F3EED9;
          border-right: 1px solid #E5DCC2;
          padding: 24px 0;
        }

        .tab-button {
          width: 100%;
          padding: 16px 24px;
          border: none;
          background: transparent;
          color: #4A4A4A;
          text-align: left;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 12px;
          font-size: 14px;
          font-weight: 500;
          transition: all 0.2s ease;
        }

        .tab-button:hover {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }

        .tab-button.active {
          background: #3E5C49;
          color: #F3EED9;
          font-weight: 600;
        }

        .tab-content {
          flex: 1;
          overflow-y: auto;
          padding: 32px;
        }

        .tab-panel {
          max-width: 600px;
        }

        .setting-group {
          margin-bottom: 32px;
          padding: 24px;
          background: rgba(243, 238, 217, 0.1);
          border-radius: 12px;
          border: 1px solid rgba(243, 238, 217, 0.3);
        }

        .setting-group.danger {
          background: rgba(220, 38, 38, 0.05);
          border-color: rgba(220, 38, 38, 0.2);
        }

        .group-title {
          font-size: 18px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 20px 0;
        }

        .setting-item {
          display: flex;
          align-items: flex-start;
          justify-content: space-between;
          gap: 24px;
          margin-bottom: 20px;
        }

        .setting-item:last-child {
          margin-bottom: 0;
        }

        .setting-info {
          flex: 1;
        }

        .setting-label {
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 4px 0;
          display: block;
        }

        .setting-description {
          font-size: 12px;
          color: #4A4A4A;
          margin: 0;
          line-height: 1.4;
        }

        .setting-control {
          flex-shrink: 0;
        }

        .setting-select, .setting-input {
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          padding: 8px 12px;
          background: #FFFFFF;
          color: #2E2E2E;
          font-size: 14px;
        }

        .setting-input {
          width: 80px;
          text-align: center;
        }

        .password-input {
          width: 200px;
          text-align: left;
        }

        .setting-textarea {
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          padding: 8px 12px;
          background: #FFFFFF;
          color: #2E2E2E;
          font-size: 14px;
          width: 200px;
          min-height: 60px;
          resize: vertical;
          font-family: inherit;
        }

        .logo-upload-container {
          display: flex;
          flex-direction: column;
          gap: 12px;
          align-items: flex-start;
        }

        .logo-preview {
          width: 80px;
          height: 80px;
          border-radius: 12px;
          overflow: hidden;
          border: 2px solid #E5DCC2;
          background: #F3EED9;
        }

        .logo-preview img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .upload-actions {
          display: flex;
          gap: 8px;
        }

        .upload-button {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 8px 12px;
          background: #3E5C49;
          color: #F3EED9;
          border: none;
          border-radius: 6px;
          font-size: 12px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .upload-button:hover {
          background: #2E453A;
        }

        .remove-button {
          padding: 8px 12px;
          background: #DC2626;
          color: white;
          border: none;
          border-radius: 6px;
          font-size: 12px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .remove-button:hover {
          background: #B91C1C;
        }

        .toggle {
          position: relative;
          display: inline-block;
          width: 50px;
          height: 24px;
        }

        .toggle input {
          opacity: 0;
          width: 0;
          height: 0;
        }

        .slider {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: #ccc;
          transition: 0.4s;
          border-radius: 24px;
        }

        .slider:before {
          position: absolute;
          content: "";
          height: 18px;
          width: 18px;
          left: 3px;
          bottom: 3px;
          background-color: white;
          transition: 0.4s;
          border-radius: 50%;
        }

        input:checked + .slider {
          background-color: #3E5C49;
        }

        input:checked + .slider:before {
          transform: translateX(26px);
        }

        .btn-warning {
          background: #F59E0B;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .btn-warning:hover {
          background: #D97706;
        }

        .btn-danger {
          background: #DC2626;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .btn-danger:hover {
          background: #B91C1C;
        }

        .about-content {
          text-align: center;
        }

        .app-info {
          margin-bottom: 32px;
        }

        .app-icon {
          width: 80px;
          height: 80px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          border-radius: 20px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          margin: 0 auto 16px;
        }

        .app-info h3 {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 8px 0;
        }

        .version {
          font-size: 14px;
          color: #4A4A4A;
          margin: 0 0 16px 0;
        }

        .description {
          font-size: 14px;
          color: #4A4A4A;
          margin: 0;
          line-height: 1.5;
        }

        .info-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
          text-align: left;
        }

        .info-item {
          background: rgba(243, 238, 217, 0.1);
          padding: 16px;
          border-radius: 8px;
        }

        .info-item strong {
          display: block;
          font-size: 12px;
          color: #4A4A4A;
          margin-bottom: 4px;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .mode-badge {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 14px;
          font-weight: 500;
        }

        .mode-badge.offline {
          color: #3E5C49;
        }

        .mode-badge.online {
          color: #2563EB;
        }

        .modal-actions {
          padding: 24px 32px;
          border-top: 1px solid #E5DCC2;
          display: flex;
          justify-content: flex-end;
          gap: 16px;
        }

        @media (max-width: 768px) {
          .settings-modal {
            margin: 12px;
          }

          .settings-content {
            flex-direction: column;
          }

          .tabs-container {
            width: 100%;
            display: flex;
            overflow-x: auto;
            padding: 16px 24px;
          }

          .tab-button {
            white-space: nowrap;
            padding: 12px 16px;
          }

          .setting-item {
            flex-direction: column;
            align-items: stretch;
            gap: 12px;
          }

          .info-grid {
            grid-template-columns: 1fr;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/BackupManager.tsx":
/*!***************************************************!*\
  !*** ./src/renderer/components/BackupManager.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BackupManager: () => (/* binding */ BackupManager)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/hard-drive.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/database.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/calendar.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/plus.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/upload.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/download.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/refresh-cw.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trash-2.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/file-text.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/rotate-ccw.mjs");
/* harmony import */ var _MicroInteractions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MicroInteractions */ "./src/renderer/components/MicroInteractions.tsx");
/* harmony import */ var _ToastSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ToastSystem */ "./src/renderer/components/ToastSystem.tsx");





const BackupManager = ({ onClose }) => {
    const { success, error, info, warning } = (0,_ToastSystem__WEBPACK_IMPORTED_MODULE_3__.useQuickToast)();
    const [backups, setBackups] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [stats, setStats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [selectedBackup, setSelectedBackup] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [showCreateModal, setShowCreateModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [createBackupName, setCreateBackupName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [createBackupDescription, setCreateBackupDescription] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    // Charger les données initiales
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        loadBackupData();
    }, []);
    const loadBackupData = async () => {
        setIsLoading(true);
        try {
            const [backupResult, statsResult] = await Promise.all([
                window.electronAPI.getBackupList(),
                window.electronAPI.getBackupStats()
            ]);
            if (backupResult.success) {
                setBackups(backupResult.backups);
            }
            else {
                error('Erreur', 'Impossible de charger la liste des sauvegardes');
            }
            if (statsResult.success) {
                setStats(statsResult.stats);
            }
        }
        catch (err) {
            error('Erreur', 'Erreur lors du chargement des données de sauvegarde');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleCreateBackup = async () => {
        if (!createBackupName.trim()) {
            warning('Attention', 'Veuillez saisir un nom pour la sauvegarde');
            return;
        }
        setIsLoading(true);
        try {
            const result = await window.electronAPI.createBackup(createBackupName.trim(), createBackupDescription.trim() || undefined);
            if (result.success) {
                success('Succès', 'Sauvegarde créée avec succès');
                setShowCreateModal(false);
                setCreateBackupName('');
                setCreateBackupDescription('');
                await loadBackupData();
            }
            else {
                error('Erreur', result.error || 'Échec de la création de la sauvegarde');
            }
        }
        catch (err) {
            error('Erreur', 'Erreur lors de la création de la sauvegarde');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleRestoreBackup = async (backup) => {
        const confirmRestore = window.confirm(`Êtes-vous sûr de vouloir restaurer la sauvegarde "${backup.fileName}" ?\n\n` +
            `Cette action remplacera toutes les données actuelles de l'application.\n` +
            `Une sauvegarde automatique sera créée avant la restauration.`);
        if (!confirmRestore)
            return;
        setIsLoading(true);
        try {
            const result = await window.electronAPI.restoreBackup(backup.filePath);
            if (result.success) {
                success('Succès', 'Sauvegarde restaurée avec succès. L\'application va se recharger.');
                // Recharger l'application pour refléter les changements
                setTimeout(() => {
                    window.location.reload();
                }, 2000);
            }
            else {
                error('Erreur', result.error || 'Échec de la restauration');
            }
        }
        catch (err) {
            error('Erreur', 'Erreur lors de la restauration de la sauvegarde');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleDeleteBackup = async (backup) => {
        const confirmDelete = window.confirm(`Êtes-vous sûr de vouloir supprimer la sauvegarde "${backup.fileName}" ?\n\n` +
            `Cette action est irréversible.`);
        if (!confirmDelete)
            return;
        setIsLoading(true);
        try {
            const result = await window.electronAPI.deleteBackup(backup.filePath);
            if (result.success) {
                success('Succès', 'Sauvegarde supprimée avec succès');
                await loadBackupData();
            }
            else {
                error('Erreur', result.error || 'Échec de la suppression');
            }
        }
        catch (err) {
            error('Erreur', 'Erreur lors de la suppression de la sauvegarde');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleRestoreFromFile = async () => {
        try {
            const fileResult = await window.electronAPI.selectBackupFile();
            if (!fileResult.success || !fileResult.filePath) {
                if (fileResult.error !== 'Sélection annulée') {
                    error('Erreur', fileResult.error || 'Impossible de sélectionner le fichier');
                }
                return;
            }
            // Valider le fichier de sauvegarde
            const validationResult = await window.electronAPI.validateBackup(fileResult.filePath);
            if (!validationResult.success || !validationResult.isValid) {
                error('Erreur', 'Le fichier sélectionné n\'est pas une sauvegarde valide');
                return;
            }
            // Confirmer la restauration
            const confirmRestore = window.confirm(`Êtes-vous sûr de vouloir restaurer cette sauvegarde ?\n\n` +
                `Cette action remplacera toutes les données actuelles de l'application.\n` +
                `Une sauvegarde automatique sera créée avant la restauration.`);
            if (!confirmRestore)
                return;
            setIsLoading(true);
            const result = await window.electronAPI.restoreBackup(fileResult.filePath);
            if (result.success) {
                success('Succès', 'Sauvegarde restaurée avec succès. L\'application va se recharger.');
                setTimeout(() => {
                    window.location.reload();
                }, 2000);
            }
            else {
                error('Erreur', result.error || 'Échec de la restauration');
            }
        }
        catch (err) {
            error('Erreur', 'Erreur lors de la restauration depuis fichier');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleExportDatabase = async () => {
        setIsLoading(true);
        try {
            const result = await window.electronAPI.exportDatabase();
            if (result.success) {
                success('Succès', `Base de données exportée vers: ${result.path}`);
            }
            else {
                if (result.error !== 'Export annulé') {
                    error('Erreur', result.error || 'Échec de l\'export');
                }
            }
        }
        catch (err) {
            error('Erreur', 'Erreur lors de l\'export de la base de données');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleImportDatabase = async () => {
        const confirmImport = window.confirm('Êtes-vous sûr de vouloir importer une base de données ?\n\n' +
            'Cette action remplacera la base de données actuelle.\n' +
            'Une sauvegarde automatique sera créée avant l\'import.');
        if (!confirmImport)
            return;
        setIsLoading(true);
        try {
            const result = await window.electronAPI.importDatabase();
            if (result.success) {
                success('Succès', 'Base de données importée avec succès. L\'application va se recharger.');
                setTimeout(() => {
                    window.location.reload();
                }, 2000);
            }
            else {
                if (result.error !== 'Import annulé') {
                    error('Erreur', result.error || 'Échec de l\'import');
                }
            }
        }
        catch (err) {
            error('Erreur', 'Erreur lors de l\'import de la base de données');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleCleanOldBackups = async () => {
        const keepCount = window.prompt('Combien de sauvegardes récentes souhaitez-vous conserver ?', '10');
        if (!keepCount || isNaN(parseInt(keepCount)))
            return;
        const count = parseInt(keepCount);
        if (count < 1) {
            warning('Attention', 'Le nombre doit être supérieur à 0');
            return;
        }
        setIsLoading(true);
        try {
            const result = await window.electronAPI.cleanOldBackups(count);
            if (result.success) {
                success('Succès', `${result.deletedCount} anciennes sauvegardes supprimées`);
                await loadBackupData();
            }
            else {
                error('Erreur', result.error || 'Échec du nettoyage');
            }
        }
        catch (err) {
            error('Erreur', 'Erreur lors du nettoyage des sauvegardes');
        }
        finally {
            setIsLoading(false);
        }
    };
    const formatFileSize = (bytes) => {
        const units = ['B', 'KB', 'MB', 'GB'];
        let size = bytes;
        let unitIndex = 0;
        while (size >= 1024 && unitIndex < units.length - 1) {
            size /= 1024;
            unitIndex++;
        }
        return `${size.toFixed(1)} ${units[unitIndex]}`;
    };
    const formatDate = (dateString) => {
        return new Date(dateString).toLocaleString('fr-FR', {
            year: 'numeric',
            month: 'short',
            day: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
        });
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "backup-manager-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "backup-manager-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 28 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "modal-title", children: "Gestionnaire de Sauvegardes" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "modal-subtitle", children: "Cr\u00E9ez et g\u00E9rez vos sauvegardes de donn\u00E9es" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: onClose, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-content", children: [stats && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stats-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stats-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-value", children: stats.totalBackups }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-label", children: "Sauvegardes" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-value", children: stats.formattedSize }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-label", children: "Espace utilis\u00E9" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-value", children: stats.newestBackup ? formatDate(stats.newestBackup.createdAt).split(' ')[0] : 'N/A' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-label", children: "Derni\u00E8re sauvegarde" })] })] })] }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "actions-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "actions-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "success", icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], onClick: () => setShowCreateModal(true), disabled: isLoading, children: "Nouvelle Sauvegarde" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", icon: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], onClick: handleRestoreFromFile, disabled: isLoading, children: "Restaurer depuis Fichier" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", icon: lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], onClick: handleExportDatabase, disabled: isLoading, children: "Exporter Base de Donn\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], onClick: handleImportDatabase, disabled: isLoading, children: "Importer Base de Donn\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", icon: lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], onClick: loadBackupData, disabled: isLoading, children: "Actualiser" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "danger", icon: lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], onClick: handleCleanOldBackups, disabled: isLoading, children: "Nettoyer Anciennes" })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "backups-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Sauvegardes Disponibles" }), isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "loading-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { className: "loading-spinner", size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Chargement des sauvegardes..." })] })) : backups.length === 0 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "empty-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 48 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Aucune sauvegarde trouv\u00E9e" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("small", { children: "Cr\u00E9ez votre premi\u00E8re sauvegarde pour commencer" })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "backups-list", children: backups.map((backup, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "backup-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "backup-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "backup-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "backup-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "backup-name", children: backup.fileName }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "backup-date", children: formatDate(backup.createdAt) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "backup-size", children: formatFileSize(backup.size) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "backup-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", size: "small", icon: lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], onClick: () => handleRestoreBackup(backup), disabled: isLoading, children: "Restaurer" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "danger", size: "small", icon: lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], onClick: () => handleDeleteBackup(backup), disabled: isLoading, children: "Supprimer" })] })] }), backup.metadata && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "backup-metadata", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "metadata-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "metadata-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "metadata-label", children: "Documents:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "metadata-value", children: backup.metadata.stats.totalDocuments })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "metadata-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "metadata-label", children: "Emprunteurs:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "metadata-value", children: backup.metadata.stats.totalBorrowers })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "metadata-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "metadata-label", children: "Historique:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "metadata-value", children: backup.metadata.stats.totalBorrowHistory })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "metadata-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "metadata-label", children: "Version:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "metadata-value", children: backup.metadata.appVersion })] })] }) }))] }, backup.filePath))) }))] })] }), showCreateModal && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "create-modal-overlay", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "create-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "create-modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Cr\u00E9er une Nouvelle Sauvegarde" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: () => setShowCreateModal(false), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 16 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "create-modal-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Nom de la sauvegarde *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: createBackupName, onChange: (e) => setCreateBackupName(e.target.value), placeholder: "Ex: Sauvegarde mensuelle janvier 2024", className: "form-input", maxLength: 100 })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Description (optionnel)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea", { value: createBackupDescription, onChange: (e) => setCreateBackupDescription(e.target.value), placeholder: "Description de cette sauvegarde...", className: "form-textarea", rows: 3, maxLength: 500 })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "create-modal-footer", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", onClick: () => setShowCreateModal(false), children: "Annuler" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "success", onClick: handleCreateBackup, disabled: isLoading || !createBackupName.trim(), icon: isLoading ? lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"] : lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], children: isLoading ? 'Création...' : 'Créer Sauvegarde' })] })] }) }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .backup-manager-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.7);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
          backdrop-filter: blur(8px);
        }

        .backup-manager-modal {
          background: #FFFFFF;
          border-radius: 20px;
          width: 100%;
          max-width: 900px;
          max-height: 90vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
          border: 1px solid rgba(229, 220, 194, 0.3);
          animation: slideIn 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateY(30px) scale(0.95);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        .modal-header-alt {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          padding: 32px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          position: relative;
          overflow: visible; /* Changer de hidden à visible */
          z-index: 10;
          margin-bottom: 20px; /* Ajouter une marge pour éviter le chevauchement */
        }

        .modal-header::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: radial-gradient(circle at 20% 80%, rgba(243, 238, 217, 0.1) 0%, transparent 50%);
          pointer-events: none;
        }

        .header-content {
          display: flex;
          align-items: center;
          gap: 20px;
          position: relative;
          z-index: 1;
        }

        .header-icon {
          width: 56px;
          height: 56px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .modal-title {
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 4px 0;
        }

        .modal-subtitle {
          font-size: 14px;
          opacity: 0.8;
          margin: 0;
        }

        .close-button {
          width: 44px;
          height: 44px;
          border: none;
          background: rgba(243, 238, 217, 0.1);
          color: #F3EED9;
          border-radius: 12px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          z-index: 1;
          position: relative;
        }

        .close-button:hover {
          background: rgba(243, 238, 217, 0.2);
        }

        .modal-content {
          flex: 1;
          overflow-y: auto;
          padding: 10px;
          position: relative;
          z-index: 1; /* Z-index plus bas que le header */
        }

        .stats-section {
          margin-bottom: 32px;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 20px;
        }

        .stat-card {
          background: rgba(243, 238, 217, 0.1);
          border: 1px solid rgba(243, 238, 217, 0.2);
          border-radius: 12px;
          padding: 20px;
          display: flex;
          align-items: center;
          gap: 16px;
          transition: all 0.3s ease;
        }

        .stat-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 8px 25px rgba(62, 92, 73, 0.15);
        }

        .stat-icon {
          width: 44px;
          height: 44px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .stat-value {
          font-size: 24px;
          font-weight: 700;
          color: #2e2e2eff !important;
          margin-bottom: 4px;
        }

        .stat-label {
          font-size: 14px;
          color: #4A4A4A !important ;
        }

        .actions-section {
          margin-bottom: 32px;
        }

        .actions-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
          gap: 16px;
        }

        .section-title {
          font-size: 18px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 20px 0;
        }

        .loading-state, .empty-state {
          text-align: center;
          padding: 60px 20px;
          color: #4A4A4A;
        }

        .loading-spinner {
          animation: spin 1s linear infinite;
          margin-bottom: 16px;
        }

        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        .empty-state svg {
          color: #C2C2C2;
          margin-bottom: 16px;
        }

        .backups-list {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .backup-card {
          background: #FFFFFF;
          border: 1px solid #E5DCC2;
          border-radius: 12px;
          padding: 20px;
          transition: all 0.2s ease;
        }

        .backup-card:hover {
          border-color: #3E5C49;
          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.1);
        }

        .backup-header {
          display: flex;
          align-items: flex-start;
          gap: 16px;
        }

        .backup-icon {
          width: 40px;
          height: 40px;
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }

        .backup-info {
          flex: 1;
        }

        .backup-name {
          font-size: 16px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 4px 0;
        }

        .backup-date, .backup-size {
          font-size: 14px;
          color: #4A4A4A;
          margin: 2px 0;
        }

        .backup-actions {
          display: flex;
          gap: 8px;
          flex-shrink: 0;
        }

        .backup-metadata {
          margin-top: 16px;
          padding-top: 16px;
          border-top: 1px solid rgba(229, 220, 194, 0.3);
        }

        .metadata-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
          gap: 16px;
        }

        .metadata-item {
          display: flex;
          flex-direction: column;
          gap: 4px;
        }

        .metadata-label {
          font-size: 12px;
          color: #4A4A4A;
          font-weight: 500;
        }

        .metadata-value {
          font-size: 14px;
          color: #2E2E2E;
          font-weight: 600;
        }

        .create-modal-overlay {
          position: absolute;
          inset: 0;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1001;
        }

        .create-modal {
          background: #FFFFFF;
          border-radius: 16px;
          width: 100%;
          max-width: 500px;
          max-height: 80vh;
          overflow: hidden;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .create-modal-header {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          padding: 24px;
          display: flex;
          align-items: center;
          justify-content: space-between;
        }

        .create-modal-header h3 {
          margin: 0;
          font-size: 18px;
          font-weight: 600;
        }

        .create-modal-content {
          padding: 24px;
        }

        .form-group {
          margin-bottom: 20px;
        }

        .form-label {
          display: block;
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
          margin-bottom: 8px;
        }

        .form-input, .form-textarea {
          width: 100%;
          padding: 12px 16px;
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          font-size: 14px;
          background: #FFFFFF;
          color: #2E2E2E;
          transition: all 0.3s ease;
          resize: vertical;
        }

        .form-input:focus, .form-textarea:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }

        .create-modal-footer {
          padding: 24px;
          border-top: 1px solid #E5DCC2;
          display: flex;
          justify-content: flex-end;
          gap: 16px;
        }

        @media (max-width: 768px) {
          .backup-manager-modal {
            margin: 12px;
          }

          .stats-grid, .actions-grid {
            grid-template-columns: 1fr;
          }

          .backup-header {
            flex-direction: column;
            align-items: flex-start;
          }

          .backup-actions {
            align-self: flex-end;
          }

          .metadata-grid {
            grid-template-columns: repeat(2, 1fr);
          }
        }

        /* Scrollbar personnalisé */
        .modal-content::-webkit-scrollbar {
          width: 8px;
        }

        .modal-content::-webkit-scrollbar-track {
          background: #F3EED9;
          border-radius: 4px;
        }

        .modal-content::-webkit-scrollbar-thumb {
          background: #3E5C49;
          border-radius: 4px;
        }

        .modal-content::-webkit-scrollbar-thumb:hover {
          background: #2E453A;
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/BorrowDocument.tsx":
/*!****************************************************!*\
  !*** ./src/renderer/components/BorrowDocument.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BorrowDocument: () => (/* binding */ BorrowDocument)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/calendar.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/building.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/tag.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/search.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user-plus.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/heart.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/arrow-left.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/chevron-right.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/save.mjs");
/* harmony import */ var _ToastSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ToastSystem */ "./src/renderer/components/ToastSystem.tsx");




const BorrowDocument = ({ document, borrowers, onBorrow, onReturn, onCancel, onAddBorrower }) => {
    const { success, error, info } = (0,_ToastSystem__WEBPACK_IMPORTED_MODULE_2__.useQuickToast)();
    const [currentStep, setCurrentStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);
    const [selectedBorrowerId, setSelectedBorrowerId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [returnDate, setReturnDate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [filteredBorrowers, setFilteredBorrowers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [errors, setErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});
    // States for new borrower creation
    const [showCreateBorrower, setShowCreateBorrower] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [newBorrowerData, setNewBorrowerData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        type: 'student',
        firstName: '',
        lastName: '',
        matricule: '',
        classe: '',
        cniNumber: '',
        position: '',
        email: '',
        phone: ''
    });
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        // Set default return date to 2 weeks from today
        const defaultDate = new Date();
        defaultDate.setDate(defaultDate.getDate() + 14);
        setReturnDate(defaultDate.toISOString().split('T')[0]);
    }, []);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        filterBorrowers();
    }, [borrowers, searchTerm]);
    const filterBorrowers = () => {
        if (!searchTerm) {
            setFilteredBorrowers(borrowers);
            return;
        }
        const filtered = borrowers.filter(borrower => `${borrower.firstName} ${borrower.lastName}`.toLowerCase().includes(searchTerm.toLowerCase()) ||
            borrower.matricule.toLowerCase().includes(searchTerm.toLowerCase()) ||
            borrower.email?.toLowerCase().includes(searchTerm.toLowerCase()) ||
            (borrower.classe && borrower.classe.toLowerCase().includes(searchTerm.toLowerCase())) ||
            (borrower.position && borrower.position.toLowerCase().includes(searchTerm.toLowerCase())));
        setFilteredBorrowers(filtered);
    };
    const handleBorrow = async () => {
        if (!selectedBorrowerId || !returnDate) {
            error('Informations manquantes', 'Veuillez sélectionner un emprunteur et une date de retour');
            return;
        }
        if (!document.id) {
            error('Erreur document', 'ID du document manquant');
            return;
        }
        setIsLoading(true);
        try {
            await onBorrow(document.id, selectedBorrowerId, returnDate);
            const borrower = borrowers.find(b => b.id === selectedBorrowerId);
            success('Emprunt enregistré', `"${document.titre}" emprunté par ${borrower?.firstName} ${borrower?.lastName}`);
        }
        catch (err) {
            console.error('Erreur d\'emprunt:', err);
            error('Erreur d\'emprunt', `Impossible d'enregistrer l'emprunt: ${err instanceof Error ? err.message : 'Erreur inconnue'}`);
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleReturn = async () => {
        setIsLoading(true);
        try {
            await onReturn(document.id);
            success('Retour enregistré', `"${document.titre}" a été retourné avec succès`);
        }
        catch (err) {
            error('Erreur de retour', 'Impossible d\'enregistrer le retour');
        }
        finally {
            setIsLoading(false);
        }
    };
    const getBorrowerTypeIcon = (type) => {
        return type === 'student' ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 16 });
    };
    const getBorrowerTypeLabel = (type) => {
        return type === 'student' ? 'Étudiant' : 'Personnel';
    };
    // Step management functions
    const getStepTitle = (step) => {
        if (document.estEmprunte) {
            return 'Confirmer le retour';
        }
        switch (step) {
            case 1: return 'Document à emprunter';
            case 2: return 'Sélection emprunteur';
            case 3: return 'Date de retour';
            default: return 'Emprunt';
        }
    };
    const getStepDescription = (step) => {
        if (document.estEmprunte) {
            return 'Finaliser le retour';
        }
        switch (step) {
            case 1: return 'Vérifier les informations';
            case 2: return 'Choisir la personne';
            case 3: return 'Définir l\'échéance';
            default: return '';
        }
    };
    const getStepIcon = (step) => {
        if (document.estEmprunte) {
            return lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"];
        }
        switch (step) {
            case 1: return lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"];
            case 2: return lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"];
            case 3: return lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"];
            default: return lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"];
        }
    };
    const validateStep = (step) => {
        const newErrors = {};
        if (step === 2 && !selectedBorrowerId) {
            newErrors.borrower = 'Veuillez sélectionner un emprunteur';
        }
        if (step === 3 && !returnDate) {
            newErrors.returnDate = 'Veuillez définir une date de retour';
        }
        setErrors(newErrors);
        return Object.keys(newErrors).length === 0;
    };
    const handleNext = () => {
        if (validateStep(currentStep)) {
            setCurrentStep(prev => Math.min(prev + 1, document.estEmprunte ? 1 : 3));
        }
    };
    const handlePrev = () => {
        if (showCreateBorrower) {
            setShowCreateBorrower(false);
            setErrors({});
        }
        else {
            setCurrentStep(prev => Math.max(prev - 1, 1));
        }
    };
    // New borrower creation functions
    const handleNewBorrowerChange = (field, value) => {
        setNewBorrowerData(prev => ({
            ...prev,
            [field]: value
        }));
        // Clear error for this field
        if (errors[field]) {
            setErrors(prev => {
                const newErrors = { ...prev };
                delete newErrors[field];
                return newErrors;
            });
        }
    };
    const validateNewBorrower = () => {
        const newErrors = {};
        if (!newBorrowerData.firstName.trim()) {
            newErrors.firstName = 'Le prénom est obligatoire';
        }
        if (!newBorrowerData.lastName.trim()) {
            newErrors.lastName = 'Le nom est obligatoire';
        }
        if (!newBorrowerData.matricule.trim()) {
            newErrors.matricule = 'Le matricule est obligatoire';
        }
        if (newBorrowerData.type === 'student' && !newBorrowerData.classe.trim()) {
            newErrors.classe = 'La classe est obligatoire pour les étudiants';
        }
        if (newBorrowerData.type === 'staff' && !newBorrowerData.position.trim()) {
            newErrors.position = 'Le poste est obligatoire pour le personnel';
        }
        setErrors(newErrors);
        return Object.keys(newErrors).length === 0;
    };
    const handleCreateBorrower = async () => {
        if (!validateNewBorrower() || !onAddBorrower)
            return;
        setIsLoading(true);
        try {
            const borrowerToCreate = {
                ...newBorrowerData,
                syncStatus: 'pending',
                lastModified: new Date().toISOString(),
                version: 1,
                createdAt: new Date().toISOString()
            };
            const newBorrowerId = await onAddBorrower(borrowerToCreate);
            // Reset form and select the new borrower
            setNewBorrowerData({
                type: 'student',
                firstName: '',
                lastName: '',
                matricule: '',
                classe: '',
                cniNumber: '',
                position: '',
                email: '',
                phone: ''
            });
            setSelectedBorrowerId(newBorrowerId);
            setShowCreateBorrower(false);
            success('Emprunteur créé', `${borrowerToCreate.firstName} ${borrowerToCreate.lastName} a été ajouté avec succès`);
        }
        catch (err) {
            console.error('Erreur création emprunteur:', err);
            error('Erreur de création', 'Impossible de créer l\'emprunteur');
        }
        finally {
            setIsLoading(false);
        }
    };
    // Function to render step content
    const renderStepContent = () => {
        if (document.estEmprunte) {
            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "step-content", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "return-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "return-message", children: "Ce document sera marqu\u00E9 comme disponible et pourra \u00EAtre emprunt\u00E9 \u00E0 nouveau." }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "return-date-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: ["Retour effectu\u00E9 le ", new Date().toLocaleDateString('fr-FR')] })] })] }) }));
        }
        switch (currentStep) {
            case 1:
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "step-content", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-preview", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "document-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "document-title", children: document.titre }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "document-author", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 14 }), document.auteur] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-meta", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "meta-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 12 }), document.editeur] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "meta-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 12 }), document.annee] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "meta-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 12 }), document.cote] })] })] })] }) }));
            case 2:
                if (showCreateBorrower) {
                    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "create-borrower-header", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 18 }), "Type d'emprunteur *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-type-selector", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { type: "button", className: `type-btn ${newBorrowerData.type === 'student' ? 'active' : ''}`, onClick: () => handleNewBorrowerChange('type', 'student'), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 16 }), "\u00C9tudiant"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { type: "button", className: `type-btn ${newBorrowerData.type === 'staff' ? 'active' : ''}`, onClick: () => handleNewBorrowerChange('type', 'staff'), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 16 }), "Personnel"] })] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Pr\u00E9nom *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: newBorrowerData.firstName, onChange: (e) => handleNewBorrowerChange('firstName', e.target.value), className: `form-input ${errors.firstName ? 'error' : ''}`, placeholder: "Pr\u00E9nom", autoFocus: true }), errors.firstName && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: errors.firstName })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Nom *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: newBorrowerData.lastName, onChange: (e) => handleNewBorrowerChange('lastName', e.target.value), className: `form-input ${errors.lastName ? 'error' : ''}`, placeholder: "Nom de famille" }), errors.lastName && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: errors.lastName })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Matricule *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: newBorrowerData.matricule, onChange: (e) => handleNewBorrowerChange('matricule', e.target.value), className: `form-input ${errors.matricule ? 'error' : ''}`, placeholder: "Num\u00E9ro de matricule" }), errors.matricule && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: errors.matricule })] }), newBorrowerData.type === 'student' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Classe *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: newBorrowerData.classe, onChange: (e) => handleNewBorrowerChange('classe', e.target.value), className: `form-input ${errors.classe ? 'error' : ''}`, placeholder: "ex: L3 Informatique, Master 2..." }), errors.classe && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: errors.classe })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Poste *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: newBorrowerData.position, onChange: (e) => handleNewBorrowerChange('position', e.target.value), className: `form-input ${errors.position ? 'error' : ''}`, placeholder: "Fonction ou poste" }), errors.position && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: errors.position })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "N\u00B0 CNI (optionnel)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: newBorrowerData.cniNumber, onChange: (e) => handleNewBorrowerChange('cniNumber', e.target.value), className: "form-input", placeholder: "Num\u00E9ro de carte d'identit\u00E9" })] })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Email (optionnel)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "email", value: newBorrowerData.email, onChange: (e) => handleNewBorrowerChange('email', e.target.value), className: "form-input", placeholder: "adresse@email.com" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "T\u00E9l\u00E9phone (optionnel)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "tel", value: newBorrowerData.phone, onChange: (e) => handleNewBorrowerChange('phone', e.target.value), className: "form-input", placeholder: "+237 6XX XXX XXX" })] })] })] }));
                }
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-selection-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 18 }), "Rechercher un emprunteur"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: searchTerm, onChange: (e) => setSearchTerm(e.target.value), className: "form-input", placeholder: "Rechercher par nom, matricule, email...", autoFocus: true })] }), onAddBorrower && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "create-borrower-action", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { type: "button", className: "create-borrower-btn", onClick: () => setShowCreateBorrower(true), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 16 }), "Cr\u00E9er un nouvel emprunteur"] }) }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrowers-list", children: [filteredBorrowers.slice(0, 6).map((borrower) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `borrower-item ${selectedBorrowerId === borrower.id ? 'selected' : ''}`, onClick: () => setSelectedBorrowerId(borrower.id), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "borrower-avatar", children: getBorrowerTypeIcon(borrower.type) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-name", children: [borrower.firstName, " ", borrower.lastName] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "borrower-type", children: getBorrowerTypeLabel(borrower.type) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "borrower-matricule", children: borrower.matricule }), (borrower.classe || borrower.position) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "borrower-class", children: borrower.classe || borrower.position }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "selection-indicator", children: selectedBorrowerId === borrower.id && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 20 })) })] }, borrower.id))), filteredBorrowers.length === 0 && searchTerm && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "no-borrowers", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 32 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Aucun emprunteur trouv\u00E9" }), onAddBorrower && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { type: "button", className: "create-from-search-btn", onClick: () => {
                                                setShowCreateBorrower(true);
                                                // Pre-fill with search term if it looks like a name
                                                const names = searchTerm.split(' ');
                                                if (names.length >= 2) {
                                                    setNewBorrowerData(prev => ({
                                                        ...prev,
                                                        firstName: names[0],
                                                        lastName: names.slice(1).join(' ')
                                                    }));
                                                }
                                            }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 16 }), "Cr\u00E9er \"", searchTerm, "\""] }))] })), filteredBorrowers.length === 0 && !searchTerm && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "no-borrowers", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 32 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Aucun emprunteur enregistr\u00E9" }), onAddBorrower && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { type: "button", className: "create-from-search-btn", onClick: () => setShowCreateBorrower(true), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 16 }), "Cr\u00E9er le premier emprunteur"] }))] }))] }), errors.borrower && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: errors.borrower })] }));
            case 3:
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 18 }), "Date de retour pr\u00E9vue *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "date", value: returnDate, onChange: (e) => setReturnDate(e.target.value), className: `form-input ${errors.returnDate ? 'error' : ''}`, min: new Date().toISOString().split('T')[0] }), errors.returnDate && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: errors.returnDate }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "form-help", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 14 }), "Dur\u00E9e d'emprunt recommand\u00E9e: 14 jours"] })] }), selectedBorrowerId && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "selected-borrower-preview", children: (() => {
                                const borrower = borrowers.find(b => b.id === selectedBorrowerId);
                                return borrower ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-preview-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "borrower-avatar", children: getBorrowerTypeIcon(borrower.type) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-name", children: [borrower.firstName, " ", borrower.lastName] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "borrower-type", children: getBorrowerTypeLabel(borrower.type) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "borrower-matricule", children: borrower.matricule })] })] })] })) : null;
                            })() }))] }));
            default:
                return null;
        }
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { className: "modal-title", children: document.estEmprunte ? 'Retourner le document' : 'Nouvel emprunt' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "modal-subtitle", children: document.estEmprunte
                                                    ? 'Finalisez le retour de ce document'
                                                    : 'Prêtez ce document à un membre de votre institution' })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: onCancel, className: "close-btn", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 20 }) })] }), !document.estEmprunte && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "progress-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-steps", children: [1, 2, 3].map((step) => {
                                    const StepIcon = getStepIcon(step);
                                    const isActive = step === currentStep;
                                    const isCompleted = step < currentStep;
                                    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `progress-step ${isActive ? 'active' : ''} ${isCompleted ? 'completed' : ''}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "step-indicator", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StepIcon, { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "step-title", children: getStepTitle(step) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "step-description", children: getStepDescription(step) })] })] }, step));
                                }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-bar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-fill", style: { width: `${(currentStep / 3) * 100}%` } }) })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-content", children: [errors.submit && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "alert alert-error", children: errors.submit })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "step-container", children: renderStepContent() })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "actions-left", children: (currentStep > 1 || showCreateBorrower) && !document.estEmprunte && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: handlePrev, className: "btn btn-secondary", children: showCreateBorrower ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 16 }), "Retour \u00E0 la liste"] })) : ('Précédent') })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "actions-right", children: document.estEmprunte ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: handleReturn, disabled: isLoading, className: "btn btn-success", children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "spinner" }), "Traitement..."] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 16 }), "Confirmer le retour"] })) })) : showCreateBorrower ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: handleCreateBorrower, disabled: isLoading, className: "btn btn-success", children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "spinner" }), "Cr\u00E9ation..."] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 16 }), "Cr\u00E9er et s\u00E9lectionner"] })) })) : currentStep < 3 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { onClick: handleNext, className: "btn btn-primary", children: ["Suivant", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 16 })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: handleBorrow, disabled: isLoading || !selectedBorrowerId || !returnDate, className: "btn btn-success", children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "spinner" }), "Enregistrement..."] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 16 }), "Confirmer l'emprunt"] })) })) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .modal-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.75);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 50;
          padding: 20px;
        }

        .modal-container {
          background: white;
          border-radius: 20px;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
          width: 100%;
          max-width: 700px;
          max-height: 90vh;
          display: flex;
          flex-direction: column;
          overflow: hidden;
        }

        .modal-header {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          padding: 24px 32px;
          display: flex;
          align-items: center;
          justify-content: space-between;
        }

        .header-content {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .header-icon {
          width: 48px;
          height: 48px;
          background: rgba(243, 238, 217, 0.1);
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          backdrop-filter: blur(10px);
        }

        .header-text {
          flex: 1;
        }

        .modal-title {
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 4px 0;
          line-height: 1.2;
        }

        .modal-subtitle {
          font-size: 14px;
          opacity: 0.8;
          margin: 0;
        }

        .close-btn {
          width: 40px;
          height: 40px;
          border: none;
          background: rgba(243, 238, 217, 0.1);
          color: #F3EED9;
          border-radius: 10px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          z-index: 10;
        }

        .close-btn:hover {
          background: rgba(243, 238, 217, 0.2);
          transform: scale(1.05);
        }

        .progress-container {
          padding: 24px 32px 0;
          background: #FAF9F6;
          border-bottom: 1px solid rgba(229, 220, 194, 0.4);
        }

        .progress-steps {
          display: flex;
          justify-content: space-between;
          margin-bottom: 16px;
        }

        .progress-step {
          display: flex;
          align-items: center;
          gap: 12px;
          flex: 1;
          opacity: 0.5;
          transition: all 0.3s ease;
        }

        .progress-step.active,
        .progress-step.completed {
          opacity: 1;
        }

        .step-indicator {
          width: 36px;
          height: 36px;
          border-radius: 50%;
          background: rgba(229, 220, 194, 0.3);
          display: flex;
          align-items: center;
          justify-content: center;
          color: #6E6E6E;
          transition: all 0.3s ease;
          flex-shrink: 0;
        }

        .progress-step.active .step-indicator {
          background: #3E5C49;
          color: #F3EED9;
        }

        .progress-step.completed .step-indicator {
          background: #C2571B;
          color: #F3EED9;
        }

        .step-info {
          display: flex;
          flex-direction: column;
          gap: 2px;
          min-width: 0;
        }

        .step-title {
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
          line-height: 1.2;
        }

        .step-description {
          font-size: 12px;
          color: #4A4A4A;
          line-height: 1.2;
        }

        .progress-bar {
          height: 4px;
          background: rgba(229, 220, 194, 0.3);
          border-radius: 2px;
          overflow: hidden;
          margin-bottom: 24px;
        }

        .progress-fill {
          height: 100%;
          background: linear-gradient(90deg, #3E5C49 0%, #C2571B 100%);
          transition: width 0.3s ease;
          border-radius: 2px;
        }

        .modal-content {
          flex: 1;
          overflow-y: auto;
          padding: 32px;
        }

        .alert {
          padding: 16px;
          border-radius: 12px;
          margin-bottom: 24px;
          display: flex;
          align-items: center;
          gap: 12px;
          font-size: 14px;
          font-weight: 500;
        }

        .alert-error {
          background: #fef2f2;
          color: #dc2626;
          border: 1px solid #fecaca;
        }

        .step-container {
          min-height: 300px;
        }

        .step-content {
          display: flex;
          flex-direction: column;
          gap: 24px;
          animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateX(20px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-label {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
        }

        .form-input {
          width: 100%;
          padding: 12px 16px;
          border: 2px solid rgba(229, 220, 194, 0.4);
          border-radius: 10px;
          font-size: 14px;
          background: white;
          color: #2E2E2E;
          transition: all 0.2s ease;
          box-sizing: border-box;
        }

        .form-input:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }

        .form-input.error {
          border-color: #dc2626;
          background: #fef2f2;
        }

        .form-help {
          font-size: 12px;
          color: #4A4A4A;
          margin: 0;
          line-height: 1.4;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .error-message {
          color: #dc2626;
          font-size: 12px;
          font-weight: 500;
          margin: 0;
          padding: 4px 8px;
          background: #fef2f2;
          border-radius: 6px;
          border-left: 3px solid #dc2626;
        }

        .document-preview {
          display: flex;
          align-items: center;
          gap: 20px;
          padding: 24px;
          background: rgba(194, 87, 27, 0.05);
          border-radius: 16px;
          border: 1px solid rgba(194, 87, 27, 0.1);
        }

        .document-icon {
          width: 64px;
          height: 64px;
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          box-shadow: 0 8px 32px rgba(194, 87, 27, 0.3);
        }

        .document-details {
          flex: 1;
        }

        .document-title {
          font-size: 20px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 8px 0;
          line-height: 1.3;
        }

        .document-author {
          font-size: 16px;
          color: #4A4A4A;
          margin: 0 0 12px 0;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .document-meta {
          display: flex;
          flex-wrap: wrap;
          gap: 12px;
        }

        .meta-item {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 12px;
          color: #4A4A4A;
          background: rgba(62, 92, 73, 0.1);
          padding: 4px 10px;
          border-radius: 16px;
        }

        .borrowers-list {
          max-height: 300px;
          overflow-y: auto;
          display: flex;
          flex-direction: column;
          gap: 8px;
          margin-top: 16px;
        }

        .borrower-item {
          display: flex;
          align-items: center;
          gap: 16px;
          padding: 16px 20px;
          background: #FFFFFF;
          border: 2px solid transparent;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .borrower-item:hover {
          border-color: rgba(62, 92, 73, 0.2);
          transform: translateY(-2px);
          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .borrower-item.selected {
          border-color: #3E5C49;
          background: linear-gradient(135deg, rgba(62, 92, 73, 0.05) 0%, rgba(62, 92, 73, 0.1) 100%);
          transform: translateY(-2px);
          box-shadow: 0 8px 25px rgba(62, 92, 73, 0.2);
        }

        .borrower-avatar {
          width: 48px;
          height: 48px;
          background: linear-gradient(135deg, #E5DCC2 0%, #F3EED9 100%);
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #4A4A4A;
          flex-shrink: 0;
        }

        .borrower-item.selected .borrower-avatar {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
        }

        .borrower-info {
          flex: 1;
          min-width: 0;
        }

        .borrower-name {
          font-size: 16px;
          font-weight: 600;
          color: #2E2E2E;
          margin-bottom: 4px;
        }

        .borrower-details {
          display: flex;
          flex-wrap: wrap;
          gap: 8px;
          font-size: 12px;
        }

        .borrower-type,
        .borrower-matricule,
        .borrower-class {
          color: #4A4A4A;
          background: rgba(110, 110, 110, 0.1);
          padding: 2px 8px;
          border-radius: 6px;
          font-size: 12px;
        }

        .selection-indicator {
          color: #3E5C49;
          opacity: 0;
          transition: opacity 0.3s ease;
        }

        .borrower-item.selected .selection-indicator {
          opacity: 1;
        }

        .no-borrowers {
          text-align: center;
          padding: 40px 20px;
          color: #4A4A4A;
        }

        .no-borrowers svg {
          margin: 0 auto 16px;
          opacity: 0.5;
        }

        .selected-borrower-preview {
          margin-top: 16px;
        }

        .borrower-preview-card {
          display: flex;
          align-items: center;
          gap: 16px;
          padding: 16px;
          background: rgba(62, 92, 73, 0.05);
          border-radius: 12px;
          border: 1px solid rgba(62, 92, 73, 0.1);
        }

        .return-info {
          background: rgba(62, 92, 73, 0.05);
          border-radius: 12px;
          padding: 20px;
        }

        .return-message {
          font-size: 16px;
          color: #2E2E2E;
          margin: 0 0 16px 0;
          line-height: 1.5;
        }

        .return-date-info {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          color: #3E5C49;
          font-weight: 600;
        }

        .modal-actions {
          padding: 24px 32px;
          background: #FAF9F6;
          border-top: 1px solid rgba(229, 220, 194, 0.4);
          display: flex;
          align-items: center;
          justify-content: space-between;
        }

        .actions-left,
        .actions-right {
          display: flex;
          gap: 12px;
        }

        .btn {
          padding: 12px 20px;
          border: none;
          border-radius: 10px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          gap: 8px;
          min-width: 120px;
          justify-content: center;
        }

        .btn-secondary {
          background: #F3EED9;
          color: #2E2E2E;
          border: 1px solid rgba(229, 220, 194, 0.4);
        }

        .btn-secondary:hover {
          background: #E5DCC2;
          transform: translateY(-1px);
        }

        .btn-primary {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
        }

        .btn-primary:hover {
          background: linear-gradient(135deg, #2E453A 0%, #1F2F25 100%);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.3);
        }

        .btn-success {
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          color: #F3EED9;
        }

        .btn-success:hover:not(:disabled) {
          background: linear-gradient(135deg, #A8481A 0%, #8A3C18 100%);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(194, 87, 27, 0.3);
        }

        .btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }

        .spinner {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(243, 238, 217, 0.3);
          border-top: 2px solid #F3EED9;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          to {
            transform: rotate(360deg);
          }
        }

        /* Scrollbar personnalisé */
        .borrowers-list::-webkit-scrollbar {
          width: 8px;
        }

        .borrowers-list::-webkit-scrollbar-track {
          background: rgba(229, 220, 194, 0.2);
          border-radius: 4px;
        }

        .borrowers-list::-webkit-scrollbar-thumb {
          background: rgba(62, 92, 73, 0.3);
          border-radius: 4px;
        }

        .borrowers-list::-webkit-scrollbar-thumb:hover {
          background: rgba(62, 92, 73, 0.5);
        }

        @media (max-width: 768px) {
          .modal-overlay {
            padding: 16px;
          }

          .modal-container {
            max-height: 95vh;
          }

          .modal-header {
            padding: 20px 24px;
          }

          .header-content {
            gap: 12px;
          }

          .header-icon {
            width: 40px;
            height: 40px;
          }

          .modal-title {
            font-size: 20px;
          }

          .progress-container {
            padding: 20px 24px 0;
          }

          .progress-steps {
            flex-direction: column;
            gap: 16px;
            margin-bottom: 20px;
          }

          .progress-step {
            flex-direction: row;
            gap: 12px;
          }

          .step-info {
            flex: 1;
          }

          .modal-content {
            padding: 24px;
          }

          .document-preview {
            flex-direction: column;
            text-align: center;
            gap: 16px;
          }

          .document-meta {
            justify-content: center;
          }

          .modal-actions {
            flex-direction: column;
            gap: 12px;
          }

          .borrowers-list {
            max-height: 200px;
          }

          .borrower-item {
            padding: 12px 16px;
          }

          .borrower-details {
            flex-direction: column;
            gap: 4px;
          }
        }

        /* New Borrower Creation Styles */
        .form-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
        }

        .borrower-type-selector {
          display: flex;
          gap: 12px;
          margin-top: 8px;
        }

        .type-btn {
          flex: 1;
          padding: 12px 16px;
          border: 2px solid rgba(229, 220, 194, 0.4);
          border-radius: 10px;
          background: white;
          color: #2E2E2E;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
        }

        .type-btn:hover {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.05);
        }

        .type-btn.active {
          border-color: #3E5C49;
          background: linear-gradient(135deg, rgba(62, 92, 73, 0.1) 0%, rgba(62, 92, 73, 0.05) 100%);
          color: #3E5C49;
          font-weight: 600;
        }

        .borrower-selection-header {
          margin-bottom: 20px;
        }

        .create-borrower-action {
          margin-top: 16px;
        }

        .create-borrower-btn {
          width: 100%;
          padding: 12px 16px;
          border: 2px dashed rgba(194, 87, 27, 0.3);
          border-radius: 10px;
          background: rgba(194, 87, 27, 0.05);
          color: #C2571B;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
        }

        .create-borrower-btn:hover {
          border-color: #C2571B;
          background: rgba(194, 87, 27, 0.1);
          transform: translateY(-1px);
        }

        .create-from-search-btn {
          margin-top: 16px;
          padding: 10px 16px;
          border: 2px solid #3E5C49;
          border-radius: 8px;
          background: #3E5C49;
          color: #F3EED9;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
        }

        .create-from-search-btn:hover {
          background: #2E453A;
          transform: translateY(-1px);
        }

        .create-borrower-header {
          margin-bottom: 24px;
          padding-bottom: 20px;
          border-bottom: 1px solid rgba(229, 220, 194, 0.3);
        }

        @media (max-width: 768px) {
          .form-row {
            grid-template-columns: 1fr;
            gap: 16px;
          }

          .borrower-type-selector {
            flex-direction: column;
            gap: 8px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/BorrowHistory.tsx":
/*!***************************************************!*\
  !*** ./src/renderer/components/BorrowHistory.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BorrowHistory: () => (/* binding */ BorrowHistory)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-triangle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/history.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/bar-chart-3.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/search.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/download.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/printer.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/calendar.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/filter.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/graduation-cap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/briefcase.mjs");
/* harmony import */ var _ExportDialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ExportDialog */ "./src/renderer/components/ExportDialog.tsx");




const BorrowHistory = ({ onClose, supabaseService }) => {
    const [history, setHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [filteredHistory, setFilteredHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [filters, setFilters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        startDate: '',
        endDate: '',
        borrowerType: 'all',
        status: 'all'
    });
    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [showExportDialog, setShowExportDialog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        loadHistory();
    }, []);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        applyFilters();
    }, [history, filters, searchQuery]);
    const loadHistory = async () => {
        setIsLoading(true);
        try {
            // Obtenir le code d'institution courant pour l'isolation
            const institutionCode = supabaseService.getCurrentInstitution()?.code;
            console.log('🔍 DEBUG BorrowHistory - Loading with institutionCode:', institutionCode);
            const data = await window.electronAPI.getBorrowHistory(undefined, institutionCode);
            console.log('🔍 DEBUG BorrowHistory - Loaded', data.length, 'records');
            setHistory(data);
        }
        catch (error) {
            console.error('Erreur lors du chargement de l\'historique:', error);
        }
        finally {
            setIsLoading(false);
        }
    };
    const applyFilters = () => {
        let filtered = [...history];
        // Appliquer les filtres de date
        if (filters.startDate) {
            filtered = filtered.filter(item => new Date(item.borrowDate) >= new Date(filters.startDate));
        }
        if (filters.endDate) {
            filtered = filtered.filter(item => new Date(item.borrowDate) <= new Date(filters.endDate + ' 23:59:59'));
        }
        // Filtre par type d'emprunteur
        if (filters.borrowerType !== 'all') {
            filtered = filtered.filter(item => item.borrower?.type === filters.borrowerType);
        }
        // Filtre par statut
        if (filters.status !== 'all') {
            filtered = filtered.filter(item => item.status === filters.status);
        }
        // Recherche textuelle
        if (searchQuery.trim()) {
            const query = searchQuery.toLowerCase();
            filtered = filtered.filter(item => item.document?.titre.toLowerCase().includes(query) ||
                item.document?.auteur.toLowerCase().includes(query) ||
                `${item.borrower?.firstName} ${item.borrower?.lastName}`.toLowerCase().includes(query) ||
                item.borrower?.matricule.toLowerCase().includes(query));
        }
        setFilteredHistory(filtered);
    };
    const handleFilterChange = (key, value) => {
        setFilters(prev => ({ ...prev, [key]: value }));
    };
    const resetFilters = () => {
        setFilters({
            startDate: '',
            endDate: '',
            borrowerType: 'all',
            status: 'all'
        });
        setSearchQuery('');
    };
    const handlePrint = async () => {
        try {
            const printData = {
                history: filteredHistory,
                filters,
                stats: getFilteredStats()
            };
            await window.electronAPI.printBorrowHistory(printData);
        }
        catch (error) {
            console.error('Erreur lors de l\'impression:', error);
        }
    };
    const handleExport = async (config) => {
        try {
            // Obtenir le code d'institution courant pour l'export
            const institutionCode = supabaseService.getCurrentInstitution()?.code;
            console.log('🔍 DEBUG BorrowHistory EXPORT - Using institutionCode:', institutionCode);
            const result = await window.electronAPI.exportAdvanced(config, institutionCode);
            if (result.success && result.path) {
                const fileName = result.path.split(/[/\\]/).pop();
                alert(`Fichier exporté avec succès : ${fileName}`);
            }
            else if (result.cancelled) {
                return;
            }
            else {
                alert(`Erreur lors de l'export : ${result.error || 'Erreur inconnue'}`);
            }
        }
        catch (error) {
            console.error('Erreur lors de l\'export:', error);
            alert('Erreur lors de l\'export des données');
        }
    };
    const getFilteredStats = () => {
        const total = filteredHistory.length;
        const active = filteredHistory.filter(h => h.status === 'active').length;
        const returned = filteredHistory.filter(h => h.status === 'returned').length;
        const overdue = filteredHistory.filter(h => h.status === 'overdue').length;
        const students = filteredHistory.filter(h => h.borrower?.type === 'student').length;
        const staff = filteredHistory.filter(h => h.borrower?.type === 'staff').length;
        return { total, active, returned, overdue, students, staff };
    };
    const getStatusIcon = (status) => {
        switch (status) {
            case 'active':
                return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 16, className: "text-blue-500" });
            case 'returned':
                return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 16, className: "text-green-500" });
            case 'overdue':
                return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 16, className: "text-red-500" });
            default:
                return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 16 });
        }
    };
    const getStatusLabel = (status) => {
        switch (status) {
            case 'active':
                return 'En cours';
            case 'returned':
                return 'Rendu';
            case 'overdue':
                return 'En retard';
            default:
                return status;
        }
    };
    const stats = getFilteredStats();
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "history-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "history-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-left", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 28 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "modal-title", children: "Historique des Emprunts" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-stats", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "stat-pill", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 14 }), stats.total, " emprunts"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "stat-pill active", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 14 }), stats.active, " actifs"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "stat-pill returned", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 14 }), stats.returned, " rendus"] }), stats.overdue > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "stat-pill overdue", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 14 }), stats.overdue, " en retard"] }))] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: onClose, title: "Fermer", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "controls-bar", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "search-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "search-input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { className: "search-icon", size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", placeholder: "Rechercher par document, auteur, emprunteur ou matricule...", value: searchQuery, onChange: (e) => setSearchQuery(e.target.value), className: "search-input" }), searchQuery && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "clear-search", onClick: () => setSearchQuery(''), title: "Effacer la recherche", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) }))] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "quick-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "action-btn secondary", onClick: () => setShowExportDialog(true), title: "Exporter les donn\u00E9es", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "action-text", children: "Exporter" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "action-btn primary", onClick: handlePrint, title: "Imprimer l'historique", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "action-text", children: "Imprimer" })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filters-bar", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filters-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 16, className: "filter-icon" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "date", value: filters.startDate, onChange: (e) => handleFilterChange('startDate', e.target.value), className: "filter-input date", title: "Date de d\u00E9but" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "filter-separator", children: "\u2192" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "date", value: filters.endDate, onChange: (e) => handleFilterChange('endDate', e.target.value), className: "filter-input date", title: "Date de fin" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16, className: "filter-icon" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: filters.borrowerType, onChange: (e) => handleFilterChange('borrowerType', e.target.value), className: "filter-input select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tous" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "student", children: "\u00C9tudiants" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "staff", children: "Personnel" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16, className: "filter-icon" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: filters.status, onChange: (e) => handleFilterChange('status', e.target.value), className: "filter-input select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tous statuts" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "active", children: "En cours" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "returned", children: "Rendus" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "overdue", children: "En retard" })] })] }), (Object.values(filters).some(f => f && f !== 'all') || searchQuery) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "reset-filters-btn", onClick: resetFilters, title: "R\u00E9initialiser tous les filtres", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }), "R\u00E9initialiser"] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "results-counter", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "results-text", children: [filteredHistory.length, " r\u00E9sultat", filteredHistory.length > 1 ? 's' : '', history.length !== filteredHistory.length && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "total-count", children: [" sur ", history.length] }))] }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "history-content", children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "loading-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "loading-spinner" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Chargement de l'historique..." })] })) : filteredHistory.length > 0 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "history-list", children: filteredHistory.map((item) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `history-item ${item.status}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "item-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "status-badge", children: [getStatusIcon(item.status), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "status-text", children: getStatusLabel(item.status) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "item-dates", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "date-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "date-label", children: "Emprunt\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "date-value", children: new Date(item.borrowDate).toLocaleDateString('fr-FR') })] }), item.actualReturnDate && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "date-info returned", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "date-label", children: "Rendu" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "date-value", children: new Date(item.actualReturnDate).toLocaleDateString('fr-FR') })] }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "item-body", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "document-cover", children: item.document?.couverture ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img", { src: item.document?.couverture, alt: item.document?.titre })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 24 })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "document-title", children: item.document?.titre }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "document-author", children: ["par ", item.document?.auteur] }), item.document?.descripteurs && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "document-category", children: item.document?.descripteurs }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "borrower-header", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-type-badge", children: [item.borrower?.type === 'student' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 16 })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 16 })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: item.borrower?.type === 'student' ? 'Étudiant' : 'Personnel' })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h4", { className: "borrower-name", children: [item.borrower?.firstName, " ", item.borrower?.lastName] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-meta", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "borrower-id", children: item.borrower?.matricule }), item.borrower?.type === 'student' && item.borrower.classe && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "borrower-extra", children: item.borrower.classe })), item.borrower?.type === 'staff' && item.borrower.position && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "borrower-extra", children: item.borrower.position }))] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "timeline-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "timeline-compact", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "timeline-point start", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "point-dot" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "point-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "point-date", children: new Date(item.borrowDate).toLocaleDateString('fr-FR', {
                                                                                day: 'numeric',
                                                                                month: 'short'
                                                                            }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "point-label", children: "D\u00E9but" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "timeline-line" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "timeline-point expected", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "point-dot" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "point-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "point-date", children: new Date(item.expectedReturnDate).toLocaleDateString('fr-FR', {
                                                                                day: 'numeric',
                                                                                month: 'short'
                                                                            }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "point-label", children: "Pr\u00E9vu" })] })] }), item.actualReturnDate && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "timeline-line" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "timeline-point end", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "point-dot" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "point-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "point-date", children: new Date(item.actualReturnDate).toLocaleDateString('fr-FR', {
                                                                                        day: 'numeric',
                                                                                        month: 'short'
                                                                                    }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "point-label", children: "Rendu" })] })] })] }))] }) })] }), item.notes && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "item-notes", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "notes-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Notes :" }), " ", item.notes] }) }))] }, item.id))) })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "empty-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "empty-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 64 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "empty-title", children: Object.values(filters).some(f => f && f !== 'all') || searchQuery
                                        ? 'Aucun résultat trouvé'
                                        : 'Aucun historique' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "empty-description", children: Object.values(filters).some(f => f && f !== 'all') || searchQuery
                                        ? 'Essayez de modifier vos critères de recherche ou filtres'
                                        : 'L\'historique des emprunts apparaîtra ici au fur et à mesure' }), (Object.values(filters).some(f => f && f !== 'all') || searchQuery) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "action-btn primary", onClick: resetFilters, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }), "Effacer les filtres"] }))] })) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .history-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(15, 23, 42, 0.6);
          backdrop-filter: blur(12px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 40px 20px;
          animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        .history-modal {
          background: #FFFFFF;
          border-radius: 24px;
          width: 100%;
          max-width: 1400px;
          max-height: 90vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          box-shadow: 
            0 25px 50px rgba(0, 0, 0, 0.25),
            0 0 0 1px rgba(255, 255, 255, 0.1);
          animation: slideUp 0.4s ease-out;
        }

        @keyframes slideUp {
          from { 
            opacity: 0;
            transform: translateY(30px) scale(0.95);
          }
          to { 
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
        
        /* HEADER AMÉLIORÉ */
        .modal-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 28px 40px;
          background: linear-gradient(135deg, #2E453A 0%, #1f2e26 100%);
          color: #f8fafc;
          border-bottom: 1px solid rgba(46, 69, 58, 0.3);
          flex-shrink: 0;
          min-height: auto;
        }
        
        .header-left {
          display: flex;
          align-items: center;
          gap: 24px;
          flex: 1;
        }
        
        .header-icon {
          width: 56px;
          height: 56px;
          background: rgba(248, 250, 252, 0.15);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          backdrop-filter: blur(10px);
          flex-shrink: 0;
        }
        
        .header-text {
          flex: 1;
        }
        
        .modal-title {
          font-size: 24px;
          font-weight: 800;
          margin: 0 0 10px 0;
          letter-spacing: -0.025em;
          line-height: 1.2;
        }
        
        .header-stats {
          display: flex;
          align-items: center;
          gap: 12px;
          flex-wrap: wrap;
        }
        
        .stat-pill {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 6px 12px;
          background: rgba(248, 250, 252, 0.1);
          border: 1px solid rgba(248, 250, 252, 0.15);
          border-radius: 20px;
          font-size: 13px;
          font-weight: 500;
          backdrop-filter: blur(10px);
        }
        
        .stat-pill.active { 
          background: rgba(194, 87, 27, 0.2);
          border-color: rgba(194, 87, 27, 0.3);
          color: #f97316;
        }
        .stat-pill.returned { 
          background: rgba(46, 69, 58, 0.2);
          border-color: rgba(46, 69, 58, 0.3);
          color: #4ade80;
        }
        .stat-pill.overdue { 
          background: rgba(220, 38, 38, 0.2);
          border-color: rgba(220, 38, 38, 0.3);
          color: #fca5a5;
        }
        
        .close-button {
          background: rgba(248, 250, 252, 0.1);
          border: 1px solid rgba(248, 250, 252, 0.15);
          color: #f8fafc;
          padding: 12px;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.2s ease;
          backdrop-filter: blur(10px);
        }
        
        .close-button:hover {
          background: rgba(248, 250, 252, 0.2);
          transform: scale(1.05);
        }

        /* BARRE DE CONTRÔLES */
        .controls-bar {
          display: flex;
          align-items: center;
          gap: 24px;
          padding: 20px 40px;
          background: #fafafa;
          border-bottom: 1px solid #e5e7eb;
          flex-shrink: 0;
        }

        .search-section {
          flex: 1;
          max-width: 500px;
        }

        .search-input-wrapper {
          position: relative;
          display: flex;
          align-items: center;
        }

        .search-icon {
          position: absolute;
          left: 16px;
          color: #6b7280;
          z-index: 2;
        }

        .search-input {
          width: 100%;
          height: 48px;
          padding: 0 48px 0 48px;
          border: 2px solid #e5e7eb;
          border-radius: 12px;
          font-size: 16px;
          background: #ffffff;
          color: #1f2937;
          transition: all 0.2s ease;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .search-input:focus {
          outline: none;
          border-color: #2E453A;
          box-shadow: 0 0 0 3px rgba(46, 69, 58, 0.1), 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .clear-search {
          position: absolute;
          right: 16px;
          background: none;
          border: none;
          cursor: pointer;
          color: #6b7280;
          padding: 4px;
          border-radius: 4px;
          transition: all 0.2s ease;
        }

        .clear-search:hover {
          color: #1f2937;
          background: #f3f4f6;
        }

        .quick-actions {
          display: flex;
          gap: 12px;
        }

        .action-btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 20px;
          border-radius: 12px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
          border: none;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .action-btn.secondary {
          background: #ffffff;
          color: #374151;
          border: 2px solid #e5e7eb;
        }

        .action-btn.secondary:hover {
          background: #f9fafb;
          border-color: #d1d5db;
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .action-btn.primary {
          background: linear-gradient(135deg, #2E453A 0%, #1f2e26 100%);
          color: #ffffff;
          border: 2px solid transparent;
        }

        .action-btn.primary:hover {
          background: linear-gradient(135deg, #1f2e26 0%, #0f1712 100%);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(46, 69, 58, 0.4);
        }

        .action-text {
          display: inline;
        }

        /* BARRE DE FILTRES */
        .filters-bar {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 14px 40px;
          background: #ffffff;
          border-bottom: 1px solid #e5e7eb;
          gap: 24px;
          flex-shrink: 0;
        }

        .filters-group {
          display: flex;
          align-items: center;
          gap: 16px;
          flex-wrap: wrap;
        }

        .filter-item {
          display: flex;
          align-items: center;
          gap: 8px;
          background: #f8fafc;
          padding: 8px 12px;
          border-radius: 8px;
          border: 1px solid #e2e8f0;
        }

        .filter-icon {
          color: #64748b;
          flex-shrink: 0;
        }

        .filter-input {
          border: none;
          background: transparent;
          color: #1e293b;
          font-size: 14px;
          min-width: 0;
        }

        .filter-input:focus {
          outline: none;
        }

        .filter-input.date {
          width: 130px;
        }

        .filter-input.select {
          cursor: pointer;
          min-width: 120px;
        }

        .filter-separator {
          margin: 0 4px;
          color: #64748b;
          font-size: 14px;
        }

        .reset-filters-btn {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 8px 12px;
          background: #fef3f2;
          border: 1px solid #fecaca;
          border-radius: 8px;
          color: #dc2626;
          font-size: 12px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .reset-filters-btn:hover {
          background: #fee2e2;
          color: #b91c1c;
        }

        .results-counter {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .results-text {
          font-size: 14px;
          color: #64748b;
          font-weight: 500;
        }

        .total-count {
          color: #94a3b8;
        }

        /* CONTENU PRINCIPAL */
        .history-content {
          flex: 1;
          overflow-y: auto;
          padding: 24px 40px;
          background: #fafafa;
        }

        .loading-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 80px 32px;
          text-align: center;
          color: #64748b;
        }

        .loading-spinner {
          width: 40px;
          height: 40px;
          border: 3px solid #e2e8f0;
          border-top: 3px solid #2E453A;
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin-bottom: 16px;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        .history-list {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        /* CARTES D'HISTORIQUE AMÉLIORÉES */
        .history-item {
          background: #ffffff;
          border: 1px solid #e5e7eb;
          border-radius: 16px;
          overflow: hidden;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          position: relative;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .history-item::before {
          content: '';
          position: absolute;
          left: 0;
          top: 0;
          bottom: 0;
          width: 4px;
          background: #64748b;
          transition: all 0.3s ease;
        }

        .history-item.active::before { background: #C2571B; }
        .history-item.returned::before { background: #2E453A; }
        .history-item.overdue::before { background: #dc2626; }

        .history-item:hover {
          transform: translateY(-2px);
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
          border-color: #d1d5db;
        }

        .item-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 20px 24px 16px 24px;
          background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
          border-bottom: 1px solid #e2e8f0;
        }

        .status-badge {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 6px 12px;
          background: rgba(255, 255, 255, 0.8);
          border: 1px solid #e2e8f0;
          border-radius: 20px;
          backdrop-filter: blur(10px);
        }

        .status-text {
          font-size: 12px;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .item-dates {
          display: flex;
          gap: 16px;
          align-items: center;
        }

        .date-info {
          text-align: right;
        }

        .date-label {
          display: block;
          font-size: 11px;
          color: #64748b;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          margin-bottom: 2px;
        }

        .date-value {
          display: block;
          font-size: 13px;
          font-weight: 600;
          color: #1e293b;
        }

        .date-info.returned .date-value {
          color: #2E453A;
        }

        .item-body {
          padding: 24px;
          display: grid;
          grid-template-columns: 2fr 1.5fr 1fr;
          gap: 32px;
          align-items: start;
        }

        /* SECTION DOCUMENT */
        .document-section {
          display: flex;
          align-items: flex-start;
          gap: 16px;
        }

        .document-cover {
          width: 56px;
          height: 72px;
          background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #64748b;
          flex-shrink: 0;
          overflow: hidden;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .document-cover img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .document-info {
          flex: 1;
          min-width: 0;
        }

        .document-title {
          font-size: 18px;
          font-weight: 700;
          color: #1e293b;
          margin: 0 0 6px 0;
          line-height: 1.4;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }

        .document-author {
          font-size: 14px;
          color: #64748b;
          margin: 0 0 12px 0;
          font-style: italic;
        }

        .document-category {
          display: inline-block;
          background: linear-gradient(135deg, #2E453A 0%, #1f2e26 100%);
          color: #f8fafc;
          padding: 4px 10px;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        /* SECTION EMPRUNTEUR */
        .borrower-section {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .borrower-header {
          display: flex;
          align-items: center;
          justify-content: flex-start;
        }

        .borrower-type-badge {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 6px 12px;
          background: #f8fafc;
          border: 1px solid #e2e8f0;
          border-radius: 16px;
          font-size: 11px;
          font-weight: 600;
          color: #475569;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .borrower-details {
          flex: 1;
        }

        .borrower-name {
          font-size: 16px;
          font-weight: 700;
          color: #1e293b;
          margin: 0 0 8px 0;
          line-height: 1.3;
        }

        .borrower-meta {
          display: flex;
          flex-direction: column;
          gap: 4px;
        }

        .borrower-id {
          font-size: 13px;
          color: #C2571B;
          font-weight: 600;
          font-family: 'Monaco', 'Menlo', monospace;
        }

        .borrower-extra {
          font-size: 13px;
          color: #64748b;
        }

        /* TIMELINE COMPACTE */
        .timeline-section {
          display: flex;
          justify-content: center;
        }

        .timeline-compact {
          display: flex;
          align-items: center;
          gap: 16px;
          padding: 16px;
          background: #f8fafc;
          border: 1px solid #e2e8f0;
          border-radius: 12px;
          max-width: fit-content;
        }

        .timeline-point {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
          position: relative;
        }

        .point-dot {
          width: 12px;
          height: 12px;
          border-radius: 50%;
          background: #64748b;
          position: relative;
          z-index: 2;
        }

        .timeline-point.start .point-dot { background: #C2571B; }
        .timeline-point.expected .point-dot { background: #f59e0b; }
        .timeline-point.end .point-dot { background: #2E453A; }

        .point-info {
          text-align: center;
        }

        .point-date {
          display: block;
          font-size: 12px;
          font-weight: 600;
          color: #1e293b;
          margin-bottom: 2px;
        }

        .point-label {
          display: block;
          font-size: 10px;
          color: #64748b;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .timeline-line {
          height: 2px;
          width: 24px;
          background: #e2e8f0;
          position: relative;
          top: -14px;
        }

        /* NOTES */
        .item-notes {
          padding: 16px 24px;
          background: #fffbeb;
          border-top: 1px solid #fed7aa;
        }

        .notes-content {
          font-size: 13px;
          color: #92400e;
          line-height: 1.5;
        }

        /* ÉTAT VIDE */
        .empty-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 80px 32px;
          text-align: center;
        }

        .empty-icon {
          color: #cbd5e1;
          margin-bottom: 24px;
        }

        .empty-title {
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 12px 0;
          color: #1e293b;
        }

        .empty-description {
          margin: 0 0 32px 0;
          font-size: 16px;
          color: #64748b;
          max-width: 400px;
          line-height: 1.6;
        }

        /* CLASSES UTILITAIRES */
        .text-blue-500 { color: #C2571B; }
        .text-green-500 { color: #2E453A; }
        .text-red-500 { color: #dc2626; }

        /* RESPONSIVE DESIGN */
        @media (max-width: 1200px) {
          .item-body {
            grid-template-columns: 1fr 1fr;
            gap: 24px;
          }
          
          .timeline-section {
            grid-column: 1 / -1;
            justify-content: flex-start;
          }
        }

        @media (max-width: 768px) {
          .history-modal {
            margin: 16px;
            max-height: calc(100vh - 32px);
            border-radius: 20px;
          }

          .history-overlay {
            padding: 16px;
          }

          .modal-header {
            padding: 20px;
            flex-direction: column;
            gap: 16px;
            text-align: center;
          }

          .header-left {
            flex-direction: column;
            gap: 16px;
          }

          .header-stats {
            justify-content: center;
          }

          .controls-bar {
            padding: 16px 20px;
            flex-direction: column;
            gap: 16px;
            align-items: stretch;
          }

          .search-section {
            max-width: none;
          }

          .quick-actions {
            justify-content: center;
          }

          .action-text {
            display: none;
          }

          .filters-bar {
            padding: 14px 20px;
            flex-direction: column;
            gap: 16px;
            align-items: stretch;
          }

          .filters-group {
            flex-direction: column;
            gap: 12px;
          }

          .filter-item {
            justify-content: space-between;
          }

          .history-content {
            padding: 16px 20px;
          }

          .item-body {
            grid-template-columns: 1fr;
            gap: 20px;
          }

          .document-section {
            flex-direction: column;
            align-items: center;
            text-align: center;
          }

          .timeline-compact {
            flex-direction: column;
            gap: 12px;
          }

          .timeline-line {
            width: 2px;
            height: 16px;
            top: 0;
          }

          .item-header {
            flex-direction: column;
            gap: 12px;
            text-align: center;
          }

          .item-dates {
            flex-direction: column;
            gap: 8px;
          }
        }

        @media (max-width: 480px) {
          .modal-header {
            padding: 20px 16px;
          }

          .modal-title {
            font-size: 24px;
          }

          .controls-bar, .filters-bar, .history-content {
            padding-left: 16px;
            padding-right: 16px;
          }

          .item-header, .item-body, .item-notes {
            padding-left: 16px;
            padding-right: 16px;
          }

          .stat-pill {
            font-size: 12px;
            padding: 4px 8px;
          }
        }
      ` }), showExportDialog && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ExportDialog__WEBPACK_IMPORTED_MODULE_2__.ExportDialog, { isOpen: showExportDialog, onClose: () => setShowExportDialog(false), onExport: handleExport, availableData: {
                    documents: false,
                    borrowers: false,
                    borrowHistory: true
                } }))] }));
};


/***/ }),

/***/ "./src/renderer/components/BorrowedDocuments.tsx":
/*!*******************************************************!*\
  !*** ./src/renderer/components/BorrowedDocuments.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BorrowedDocuments: () => (/* binding */ BorrowedDocuments)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-triangle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/search.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/calendar.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/rotate-ccw.mjs");



// Utility functions
const getStatusInfo = (document) => {
    const expectedDate = new Date(document.dateRetourPrevu);
    const today = new Date();
    const diffDays = Math.floor((expectedDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24));
    if (diffDays < 0) {
        return {
            status: 'overdue',
            label: `En retard de ${Math.abs(diffDays)} jour(s)`,
            className: 'status-overdue',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"]
        };
    }
    else if (diffDays <= 3) {
        return {
            status: 'warning',
            label: diffDays === 0 ? 'À rendre aujourd\'hui' : `${diffDays} jour(s) restant(s)`,
            className: 'status-warning',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"]
        };
    }
    else {
        return {
            status: 'normal',
            label: `${diffDays} jour(s) restant(s)`,
            className: 'status-normal',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"]
        };
    }
};
const getStatusPriority = (doc) => {
    const expectedDate = new Date(doc.dateRetourPrevu);
    const today = new Date();
    const diffDays = Math.floor((expectedDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24));
    if (diffDays < 0)
        return 3; // overdue
    if (diffDays <= 3)
        return 2; // warning
    return 1; // normal
};
// Sub-components
const SearchBar = ({ searchQuery, onSearchChange }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "search-container", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "search-input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { className: "search-icon", size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", placeholder: "Rechercher par document, auteur, emprunteur...", value: searchQuery, onChange: (e) => onSearchChange(e.target.value), className: "search-input" }), searchQuery && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "clear-search", onClick: () => onSearchChange(''), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 18 }) }))] }) }));
const FilterControls = ({ sortBy, filterStatus, onSortChange, onFilterChange }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-controls", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: sortBy, onChange: (e) => onSortChange(e.target.value), className: "filter-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "date", children: "Trier par date d'emprunt" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "title", children: "Trier par titre" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "borrower", children: "Trier par emprunteur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "status", children: "Trier par statut" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: filterStatus, onChange: (e) => onFilterChange(e.target.value), className: "filter-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tous les statuts" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "overdue", children: "En retard" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "warning", children: "\u00C0 rendre bient\u00F4t" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "normal", children: "Dans les temps" })] })] }));
const DocumentCard = ({ document, onReturn }) => {
    const statusInfo = getStatusInfo(document);
    const StatusIcon = statusInfo.icon;
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `document-card ${statusInfo.className}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "document-title", children: document.titre }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "document-author", children: document.auteur }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "document-details", children: [document.editeur, " \u2022 ", document.annee] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "document-status", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StatusIcon, { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "borrower-info", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-name", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: document.nomEmprunteur })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrow-dates", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "date-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: ["Emprunt\u00E9 le ", new Date(document.dateEmprunt).toLocaleDateString('fr-FR')] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "date-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: ["\u00C0 rendre le ", new Date(document.dateRetourPrevu).toLocaleDateString('fr-FR')] })] })] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "document-status-bar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `status-badge ${statusInfo.className}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StatusIcon, { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: statusInfo.label })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "document-actions", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { onClick: () => onReturn(document), className: "return-button", title: "Marquer comme rendu", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), "Retour"] }) })] }));
};
const EmptyState = ({ hasDocuments, searchQuery, filterStatus, onClearFilters }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "empty-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "empty-icon", children: searchQuery ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 80 })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 80 })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "empty-title", children: !hasDocuments ? 'Aucun document emprunté' : 'Aucun résultat' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "empty-description", children: !hasDocuments
                ? 'Tous les documents sont actuellement disponibles dans la bibliothèque.'
                : searchQuery
                    ? `Aucun résultat pour "${searchQuery}"`
                    : 'Aucun document ne correspond aux filtres sélectionnés.' }), (searchQuery || filterStatus !== 'all') && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "clear-filters", onClick: onClearFilters, children: "Effacer les filtres" }))] }));
// Main Component
const BorrowedDocuments = ({ documents, onReturn, onClose }) => {
    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [sortBy, setSortBy] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('date');
    const [filterStatus, setFilterStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('all');
    const handleReturn = (document) => {
        if (window.confirm(`Confirmer le retour de "${document.titre}" emprunté par ${document.nomEmprunteur} ?`)) {
            onReturn(document.id);
        }
    };
    const handleClearFilters = () => {
        setSearchQuery('');
        setFilterStatus('all');
    };
    // Mock data for demonstration
    const mockDocuments = documents.length > 0 ? documents : [
        {
            id: 1,
            titre: "Le Petit Prince",
            auteur: "Antoine de Saint-Exupéry",
            editeur: "Gallimard",
            annee: "1943",
            nomEmprunteur: "Marie Dubois",
            dateEmprunt: "2025-07-15",
            dateRetourPrevu: "2025-07-30"
        },
        {
            id: 2,
            titre: "1984",
            auteur: "George Orwell",
            editeur: "Secker & Warburg",
            annee: "1949",
            nomEmprunteur: "Jean Martin",
            dateEmprunt: "2025-07-20",
            dateRetourPrevu: "2025-07-22"
        },
        {
            id: 3,
            titre: "L'Étranger",
            auteur: "Albert Camus",
            editeur: "Gallimard",
            annee: "1942",
            nomEmprunteur: "Sophie Leroy",
            dateEmprunt: "2025-07-10",
            dateRetourPrevu: "2025-07-20"
        }
    ];
    // Processed documents with memoization for performance
    const processedDocuments = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
        return mockDocuments
            .filter(doc => {
            if (!searchQuery)
                return true;
            const query = searchQuery.toLowerCase();
            return (doc.titre.toLowerCase().includes(query) ||
                doc.auteur.toLowerCase().includes(query) ||
                doc.nomEmprunteur?.toLowerCase().includes(query));
        })
            .filter(doc => {
            if (filterStatus === 'all')
                return true;
            const expectedDate = new Date(doc.dateRetourPrevu);
            const today = new Date();
            const diffDays = Math.floor((expectedDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24));
            switch (filterStatus) {
                case 'overdue': return diffDays < 0;
                case 'warning': return diffDays >= 0 && diffDays <= 3;
                case 'normal': return diffDays > 3;
                default: return true;
            }
        })
            .sort((a, b) => {
            switch (sortBy) {
                case 'title': return a.titre.localeCompare(b.titre);
                case 'borrower': return (a.nomEmprunteur || '').localeCompare(b.nomEmprunteur || '');
                case 'date': return new Date(a.dateEmprunt).getTime() - new Date(b.dateEmprunt).getTime();
                case 'status': return getStatusPriority(b) - getStatusPriority(a);
                default: return 0;
            }
        });
    }, [mockDocuments, searchQuery, filterStatus, sortBy]);
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrowed-documents-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "page-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "page-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-main", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 36 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { className: "page-title", children: "Documents emprunt\u00E9s" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "page-subtitle", children: [mockDocuments.length, " document(s) actuellement en circulation"] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "enhanced-controls", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "controls-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchBar, { searchQuery: searchQuery, onSearchChange: setSearchQuery }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FilterControls, { sortBy: sortBy, filterStatus: filterStatus, onSortChange: setSortBy, onFilterChange: setFilterStatus })] }) })] }), searchQuery && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "results-summary", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "results-count", children: [processedDocuments.length, " r\u00E9sultat(s) pour \"", searchQuery, "\""] }) })), processedDocuments.length > 0 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "documents-grid", children: processedDocuments.map(document => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DocumentCard, { document: document, onReturn: handleReturn }, document.id))) })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EmptyState, { hasDocuments: mockDocuments.length > 0, searchQuery: searchQuery, filterStatus: filterStatus, onClearFilters: handleClearFilters }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        /* Variables CSS pour la palette de couleurs */
        :root {
          --dark-green: #3E5C49;
          --medium-green: #5A7A65;
          --light-green: #7A9A85;
          --warm-brown: #C2571B;
          --medium-brown: #A04315;
          --dark-brown: #8A3612;
          --cream: #F8F6F0;
          --light-cream: #FEFDFB;
          --beige: #E5DCC2;
          --light-beige: #F3EED9;
          --warm-beige: #C2A678;
          --text-dark: #2A2A2A;
          --text-medium: #4A4A4A;
          --text-light: #6A6A6A;
          --white: #FFFFFF;
          --error: #DC2626;
          --warning: #D97706;
          --success: #059669;
        }

        .borrowed-documents-container {
          height: 100%;
          overflow-y: auto;
          background: linear-gradient(135deg, var(--cream) 0%, var(--light-beige) 100%);
          min-height: 100vh;
        }

        .page-content {
          padding: 32px;
          max-width: 1200px;
          margin: 0 auto;
        }

        /* Header Styles - Fond vert sombre */
        .page-header {
          background: linear-gradient(135deg, var(--dark-green) 0%, var(--medium-green) 100%);
          border-radius: 24px;
          padding: 0;
          margin-bottom: 32px;
          box-shadow: 
            0 20px 60px rgba(62, 92, 73, 0.3),
            0 8px 32px rgba(62, 92, 73, 0.2);
          border: 1px solid rgba(62, 92, 73, 0.3);
          backdrop-filter: blur(20px);
          overflow: hidden;
          position: relative;
        }

        .page-header::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 100%;
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.1) 0%, 
            rgba(255, 255, 255, 0.05) 50%, 
            transparent 100%);
          pointer-events: none;
        }

        .header-main {
          display: flex;
          align-items: center;
          gap: 32px;
          padding: 40px 40px 32px 40px;
          position: relative;
          z-index: 2;
        }

        .header-icon {
          width: 100px;
          height: 100px;
          background: linear-gradient(135deg, var(--warm-brown) 0%, var(--medium-brown) 30%, var(--dark-brown) 100%);
          border-radius: 28px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: var(--cream);
          box-shadow: 
            0 16px 40px rgba(194, 87, 27, 0.4),
            inset 0 2px 4px rgba(255, 255, 255, 0.2);
          position: relative;
          transform: rotate(-2deg);
          transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .header-icon:hover {
          transform: rotate(0deg) scale(1.05);
          box-shadow: 
            0 20px 50px rgba(194, 87, 27, 0.5),
            inset 0 2px 4px rgba(255, 255, 255, 0.3);
        }

        .header-icon::before {
          content: '';
          position: absolute;
          inset: 3px;
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.3) 0%, 
            rgba(255, 255, 255, 0.1) 50%, 
            transparent 100%);
          border-radius: 25px;
        }

        .header-icon::after {
          content: '';
          position: absolute;
          bottom: -2px;
          right: -2px;
          width: 24px;
          height: 24px;
          background: linear-gradient(135deg, var(--success) 0%, #047857 100%);
          border-radius: 50%;
          border: 3px solid var(--white);
          box-shadow: 0 4px 12px rgba(5, 150, 105, 0.4);
        }

        .header-text {
          flex: 1;
        }

        .page-title {
          font-size: 36px;
          font-weight: 900;
          margin: 0 0 12px 0;
          letter-spacing: -1px;
          color: var(--cream);
          position: relative;
          line-height: 1.1;
          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .page-title::after {
          content: '';
          position: absolute;
          bottom: -4px;
          left: 0;
          width: 60px;
          height: 3px;
        }

        .page-subtitle {
          font-size: 18px;
          color: var(--beige);
          margin: 0;
          font-weight: 600;
          opacity: 0.95;
        }

        /* Controls Styles */
        .enhanced-controls {
          border-top: 1px solid rgba(255, 255, 255, 0.15);
          padding: 32px 40px 40px 40px;
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.1) 0%, 
            rgba(255, 255, 255, 0.05) 100%);
          position: relative;
          z-index: 2;
        }

        .enhanced-controls::before {
          content: '';
          position: absolute;
          top: 0;
          left: 40px;
          right: 40px;
          height: 1px;
          background: linear-gradient(90deg, 
            transparent 0%, 
            rgba(255, 255, 255, 0.3) 20%, 
            rgba(194, 87, 27, 0.4) 50%, 
            rgba(255, 255, 255, 0.3) 80%, 
            transparent 100%);
        }

        .controls-row {
          display: flex;
          gap: 24px;
          align-items: center;
          justify-content: space-between;
          flex-wrap: wrap;
        }

        .search-container {
          flex: 1;
          min-width: 320px;
        }

        .search-input-wrapper {
          position: relative;
          display: flex;
          align-items: center;
        }

        .search-icon {
          position: absolute;
          left: 18px;
          color: var(--text-light);
          z-index: 2;
        }

        .search-input {
          width: 100%;
          padding: 18px 18px 18px 52px;
          border: 2px solid var(--beige);
          border-radius: 16px;
          font-size: 15px;
          background: var(--white);
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          color: var(--text-dark);
          font-weight: 500;
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.04);
        }

        .search-input::placeholder {
          color: var(--text-light);
          font-weight: 400;
        }

        .search-input:focus {
          outline: none;
          border-color: var(--warm-brown);
          box-shadow: 0 0 0 4px rgba(194, 87, 27, 0.15), 0 8px 24px rgba(0, 0, 0, 0.08);
          background: var(--light-cream);
          transform: translateY(-1px);
        }

        .clear-search {
          position: absolute;
          right: 14px;
          padding: 6px;
          border: none;
          background: var(--light-beige);
          color: var(--text-medium);
          cursor: pointer;
          border-radius: 8px;
          transition: all 0.2s ease;
        }

        .clear-search:hover {
          background: var(--beige);
          color: var(--text-dark);
          transform: scale(1.05);
        }

        .filter-controls {
          display: flex;
          gap: 16px;
        }

        .filter-select {
          padding: 16px 20px;
          border: 2px solid var(--beige);
          border-radius: 12px;
          background: var(--white);
          font-size: 14px;
          color: var(--text-dark);
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          min-width: 190px;
          font-weight: 500;
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.04);
        }

        .filter-select:focus {
          outline: none;
          border-color: var(--warm-brown);
          box-shadow: 0 0 0 4px rgba(194, 87, 27, 0.15), 0 8px 24px rgba(0, 0, 0, 0.08);
          background: var(--light-cream);
          transform: translateY(-1px);
        }

        /* Results Summary */
        .results-summary {
          background: rgba(255, 255, 255, 0.9);
          border-radius: 16px;
          padding: 18px 26px;
          margin-bottom: 20px;
          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.06);
          border: 1px solid var(--beige);
          backdrop-filter: blur(10px);
        }

        .results-count {
          font-size: 15px;
          color: var(--text-medium);
          font-weight: 600;
        }

        /* Documents Grid */
        .documents-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(420px, 1fr));
          gap: 24px;
        }

        /* Document Card Styles */
        .document-card {
          background: var(--white);
          border-radius: 20px;
          padding: 28px;
          box-shadow: 0 12px 40px rgba(0, 0, 0, 0.08);
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          border-left: 5px solid var(--beige);
          border: 1px solid rgba(229, 220, 194, 0.3);
          position: relative;
          overflow: hidden;
        }

        .document-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 2px;
          background: linear-gradient(90deg, transparent 0%, var(--beige) 50%, transparent 100%);
        }

        .document-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 20px 56px rgba(0, 0, 0, 0.12);
        }

        .document-card.status-overdue {
          border-left-color: var(--error);
          background: linear-gradient(135deg, #FEF2F2 0%, var(--white) 100%);
        }

        .document-card.status-overdue::before {
          background: linear-gradient(90deg, transparent 0%, var(--error) 50%, transparent 100%);
        }

        .document-card.status-warning {
          border-left-color: var(--warning);
          background: linear-gradient(135deg, #FFFBEB 0%, var(--white) 100%);
        }

        .document-card.status-warning::before {
          background: linear-gradient(90deg, transparent 0%, var(--warning) 50%, transparent 100%);
        }

        .document-card.status-normal {
          border-left-color: var(--success);
          background: linear-gradient(135deg, #ECFDF5 0%, var(--white) 100%);
        }

        .document-card.status-normal::before {
          background: linear-gradient(90deg, transparent 0%, var(--success) 50%, transparent 100%);
        }

        .document-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 24px;
        }

        .document-title {
          font-size: 20px;
          font-weight: 700;
          color: var(--text-dark);
          margin: 0 0 10px 0;
          line-height: 1.3;
          letter-spacing: -0.2px;
        }

        .document-author {
          font-size: 15px;
          color: var(--dark-green);
          font-weight: 700;
          margin: 0 0 6px 0;
        }

        .document-details {
          font-size: 13px;
          color: var(--text-light);
          margin: 0;
          font-weight: 500;
        }

        .document-status {
          padding: 10px;
          border-radius: 12px;
          background: var(--light-beige);
          backdrop-filter: blur(4px);
          color: var(--dark-green);
        }

        .borrower-info {
          padding: 20px;
          background: var(--light-beige);
          border-radius: 16px;
          margin-bottom: 20px;
          border: 1px solid var(--beige);
          backdrop-filter: blur(4px);
        }

        .borrower-name {
          display: flex;
          align-items: center;
          gap: 10px;
          font-weight: 700;
          color: var(--text-dark);
          margin-bottom: 14px;
          font-size: 15px;
        }

        .borrower-name svg {
          color: var(--dark-green);
        }

        .borrow-dates {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .date-info {
          display: flex;
          align-items: center;
          gap: 10px;
          font-size: 13px;
          color: var(--text-medium);
          font-weight: 500;
        }

        .date-info svg {
          color: var(--warm-beige);
        }

        .document-status-bar {
          margin-bottom: 20px;
        }

        .status-badge {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          padding: 8px 16px;
          border-radius: 24px;
          font-size: 13px;
          font-weight: 700;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .status-badge.status-overdue {
          background: linear-gradient(135deg, #FEE2E2 0%, #FECACA 100%);
          color: var(--error);
        }

        .status-badge.status-warning {
          background: linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%);
          color: var(--warning);
        }

        .status-badge.status-normal {
          background: linear-gradient(135deg, #D1FAE5 0%, #A7F3D0 100%);
          color: var(--success);
        }

        .document-actions {
          display: flex;
          justify-content: flex-end;
        }

        .return-button {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 14px 24px;
          background: linear-gradient(135deg, var(--dark-green) 0%, var(--medium-green) 100%);
          color: var(--cream);
          border: none;
          border-radius: 12px;
          font-size: 14px;
          font-weight: 700;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          box-shadow: 0 6px 20px rgba(62, 92, 73, 0.25);
        }

        .return-button:hover {
          background: linear-gradient(135deg, var(--medium-green) 0%, var(--light-green) 100%);
          transform: translateY(-2px);
          box-shadow: 0 12px 32px rgba(62, 92, 73, 0.35);
        }

        .return-button:active {
          transform: translateY(0);
          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.3);
        }

        /* Empty State */
        .empty-state {
          text-align: center;
          padding: 80px 40px;
          background: rgba(255, 255, 255, 0.95);
          border-radius: 20px;
          box-shadow: 0 12px 40px rgba(0, 0, 0, 0.08);
          border: 1px solid var(--beige);
          backdrop-filter: blur(10px);
        }

        .empty-icon {
          margin-bottom: 28px;
          color: var(--warm-beige);
        }

        .empty-title {
          font-size: 26px;
          font-weight: 800;
          color: var(--text-dark);
          margin: 0 0 16px 0;
          letter-spacing: -0.4px;
        }

        .empty-description {
          font-size: 16px;
          color: var(--text-medium);
          margin: 0 0 36px 0;
          line-height: 1.6;
          font-weight: 500;
        }

        .clear-filters {
          padding: 14px 28px;
          background: linear-gradient(135deg, var(--warm-brown) 0%, var(--medium-brown) 100%);
          color: var(--cream);
          border: none;
          border-radius: 12px;
          font-size: 14px;
          font-weight: 700;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          box-shadow: 0 6px 20px rgba(194, 87, 27, 0.25);
        }

        .clear-filters:hover {
          background: linear-gradient(135deg, var(--medium-brown) 0%, var(--dark-brown) 100%);
          transform: translateY(-2px);
          box-shadow: 0 12px 32px rgba(194, 87, 27, 0.35);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
          .page-content {
            padding: 20px;
          }

          .page-header {
            padding: 0;
          }

          .header-main {
            flex-direction: column;
            text-align: center;
            gap: 20px;
            padding: 32px 24px;
          }

          .header-icon {
            width: 72px;
            height: 72px;
          }

          .page-title {
            font-size: 28px;
          }

          .enhanced-controls {
            padding: 24px;
          }

          .controls-row {
            flex-direction: column;
            gap: 16px;
          }

          .search-container {
            min-width: unset;
          }

          .filter-controls {
            width: 100%;
            justify-content: space-between;
          }

          .filter-select {
            flex: 1;
            min-width: unset;
          }

          .documents-grid {
            grid-template-columns: 1fr;
          }

          .document-card {
            padding: 24px;
          }
        }

        @media (max-width: 480px) {
          .page-content {
            padding: 16px;
          }

          .header-main {
            padding: 24px 20px;
          }

          .header-icon {
            width: 64px;
            height: 64px;
          }

          .page-title {
            font-size: 24px;
          }

          .enhanced-controls {
            padding: 20px;
          }

          .search-input {
            padding: 16px 16px 16px 48px;
            font-size: 14px;
          }

          .filter-select {
            padding: 14px 16px;
            font-size: 13px;
            min-width: unset;
          }

          .document-card {
            padding: 20px;
          }

          .document-title {
            font-size: 18px;
          }

          .borrower-info {
            padding: 16px;
          }

          .return-button {
            padding: 12px 20px;
            font-size: 13px;
          }

          .empty-state {
            padding: 60px 24px;
          }

          .empty-title {
            font-size: 22px;
          }

          .empty-description {
            font-size: 15px;
          }
        }

        /* Hover animations and micro-interactions */
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .document-card {
          animation: fadeInUp 0.5s ease-out;
        }

        .document-card:nth-child(1) { animation-delay: 0.1s; }
        .document-card:nth-child(2) { animation-delay: 0.2s; }
        .document-card:nth-child(3) { animation-delay: 0.3s; }
        .document-card:nth-child(4) { animation-delay: 0.4s; }
        .document-card:nth-child(5) { animation-delay: 0.5s; }
        .document-card:nth-child(6) { animation-delay: 0.6s; }

        /* Improved accessibility */
        .search-input:focus-visible,
        .filter-select:focus-visible,
        .return-button:focus-visible,
        .clear-filters:focus-visible {
          outline: 3px solid var(--warm-brown);
          outline-offset: 2px;
        }

        /* Glow effects for status indicators */
        .status-badge.status-overdue {
          box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
        }

        .status-badge.status-warning {
          box-shadow: 0 4px 12px rgba(217, 119, 6, 0.3);
        }

        .status-badge.status-normal {
          box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3);
        }

        /* Enhanced button interactions */
        .return-button {
          position: relative;
          overflow: hidden;
        }

        .return-button::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
          transition: left 0.5s;
        }

        .return-button:hover::before {
          left: 100%;
        }

        /* Improved card hover effects */
        .document-card {
          position: relative;
          overflow: hidden;
        }

        .document-card::after {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, 
            rgba(62, 92, 73, 0.02) 0%, 
            rgba(194, 87, 27, 0.02) 100%);
          opacity: 0;
          transition: opacity 0.3s ease;
          pointer-events: none;
        }

        .document-card:hover::after {
          opacity: 1;
        }

        /* Enhanced search input */
        .search-input-wrapper::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          border-radius: 16px;
          background: linear-gradient(135deg, 
            rgba(194, 87, 27, 0.1) 0%, 
            rgba(62, 92, 73, 0.1) 100%);
          opacity: 0;
          transition: opacity 0.3s ease;
          pointer-events: none;
        }

        .search-input:focus + .search-input-wrapper::before {
          opacity: 1;
        }

        /* Subtle animations for status changes */
        .status-badge {
          transition: all 0.3s ease;
        }

        .status-badge:hover {
          transform: scale(1.05);
        }

        /* Enhanced header gradient animation */
        .page-header {
          background-size: 200% 200%;
          animation: gradientShift 8s ease infinite;
        }

        @keyframes gradientShift {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }

        /* Improved filter controls styling */
        .filter-controls {
          position: relative;
        }

        .filter-select {
          background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
          background-position: right 12px center;
          background-repeat: no-repeat;
          background-size: 16px;
          appearance: none;
          padding-right: 40px;
        }

        /* Enhanced color consistency */
        .borrower-name svg,
        .date-info svg,
        .document-status svg {
          transition: color 0.3s ease;
        }

        .document-card:hover .borrower-name svg,
        .document-card:hover .date-info svg,
        .document-card:hover .document-status svg {
          color: var(--warm-brown);
        }

        /* Print optimization */
        @media print {
          .borrowed-documents-container {
            background: white;
          }

          .page-header {
            background: var(--dark-green) !important;
            box-shadow: none;
            -webkit-print-color-adjust: exact;
            color-adjust: exact;
          }

          .enhanced-controls,
          .document-actions {
            display: none;
          }

          .document-card {
            box-shadow: none;
            border: 1px solid #ccc;
            break-inside: avoid;
            margin-bottom: 20px;
          }
        }

        /* High contrast mode enhancements */
        @media (prefers-contrast: high) {
          .document-card {
            border: 2px solid var(--text-dark);
          }

          .search-input,
          .filter-select {
            border: 2px solid var(--text-dark);
          }

          .return-button {
            background: var(--text-dark);
            color: var(--white);
            border: 2px solid var(--text-dark);
          }

          .status-badge {
            border: 1px solid var(--text-dark);
          }
        }

        /* Reduced motion preferences */
        @media (prefers-reduced-motion: reduce) {
          .document-card,
          .return-button,
          .clear-filters,
          .search-input,
          .filter-select {
            animation: none;
            transition: none;
          }

          .document-card:hover {
            transform: none;
          }

          .page-header {
            animation: none;
          }
        }

        /* Focus improvements for better accessibility */
        .search-input:focus,
        .filter-select:focus,
        .return-button:focus,
        .clear-filters:focus {
          position: relative;
          z-index: 10;
        }

        /* Enhanced visual hierarchy */
        .page-title {
          position: relative;
        }

        .page-title::before {
          content: '';
          position: absolute;
          top: -8px;
          left: -8px;
          right: -8px;
          bottom: -8px;
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.1) 0%, 
            rgba(255, 255, 255, 0.05) 100%);
          border-radius: 12px;
          z-index: -1;
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/Borrowers.tsx":
/*!***********************************************!*\
  !*** ./src/renderer/components/Borrowers.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Borrowers)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/graduation-cap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/briefcase.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/mail.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/hash.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/school.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/building.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/phone.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/search.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/filter.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/plus.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/pen-square.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trash-2.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/chevron-right.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/save.mjs");



function Borrowers({ onClose, onRefreshData, supabaseService }) {
    const [borrowers, setBorrowers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [filterType, setFilterType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('all');
    const [showAddModal, setShowAddModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [editingBorrower, setEditingBorrower] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [dataLoading, setDataLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);
    const [appMode, setAppMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('offline');
    const [currentStep, setCurrentStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);
    // Charger les emprunteurs au montage du composant
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        loadBorrowers();
        // Détecter le mode de l'application
        const mode = localStorage.getItem('appMode') || 'offline';
        setAppMode(mode);
    }, []);
    const loadBorrowers = async () => {
        setDataLoading(true);
        try {
            // Obtenir le code d'institution courant pour l'isolation
            const institutionCode = supabaseService.getCurrentInstitution()?.code;
            console.log('🔍 DEBUG Borrowers - Loading with institutionCode:', institutionCode);
            const borrowersList = await window.electronAPI.getBorrowers(institutionCode);
            console.log('🔍 DEBUG Borrowers - Loaded', borrowersList?.length || 0, 'borrowers');
            setBorrowers(borrowersList || []);
        }
        catch (error) {
            console.error('Erreur lors du chargement des emprunteurs:', error);
            setBorrowers([]);
        }
        finally {
            setDataLoading(false);
        }
    };
    const [borrowerData, setBorrowerData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        type: 'student',
        firstName: '',
        lastName: '',
        matricule: '',
        classe: '',
        cniNumber: '',
        position: '',
        email: '',
        phone: '',
        syncStatus: 'pending',
        lastModified: new Date().toISOString(),
        version: 1,
        createdAt: new Date().toISOString()
    });
    const [formErrors, setFormErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});
    const validateStep = (step) => {
        const errors = {};
        if (step === 1) {
            if (!borrowerData.firstName.trim())
                errors.firstName = 'Le prénom est requis';
            if (!borrowerData.lastName.trim())
                errors.lastName = 'Le nom est requis';
            if (!borrowerData.matricule.trim())
                errors.matricule = 'Le matricule est requis';
        }
        if (step === 2) {
            if (borrowerData.type === 'student' && !borrowerData.classe?.trim()) {
                errors.classe = 'La classe est requise pour les étudiants';
            }
            if (borrowerData.type === 'staff' && !borrowerData.position?.trim()) {
                errors.position = 'Le poste est requis pour le personnel';
            }
        }
        if (step === 3) {
            if (borrowerData.email && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(borrowerData.email)) {
                errors.email = 'Format email invalide';
            }
            if (borrowerData.phone && !/^[\d\s\+\-\(\)]{6,}$/.test(borrowerData.phone)) {
                errors.phone = 'Format téléphone invalide';
            }
        }
        setFormErrors(errors);
        return Object.keys(errors).length === 0;
    };
    const handleNext = () => {
        if (validateStep(currentStep)) {
            setCurrentStep(prev => Math.min(prev + 1, 3));
        }
    };
    const handlePrev = () => {
        setCurrentStep(prev => Math.max(prev - 1, 1));
    };
    const handleInputChange = (field, value) => {
        setBorrowerData(prev => ({ ...prev, [field]: value }));
        if (formErrors[field]) {
            setFormErrors(prev => ({ ...prev, [field]: '' }));
        }
    };
    const handleSubmit = async () => {
        if (!validateStep(3))
            return;
        setIsLoading(true);
        try {
            const borrowerToSave = {
                ...borrowerData,
                syncStatus: 'pending',
                lastModified: new Date().toISOString(),
                version: editingBorrower ? editingBorrower.version + 1 : 1
            };
            if (editingBorrower && editingBorrower.id) {
                await window.electronAPI.updateBorrower({ ...borrowerToSave, id: editingBorrower.id });
                setBorrowers(prev => prev.map(b => b.id === editingBorrower.id ? { ...borrowerToSave, id: editingBorrower.id } : b));
            }
            else {
                const newId = await window.electronAPI.addBorrower(borrowerToSave);
                setBorrowers(prev => [...prev, { ...borrowerToSave, id: newId }]);
            }
            setShowAddModal(false);
            setEditingBorrower(null);
            resetForm();
            if (onRefreshData) {
                await onRefreshData();
            }
        }
        catch (error) {
            console.error('Erreur:', error);
            setFormErrors({ submit: error.message || 'Erreur lors de l\'opération' });
        }
        finally {
            setIsLoading(false);
        }
    };
    const resetForm = () => {
        setBorrowerData({
            type: 'student',
            firstName: '',
            lastName: '',
            matricule: '',
            classe: '',
            cniNumber: '',
            position: '',
            email: '',
            phone: '',
            syncStatus: 'pending',
            lastModified: new Date().toISOString(),
            version: 1,
            createdAt: new Date().toISOString()
        });
        setFormErrors({});
        setCurrentStep(1);
    };
    const handleEdit = (borrower) => {
        setBorrowerData({
            type: borrower.type,
            firstName: borrower.firstName,
            lastName: borrower.lastName,
            matricule: borrower.matricule,
            classe: borrower.classe || '',
            cniNumber: borrower.cniNumber || '',
            position: borrower.position || '',
            email: borrower.email || '',
            phone: borrower.phone || '',
            syncStatus: borrower.syncStatus,
            lastModified: borrower.lastModified,
            version: borrower.version,
            createdAt: borrower.createdAt || new Date().toISOString()
        });
        setEditingBorrower(borrower);
        setShowAddModal(true);
    };
    const handleDelete = async (borrowerToDelete) => {
        if (window.confirm(`Êtes-vous sûr de vouloir supprimer ${borrowerToDelete.firstName} ${borrowerToDelete.lastName} ?`)) {
            try {
                if (appMode === 'offline' && borrowerToDelete.id) {
                    await window.electronAPI.deleteBorrower(borrowerToDelete.id);
                }
                setBorrowers(prev => prev.filter(b => b.id !== borrowerToDelete.id));
                if (onRefreshData) {
                    await onRefreshData();
                }
            }
            catch (error) {
                console.error('Erreur lors de la suppression:', error);
                alert(error.message || 'Erreur lors de la suppression');
            }
        }
    };
    const filteredBorrowers = borrowers.filter(borrower => {
        if (filterType !== 'all' && borrower.type !== filterType)
            return false;
        if (searchQuery) {
            const query = searchQuery.toLowerCase();
            return (borrower.firstName.toLowerCase().includes(query) ||
                borrower.lastName.toLowerCase().includes(query) ||
                borrower.matricule.toLowerCase().includes(query));
        }
        return true;
    });
    const studentCount = borrowers.filter(b => b.type === 'student').length;
    const staffCount = borrowers.filter(b => b.type === 'staff').length;
    const getStepTitle = (step) => {
        switch (step) {
            case 1: return 'Informations personnelles';
            case 2: return 'Informations académiques/professionnelles';
            case 3: return 'Contact';
            default: return '';
        }
    };
    const getStepDescription = (step) => {
        switch (step) {
            case 1: return 'Identité de l\'emprunteur';
            case 2: return 'Classe, poste ou informations spécifiques';
            case 3: return 'Coordonnées de contact';
            default: return '';
        }
    };
    const getStepIcon = (step) => {
        switch (step) {
            case 1: return lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"];
            case 2: return borrowerData.type === 'student' ? lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"] : lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"];
            case 3: return lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"];
            default: return lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"];
        }
    };
    const renderStepContent = () => {
        switch (currentStep) {
            case 1:
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 18 }), "Type d'emprunteur *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "radio-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: `radio-option ${borrowerData.type === 'student' ? 'selected' : ''}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "radio", name: "type", value: "student", checked: borrowerData.type === 'student', onChange: (e) => handleInputChange('type', e.target.value) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "\u00C9tudiant" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: `radio-option ${borrowerData.type === 'staff' ? 'selected' : ''}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "radio", name: "type", value: "staff", checked: borrowerData.type === 'staff', onChange: (e) => handleInputChange('type', e.target.value) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Personnel" })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 18 }), "Pr\u00E9nom *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: borrowerData.firstName, onChange: (e) => handleInputChange('firstName', e.target.value), className: `form-input ${formErrors.firstName ? 'error' : ''}`, placeholder: "Pr\u00E9nom de l'emprunteur", autoFocus: true }), formErrors.firstName && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: formErrors.firstName })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 18 }), "Nom *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: borrowerData.lastName, onChange: (e) => handleInputChange('lastName', e.target.value), className: `form-input ${formErrors.lastName ? 'error' : ''}`, placeholder: "Nom de famille" }), formErrors.lastName && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: formErrors.lastName })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 18 }), "Matricule *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: borrowerData.matricule, onChange: (e) => handleInputChange('matricule', e.target.value), className: `form-input ${formErrors.matricule ? 'error' : ''}`, placeholder: "Num\u00E9ro d'identification unique" }), formErrors.matricule && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: formErrors.matricule })] })] }));
            case 2:
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content", children: [borrowerData.type === 'student' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 18 }), "Classe *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: borrowerData.classe || '', onChange: (e) => handleInputChange('classe', e.target.value), className: `form-input ${formErrors.classe ? 'error' : ''}`, placeholder: "Niveau ou classe de l'\u00E9tudiant" }), formErrors.classe && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: formErrors.classe })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 18 }), "Poste/Fonction *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: borrowerData.position || '', onChange: (e) => handleInputChange('position', e.target.value), className: `form-input ${formErrors.position ? 'error' : ''}`, placeholder: "Poste ou fonction occup\u00E9e" }), formErrors.position && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: formErrors.position })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 18 }), "Num\u00E9ro CNI (optionnel)"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: borrowerData.cniNumber || '', onChange: (e) => handleInputChange('cniNumber', e.target.value), className: "form-input", placeholder: "Num\u00E9ro de carte d'identit\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "form-help", children: "Num\u00E9ro de carte d'identit\u00E9 nationale pour identification officielle" })] })] }));
            case 3:
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 18 }), "Email (optionnel)"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "email", value: borrowerData.email || '', onChange: (e) => handleInputChange('email', e.target.value), className: `form-input ${formErrors.email ? 'error' : ''}`, placeholder: "adresse@email.com" }), formErrors.email && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: formErrors.email })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "form-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 18 }), "T\u00E9l\u00E9phone (optionnel)"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "tel", value: borrowerData.phone || '', onChange: (e) => handleInputChange('phone', e.target.value), className: `form-input ${formErrors.phone ? 'error' : ''}`, placeholder: "+237 6XX XXX XXX" }), formErrors.phone && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "error-message", children: formErrors.phone }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "form-help", children: "Num\u00E9ro de t\u00E9l\u00E9phone pour le contact en cas de retard" })] })] }));
            default:
                return null;
        }
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-container borrowers-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { className: "modal-title", children: "Gestion des Emprunteurs" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "modal-subtitle", children: [borrowers.length, " emprunteur(s) \u2022 ", studentCount, " \u00E9tudiant(s) \u2022 ", staffCount, " personnel(s)"] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: onClose, className: "close-btn", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stats-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon student", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-value", children: studentCount }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "\u00C9tudiants" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon staff", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-value", children: staffCount }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Personnel" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon total", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-value", children: borrowers.length }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Total" })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "controls-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "search-bar", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", placeholder: "Rechercher un emprunteur...", value: searchQuery, onChange: (e) => setSearchQuery(e.target.value), className: "search-input" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-controls", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: filterType, onChange: (e) => setFilterType(e.target.value), className: "filter-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tous" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "student", children: "\u00C9tudiants" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "staff", children: "Personnel" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { onClick: () => {
                                            resetForm();
                                            setShowAddModal(true);
                                        }, className: "btn btn-primary", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16 }), "Nouvel emprunteur"] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "modal-content", children: dataLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "loading-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "spinner" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Chargement des emprunteurs..." })] })) : filteredBorrowers.length === 0 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "empty-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 48 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Aucun emprunteur trouv\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: searchQuery || filterType !== 'all'
                                        ? 'Aucun emprunteur ne correspond à vos critères de recherche.'
                                        : 'Commencez par ajouter votre premier emprunteur.' }), !searchQuery && filterType === 'all' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { onClick: () => {
                                        resetForm();
                                        setShowAddModal(true);
                                    }, className: "btn btn-primary", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16 }), "Ajouter le premier emprunteur"] }))] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "borrowers-grid", children: filteredBorrowers.map((borrower) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `borrower-type ${borrower.type}`, children: [borrower.type === 'student' ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: borrower.type === 'student' ? 'Étudiant' : 'Personnel' })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => handleEdit(borrower), className: "action-btn edit", title: "Modifier", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 14 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => handleDelete(borrower), className: "action-btn delete", title: "Supprimer", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 14 }) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h4", { className: "borrower-name", children: [borrower.firstName, " ", borrower.lastName] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "borrower-matricule", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 14 }), borrower.matricule] }), borrower.type === 'student' && borrower.classe && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "borrower-detail", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 14 }), borrower.classe] })), borrower.type === 'staff' && borrower.position && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "borrower-detail", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 14 }), borrower.position] })), borrower.email && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "borrower-contact", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 14 }), borrower.email] })), borrower.phone && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "borrower-contact", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 14 }), borrower.phone] }))] })] }, borrower.id))) })) })] }), showAddModal && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "modal-overlay", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { className: "modal-title", children: editingBorrower ? 'Modifier l\'emprunteur' : 'Nouvel emprunteur' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "modal-subtitle", children: "Ajouter un nouvel utilisateur \u00E0 votre biblioth\u00E8que" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => {
                                        setShowAddModal(false);
                                        setEditingBorrower(null);
                                        resetForm();
                                    }, className: "close-btn", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "progress-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-steps", children: [1, 2, 3].map((step) => {
                                        const StepIcon = getStepIcon(step);
                                        const isActive = step === currentStep;
                                        const isCompleted = step < currentStep;
                                        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `progress-step ${isActive ? 'active' : ''} ${isCompleted ? 'completed' : ''}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "step-indicator", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StepIcon, { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "step-title", children: getStepTitle(step) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "step-description", children: getStepDescription(step) })] })] }, step));
                                    }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-bar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-fill", style: { width: `${(currentStep / 3) * 100}%` } }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-content", children: [formErrors.submit && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "alert alert-error", children: formErrors.submit })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "step-container", children: renderStepContent() })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "actions-left", children: currentStep > 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: handlePrev, className: "btn btn-secondary", children: "Pr\u00E9c\u00E9dent" })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "actions-right", children: currentStep < 3 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { onClick: handleNext, className: "btn btn-primary", children: ["Suivant", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 16 })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: handleSubmit, disabled: isLoading, className: "btn btn-success", children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "spinner" }), "Enregistrement..."] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 16 }), editingBorrower ? 'Modifier' : 'Ajouter'] })) })) })] })] }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .modal-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.75);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 50;
          padding: 20px;
        }

        .modal-container {
          background: white;
          border-radius: 20px;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
          width: 100%;
          max-width: 1000px;
          max-height: 90vh;
          display: flex;
          flex-direction: column;
          overflow: hidden;
        }

        .borrowers-modal {
          max-width: 1200px;
        }

        .modal-header {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          padding: 24px 32px;
          display: flex;
          align-items: center;
          justify-content: space-between;
        }

        .header-content {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .header-icon {
          width: 48px;
          height: 48px;
          background: rgba(255, 255, 255, 0.1);
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          backdrop-filter: blur(10px);
        }

        .header-text {
          flex: 1;
        }

        .modal-title {
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 4px 0;
          line-height: 1.2;
        }

        .modal-subtitle {
          font-size: 14px;
          opacity: 0.8;
          margin: 0;
        }

        .close-btn {
          width: 40px;
          height: 40px;
          border: none;
          background: rgba(255, 255, 255, 0.1);
          color: white;
          border-radius: 10px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          z-index: 10;
        }

        .close-btn:hover {
          background: rgba(255, 255, 255, 0.2);
          transform: scale(1.05);
        }

        .stats-section {
          background: #FAF9F6;
          padding: 20px 32px;
          border-bottom: 1px solid rgba(229, 220, 194, 0.4);
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 16px;
        }

        .stat-card {
          background: white;
          border-radius: 12px;
          padding: 16px;
          display: flex;
          align-items: center;
          gap: 12px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
          transition: all 0.2s ease;
        }

        .stat-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }

        .stat-icon {
          width: 40px;
          height: 40px;
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }

        .stat-icon.student {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
        }

        .stat-icon.staff {
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          color: #F3EED9;
        }

        .stat-icon.total {
          background: linear-gradient(135deg, #6E6E6E 0%, #5A5A5A 100%);
          color: #F3EED9;
        }

        .stat-content {
          display: flex;
          flex-direction: column;
          gap: 2px;
        }

        .stat-value {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E !important;
          line-height: 1;
        }

        .stat-label {
          font-size: 12px;
          color: #6E6E6E !important;
          font-weight: 500;
        }

        .controls-section {
          background: #FAF9F6;
          padding: 0 32px 20px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 16px;
          flex-wrap: wrap;
        }

        .search-bar {
          position: relative;
          flex: 1;
          min-width: 300px;
        }

        .search-bar svg {
          position: absolute;
          left: 12px;
          top: 50%;
          transform: translateY(-50%);
          color: #6E6E6E;
        }

        .search-input {
          width: 100%;
          padding: 12px 16px 12px 40px;
          border: 2px solid rgba(229, 220, 194, 0.4);
          border-radius: 10px;
          font-size: 14px;
          background: white;
          color: #2E2E2E;
          transition: all 0.2s ease;
        }

        .search-input:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }

        .filter-controls {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .filter-group {
          display: flex;
          align-items: center;
          gap: 8px;
          background: white;
          padding: 8px 12px;
          border-radius: 10px;
          border: 2px solid rgba(229, 220, 194, 0.4);
        }

        .filter-select {
          border: none;
          background: none;
          font-size: 14px;
          color: #2E2E2E;
          cursor: pointer;
          min-width: 100px;
        }

        .filter-select:focus {
          outline: none;
        }

        .modal-content {
          flex: 1;
          overflow-y: auto;
          padding: 32px;
        }

        .loading-state, .empty-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 60px 20px;
          text-align: center;
        }

        .loading-state .spinner {
          width: 32px;
          height: 32px;
          border: 3px solid rgba(62, 92, 73, 0.2);
          border-top: 3px solid #3E5C49;
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin-bottom: 16px;
        }

        .empty-state svg {
          color: #6E6E6E;
          margin-bottom: 16px;
        }

        .empty-state h3 {
          font-size: 20px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 8px 0;
        }

        .empty-state p {
          font-size: 14px;
          color: #6E6E6E;
          margin: 0 0 24px 0;
          max-width: 400px;
          line-height: 1.5;
        }

        .borrowers-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
          gap: 20px;
        }

        .borrower-card {
          background: white;
          border-radius: 16px;
          border: 2px solid rgba(229, 220, 194, 0.3);
          padding: 20px;
          transition: all 0.2s ease;
        }

        .borrower-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
          border-color: rgba(62, 92, 73, 0.2);
        }

        .borrower-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 16px;
        }

        .borrower-type {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 12px;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .borrower-type.student {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }

        .borrower-type.staff {
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
        }

        .borrower-actions {
          display: flex;
          gap: 6px;
        }

        .action-btn {
          width: 32px;
          height: 32px;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
        }

        .action-btn.edit {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }

        .action-btn.edit:hover {
          background: rgba(62, 92, 73, 0.2);
          transform: scale(1.05);
        }

        .action-btn.delete {
          background: rgba(220, 38, 38, 0.1);
          color: #dc2626;
        }

        .action-btn.delete:hover {
          background: rgba(220, 38, 38, 0.2);
          transform: scale(1.05);
        }

        .borrower-info {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .borrower-name {
          font-size: 18px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0;
        }

        .borrower-matricule {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 14px;
          color: #6E6E6E;
          font-weight: 500;
          margin: 0;
        }

        .borrower-detail,
        .borrower-contact {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 13px;
          color: #6E6E6E;
          margin: 0;
        }

        .borrower-contact {
          color: #4A4A4A;
        }

        .progress-container {
          padding: 24px 32px 0;
          background: #FAF9F6;
          border-bottom: 1px solid rgba(229, 220, 194, 0.4);
        }

        .progress-steps {
          display: flex;
          justify-content: space-between;
          margin-bottom: 16px;
        }

        .progress-step {
          display: flex;
          align-items: center;
          gap: 12px;
          flex: 1;
          opacity: 0.5;
          transition: all 0.3s ease;
        }

        .progress-step.active,
        .progress-step.completed {
          opacity: 1;
        }

        .step-indicator {
          width: 36px;
          height: 36px;
          border-radius: 50%;
          background: rgba(229, 220, 194, 0.3);
          display: flex;
          align-items: center;
          justify-content: center;
          color: #6E6E6E;
          transition: all 0.3s ease;
          flex-shrink: 0;
        }

        .progress-step.active .step-indicator {
          background: #3E5C49;
          color: #F3EED9;
        }

        .progress-step.completed .step-indicator {
          background: #C2571B;
          color: #F3EED9;
        }

        .step-info {
          display: flex;
          flex-direction: column;
          gap: 2px;
          min-width: 0;
        }

        .step-title {
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
          line-height: 1.2;
        }

        .step-description {
          font-size: 12px;
          color: #4A4A4A;
          line-height: 1.2;
        }

        .progress-bar {
          height: 4px;
          background: rgba(229, 220, 194, 0.3);
          border-radius: 2px;
          overflow: hidden;
          margin-bottom: 24px;
        }

        .progress-fill {
          height: 100%;
          background: linear-gradient(90deg, #3E5C49 0%, #C2571B 100%);
          transition: width 0.3s ease;
          border-radius: 2px;
        }

        .step-container {
          min-height: 300px;
        }

        .step-content {
          display: flex;
          flex-direction: column;
          gap: 24px;
          animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateX(20px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }

        @keyframes spin {
          to {
            transform: rotate(360deg);
          }
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
        }

        .form-label {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
        }

        .form-input {
          width: 100%;
          padding: 12px 16px;
          border: 2px solid rgba(229, 220, 194, 0.4);
          border-radius: 10px;
          font-size: 14px;
          background: white;
          color: #2E2E2E;
          transition: all 0.2s ease;
          box-sizing: border-box;
        }

        .form-input:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }

        .form-input.error {
          border-color: #dc2626;
          background: #fef2f2;
        }

        .radio-group {
          display: flex;
          gap: 16px;
        }

        .radio-option {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 16px;
          border: 2px solid rgba(229, 220, 194, 0.4);
          border-radius: 10px;
          cursor: pointer;
          transition: all 0.2s ease;
          background: white;
        }

        .radio-option:hover {
          border-color: #3E5C49;
        }

        .radio-option.selected {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.05);
        }

        .radio-option input[type="radio"] {
          display: none;
        }

        .form-help {
          font-size: 12px;
          color: #4A4A4A;
          margin: 0;
          line-height: 1.4;
        }

        .error-message {
          color: #dc2626;
          font-size: 12px;
          font-weight: 500;
          margin: 0;
          padding: 4px 8px;
          background: #fef2f2;
          border-radius: 6px;
          border-left: 3px solid #dc2626;
        }

        .alert {
          padding: 16px;
          border-radius: 12px;
          margin-bottom: 24px;
          display: flex;
          align-items: center;
          gap: 12px;
          font-size: 14px;
          font-weight: 500;
        }

        .alert-error {
          background: #fef2f2;
          color: #dc2626;
          border: 1px solid #fecaca;
        }

        .modal-actions {
          padding: 24px 32px;
          background: #FAF9F6;
          border-top: 1px solid rgba(229, 220, 194, 0.4);
          display: flex;
          align-items: center;
          justify-content: space-between;
        }

        .actions-left,
        .actions-right {
          display: flex;
          gap: 12px;
        }

        .btn {
          padding: 12px 20px;
          border: none;
          border-radius: 10px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          gap: 8px;
          min-width: 120px;
          justify-content: center;
        }

        .btn-secondary {
          background: #F3EED9;
          color: #2E2E2E;
          border: 1px solid rgba(229, 220, 194, 0.4);
        }

        .btn-secondary:hover {
          background: #E5DCC2;
          transform: translateY(-1px);
        }

        .btn-primary {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
        }

        .btn-primary:hover {
          background: linear-gradient(135deg, #2E453A 0%, #1F2F25 100%);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.3);
        }

        .btn-success {
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          color: #F3EED9;
        }

        .btn-success:hover:not(:disabled) {
          background: linear-gradient(135deg, #A8481A 0%, #8A3C18 100%);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(194, 87, 27, 0.3);
        }

        .btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }

        .spinner {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-top: 2px solid white;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @media (max-width: 768px) {
          .modal-overlay {
            padding: 16px;
          }

          .modal-container {
            max-height: 95vh;
          }

          .modal-header {
            padding: 20px 24px;
          }

          .stats-section {
            padding: 16px 24px;
            grid-template-columns: 1fr;
            gap: 12px;
          }

          .controls-section {
            padding: 0 24px 16px;
            flex-direction: column;
            align-items: stretch;
            gap: 12px;
          }

          .search-bar {
            min-width: auto;
          }

          .filter-controls {
            justify-content: space-between;
          }

          .modal-content {
            padding: 24px;
          }

          .borrowers-grid {
            grid-template-columns: 1fr;
            gap: 16px;
          }

          .form-row {
            grid-template-columns: 1fr;
            gap: 16px;
          }

          .radio-group {
            flex-direction: column;
          }

          .modal-actions {
            padding: 20px 24px;
            flex-direction: column;
            gap: 12px;
          }

          .actions-left,
          .actions-right {
            width: 100%;
          }

          .btn {
            width: 100%;
            min-width: auto;
          }

          .progress-steps {
            flex-direction: column;
            gap: 16px;
            margin-bottom: 20px;
          }
        }

        @media (max-width: 480px) {
          .modal-overlay {
            padding: 12px;
          }

          .modal-header {
            padding: 16px 20px;
          }

          .modal-title {
            font-size: 20px;
          }

          .modal-subtitle {
            font-size: 13px;
          }

          .stats-section {
            padding: 12px 20px;
          }

          .controls-section {
            padding: 0 20px 12px;
          }

          .modal-content {
            padding: 20px;
          }

          .borrower-card {
            padding: 16px;
          }

          .modal-actions {
            padding: 16px 20px;
          }
        }
      ` })] }));
}


/***/ }),

/***/ "./src/renderer/components/Dashboard.tsx":
/*!***********************************************!*\
  !*** ./src/renderer/components/Dashboard.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Dashboard: () => (/* binding */ Dashboard)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/plus.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/search.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/printer.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/activity.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/arrow-right.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trending-up.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/calendar.mjs");
/* harmony import */ var _PrintManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PrintManager */ "./src/renderer/components/PrintManager.tsx");
/* harmony import */ var _EnhancedStats__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./EnhancedStats */ "./src/renderer/components/EnhancedStats.tsx");
/* harmony import */ var _SmartSearch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SmartSearch */ "./src/renderer/components/SmartSearch.tsx");
/* harmony import */ var _AnimatedBackground__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AnimatedBackground */ "./src/renderer/components/AnimatedBackground.tsx");
/* harmony import */ var _MicroInteractions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./MicroInteractions */ "./src/renderer/components/MicroInteractions.tsx");








const Dashboard = ({ stats, onNavigate, documents = [], categories = [], recentActivity = [] }) => {
    const [showPrintManager, setShowPrintManager] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const heroActions = [
        {
            title: 'Ajouter un document',
            description: 'Enrichissez votre collection',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"],
            action: () => onNavigate('add-document'),
            primary: true
        },
        {
            title: 'Parcourir la collection',
            description: 'Explorer tous les documents',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"],
            action: () => onNavigate('documents'),
            primary: false
        }
    ];
    const quickActions = [
        {
            title: 'Collection complète',
            description: `${stats.totalDocuments} documents disponibles`,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"],
            action: () => onNavigate('documents'),
            color: '#3E5C49'
        },
        {
            title: 'Gérer les emprunts',
            description: `${stats.borrowedDocuments} document(s) emprunté(s)`,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"],
            action: () => onNavigate('borrowed'),
            color: '#C2571B',
            badge: stats.borrowedDocuments > 0
        },
        {
            title: 'Rapports & Export',
            description: 'Imprimer les inventaires',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"],
            action: () => setShowPrintManager(true),
            color: '#6E6E6E'
        }
    ];
    const mainStats = [
        {
            title: 'Total des documents',
            value: stats.totalDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"],
            color: '#3E5C49',
            trend: '+2 ce mois'
        },
        {
            title: 'Disponibles',
            value: stats.availableDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"],
            color: '#3E5C49',
            percentage: stats.totalDocuments > 0 ? ((stats.availableDocuments / stats.totalDocuments) * 100).toFixed(0) : 0
        },
        {
            title: 'Empruntés',
            value: stats.borrowedDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"],
            color: '#C2571B',
            percentage: stats.totalDocuments > 0 ? ((stats.borrowedDocuments / stats.totalDocuments) * 100).toFixed(0) : 0
        },
        {
            title: 'Auteurs',
            value: stats.totalAuthors,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"],
            color: '#6E6E6E',
            trend: 'Actifs'
        }
    ];
    // Fonction pour obtenir l'icône selon le type d'activité
    const getActivityIcon = (type) => {
        switch (type) {
            case 'add': return lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"];
            case 'borrow': return lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"];
            case 'return': return lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"];
            default: return lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"];
        }
    };
    const borrowRate = stats.totalDocuments > 0 ? (stats.borrowedDocuments / stats.totalDocuments * 100).toFixed(1) : 0;
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "dashboard", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_AnimatedBackground__WEBPACK_IMPORTED_MODULE_5__.AnimatedBackground, { variant: "books", intensity: "low" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hero-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { className: "hero-title", children: "Bienvenue dans votre biblioth\u00E8que" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "hero-subtitle", children: ["G\u00E9rez votre collection de ", stats.totalDocuments, " documents avec facilit\u00E9 et \u00E9l\u00E9gance"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hero-search", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_SmartSearch__WEBPACK_IMPORTED_MODULE_4__.SmartSearch, { onSearch: (query, filters) => {
                                            console.log('Recherche:', query, filters);
                                            onNavigate('documents');
                                        }, data: documents, placeholder: "Rechercher un document, auteur, cat\u00E9gorie..." }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hero-actions", children: heroActions.map((action, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `hero-button ${action.primary ? 'primary' : 'secondary'}`, onClick: action.action, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(action.icon, { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: action.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 16 })] }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hero-visual", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "floating-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "card-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Collection" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "card-stats", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-number", children: stats.totalDocuments }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Documents" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-number", children: stats.borrowedDocuments }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Emprunt\u00E9s" })] })] })] }) })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "dashboard-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stats-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "section-title", children: "Vue d'ensemble" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-subtitle", children: "Statistiques avanc\u00E9es de votre biblioth\u00E8que" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_EnhancedStats__WEBPACK_IMPORTED_MODULE_3__.EnhancedStats, { stats: stats })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "dashboard-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "quick-actions-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-header", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Actions rapides" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "actions-grid", children: quickActions.map((action, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "action-card card-elevated", onClick: action.action, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-icon", style: { backgroundColor: action.color }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(action.icon, { size: 20 }), action.badge && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "action-badge" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "action-title", children: action.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "action-description", children: action.description })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 16, className: "action-arrow" })] }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "progress-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-header", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Utilisation" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "progress-card card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "progress-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "progress-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "progress-label", children: "Taux d'emprunt" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "progress-value", children: [borrowRate, "%"] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-bar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-fill", style: { width: `${borrowRate}%` } }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "progress-metrics", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "metric", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Tendance stable" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "metric", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Mis \u00E0 jour maintenant" })] })] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Activit\u00E9 r\u00E9cente" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_6__.MicroButton, { variant: "secondary", size: "small", icon: lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], children: "Voir tout" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_6__.MicroCard, { className: "activity-list", children: recentActivity.length > 0 ? (recentActivity.map((activity, index) => {
                                    const IconComponent = getActivityIcon(activity.type);
                                    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconComponent, { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-title", children: activity.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-description", children: activity.description })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-time", children: activity.time })] }, index));
                                })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "empty-activity", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 48 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Aucune activit\u00E9 r\u00E9cente" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("small", { children: "Les nouvelles activit\u00E9s appara\u00EEtront ici" })] })) })] })] }), showPrintManager && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_PrintManager__WEBPACK_IMPORTED_MODULE_2__.PrintManager, { documents: documents, stats: stats, onClose: () => setShowPrintManager(false) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-actions", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_6__.FloatingButton, { icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], onClick: () => onNavigate('add-document'), tooltip: "Ajouter un document", color: "#10B981" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .dashboard {
          height: 100%;
          overflow-y: auto;
          background: #FAF9F6;
        }
        
        .hero-section {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          padding: 48px 32px;
          position: relative;
          overflow: hidden;
        }
        
        .hero-section::before {
          content: '';
          position: absolute;
          top: 0;
          right: 0;
          width: 50%;
          height: 100%;
          background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="20" cy="20" r="1" fill="%23F3EED9" opacity="0.05"/><circle cx="60" cy="40" r="1" fill="%23F3EED9" opacity="0.03"/><circle cx="80" cy="80" r="1" fill="%23F3EED9" opacity="0.04"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
          opacity: 0.3;
        }
        
        .hero-content {
          display: grid;
          grid-template-columns: 1fr 300px;
          gap: 48px;
          align-items: center;
          max-width: 1200px;
          margin: 0 auto;
          position: relative;
          z-index: 1;
        }
        
        .hero-title {
          font-size: 36px;
          font-weight: 800;
          margin: 0 0 16px 0;
          line-height: 1.2;
          letter-spacing: -0.5px;
        }
        
        .hero-subtitle {
          font-size: 18px;
          color: rgba(243, 238, 217, 0.9);
          margin: 0 0 32px 0;
          line-height: 1.5;
        }

        .hero-search {
          margin: 0 0 32px 0;
          max-width: 600px;
        }
        
        .hero-actions {
          display: flex;
          gap: 16px;
          flex-wrap: wrap;
        }
        
        .hero-button {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px 24px;
          border: none;
          border-radius: 12px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          position: relative;
          overflow: hidden;
        }
        
        .hero-button.primary {
          background: #C2571B;
          color: #FFFFFF;
          border: 2px solid #C2571B;
        }
        
        .hero-button.primary:hover {
          background: #A8481A;
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);
          border-color: #A8481A;
        }
        
        .hero-button.secondary {
          background: rgba(255, 255, 255, 0.1);
          color: #FFFFFF;
          border: 2px solid rgba(255, 255, 255, 0.5);
          backdrop-filter: blur(10px);
        }
        
        .hero-button.secondary:hover {
          background: rgba(255, 255, 255, 0.2);
          transform: translateY(-2px);
          border-color: rgba(255, 255, 255, 0.8);
        }
        
        .hero-visual {
          display: flex;
          justify-content: center;
          align-items: center;
        }
        
        .floating-card {
          background: rgba(243, 238, 217, 0.1);
          backdrop-filter: blur(10px);
          border: 1px solid rgba(243, 238, 217, 0.2);
          border-radius: 16px;
          padding: 24px;
          width: 100%;
          animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-10px); }
        }
        
        .card-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 20px;
          font-weight: 600;
          font-size: 16px;
        }
        
        .card-stats {
          display: flex;
          justify-content: space-between;
        }
        
        .stat {
          text-align: center;
        }
        
        .stat-number {
          display: block;
          font-size: 28px;
          font-weight: 800;
          line-height: 1;
          margin-bottom: 4px;
        }
        
        .stat-label {
          font-size: 12px;
          opacity: 0.8;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        
        .dashboard-content {
          padding: 32px;
          max-width: 1200px;
          margin: 0 auto;
        }
        
        .section-header {
          margin-bottom: 24px;
          display: flex;
          align-items: center;
          justify-content: space-between;
        }
        
        .section-title {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0;
          letter-spacing: -0.3px;
        }
        
        .section-subtitle {
          font-size: 14px;
          color: #4A4A4A;
          margin-top: 4px;
        }
        
        .stats-section {
          margin-bottom: 48px;
        }
        
        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
          gap: 24px;
        }
        
        .stat-card {
          padding: 24px;
          border-radius: 16px;
          background: #FFFFFF;
        }
        
        .stat-header {
          display: flex;
          align-items: flex-start;
          justify-content: space-between;
          margin-bottom: 16px;
        }
        
        .stat-icon {
          padding: 12px;
          background: rgba(62, 92, 73, 0.1);
          border-radius: 12px;
        }
        
        .stat-meta {
          text-align: right;
          font-size: 12px;
        }
        
        .stat-trend {
          color: #3E5C49;
          font-weight: 600;
        }
        
        .stat-percentage {
          color: #4A4A4A;
          font-weight: 600;
        }
        
        .stat-value {
          font-size: 32px;
          font-weight: 800;
          color: #2E2E2E;
          line-height: 1;
          margin-bottom: 8px;
        }
        
        .stat-title {
          font-size: 14px;
          color: #4A4A4A;
          font-weight: 500;
        }
        
        .dashboard-grid {
          display: grid;
          grid-template-columns: 2fr 1fr;
          gap: 32px;
          margin-bottom: 48px;
        }
        
        .actions-grid {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }
        
        .action-card {
          display: flex;
          align-items: center;
          gap: 20px;
          padding: 20px;
          background: #FFFFFF;
          border: 2px solid rgba(229, 220, 194, 0.4);
          border-radius: 16px;
          cursor: pointer;
          text-align: left;
          transition: all 0.3s ease;
          position: relative;
          color: #1A1A1A;
        }
        
        .action-card:hover {
          transform: translateX(4px);
          border-color: #3E5C49;
          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.15);
        }
        
        .action-icon {
          width: 48px;
          height: 48px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #FFFFFF;
          flex-shrink: 0;
          position: relative;
        }
        
        .action-badge {
          position: absolute;
          top: -4px;
          right: -4px;
          width: 12px;
          height: 12px;
          background: #C2571B;
          border-radius: 50%;
          border: 2px solid #FFFFFF;
          animation: pulse 2s infinite;
        }
        
        .action-content {
          flex: 1;
        }
        
        .action-title {
          font-size: 16px;
          font-weight: 600;
          color: #1A1A1A;
          margin-bottom: 4px;
        }
        
        .action-description {
          font-size: 14px;
          color: #4A4A4A;
        }
        
        .action-arrow {
          color: #4A4A4A;
          transition: transform 0.2s ease;
        }
        
        .action-card:hover .action-arrow {
          transform: translateX(4px);
          color: #3E5C49;
        }
        
        .progress-card {
          padding: 24px;
          background: #FFFFFF;
          border-radius: 16px;
        }
        
        .progress-item {
          margin-bottom: 20px;
        }
        
        .progress-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 12px;
        }
        
        .progress-label {
          font-size: 14px;
          font-weight: 500;
          color: #2E2E2E;
        }
        
        .progress-value {
          font-size: 18px;
          font-weight: 700;
          color: #3E5C49;
        }
        
        .progress-bar {
          width: 100%;
          height: 8px;
          background: #F3EED9;
          border-radius: 4px;
          overflow: hidden;
        }
        
        .progress-fill {
          height: 100%;
          background: linear-gradient(90deg, #3E5C49, #C2571B);
          transition: width 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .progress-metrics {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }
        
        .metric {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 12px;
          color: #4A4A4A;
        }
        
        .activity-list {
          background: #FFFFFF;
          border-radius: 16px;
          overflow: hidden;
        }
        
        .activity-item {
          display: flex;
          align-items: center;
          gap: 16px;
          padding: 20px;
          border-bottom: 1px solid #F3EED9;
        }
        
        .activity-item:last-child {
          border-bottom: none;
        }
        
        .activity-icon {
          width: 40px;
          height: 40px;
          background: #F3EED9;
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #3E5C49;
          flex-shrink: 0;
        }
        
        .activity-content {
          flex: 1;
        }
        
        .activity-title {
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
          margin-bottom: 4px;
        }
        
        .activity-description {
          font-size: 13px;
          color: #4A4A4A;
        }
        
        .activity-time {
          font-size: 12px;
          color: #4A4A4A;
          text-align: right;
        }

        .empty-activity {
          text-align: center;
          padding: 40px 20px;
          color: #4A4A4A;
        }

        .empty-activity svg {
          color: #C2C2C2;
          margin-bottom: 16px;
        }

        .empty-activity p {
          font-size: 16px;
          font-weight: 600;
          margin: 0 0 8px 0;
        }

        .empty-activity small {
          font-size: 14px;
          opacity: 0.7;
        }
        
        .view-all-button {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 8px 16px;
          background: #F3EED9;
          border: none;
          border-radius: 8px;
          color: #3E5C49;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }
        
        .view-all-button:hover {
          background: #EAEADC;
          transform: translateY(-1px);
        }
        
        /* Responsive Design */
        @media (max-width: 1024px) {
          .hero-content {
            grid-template-columns: 1fr;
            gap: 32px;
            text-align: center;
          }
          
          .dashboard-grid {
            grid-template-columns: 1fr;
            gap: 24px;
          }
        }
        
        @media (max-width: 768px) {
          .hero-section {
            padding: 32px 16px;
          }
          
          .hero-title {
            font-size: 28px;
          }
          
          .hero-subtitle {
            font-size: 16px;
          }
          
          .hero-actions {
            justify-content: center;
          }
          
          .dashboard-content {
            padding: 16px;
          }
          
          .stats-grid {
            grid-template-columns: 1fr;
            gap: 16px;
          }
          
          .section-title {
            font-size: 20px;
          }
          
          .floating-card {
            padding: 16px;
          }
        }
        
        @media (max-width: 480px) {
          .hero-button {
            width: 100%;
            justify-content: center;
          }
          
          .action-card {
            padding: 16px;
          }
          
          .activity-item {
            padding: 16px;
          }
          
          .stat-card {
            padding: 16px;
          }
        }
        
        /* Floating Actions */
        .floating-actions {
          position: fixed;
          bottom: 24px;
          right: 24px;
          z-index: 1000;
        }
        
        @media (max-width: 768px) {
          .floating-actions {
            bottom: 80px;
            right: 16px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/DocumentList.tsx":
/*!**************************************************!*\
  !*** ./src/renderer/components/DocumentList.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DocumentList: () => (/* binding */ DocumentList)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/wifi.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/wifi-off.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/loader-2.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/building.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/map-pin.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/calendar.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/hash.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/tag.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/heart.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/pen-square.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trash-2.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/arrow-up-narrow-wide.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/arrow-down-wide-narrow.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/plus.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/filter.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/search.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/layout-grid.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/list.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/table.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/image.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/grid.mjs");
/* harmony import */ var _ToastSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ToastSystem */ "./src/renderer/components/ToastSystem.tsx");




const DocumentList = ({ documents, onAdd, onEdit, onBorrow, onDelete, onRefresh, syncStatus, networkStatus }) => {
    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [selectedCategory, setSelectedCategory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('all');
    const [selectedSyncStatus, setSelectedSyncStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('all');
    const [filteredDocuments, setFilteredDocuments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [viewMode, setViewMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('grid');
    const [selectedDocument, setSelectedDocument] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [sortBy, setSortBy] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('titre');
    const [sortOrder, setSortOrder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('asc');
    const toast = (0,_ToastSystem__WEBPACK_IMPORTED_MODULE_2__.useQuickToast)();
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        filterAndSortDocuments();
    }, [documents, searchTerm, selectedCategory, selectedSyncStatus, sortBy, sortOrder]);
    const filterAndSortDocuments = () => {
        let filtered = documents;
        // Filtrage par terme de recherche
        if (searchTerm) {
            const term = searchTerm.toLowerCase();
            filtered = filtered.filter(doc => doc.titre.toLowerCase().includes(term) ||
                doc.auteur.toLowerCase().includes(term) ||
                doc.editeur.toLowerCase().includes(term) ||
                doc.descripteurs.toLowerCase().includes(term) ||
                doc.cote.toLowerCase().includes(term) ||
                (doc.isbn && doc.isbn.toLowerCase().includes(term)));
        }
        // Filtrage par catégorie (utilise les descripteurs)
        if (selectedCategory !== 'all') {
            filtered = filtered.filter(doc => doc.descripteurs.toLowerCase().includes(selectedCategory.toLowerCase()));
        }
        // Filtrage par statut de sync
        if (selectedSyncStatus !== 'all') {
            filtered = filtered.filter(doc => doc.syncStatus === selectedSyncStatus);
        }
        // Tri des documents
        filtered.sort((a, b) => {
            let valueA = '';
            let valueB = '';
            switch (sortBy) {
                case 'titre':
                    valueA = a.titre.toLowerCase();
                    valueB = b.titre.toLowerCase();
                    break;
                case 'auteur':
                    valueA = a.auteur.toLowerCase();
                    valueB = b.auteur.toLowerCase();
                    break;
                case 'annee':
                    valueA = parseInt(a.annee) || 0;
                    valueB = parseInt(b.annee) || 0;
                    break;
                case 'lastModified':
                    valueA = new Date(a.lastModified).getTime();
                    valueB = new Date(b.lastModified).getTime();
                    break;
            }
            if (valueA < valueB)
                return sortOrder === 'asc' ? -1 : 1;
            if (valueA > valueB)
                return sortOrder === 'asc' ? 1 : -1;
            return 0;
        });
        setFilteredDocuments(filtered);
    };
    const getUniqueCategories = () => {
        const categories = new Set();
        documents.forEach(doc => {
            doc.descripteurs.split(',').forEach(desc => {
                categories.add(desc.trim());
            });
        });
        return Array.from(categories).sort();
    };
    const toggleSort = (field) => {
        if (sortBy === field) {
            setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');
        }
        else {
            setSortBy(field);
            setSortOrder('asc');
        }
    };
    const getSyncStatusIcon = (status) => {
        switch (status) {
            case 'synced':
                return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { className: "sync-icon synced" });
            case 'pending':
                return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { className: "sync-icon pending" });
            case 'error':
                return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { className: "sync-icon error" });
            case 'conflict':
                return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { className: "sync-icon conflict" });
            default:
                return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { className: "sync-icon default" });
        }
    };
    const handleEdit = (document) => {
        onEdit(document);
        toast.info('Ouverture du formulaire de modification', `Pour "${document.titre}"`);
    };
    const handleBorrow = (document) => {
        if (onBorrow) {
            onBorrow(document);
            // Ne pas afficher de notification ici - elle sera affichée après confirmation dans le modal
        }
    };
    const handleDelete = (id) => {
        const document = documents.find(d => d.id === id);
        if (window.confirm('Êtes-vous sûr de vouloir supprimer ce document ?')) {
            onDelete(id);
            if (document) {
                toast.success('Document supprimé', `"${document.titre}" a été retiré de la collection`);
            }
        }
    };
    const handleView3D = (document) => {
        setSelectedDocument(document);
        toast.info('Vue 3D activée', `Exploration de "${document.titre}"`);
    };
    const getNetworkStatusDisplay = () => {
        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "network-status", children: [networkStatus.isOnline ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "status-item online", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 16 }), "En ligne"] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "status-item offline", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 16 }), "Hors ligne"] })), syncStatus.syncInProgress && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "status-item syncing", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16, className: "animate-spin" }), "Synchronisation..."] })), syncStatus.pendingOperations > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "status-item pending-ops", children: [syncStatus.pendingOperations, " en attente"] }))] }));
    };
    // Composant de carte document réutilisable
    const DocumentCard = ({ document }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-card", children: [document.couverture && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "document-cover", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img", { src: document.couverture, alt: `Couverture de ${document.titre}`, className: "cover-image", onError: (e) => {
                        e.currentTarget.style.display = 'none';
                    } }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-title-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "document-title", title: document.titre, children: document.titre }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "document-author", title: document.auteur, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 14 }), document.auteur] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-status", children: [getSyncStatusIcon(document.syncStatus), document.estEmprunte && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "borrowed-indicator", title: "Emprunt\u00E9" }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "detail-text", children: document.editeur })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "detail-text", children: document.lieuEdition })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "detail-text", children: document.annee })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "detail-text document-cote", children: document.cote })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item tags-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tags-container", children: [document.descripteurs.split(',').slice(0, 3).map((desc, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tag-badge", title: desc.trim(), children: desc.trim() }, index))), document.descripteurs.split(',').length > 3 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "tags-more", children: ["+", document.descripteurs.split(',').length - 3] }))] })] })] }), document.description && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "document-description", title: document.description, children: document.description })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-footer", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-meta", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "version-info", children: ["v", document.version] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "date-info", children: new Date(document.lastModified).toLocaleDateString('fr-FR') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-actions", children: [onBorrow && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => handleBorrow(document), className: "action-button borrow-button", title: document.estEmprunte ? "Retourner" : "Emprunter", disabled: !document.estEmprunte && document.syncStatus === 'error', children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 16 }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => handleEdit(document), className: "action-button edit-button", title: "Modifier", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => document.id && handleDelete(document.id), className: "action-button delete-button", title: "Supprimer", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 16 }) })] })] })] })] }));
    // Rendu en mode grille
    const renderGridView = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "documents-grid", children: filteredDocuments.map((document) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DocumentCard, { document: document }, document.id))) }));
    // Rendu en mode liste
    const renderListView = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "documents-list", children: filteredDocuments.map((document) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "document-list-item", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "list-item-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "list-item-main", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "list-item-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "list-item-title", children: document.titre }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "list-item-status", children: [getSyncStatusIcon(document.syncStatus), document.estEmprunte && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "borrowed-indicator" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "list-item-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "list-detail", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 12 }), document.auteur] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "list-detail", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 12 }), document.editeur] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "list-detail", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 12 }), document.annee] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "list-detail", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 12 }), document.cote] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "list-item-actions", children: [onBorrow && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => handleBorrow(document), className: "action-button borrow-button", title: document.estEmprunte ? "Retourner" : "Emprunter", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 14 }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => handleEdit(document), className: "action-button edit-button", title: "Modifier", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 14 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => document.id && handleDelete(document.id), className: "action-button delete-button", title: "Supprimer", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 14 }) })] })] }) }, document.id))) }));
    // Rendu en mode tableau
    const renderTableView = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "documents-table-container", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("table", { className: "documents-table", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("thead", { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("tr", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `sort-button ${sortBy === 'titre' ? 'active' : ''}`, onClick: () => toggleSort('titre'), children: ["Titre", sortBy === 'titre' && (sortOrder === 'asc' ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 14 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 14 }))] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `sort-button ${sortBy === 'auteur' ? 'active' : ''}`, onClick: () => toggleSort('auteur'), children: ["Auteur", sortBy === 'auteur' && (sortOrder === 'asc' ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 14 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 14 }))] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { children: "\u00C9diteur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `sort-button ${sortBy === 'annee' ? 'active' : ''}`, onClick: () => toggleSort('annee'), children: ["Ann\u00E9e", sortBy === 'annee' && (sortOrder === 'asc' ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 14 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 14 }))] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { children: "Cote" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { children: "Status" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { children: "Actions" })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("tbody", { children: filteredDocuments.map((document) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("tr", { className: document.estEmprunte ? 'borrowed-row' : '', children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td", { className: "title-cell", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "table-title", children: [document.titre, document.estEmprunte && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "borrowed-badge", children: "Emprunt\u00E9" })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td", { children: document.auteur }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td", { children: document.editeur }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td", { children: document.annee }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td", { className: "cote-cell", children: document.cote }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td", { className: "status-cell", children: getSyncStatusIcon(document.syncStatus) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td", { className: "actions-cell", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "table-actions", children: [onBorrow && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => handleBorrow(document), className: "action-button borrow-button", title: document.estEmprunte ? "Retourner" : "Emprunter", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 14 }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => handleEdit(document), className: "action-button edit-button", title: "Modifier", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 14 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => document.id && handleDelete(document.id), className: "action-button delete-button", title: "Supprimer", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 14 }) })] }) })] }, document.id))) })] }) }));
    // Rendu en mode mosaïque (images)
    const renderMosaicView = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "documents-mosaic", children: filteredDocuments.map((document) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mosaic-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mosaic-image", children: [document.couverture ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img", { src: document.couverture, alt: `Couverture de ${document.titre}`, className: "mosaic-cover", onError: (e) => {
                                e.currentTarget.style.display = 'none';
                            } })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mosaic-placeholder", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_20__["default"], { size: 32 }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mosaic-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mosaic-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "mosaic-title", children: document.titre }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "mosaic-author", children: document.auteur })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mosaic-actions", children: [onBorrow && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => handleBorrow(document), className: "action-button borrow-button", title: document.estEmprunte ? "Retourner" : "Emprunter", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 16 }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => handleEdit(document), className: "action-button edit-button", title: "Modifier", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 16 }) })] })] })] }), document.estEmprunte && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mosaic-borrowed-badge", children: "Emprunt\u00E9" })] }, document.id))) }));
    // Rendu en mode cartes compactes
    const renderCardsView = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "documents-cards", children: filteredDocuments.map((document) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "compact-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "card-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "card-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_20__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "card-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "card-title", children: document.titre }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "card-author", children: document.auteur })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "card-status", children: [getSyncStatusIcon(document.syncStatus), document.estEmprunte && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "borrowed-indicator" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "card-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "card-meta", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "meta-item", children: document.editeur }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "meta-item", children: document.annee }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "meta-item", children: document.cote })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "card-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => handleEdit(document), className: "action-button edit-button", title: "Modifier", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 14 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => document.id && handleDelete(document.id), className: "action-button delete-button", title: "Supprimer", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 14 }) })] })] })] }, document.id))) }));
    // Fonction principale de rendu selon le mode
    const renderDocuments = () => {
        switch (viewMode) {
            case 'list':
                return renderListView();
            case 'table':
                return renderTableView();
            case 'mosaic':
                return renderMosaicView();
            case 'cards':
                return renderCardsView();
            default:
                return renderGridView();
        }
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-list-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "page-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-main", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_20__["default"], { size: 28 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { className: "page-title", children: "Biblioth\u00E8que Num\u00E9rique" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "page-subtitle", children: [filteredDocuments.length, " document", filteredDocuments.length !== 1 ? 's' : '', " dans votre collection"] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-actions", children: [getNetworkStatusDisplay(), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { onClick: onAdd, className: "add-button", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_21__["default"], { size: 18 }), "Nouveau document"] })] })] }), syncStatus.lastSync && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "sync-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 14 }), "Derni\u00E8re synchronisation: ", new Date(syncStatus.lastSync).toLocaleString('fr-FR')] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "scrollable-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filters-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_22__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Filtres et recherche" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filters-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-field search-field", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "filter-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_23__["default"], { size: 16 }), "Rechercher"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: searchTerm, onChange: (e) => setSearchTerm(e.target.value), className: "filter-input", placeholder: "Titre, auteur, \u00E9diteur, cote, ISBN..." })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-field", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "filter-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16 }), "Cat\u00E9gorie"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: selectedCategory, onChange: (e) => setSelectedCategory(e.target.value), className: "filter-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Toutes les cat\u00E9gories" }), getUniqueCategories().map(category => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: category, children: category }, category)))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-field", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "filter-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 16 }), "Statut sync"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: selectedSyncStatus, onChange: (e) => setSelectedSyncStatus(e.target.value), className: "filter-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tous les statuts" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "synced", children: "Synchronis\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "pending", children: "En attente" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "error", children: "Erreur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "conflict", children: "Conflit" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-field", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "filter-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 16 }), "Trier par"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: sortBy, onChange: (e) => setSortBy(e.target.value), className: "filter-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "titre", children: "Titre" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "auteur", children: "Auteur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "annee", children: "Ann\u00E9e" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "lastModified", children: "Date de modification" })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "view-controls-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_24__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Affichage et tri" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "view-controls", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "view-mode-buttons", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `view-mode-btn ${viewMode === 'grid' ? 'active' : ''}`, onClick: () => setViewMode('grid'), title: "Vue en grille", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_25__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Grille" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `view-mode-btn ${viewMode === 'list' ? 'active' : ''}`, onClick: () => setViewMode('list'), title: "Vue en liste", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_26__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Liste" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `view-mode-btn ${viewMode === 'table' ? 'active' : ''}`, onClick: () => setViewMode('table'), title: "Vue en tableau", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_27__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Tableau" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `view-mode-btn ${viewMode === 'mosaic' ? 'active' : ''}`, onClick: () => setViewMode('mosaic'), title: "Vue mosa\u00EFque", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_28__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Mosa\u00EFque" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `view-mode-btn ${viewMode === 'cards' ? 'active' : ''}`, onClick: () => setViewMode('cards'), title: "Vue cartes compactes", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_29__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Cartes" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "sort-controls", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: `sort-order-btn ${sortOrder === 'asc' ? 'active' : ''}`, onClick: () => setSortOrder('asc'), title: "Tri croissant", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 18 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: `sort-order-btn ${sortOrder === 'desc' ? 'active' : ''}`, onClick: () => setSortOrder('desc'), title: "Tri d\u00E9croissant", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 18 }) })] })] })] })] }), filteredDocuments.length > 0 ? (renderDocuments()) : (
                    /* Message vide */
                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "empty-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "empty-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_20__["default"], { size: 64 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "empty-title", children: searchTerm || selectedCategory !== 'all' || selectedSyncStatus !== 'all'
                                    ? 'Aucun document trouvé'
                                    : 'Votre bibliothèque est vide' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "empty-description", children: searchTerm || selectedCategory !== 'all' || selectedSyncStatus !== 'all'
                                    ? 'Essayez de modifier vos critères de recherche pour trouver ce que vous cherchez.'
                                    : 'Commencez par ajouter votre premier document pour enrichir votre collection.' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { onClick: onAdd, className: "empty-action-button", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_21__["default"], { size: 18 }), "Ajouter un document"] })] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .document-list-container {
          padding: 24px;
          background: linear-gradient(135deg, #F8F6F0 0%, #FFFFFF 100%);
          height: 100vh;
          display: flex;
          flex-direction: column;
          gap: 24px;
          overflow: hidden;
        }

        .scrollable-content {
          flex: 1;
          overflow-y: auto;
          display: flex;
          flex-direction: column;
          gap: 24px;
          padding-right: 8px;
          padding-bottom: 80px; /* Augmenter le padding pour une meilleure visibilité des derniers documents */
          min-height: 0; /* Permettre au flex child de shrink */
        }

        .scrollable-content::-webkit-scrollbar {
          width: 8px;
        }

        .scrollable-content::-webkit-scrollbar-track {
          background: rgba(229, 220, 194, 0.2);
          border-radius: 4px;
        }

        .scrollable-content::-webkit-scrollbar-thumb {
          background: rgba(62, 92, 73, 0.3);
          border-radius: 4px;
        }

        .scrollable-content::-webkit-scrollbar-thumb:hover {
          background: rgba(62, 92, 73, 0.5);
        }

        /* En-tête principal */
        .page-header {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          border-radius: 20px;
          padding: 32px;
          color: #F3EED9;
          position: relative;
          overflow: hidden;
          box-shadow: 0 12px 32px rgba(62, 92, 73, 0.15);
        }

        .page-header::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: radial-gradient(circle at 80% 20%, rgba(243, 238, 217, 0.1) 0%, transparent 50%);
          pointer-events: none;
        }

        .header-content {
          display: flex;
          align-items: center;
          justify-content: space-between;
          position: relative;
          z-index: 1;
          gap: 24px;
        }

        .header-main {
          display: flex;
          align-items: center;
          gap: 20px;
        }

        .header-icon {
          width: 64px;
          height: 64px;
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          border-radius: 18px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);
        }

        .header-text {
          flex: 1;
        }

        .page-title {
          font-size: 28px;
          font-weight: 700;
          margin: 0 0 6px 0;
          line-height: 1.2;
          letter-spacing: -0.4px;
        }

        .page-subtitle {
          font-size: 16px;
          opacity: 0.9;
          margin: 0;
          font-weight: 400;
        }

        .header-actions {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .network-status {
          display: flex;
          align-items: center;
          gap: 12px;
          font-size: 14px;
        }

        .status-item {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 6px 12px;
          border-radius: 8px;
          background: rgba(243, 238, 217, 0.1);
          font-weight: 500;
        }

        .status-item.online { color: #10B981; }
        .status-item.offline { color: #EF4444; }
        .status-item.syncing { color: #3B82F6; }
        .status-item.pending-ops { color: #F59E0B; }

        .add-button {
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          color: #F3EED9;
          border: none;
          padding: 12px 20px;
          border-radius: 12px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 8px;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          box-shadow: 0 4px 16px rgba(194, 87, 27, 0.2);
        }

        .add-button:hover {
          background: linear-gradient(135deg, #A8481A 0%, #8A3C18 100%);
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);
        }

        .sync-info {
          display: flex;
          align-items: center;
          gap: 8px;
          margin-top: 16px;
          font-size: 13px;
          opacity: 0.8;
          position: relative;
          z-index: 1;
        }

        /* Section des filtres */
        .filters-section {
          background: #FFFFFF;
          border-radius: 16px;
          padding: 24px;
          border: 1px solid rgba(229, 220, 194, 0.3);
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.04);
        }

        .section-header {
          display: flex;
          align-items: center;
          gap: 16px;
          margin-bottom: 20px;
        }

        .section-icon {
          width: 40px;
          height: 40px;
          background: rgba(62, 92, 73, 0.1);
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #3E5C49;
        }

        .section-title {
          font-size: 18px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0;
        }

        .filters-grid {
          display: grid;
          grid-template-columns: 2fr 1fr 1fr;
          gap: 20px;
        }

        .filter-field {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .filter-field.search-field {
          position: relative;
        }

        .filter-label {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
        }

        .filter-input,
        .filter-select {
          padding: 12px 16px;
          border: 2px solid #B8A678;
          border-radius: 8px;
          font-size: 14px;
          background: #FFFFFF;
          color: #1A1A1A;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          box-sizing: border-box;
        }

        .filter-input:focus,
        .filter-select:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.25);
          background: #FEFEFE;
        }

        /* Grille des documents */
        .documents-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
          gap: 24px;
        }

        .document-card {
          background: #FFFFFF;
          border-radius: 16px;
          overflow: hidden;
          border: 1px solid rgba(229, 220, 194, 0.3);
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.04);
          display: flex;
          flex-direction: column;
        }

        .document-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 12px 32px rgba(0, 0, 0, 0.1);
          border-color: rgba(62, 92, 73, 0.2);
        }

        .document-cover {
          height: 200px;
          background: linear-gradient(135deg, #F8F6F0 0%, #E5DCC2 100%);
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: hidden;
        }

        .cover-image {
          width: 100%;
          height: 100%;
          object-fit: cover;
          transition: transform 0.3s ease;
        }

        .document-card:hover .cover-image {
          transform: scale(1.05);
        }

        .document-content {
          padding: 20px;
          display: flex;
          flex-direction: column;
          gap: 16px;
          flex: 1;
        }

        .document-header {
          display: flex;
          align-items: flex-start;
          justify-content: space-between;
          gap: 12px;
        }

        .document-title-section {
          flex: 1;
          min-width: 0;
        }

        .document-title {
          font-size: 16px;
          font-weight: 600;
          color: #1A1A1A;
          margin: 0 0 6px 0;
          line-height: 1.3;
          overflow: hidden;
          text-overflow: ellipsis;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
        }

        .document-author {
          font-size: 14px;
          color: #4A4A4A;
          margin: 0;
          display: flex;
          align-items: center;
          gap: 6px;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }

        .document-status {
          display: flex;
          align-items: center;
          gap: 8px;
          flex-shrink: 0;
        }

        .sync-icon {
          width: 16px;
          height: 16px;
        }

        .sync-icon.synced { color: #10B981; }
        .sync-icon.pending { color: #F59E0B; }
        .sync-icon.error { color: #EF4444; }
        .sync-icon.conflict { color: #F97316; }
        .sync-icon.default { color: #6B7280; }

        .borrowed-indicator {
          width: 8px;
          height: 8px;
          background: #F97316;
          border-radius: 50%;
        }

        .document-details {
          display: flex;
          flex-direction: column;
          gap: 10px;
        }

        .detail-item {
          display: flex;
          align-items: flex-start;
          gap: 8px;
          font-size: 13px;
          color: #4A4A4A;
          min-height: 20px;
        }

        .detail-item svg {
          flex-shrink: 0;
          margin-top: 1px;
        }

        .detail-text {
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
          flex: 1;
        }

        .document-cote {
          font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
          font-size: 12px;
          font-weight: 500;
        }

        .tags-item {
          align-items: flex-start;
        }

        .tags-container {
          display: flex;
          flex-wrap: wrap;
          gap: 6px;
          flex: 1;
        }

        .tag-badge {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
          font-size: 11px;
          padding: 4px 8px;
          border-radius: 12px;
          font-weight: 500;
          max-width: 80px;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }

        .tags-more {
          font-size: 11px;
          color: #6B7280;
          font-weight: 500;
        }

        .document-description {
          font-size: 13px;
          color: #4A4A4A;
          line-height: 1.4;
          margin: 0;
          overflow: hidden;
          text-overflow: ellipsis;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
        }

        .document-footer {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding-top: 16px;
          border-top: 1px solid rgba(229, 220, 194, 0.3);
          margin-top: auto;
        }

        .document-meta {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 11px;
          color: #6B7280;
        }

        .version-info {
          font-weight: 600;
        }

        .document-actions {
          display: flex;
          gap: 8px;
        }

        .action-button {
          width: 32px;
          height: 32px;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .edit-button {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }

        .edit-button:hover {
          background: rgba(62, 92, 73, 0.2);
          transform: translateY(-1px);
        }

        .delete-button {
          background: rgba(239, 68, 68, 0.1);
          color: #EF4444;
        }

        .delete-button:hover {
          background: rgba(239, 68, 68, 0.2);
          transform: translateY(-1px);
        }

        .borrow-button {
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
        }

        .borrow-button:hover:not(:disabled) {
          background: rgba(194, 87, 27, 0.2);
          transform: translateY(-1px);
        }

        .borrow-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        /* État vide */
        .empty-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          text-align: center;
          padding: 60px 20px;
          background: #FFFFFF;
          border-radius: 16px;
          border: 1px solid rgba(229, 220, 194, 0.3);
        }

        .empty-icon {
          width: 80px;
          height: 80px;
          background: rgba(62, 92, 73, 0.1);
          border-radius: 20px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #3E5C49;
          margin-bottom: 24px;
        }

        .empty-title {
          font-size: 20px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 12px 0;
        }

        .empty-description {
          font-size: 16px;
          color: #4A4A4A;
          margin: 0 0 32px 0;
          max-width: 480px;
          line-height: 1.5;
        }

        .empty-action-button {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          border: none;
          padding: 14px 28px;
          border-radius: 12px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 10px;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.2);
        }

        .empty-action-button:hover {
          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.3);
        }

        /* Animation de rotation */
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        .animate-spin {
          animation: spin 1s linear infinite;
        }

        /* Responsive */
        @media (max-width: 1024px) {
          .filters-grid {
            grid-template-columns: 1fr;
            gap: 16px;
          }

          .documents-grid {
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
          }
        }

        @media (max-width: 768px) {
          .document-list-container {
            padding: 16px;
            gap: 16px;
          }

          .page-header {
            padding: 24px;
          }

          .header-content {
            flex-direction: column;
            align-items: stretch;
            gap: 20px;
          }

          .header-main {
            flex-direction: column;
            text-align: center;
            gap: 16px;
          }

          .header-actions {
            justify-content: center;
            flex-wrap: wrap;
          }

          .network-status {
            justify-content: center;
            flex-wrap: wrap;
          }

          .filters-section {
            padding: 20px;
          }

          .documents-grid {
            grid-template-columns: 1fr;
            gap: 16px;
          }

          .document-card {
            border-radius: 12px;
          }

          .document-content {
            padding: 16px;
            gap: 12px;
          }

          .document-title {
            font-size: 15px;
          }

          .empty-state {
            padding: 40px 16px;
          }

          .empty-title {
            font-size: 18px;
          }

          .empty-description {
            font-size: 14px;
          }
        }

        @media (max-width: 480px) {
          .document-list-container {
            padding: 12px;
          }

          .page-header {
            padding: 20px;
            border-radius: 16px;
          }

          .header-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
          }

          .page-title {
            font-size: 24px;
          }

          .page-subtitle {
            font-size: 14px;
          }

          .add-button {
            padding: 10px 16px;
            font-size: 13px;
          }

          .section-title {
            font-size: 16px;
          }

          .filters-section {
            padding: 16px;
          }

          .document-cover {
            height: 160px;
          }

          .document-content {
            padding: 14px;
          }

          .document-title {
            font-size: 14px;
          }

          .document-author {
            font-size: 13px;
          }

          .detail-item {
            font-size: 12px;
          }

          .tag-badge {
            font-size: 10px;
            padding: 3px 6px;
            max-width: 60px;
          }

          .empty-state {
            padding: 32px 12px;
          }

          .empty-icon {
            width: 64px;
            height: 64px;
            border-radius: 16px;
            margin-bottom: 20px;
          }

          .empty-title {
            font-size: 16px;
          }

          .empty-description {
            font-size: 13px;
            margin-bottom: 24px;
          }

          .empty-action-button {
            padding: 12px 20px;
            font-size: 14px;
          }
        }

        /* États de focus pour accessibilité */
        .add-button:focus-visible,
        .empty-action-button:focus-visible,
        .action-button:focus-visible {
          outline: 2px solid #3E5C49;
          outline-offset: 2px;
        }

        .filter-input:focus-visible,
        .filter-select:focus-visible {
          outline: none;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.2);
        }

        /* Animation d'entrée pour les cartes */
        @keyframes cardSlideIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .document-card {
          animation: cardSlideIn 0.4s ease-out forwards;
        }

        .document-card:nth-child(1) { animation-delay: 0ms; }
        .document-card:nth-child(2) { animation-delay: 50ms; }
        .document-card:nth-child(3) { animation-delay: 100ms; }
        .document-card:nth-child(4) { animation-delay: 150ms; }
        .document-card:nth-child(5) { animation-delay: 200ms; }
        .document-card:nth-child(6) { animation-delay: 250ms; }

        /* Animation pour les filtres */
        .filters-section {
          animation: cardSlideIn 0.3s ease-out;
        }

        /* Amélioration du contraste pour l'accessibilité */
        @media (prefers-contrast: high) {
          .document-card {
            border: 2px solid #2E2E2E;
          }

          .tag-badge {
            background: #3E5C49;
            color: #FFFFFF;
          }

          .detail-item {
            color: #2E2E2E;
          }
        }

        /* Respect des préférences de mouvement réduit */
        @media (prefers-reduced-motion: reduce) {
          .document-card,
          .filters-section,
          .add-button,
          .empty-action-button,
          .action-button,
          .cover-image {
            animation: none;
            transition: none;
          }

          .animate-spin {
            animation: none;
          }
        }

        /* ====================================
           STYLES POUR LES MODES D'AFFICHAGE
           ==================================== */

        /* Section contrôles de vue */
        .view-controls-section {
          background: rgba(255, 255, 255, 0.8);
          backdrop-filter: blur(10px);
          border: 1px solid rgba(229, 220, 194, 0.3);
          border-radius: 16px;
          padding: 24px;
          margin-bottom: 24px;
        }

        .view-controls {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 24px;
          flex-wrap: wrap;
        }

        .view-mode-buttons {
          display: flex;
          gap: 8px;
          background: rgba(229, 220, 194, 0.2);
          border-radius: 12px;
          padding: 4px;
        }

        .view-mode-btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 16px;
          border: none;
          background: transparent;
          color: #4A4A4A;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.3s ease;
          font-size: 14px;
          font-weight: 500;
        }

        .view-mode-btn:hover {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }

        .view-mode-btn.active {
          background: #3E5C49;
          color: #FFFFFF;
          box-shadow: 0 2px 8px rgba(62, 92, 73, 0.3);
        }

        .sort-controls {
          display: flex;
          gap: 4px;
          background: rgba(229, 220, 194, 0.2);
          border-radius: 8px;
          padding: 4px;
        }

        .sort-order-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 8px;
          border: none;
          background: transparent;
          color: #4A4A4A;
          border-radius: 4px;
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .sort-order-btn:hover {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }

        .sort-order-btn.active {
          background: #3E5C49;
          color: #FFFFFF;
        }

        /* ====================================
           MODE LISTE
           ==================================== */

        .documents-list {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .document-list-item {
          background: #FFFFFF;
          border: 1px solid rgba(229, 220, 194, 0.4);
          border-radius: 12px;
          padding: 20px;
          transition: all 0.3s ease;
          animation: cardSlideIn 0.4s ease-out forwards;
        }

        .document-list-item:hover {
          border-color: #3E5C49;
          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.1);
          transform: translateY(-2px);
        }

        .list-item-content {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 20px;
        }

        .list-item-main {
          flex: 1;
        }

        .list-item-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 12px;
        }

        .list-item-title {
          font-size: 18px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0;
        }

        .list-item-status {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .list-item-details {
          display: flex;
          gap: 24px;
          flex-wrap: wrap;
        }

        .list-detail {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 14px;
          color: #4A4A4A;
        }

        .list-item-actions {
          display: flex;
          gap: 8px;
          flex-shrink: 0;
        }

        /* ====================================
           MODE TABLEAU
           ==================================== */

        .documents-table-container {
          background: #FFFFFF;
          border: 1px solid rgba(229, 220, 194, 0.4);
          border-radius: 16px;
          overflow: auto; /* Permettre le scroll complet */
          animation: cardSlideIn 0.4s ease-out forwards;
          max-height: 65vh; /* Limiter la hauteur pour permettre le scroll */
        }

        .documents-table {
          width: 100%;
          border-collapse: collapse;
          min-width: 800px; /* Largeur minimum pour le scroll horizontal sur mobiles */
        }

        .documents-table thead {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
        }

        .documents-table th {
          padding: 16px 20px;
          text-align: left;
          font-weight: 600;
          font-size: 14px;
          border: none;
        }

        .sort-button {
          display: flex;
          align-items: center;
          gap: 8px;
          background: none;
          border: none;
          color: #F3EED9;
          cursor: pointer;
          font-size: 14px;
          font-weight: 600;
          padding: 0;
          transition: all 0.3s ease;
        }

        .sort-button:hover {
          color: #E5DCC2;
        }

        .sort-button.active {
          color: #FFFFFF;
        }

        .documents-table tbody tr {
          border-bottom: 1px solid rgba(229, 220, 194, 0.3);
          transition: all 0.3s ease;
        }

        .documents-table tbody tr:hover {
          background: rgba(62, 92, 73, 0.05);
        }

        .documents-table tbody tr.borrowed-row {
          background: rgba(194, 87, 27, 0.05);
        }

        .documents-table td {
          padding: 16px 20px;
          vertical-align: middle;
          color: #2E2E2E;
          font-size: 14px;
        }

        .title-cell {
          font-weight: 600;
        }

        .table-title {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .borrowed-badge {
          background: #C2571B;
          color: #FFFFFF;
          padding: 4px 8px;
          border-radius: 6px;
          font-size: 11px;
          font-weight: 600;
          text-transform: uppercase;
        }

        .cote-cell {
          font-family: 'Courier New', monospace;
          font-weight: 600;
          color: #3E5C49;
        }

        .status-cell {
          text-align: center;
        }

        .actions-cell {
          text-align: center;
        }

        .table-actions {
          display: flex;
          gap: 8px;
          justify-content: center;
        }

        /* ====================================
           MODE MOSAÏQUE
           ==================================== */

        .documents-mosaic {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
          gap: 20px;
        }

        .mosaic-item {
          position: relative;
          border-radius: 12px;
          overflow: hidden;
          animation: cardSlideIn 0.4s ease-out forwards;
        }

        .mosaic-image {
          position: relative;
          aspect-ratio: 3/4;
          overflow: hidden;
          border-radius: 12px;
          background: linear-gradient(135deg, #F3EED9 0%, #E5DCC2 100%);
        }

        .mosaic-cover {
          width: 100%;
          height: 100%;
          object-fit: cover;
          transition: transform 0.3s ease;
        }

        .mosaic-placeholder {
          width: 100%;
          height: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #4A4A4A;
        }

        .mosaic-overlay {
          position: absolute;
          bottom: 0;
          left: 0;
          right: 0;
          background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
          color: white;
          padding: 20px;
          transform: translateY(100%);
          transition: transform 0.3s ease;
        }

        .mosaic-item:hover .mosaic-overlay {
          transform: translateY(0);
        }

        .mosaic-item:hover .mosaic-cover {
          transform: scale(1.05);
        }

        .mosaic-info {
          margin-bottom: 12px;
        }

        .mosaic-title {
          font-size: 16px;
          font-weight: 600;
          margin: 0 0 4px 0;
          line-height: 1.3;
        }

        .mosaic-author {
          font-size: 14px;
          opacity: 0.9;
          margin: 0;
        }

        .mosaic-actions {
          display: flex;
          gap: 8px;
        }

        .mosaic-borrowed-badge {
          position: absolute;
          top: 8px;
          right: 8px;
          background: #C2571B;
          color: white;
          padding: 4px 8px;
          border-radius: 6px;
          font-size: 11px;
          font-weight: 600;
          text-transform: uppercase;
        }

        /* ====================================
           MODE CARTES COMPACTES
           ==================================== */

        .documents-cards {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
          gap: 16px;
        }

        .compact-card {
          background: #FFFFFF;
          border: 1px solid rgba(229, 220, 194, 0.4);
          border-radius: 12px;
          padding: 16px;
          transition: all 0.3s ease;
          animation: cardSlideIn 0.4s ease-out forwards;
        }

        .compact-card:hover {
          border-color: #3E5C49;
          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.1);
          transform: translateY(-2px);
        }

        .card-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 12px;
        }

        .card-icon {
          width: 40px;
          height: 40px;
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }

        .card-info {
          flex: 1;
          min-width: 0;
        }

        .card-title {
          font-size: 16px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 4px 0;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .card-author {
          font-size: 14px;
          color: #4A4A4A;
          margin: 0;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .card-status {
          display: flex;
          align-items: center;
          gap: 8px;
          flex-shrink: 0;
        }

        .card-details {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 12px;
        }

        .card-meta {
          display: flex;
          gap: 12px;
          flex-wrap: wrap;
          flex: 1;
        }

        .meta-item {
          font-size: 12px;
          color: #4A4A4A;
          background: rgba(243, 238, 217, 0.5);
          padding: 4px 8px;
          border-radius: 6px;
        }

        .card-actions {
          display: flex;
          gap: 4px;
          flex-shrink: 0;
        }

        /* ====================================
           RESPONSIVE DESIGN
           ==================================== */

        @media (max-width: 1024px) {
          .view-controls {
            flex-direction: column;
            align-items: stretch;
            gap: 16px;
          }

          .view-mode-buttons {
            justify-content: center;
          }

          .documents-mosaic {
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
          }

          .documents-cards {
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
          }
        }

        @media (max-width: 768px) {
          .view-mode-buttons {
            flex-wrap: wrap;
          }

          .view-mode-btn span {
            display: none;
          }

          .list-item-content {
            flex-direction: column;
            align-items: flex-start;
            gap: 16px;
          }

          .list-item-actions {
            align-self: flex-end;
          }

          .documents-table-container {
            overflow-x: auto;
          }

          .documents-table {
            min-width: 600px;
          }

          .documents-mosaic {
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
          }

          .documents-cards {
            grid-template-columns: 1fr;
          }

          .card-meta {
            flex-direction: column;
            gap: 4px;
          }
        }

        /* Dark mode support (optionnel) */
        @media (prefers-color-scheme: dark) {
          .document-list-container {
            background: linear-gradient(135deg, #1A1A1A 0%, #2D2D2D 100%);
          }

          .page-header {
            background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);
          }

          .filters-section,
          .document-card,
          .empty-state {
            background: #2D2D2D;
            border-color: rgba(255, 255, 255, 0.1);
          }

          .document-title,
          .section-title,
          .empty-title {
            color: #FFFFFF;
          }

          .document-author,
          .detail-item,
          .document-description,
          .empty-description {
            color: #B0B0B0;
          }

          .filter-input,
          .filter-select {
            background: #2D2D2D;
            border-color: rgba(255, 255, 255, 0.2);
            color: #FFFFFF;
          }

          .filter-label {
            color: #FFFFFF;
          }

          .tag-badge {
            background: rgba(62, 92, 73, 0.3);
            color: #A8D5BA;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/EnhancedAuthentication.tsx":
/*!************************************************************!*\
  !*** ./src/renderer/components/EnhancedAuthentication.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EnhancedAuthentication: () => (/* binding */ EnhancedAuthentication)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/school.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/graduation-cap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/library.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/building.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/log-in.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/zap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/mail.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/lock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye-off.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/key-round.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/map-pin.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/shield.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/arrow-right.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/wifi-off.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/bar-chart-3.mjs");

// src/renderer/components/EnhancedAuthentication.tsx - Version redesignée moderne


const EnhancedAuthentication = ({ onLogin }) => {
    const [mode, setMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('login');
    const [step, setStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [success, setSuccess] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [showPassword, setShowPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    // Données du formulaire de connexion
    const [loginData, setLoginData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => {
        // Charger les informations de dernière connexion
        try {
            const { LocalAuthService } = __webpack_require__(/*! ../services/LocalAuthService */ "./src/renderer/services/LocalAuthService.ts");
            const lastLogin = LocalAuthService.getLastLoginInfo();
            if (lastLogin) {
                return {
                    email: lastLogin.email,
                    password: lastLogin.password || '',
                    institutionCode: lastLogin.institutionCode
                };
            }
        }
        catch (error) {
            console.log('Impossible de charger les dernières informations de connexion');
        }
        return {
            email: '',
            password: '',
            institutionCode: ''
        };
    });
    // Données pour la création d'établissement
    const [institutionData, setInstitutionData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        name: '',
        type: 'library',
        city: '',
        adminEmail: '',
        adminPassword: '',
        adminFirstName: '',
        adminLastName: ''
    });
    const handleSubmit = async (e) => {
        e.preventDefault();
        setError('');
        setSuccess('');
        setIsLoading(true);
        try {
            if (mode === 'login') {
                await onLogin({
                    email: loginData.email,
                    password: loginData.password,
                    institutionCode: loginData.institutionCode,
                    mode: 'login'
                });
            }
            else if (mode === 'create_institution') {
                if (step === 4) {
                    await onLogin({
                        email: institutionData.adminEmail,
                        password: institutionData.adminPassword,
                        mode: 'create_institution',
                        userData: {
                            institution: institutionData,
                            admin: {
                                firstName: institutionData.adminFirstName,
                                lastName: institutionData.adminLastName
                            }
                        }
                    });
                }
            }
        }
        catch (err) {
            setError(err.message || 'Erreur de connexion');
        }
        finally {
            setIsLoading(false);
        }
    };
    const nextStep = () => {
        if (step === 1 && institutionData.name) {
            setStep(2);
        }
        else if (step === 2 && institutionData.type) {
            setStep(3);
        }
        else if (step === 3 && institutionData.city) {
            setStep(4);
        }
    };
    const previousStep = () => {
        if (step > 1) {
            setStep(step - 1);
        }
    };
    const institutionTypes = [
        { value: 'school', label: 'École/Lycée', icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], color: '#3E5C49', description: 'Établissement scolaire primaire ou secondaire' },
        { value: 'university', label: 'Université', icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], color: '#C2571B', description: 'Enseignement supérieur et recherche' },
        { value: 'library', label: 'Bibliothèque', icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], color: '#2E453A', description: 'Bibliothèque publique ou municipale' },
        { value: 'other', label: 'Organisation', icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], color: '#5A6B5D', description: 'Autre type d\'organisation' }
    ];
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "enhanced-auth-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "auth-background", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "gradient-orb orb-1" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "gradient-orb orb-2" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "gradient-orb orb-3" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "floating-elements", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "element element-1", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "element element-2", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "element element-3", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 28 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "element element-4", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 22 }) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "auth-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "auth-header", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "logo-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "logo-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 32 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "logo-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { children: "Biblioth\u00E8que" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Syst\u00E8me de gestion local" })] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "main-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "auth-card glass-effect", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "auth-tabs", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `tab ${mode === 'login' ? 'active' : ''}`, onClick: () => { setMode('login'); setStep(1); setError(''); }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Connexion" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `tab ${mode === 'create_institution' ? 'active' : ''}`, onClick: () => { setMode('create_institution'); setStep(1); setError(''); }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Nouvel \u00C9tablissement" })] })] }), error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "message error", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: error })] })), success && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "message success", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: success })] })), mode === 'login' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "login-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { children: "Connexion Rapide" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Acc\u00E9dez \u00E0 votre biblioth\u00E8que en quelques secondes" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form", { onSubmit: handleSubmit, className: "auth-form", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Email ou nom d'utilisateur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: loginData.email, onChange: (e) => setLoginData(prev => ({ ...prev, email: e.target.value })), placeholder: "admin@local", required: true, disabled: isLoading })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Mot de passe" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: showPassword ? 'text' : 'password', value: loginData.password, onChange: (e) => setLoginData(prev => ({ ...prev, password: e.target.value })), placeholder: "Votre mot de passe", required: true, disabled: isLoading }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", className: "toggle-password", onClick: () => setShowPassword(!showPassword), children: showPassword ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 18 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 18 }) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Code d'acc\u00E8s \u00E9tablissement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: loginData.institutionCode, onChange: (e) => setLoginData(prev => ({ ...prev, institutionCode: e.target.value })), placeholder: "Code d'acc\u00E8s de votre \u00E9tablissement", required: true, disabled: isLoading })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "submit", className: "submit-btn", disabled: !loginData.email || !loginData.password || !loginData.institutionCode || isLoading, children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "spinner" }), "Connexion..."] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 18 }), "Se connecter"] })) })] })] })), mode === 'create_institution' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "institution-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "progress-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-bar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-fill", style: { width: `${(step / 4) * 100}%` } }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "progress-steps", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `progress-step ${step >= 1 ? 'active' : ''} ${step === 1 ? 'current' : ''}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "step-circle", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 14 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "step-label", children: "Nom" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `progress-step ${step >= 2 ? 'active' : ''} ${step === 2 ? 'current' : ''}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "step-circle", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 14 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "step-label", children: "Type" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `progress-step ${step >= 3 ? 'active' : ''} ${step === 3 ? 'current' : ''}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "step-circle", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 14 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "step-label", children: "Lieu" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `progress-step ${step >= 4 ? 'active' : ''} ${step === 4 ? 'current' : ''}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "step-circle", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 14 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "step-label", children: "Admin" })] })] })] }), step === 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { children: "Nom de votre \u00E9tablissement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Choisissez un nom unique pour identifier votre biblioth\u00E8que" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form", { onSubmit: (e) => { e.preventDefault(); nextStep(); }, className: "auth-form", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 18 }), "Nom de l'\u00E9tablissement *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "input-group", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionData.name, onChange: (e) => setInstitutionData(prev => ({ ...prev, name: e.target.value })), placeholder: "\u00C9cole Primaire Martin Luther King", required: true, disabled: isLoading, autoFocus: true }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("small", { children: "Ce nom appara\u00EEtra dans l'interface de votre biblioth\u00E8que" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-info-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "info-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Conseils pour le nom" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ul", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Utilisez le nom officiel de votre \u00E9tablissement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "\u00C9vitez les abr\u00E9viations trop complexes" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Vous pourrez le modifier plus tard si n\u00E9cessaire" })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "form-actions", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { type: "submit", className: "submit-btn primary", disabled: !institutionData.name.trim() || isLoading, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Continuer" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_20__["default"], { size: 16 })] }) })] })] })), step === 2 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { children: "Type d'\u00E9tablissement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "S\u00E9lectionnez le type qui correspond le mieux \u00E0 votre organisation" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form", { onSubmit: (e) => { e.preventDefault(); nextStep(); }, className: "auth-form", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 18 }), "Choisissez votre type *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "type-selector", children: institutionTypes.map((type) => {
                                                                            const IconComponent = type.icon;
                                                                            const isSelected = institutionData.type === type.value;
                                                                            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: `type-option ${isSelected ? 'selected' : ''}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "radio", name: "type", value: type.value, checked: isSelected, onChange: (e) => setInstitutionData(prev => ({ ...prev, type: e.target.value })), disabled: isLoading }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "type-card-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "type-icon-wrapper", style: { backgroundColor: isSelected ? type.color : 'rgba(110, 110, 110, 0.1)' }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IconComponent, { size: 20, color: isSelected ? '#F3EED9' : type.color }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "type-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "type-name", children: type.label }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "type-description", children: [type.value === 'school' && 'Établissement scolaire', type.value === 'university' && 'Enseignement supérieur', type.value === 'library' && 'Bibliothèque publique', type.value === 'other' && 'Autre organisation'] })] }), isSelected && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "selection-indicator", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 18, color: type.color }) }))] })] }, type.value));
                                                                        }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", onClick: previousStep, className: "submit-btn secondary", disabled: isLoading, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Retour" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { type: "submit", className: "submit-btn primary", disabled: !institutionData.type || isLoading, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Continuer" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_20__["default"], { size: 16 })] })] })] })] })), step === 3 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { children: "Localisation" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Indiquez o\u00F9 se trouve votre \u00E9tablissement" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form", { onSubmit: (e) => { e.preventDefault(); nextStep(); }, className: "auth-form", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 18 }), "Ville *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "input-group", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionData.city, onChange: (e) => setInstitutionData(prev => ({ ...prev, city: e.target.value })), placeholder: "Paris", required: true, disabled: isLoading, autoFocus: true }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("small", { children: "Ville o\u00F9 se trouve votre \u00E9tablissement" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "establishment-preview", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "R\u00E9capitulatif" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "preview-label", children: "Nom :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "preview-value", children: institutionData.name })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "preview-label", children: "Type :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "preview-value", children: institutionTypes.find(t => t.value === institutionData.type)?.label })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "preview-label", children: "Ville :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "preview-value", children: institutionData.city || 'À compléter' })] })] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", onClick: previousStep, className: "submit-btn secondary", disabled: isLoading, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Retour" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { type: "submit", className: "submit-btn primary", disabled: !institutionData.city.trim() || isLoading, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Continuer" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_20__["default"], { size: 16 })] })] })] })] })), step === 4 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { children: "Compte administrateur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Cr\u00E9ez le compte administrateur principal de votre \u00E9tablissement" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form", { onSubmit: handleSubmit, className: "auth-form", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_21__["default"], { size: 18 }), "Pr\u00E9nom *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "input-group", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionData.adminFirstName, onChange: (e) => setInstitutionData(prev => ({ ...prev, adminFirstName: e.target.value })), placeholder: "Jean", required: true, disabled: isLoading, autoFocus: true }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_21__["default"], { size: 18 }), "Nom *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "input-group", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionData.adminLastName, onChange: (e) => setInstitutionData(prev => ({ ...prev, adminLastName: e.target.value })), placeholder: "Dupont", required: true, disabled: isLoading }) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 18 }), "Email administrateur *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "input-group", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "email", value: institutionData.adminEmail, onChange: (e) => setInstitutionData(prev => ({ ...prev, adminEmail: e.target.value })), placeholder: "admin@etablissement.fr", required: true, disabled: isLoading }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("small", { children: "Utilis\u00E9 pour la connexion \u00E0 votre biblioth\u00E8que" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 18 }), "Mot de passe administrateur *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: showPassword ? 'text' : 'password', value: institutionData.adminPassword, onChange: (e) => setInstitutionData(prev => ({ ...prev, adminPassword: e.target.value })), placeholder: "Mot de passe s\u00E9curis\u00E9", required: true, minLength: 3, disabled: isLoading }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", className: "toggle-password", onClick: () => setShowPassword(!showPassword), children: showPassword ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 18 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 18 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("small", { children: "Minimum 3 caract\u00E8res requis" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "final-summary", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "summary-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "summary-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "R\u00E9capitulatif final" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "summary-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "summary-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { children: "\u00C9tablissement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: institutionData.name }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { children: [institutionTypes.find(t => t.value === institutionData.type)?.label, " \u2022 ", institutionData.city] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "summary-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { children: "Administrateur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { children: [institutionData.adminFirstName, " ", institutionData.adminLastName] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: institutionData.adminEmail })] })] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "admin-info", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Privil\u00E8ges administrateur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Ce compte aura tous les privil\u00E8ges pour g\u00E9rer votre biblioth\u00E8que locale : ajout de livres, gestion des utilisateurs, param\u00E8tres syst\u00E8me." })] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", onClick: previousStep, className: "submit-btn secondary", disabled: isLoading, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Retour" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "submit", className: "submit-btn primary", disabled: !institutionData.adminFirstName || !institutionData.adminLastName ||
                                                                            !institutionData.adminEmail || !institutionData.adminPassword ||
                                                                            institutionData.adminPassword.length < 3 || isLoading, children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "spinner" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Cr\u00E9ation..." })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Cr\u00E9er l'\u00E9tablissement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 16 })] })) })] })] })] }))] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "features-sidebar", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "features-header", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Pourquoi choisir notre solution ?" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "features-list", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "feature-icon security", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "100% Local" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Vos donn\u00E9es restent sur votre ordinateur, s\u00E9curis\u00E9es et priv\u00E9es" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "feature-icon offline", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_22__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Hors ligne" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Fonctionne sans Internet, disponible 24h/24" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "feature-icon management", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Gestion compl\u00E8te" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Documents, emprunts, utilisateurs et statistiques" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "feature-icon analytics", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_23__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Rapports d\u00E9taill\u00E9s" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Analyses et exports pour le suivi de votre biblioth\u00E8que" })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "trust-indicators", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "indicator", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Installation simple" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "indicator", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Interface intuitive" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "indicator", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Support fran\u00E7ais" })] })] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .enhanced-auth-container {
          min-height: 100vh;
          height: auto;
          background: linear-gradient(135deg, 
            #1a2e1f 0%, 
            #2a3f2f 25%, 
            #3E5C49 50%, 
            #2E453A 75%, 
            #1f3024 100%
          );
          background-size: 300% 300%;
          animation: gradientShift 15s ease infinite;
          position: relative;
          overflow-y: auto;
          overflow-x: hidden;
          padding: 20px;
        }

        @keyframes gradientShift {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }

        .auth-background {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          overflow: hidden;
          pointer-events: none;
        }

        .gradient-orb {
          position: absolute;
          border-radius: 50%;
          filter: blur(60px);
          opacity: 0.3;
          animation: float 8s ease-in-out infinite;
        }

        .orb-1 {
          width: 400px;
          height: 400px;
          background: radial-gradient(circle, #C2571B 0%, transparent 70%);
          top: -200px;
          right: -200px;
          animation-delay: 0s;
        }

        .orb-2 {
          width: 300px;
          height: 300px;
          background: radial-gradient(circle, #3E5C49 0%, transparent 70%);
          bottom: -150px;
          left: -150px;
          animation-delay: 4s;
        }

        .orb-3 {
          width: 250px;
          height: 250px;
          background: radial-gradient(circle, #F3EED9 0%, transparent 70%);
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          animation-delay: 2s;
        }

        .floating-elements {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          pointer-events: none;
        }

        .element {
          position: absolute;
          color: rgba(243, 238, 217, 0.1);
          animation: drift 12s ease-in-out infinite;
        }

        .element-1 {
          top: 20%;
          left: 15%;
          animation-delay: 0s;
        }

        .element-2 {
          top: 60%;
          right: 20%;
          animation-delay: 3s;
        }

        .element-3 {
          bottom: 25%;
          left: 25%;
          animation-delay: 6s;
        }

        .element-4 {
          top: 40%;
          right: 40%;
          animation-delay: 9s;
        }

        @keyframes float {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          50% { transform: translateY(-30px) rotate(5deg); }
        }

        @keyframes drift {
          0%, 100% { transform: translate(0, 0) rotate(0deg); opacity: 0.1; }
          50% { transform: translate(20px, -15px) rotate(3deg); opacity: 0.2; }
        }

        .auth-content {
          position: relative;
          z-index: 10;
          min-height: calc(100vh - 80px);
          height: auto;
          display: flex;
          flex-direction: column;
          padding: 20px;
          max-width: 1500px;
          margin: 0 auto;
          box-sizing: border-box;
        }

        .auth-header {
          text-align: center;
          margin-bottom: 40px;
          padding: 20px;
        }

        .logo-container {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 16px;
          margin-bottom: 20px;
        }

        .logo-icon {
          width: 64px;
          height: 64px;
          background: linear-gradient(135deg, #C2571B 0%, #3E5C49 100%);
          border-radius: 20px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          box-shadow: 
            0 20px 40px rgba(194, 87, 27, 0.3),
            inset 0 2px 0 rgba(255, 255, 255, 0.2);
          position: relative;
          overflow: hidden;
        }

        .logo-icon::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
          animation: shimmer 3s ease-in-out infinite;
        }

        @keyframes shimmer {
          0% { left: -100%; }
          100% { left: 100%; }
        }

        .logo-text h1 {
          margin: 0;
          color: #F3EED9;
          font-size: 36px;
          font-weight: 800;
          letter-spacing: -0.8px;
          text-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
        }

        .logo-text span {
          color: rgba(243, 238, 217, 0.8);
          font-size: 16px;
          font-weight: 500;
          letter-spacing: 0.2px;
        }

        .main-content {
          display: flex;
          gap: 48px;
          flex: 1;
          align-items: flex-start;
          min-height: 0;
          width: 100%;
        }

        .auth-card {
          flex: 1;
          max-width: 750px;
          height: auto;
          position: relative;
        }

        .glass-effect {
          background: rgba(255, 255, 255, 0.1);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 24px;
          overflow: hidden;
          box-shadow: 
            0 32px 64px rgba(0, 0, 0, 0.4),
            inset 0 1px 0 rgba(255, 255, 255, 0.3);
          position: relative;
        }

        .glass-effect::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, 
            rgba(243, 238, 217, 0.1) 0%, 
            rgba(194, 87, 27, 0.05) 50%, 
            rgba(62, 92, 73, 0.1) 100%
          );
          pointer-events: none;
        }

        .auth-tabs {
          display: flex;
          background: rgba(62, 92, 73, 0.3);
          backdrop-filter: blur(10px);
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
          position: relative;
          z-index: 2;
        }

        .tab {
          flex: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          padding: 20px 24px;
          background: none;
          border: none;
          cursor: pointer;
          font-size: 16px;
          font-weight: 600;
          color: rgba(243, 238, 217, 0.7);
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          position: relative;
          overflow: hidden;
        }

        .tab::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, 
            rgba(194, 87, 27, 0.2) 0%, 
            rgba(62, 92, 73, 0.2) 100%
          );
          opacity: 0;
          transition: opacity 0.3s ease;
        }

        .tab:hover::before {
          opacity: 1;
        }

        .tab:hover {
          color: #F3EED9;
          transform: translateY(-2px);
        }

        .tab.active {
          color: #F3EED9;
          background: rgba(194, 87, 27, 0.2);
        }

        .tab.active::after {
          content: '';
          position: absolute;
          bottom: 0;
          left: 20%;
          right: 20%;
          height: 3px;
          background: linear-gradient(90deg, transparent, #C2571B, transparent);
          border-radius: 2px;
        }

        .message {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px 24px;
          font-weight: 500;
          border-bottom: 1px solid rgba(229, 220, 194, 0.3);
        }

        .message.error {
          background: rgba(220, 38, 38, 0.1);
          color: #DC2626;
        }

        .message.success {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }

        .section-header {
          text-align: center;
          padding: 40px 32px 32px;
          background: rgba(243, 238, 217, 0.05);
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
          position: relative;
          z-index: 2;
        }

        .header-icon {
          width: 56px;
          height: 56px;
          background: linear-gradient(135deg, #C2571B 0%, #3E5C49 100%);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          margin: 0 auto 20px;
          box-shadow: 
            0 10px 30px rgba(194, 87, 27, 0.3),
            inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .section-header h2 {
          margin: 0 0 12px 0;
          color: #F3EED9;
          font-size: 28px;
          font-weight: 700;
          line-height: 1.2;
          text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .section-header p {
          margin: 0;
          color: rgba(243, 238, 217, 0.8);
          font-size: 16px;
          line-height: 1.5;
          font-weight: 400;
        }

        .auth-form {
          padding: 40px;
          position: relative;
          z-index: 2;
        }

        .form-group {
          margin-bottom: 28px;
        }

        .form-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
        }

        .form-group label {
          display: flex;
          align-items: center;
          gap: 8px;
          margin-bottom: 12px;
          font-weight: 600;
          color: #F3EED9;
          font-size: 15px;
          text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }

        .input-group {
          position: relative;
          display: flex;
          align-items: center;
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 16px;
          padding: 0 20px;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          background: rgba(255, 255, 255, 0.1);
          backdrop-filter: blur(10px);
        }

        .input-group:focus-within {
          border-color: rgba(194, 87, 27, 0.6);
          box-shadow: 
            0 0 0 3px rgba(194, 87, 27, 0.2),
            0 8px 25px rgba(194, 87, 27, 0.15);
          transform: translateY(-2px);
        }

        .input-group svg {
          color: rgba(243, 238, 217, 0.7);
          margin-right: 12px;
          flex-shrink: 0;
          transition: color 0.3s ease;
        }

        .input-group:focus-within svg {
          color: #C2571B;
        }

        .input-group input {
          flex: 1;
          border: none;
          padding: 16px 0;
          font-size: 15px;
          outline: none;
          background: transparent;
          color: #F3EED9;
          font-weight: 500;
        }

        .input-group input::placeholder {
          color: rgba(243, 238, 217, 0.5);
          opacity: 1;
        }

        .input-group input:disabled {
          background: transparent;
          opacity: 0.6;
        }

        .toggle-password {
          background: none;
          border: none;
          color: rgba(243, 238, 217, 0.7);
          cursor: pointer;
          padding: 4px;
          margin-left: 8px;
          border-radius: 6px;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .toggle-password:hover {
          color: #F3EED9;
          background: rgba(243, 238, 217, 0.1);
        }

        .form-group small {
          display: block;
          margin-top: 4px;
          color: rgba(243, 238, 217, 0.9);
          font-size: 12px;
          line-height: 1.4;
        }

        .type-selector {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .type-option {
          display: block;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .type-option input {
          display: none;
        }

        .type-card-content {
          display: flex;
          align-items: center;
          gap: 16px;
          padding: 16px;
          border: 2px solid rgba(229, 220, 194, 0.4);
          border-radius: 12px;
          background: white;
          transition: all 0.2s ease;
          position: relative;
        }

        .type-option:hover .type-card-content {
          border-color: #3E5C49;
          box-shadow: 0 2px 8px rgba(62, 92, 73, 0.1);
          transform: translateY(-1px);
        }

        .type-option.selected .type-card-content {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.02);
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }

        .type-icon-wrapper {
          width: 44px;
          height: 44px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
          flex-shrink: 0;
        }

        .type-info {
          flex: 1;
          display: flex;
          flex-direction: column;
          gap: 4px;
          min-width: 0;
        }

        .type-name {
          font-weight: 600;
          color: #2E2E2E;
          font-size: 14px;
          line-height: 1.2;
        }

        .type-description {
          font-size: 12px;
          color: rgba(243, 238, 217, 0.8);
          line-height: 1.3;
        }

        .selection-indicator {
          flex-shrink: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          animation: checkIn 0.2s ease-out;
        }

        @keyframes checkIn {
          from {
            opacity: 0;
            transform: scale(0.8);
          }
          to {
            opacity: 1;
            transform: scale(1);
          }
        }

        .submit-btn {
          width: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          background: linear-gradient(135deg, #C2571B 0%, #3E5C49 100%);
          color: #F3EED9;
          border: none;
          padding: 18px 24px;
          border-radius: 16px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          min-width: 140px;
          position: relative;
          overflow: hidden;
          box-shadow: 
            0 8px 25px rgba(194, 87, 27, 0.3),
            inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .submit-btn::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
          transition: left 0.6s ease;
        }

        .submit-btn:hover::before {
          left: 100%;
        }

        .submit-btn:hover:not(:disabled) {
          transform: translateY(-3px);
          box-shadow: 
            0 12px 35px rgba(194, 87, 27, 0.4),
            inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .submit-btn:active:not(:disabled) {
          transform: translateY(-1px);
        }

        .submit-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
          transform: none;
        }

        .back-btn {
          background: #F3EED9;
          color: #2E2E2E;
          border: 1px solid rgba(229, 220, 194, 0.4);
          padding: 12px 20px;
          border-radius: 10px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .back-btn:hover:not(:disabled) {
          background: #E5DCC2;
          color: #2E2E2E;
          transform: translateY(-1px);
        }

        .form-actions {
          display: flex;
          gap: 16px;
          margin-top: 32px;
        }

        .form-actions .submit-btn {
          flex: 1;
        }

        .submit-btn.primary {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
        }

        .submit-btn.secondary {
          background: #F3EED9;
          color: #2E2E2E;
          border: 1px solid rgba(229, 220, 194, 0.4);
        }

        .submit-btn.secondary:hover:not(:disabled) {
          background: #E5DCC2;
          transform: translateY(-1px);
        }

        /* Progress Header */
        .progress-header {
          padding: 24px 32px;
          background: #FAF9F6;
          border-bottom: 1px solid rgba(229, 220, 194, 0.4);
        }

        .progress-bar {
          height: 4px;
          background: rgba(229, 220, 194, 0.3);
          border-radius: 2px;
          overflow: hidden;
          margin-bottom: 20px;
        }

        .progress-fill {
          height: 100%;
          background: linear-gradient(90deg, #3E5C49 0%, #C2571B 100%);
          transition: width 0.3s ease;
          border-radius: 2px;
        }

        .progress-steps {
          display: flex;
          justify-content: center;
          gap: 24px;
        }

        .progress-step {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
          opacity: 0.5;
          transition: all 0.3s ease;
        }

        .progress-step.active {
          opacity: 1;
        }

        .progress-step.current {
          transform: scale(1.05);
        }

        .step-circle {
          width: 36px;
          height: 36px;
          border-radius: 50%;
          background: rgba(229, 220, 194, 0.3);
          display: flex;
          align-items: center;
          justify-content: center;
          color: rgba(243, 238, 217, 0.8);
          transition: all 0.3s ease;
        }

        .progress-step.active .step-circle {
          background: #3E5C49;
          color: #F3EED9;
        }

        .progress-step.current .step-circle {
          background: #C2571B;
          color: #F3EED9;
          box-shadow: 0 4px 16px rgba(194, 87, 27, 0.3);
        }

        .step-label {
          font-size: 12px;
          font-weight: 600;
          color: #2E2E2E;
          text-align: center;
        }

        /* Admin Info Card */
        .admin-info {
          margin: 24px 0;
        }

        .info-card {
          display: flex;
          align-items: flex-start;
          gap: 12px;
          padding: 16px;
          background: rgba(62, 92, 73, 0.05);
          border: 1px solid rgba(62, 92, 73, 0.1);
          border-radius: 12px;
          color: #3E5C49;
        }

        .info-content h4 {
          font-size: 14px;
          font-weight: 600;
          margin: 0 0 4px 0;
          color: #3E5C49;
        }

        .info-content p {
          font-size: 13px;
          margin: 0;
          color: rgba(243, 238, 217, 0.9);
          line-height: 1.4;
        }

        /* Step Info Card */
        .step-info-card {
          margin: 24px 0;
          background: rgba(194, 87, 27, 0.05);
          border: 1px solid rgba(194, 87, 27, 0.1);
          border-radius: 12px;
          padding: 16px;
        }

        .step-info-card .info-icon {
          color: #C2571B;
          margin-bottom: 8px;
        }

        .step-info-card h4 {
          font-size: 14px;
          font-weight: 600;
          margin: 0 0 8px 0;
          color: #C2571B;
        }

        .step-info-card ul {
          margin: 0;
          padding-left: 16px;
          color: rgba(243, 238, 217, 0.9);
        }

        .step-info-card li {
          font-size: 13px;
          line-height: 1.4;
          margin-bottom: 4px;
        }

        /* Establishment Preview */
        .establishment-preview {
          margin: 24px 0;
        }

        .preview-card {
          background: rgba(62, 92, 73, 0.05);
          border: 1px solid rgba(62, 92, 73, 0.1);
          border-radius: 12px;
          overflow: hidden;
        }

        .preview-header {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 16px;
          background: rgba(62, 92, 73, 0.1);
          border-bottom: 1px solid rgba(62, 92, 73, 0.1);
          font-weight: 600;
          font-size: 14px;
          color: #3E5C49;
        }

        .preview-content {
          padding: 16px;
        }

        .preview-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 8px;
        }

        .preview-item:last-child {
          margin-bottom: 0;
        }

        .preview-label {
          font-size: 13px;
          color: rgba(243, 238, 217, 0.8);
          font-weight: 500;
        }

        .preview-value {
          font-size: 13px;
          font-weight: 600;
          color: #2E2E2E;
        }

        /* Final Summary */
        .final-summary {
          margin: 24px 0;
        }

        .summary-card {
          background: linear-gradient(135deg, rgba(62, 92, 73, 0.05) 0%, rgba(194, 87, 27, 0.05) 100%);
          border: 1px solid rgba(62, 92, 73, 0.15);
          border-radius: 12px;
          overflow: hidden;
        }

        .summary-header {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 16px;
          background: rgba(62, 92, 73, 0.1);
          border-bottom: 1px solid rgba(62, 92, 73, 0.1);
          font-weight: 600;
          font-size: 14px;
          color: #3E5C49;
        }

        .summary-content {
          padding: 16px;
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .summary-section h5 {
          font-size: 12px;
          font-weight: 600;
          color: rgba(243, 238, 217, 0.8);
          text-transform: uppercase;
          letter-spacing: 0.5px;
          margin: 0 0 6px 0;
        }

        .summary-section p {
          margin: 0 0 4px 0;
          font-size: 14px;
          color: #2E2E2E;
          line-height: 1.3;
        }

        .summary-section p:last-child {
          margin-bottom: 0;
        }

        .spinner {
          width: 18px;
          height: 18px;
          border: 2px solid rgba(243, 238, 217, 0.3);
          border-top: 2px solid #F3EED9;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }




        /* Sidebar moderne */
        .features-sidebar {
          flex: 0 0 350px;
          display: flex;
          flex-direction: column;
          gap: 32px;
        }

        .features-header h3 {
          color: #F3EED9;
          font-size: 20px;
          font-weight: 700;
          margin: 0 0 24px 0;
          text-align: center;
          text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .features-list {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .feature-item {
          display: flex;
          align-items: flex-start;
          gap: 16px;
          padding: 24px;
          background: rgba(255, 255, 255, 0.08);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 20px;
          backdrop-filter: blur(20px);
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .feature-item:hover {
          transform: translateY(-4px);
          background: rgba(255, 255, 255, 0.12);
          border-color: rgba(194, 87, 27, 0.3);
          box-shadow: 
            0 20px 40px rgba(0, 0, 0, 0.2),
            0 0 0 1px rgba(194, 87, 27, 0.1);
        }

        .feature-icon {
          width: 48px;
          height: 48px;
          border-radius: 14px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          flex-shrink: 0;
          position: relative;
          overflow: hidden;
        }

        .feature-icon.security {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
        }

        .feature-icon.offline {
          background: linear-gradient(135deg, #C2571B 0%, #A0471A 100%);
        }

        .feature-icon.management {
          background: linear-gradient(135deg, #5A6B5D 0%, #3E5C49 100%);
        }

        .feature-icon.analytics {
          background: linear-gradient(135deg, #8B6B47 0%, #C2571B 100%);
        }

        .feature-content h4 {
          margin: 0 0 8px 0;
          color: #F3EED9;
          font-size: 16px;
          font-weight: 600;
          line-height: 1.2;
        }

        .feature-content p {
          margin: 0;
          color: rgba(243, 238, 217, 0.8);
          font-size: 14px;
          line-height: 1.5;
        }

        .trust-indicators {
          display: flex;
          flex-direction: column;
          gap: 12px;
          padding: 24px;
          background: rgba(194, 87, 27, 0.1);
          border: 1px solid rgba(194, 87, 27, 0.2);
          border-radius: 20px;
          backdrop-filter: blur(20px);
        }

        .indicator {
          display: flex;
          align-items: center;
          gap: 12px;
          color: #F3EED9;
          font-size: 14px;
          font-weight: 500;
        }

        .indicator svg {
          color: #C2571B;
          flex-shrink: 0;
        }

        /* Responsive */
        @media (max-width: 1024px) {
          .enhanced-auth-container {
            padding: 16px;
            height: auto;
            min-height: 100vh;
          }

          .main-content {
            flex-direction: column;
            align-items: center;
          }

          .info-sidebar {
            flex: none;
            max-width: 600px;
            width: 100%;
            flex-direction: row;
            overflow-x: auto;
          }

          .feature-card {
            flex: 0 0 250px;
          }
        }

        @media (max-width: 768px) {
          .enhanced-auth-container {
            padding: 12px;
            overflow-y: scroll;
            -webkit-overflow-scrolling: touch;
          }

          .auth-content {
            padding: 16px;
            min-height: auto;
          }

          .auth-header {
            flex-direction: column;
            gap: 16px;
            margin-bottom: 24px;
            padding: 0;
          }

          .main-content {
            gap: 24px;
            flex-direction: column;
          }

          .auth-card {
            max-width: none;
            min-height: auto;
            height: auto;
          }

          .form-row {
            grid-template-columns: 1fr;
          }

          .quick-login-grid {
            grid-template-columns: 1fr;
          }

          .type-selector {
            gap: 10px;
          }

          .type-card-content {
            padding: 12px;
            gap: 12px;
          }

          .type-icon-wrapper {
            width: 36px;
            height: 36px;
          }

          .info-sidebar {
            flex-direction: column;
          }

          .feature-card {
            flex: none;
          }

          .form-actions {
            flex-direction: column-reverse;
          }

          .tab {
            padding: 16px 12px;
            font-size: 14px;
          }

          .section-header {
            padding: 24px 16px 16px;
          }

          .auth-form {
            padding: 24px 16px;
          }
        }

        @media (max-width: 480px) {
          .auth-content {
            padding: 12px;
          }

          .logo-text h1 {
            font-size: 20px;
          }

          .offline-badge {
            font-size: 12px;
            padding: 6px 12px;
          }

          .section-header h2 {
            font-size: 20px;
          }

          .auth-form {
            padding: 20px 12px;
          }

          .input-group input {
            padding: 14px 14px 14px 44px;
            font-size: 14px;
          }

          .submit-btn {
            padding: 14px 20px;
            font-size: 14px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/EnhancedStats.tsx":
/*!***************************************************!*\
  !*** ./src/renderer/components/EnhancedStats.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EnhancedStats: () => (/* binding */ EnhancedStats)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/star.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/target.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trending-up.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/activity.mjs");



const AnimatedCounter = ({ end, duration = 2000, prefix = '', suffix = '' }) => {
    const [count, setCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        let startTime;
        const startCount = 0;
        const animate = (currentTime) => {
            if (!startTime)
                startTime = currentTime;
            const progress = Math.min((currentTime - startTime) / duration, 1);
            // Easing function for smooth animation
            const easeOutCubic = 1 - Math.pow(1 - progress, 3);
            const currentCount = Math.floor(startCount + (end - startCount) * easeOutCubic);
            setCount(currentCount);
            if (progress < 1) {
                requestAnimationFrame(animate);
            }
        };
        requestAnimationFrame(animate);
    }, [end, duration]);
    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: [prefix, count.toLocaleString(), suffix] });
};
const EnhancedStats = ({ stats, className = '' }) => {
    const [hoveredCard, setHoveredCard] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const statsData = [
        {
            id: 'total',
            title: 'Collection Totale',
            value: stats.totalDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"],
            color: '#3E5C49',
            gradient: 'linear-gradient(135deg, #3E5C49 0%, #4A6A55 100%)',
            description: 'Documents dans la bibliothèque',
            trend: '+12% ce mois',
            trendPositive: true
        },
        {
            id: 'available',
            title: 'Disponibles',
            value: stats.availableDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"],
            color: '#10B981',
            gradient: 'linear-gradient(135deg, #10B981 0%, #34D399 100%)',
            description: 'Prêts à être empruntés',
            percentage: stats.totalDocuments > 0 ? Math.round((stats.availableDocuments / stats.totalDocuments) * 100) : 0
        },
        {
            id: 'borrowed',
            title: 'En Circulation',
            value: stats.borrowedDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"],
            color: '#F59E0B',
            gradient: 'linear-gradient(135deg, #F59E0B 0%, #FBBF24 100%)',
            description: 'Actuellement empruntés',
            percentage: stats.totalDocuments > 0 ? Math.round((stats.borrowedDocuments / stats.totalDocuments) * 100) : 0
        },
        {
            id: 'borrowers',
            title: 'Emprunteurs Actifs',
            value: stats.totalBorrowers,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"],
            color: '#8B5CF6',
            gradient: 'linear-gradient(135deg, #8B5CF6 0%, #A78BFA 100%)',
            description: 'Membres enregistrés',
            breakdown: `${stats.totalStudents} étudiants, ${stats.totalStaff} personnel`
        },
        {
            id: 'authors',
            title: 'Auteurs',
            value: stats.totalAuthors,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"],
            color: '#EC4899',
            gradient: 'linear-gradient(135deg, #EC4899 0%, #F472B6 100%)',
            description: 'Auteurs dans la collection'
        },
        {
            id: 'categories',
            title: 'Catégories',
            value: stats.totalCategories,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"],
            color: '#06B6D4',
            gradient: 'linear-gradient(135deg, #06B6D4 0%, #22D3EE 100%)',
            description: 'Genres et classifications'
        }
    ];
    // Calculate library efficiency metrics
    const efficiency = {
        utilization: stats.totalDocuments > 0 ? Math.round((stats.borrowedDocuments / stats.totalDocuments) * 100) : 0,
        availability: stats.totalDocuments > 0 ? Math.round((stats.availableDocuments / stats.totalDocuments) * 100) : 0,
        activity: stats.totalBorrowers > 0 ? Math.round((stats.borrowedDocuments / stats.totalBorrowers) * 100) : 0
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `enhanced-stats ${className}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stats-grid", children: statsData.map((stat) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `stat-card ${hoveredCard === stat.id ? 'hovered' : ''}`, onMouseEnter: () => setHoveredCard(stat.id), onMouseLeave: () => setHoveredCard(null), style: {
                        '--card-gradient': stat.gradient,
                        '--card-color': stat.color
                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-card-bg" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(stat.icon, { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-trend", children: [stat.trend && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: `trend ${stat.trendPositive ? 'positive' : 'negative'}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 14 }), stat.trend] })), stat.percentage !== undefined && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "percentage", children: [stat.percentage, "%"] }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-value", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AnimatedCounter, { end: stat.value, duration: 1500 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-title", children: stat.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-description", children: stat.description }), stat.breakdown && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-breakdown", children: stat.breakdown }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-decoration", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(stat.icon, { size: 120 }) }) })] }, stat.id))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "efficiency-panel", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "efficiency-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "M\u00E9triques de Performance" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "efficiency-metrics", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "efficiency-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "efficiency-label", children: "Taux d'Utilisation" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "efficiency-bar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "efficiency-fill utilization", style: { width: `${efficiency.utilization}%` } }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "efficiency-value", children: [efficiency.utilization, "%"] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "efficiency-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "efficiency-label", children: "Disponibilit\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "efficiency-bar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "efficiency-fill availability", style: { width: `${efficiency.availability}%` } }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "efficiency-value", children: [efficiency.availability, "%"] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "efficiency-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "efficiency-label", children: "Activit\u00E9 Moyenne" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "efficiency-bar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "efficiency-fill activity", style: { width: `${Math.min(efficiency.activity, 100)}%` } }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "efficiency-value", children: [efficiency.activity, "%"] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .enhanced-stats {
          width: 100%;
          max-width: 1400px;
          margin: 0 auto;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 24px;
          margin-bottom: 32px;
        }

        .stat-card {
          position: relative;
          background: rgba(255, 255, 255, 0.95);
          border-radius: 20px;
          padding: 28px;
          overflow: hidden;
          transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          border: 1px solid rgba(229, 220, 194, 0.3);
          backdrop-filter: blur(10px);
          cursor: pointer;
          min-height: 200px;
        }

        .stat-card-bg {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: var(--card-gradient);
          opacity: 0;
          transition: opacity 0.4s ease;
          border-radius: inherit;
        }

        .stat-card.hovered .stat-card-bg {
          opacity: 0.08;
        }

        .stat-card.hovered {
          transform: translateY(-8px) scale(1.02);
          box-shadow: 
            0 20px 40px rgba(62, 92, 73, 0.15),
            0 8px 16px rgba(62, 92, 73, 0.1);
          border-color: var(--card-color);
        }

        .stat-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 20px;
          position: relative;
          z-index: 2;
        }

        .stat-icon {
          width: 56px;
          height: 56px;
          background: var(--card-gradient);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
          transition: all 0.3s ease;
        }

        .stat-card.hovered .stat-icon {
          transform: scale(1.1) rotate(5deg);
        }

        .stat-trend {
          text-align: right;
          font-size: 12px;
        }

        .trend {
          display: flex;
          align-items: center;
          gap: 4px;
          color: #10B981;
          font-weight: 600;
          margin-bottom: 4px;
        }

        .trend.negative {
          color: #EF4444;
        }

        .percentage {
          background: var(--card-gradient);
          color: white;
          padding: 4px 8px;
          border-radius: 8px;
          font-weight: 700;
          font-size: 11px;
        }

        .stat-content {
          position: relative;
          z-index: 2;
        }

        .stat-value {
          font-size: 2.5rem;
          font-weight: 800;
          color: #005332ff !important;
          line-height: 1;
          margin-bottom: 8px;
          transition: color 0.3s ease;
        }

        .stat-card.hovered .stat-value {
          color: var(--card-color);
        }

        .stat-title {
          font-size: 16px;
          font-weight: 700;
          color: #374151;
          margin-bottom: 6px;
        }

        .stat-description {
          font-size: 14px;
          color: #6B7280;
          margin-bottom: 8px;
        }

        .stat-breakdown {
          font-size: 12px;
          color: #9CA3AF;
          font-style: italic;
        }

        .stat-decoration {
          position: absolute;
          top: 0;
          right: -20px;
          width: 140px;
          height: 140px;
          opacity: 0.03;
          transition: all 0.3s ease;
          z-index: 1;
        }

        .floating-icon {
          width: 100%;
          height: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: var(--card-color);
          transform: rotate(15deg);
        }

        .stat-card.hovered .stat-decoration {
          opacity: 0.08;
          transform: scale(1.1) rotate(-5deg);
        }

        /* Efficiency Panel */
        .efficiency-panel {
          background: rgba(255, 255, 255, 0.95);
          border-radius: 20px;
          padding: 28px;
          border: 1px solid rgba(229, 220, 194, 0.3);
          backdrop-filter: blur(10px);
        }

        .efficiency-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 24px;
          color: #374151;
        }

        .efficiency-header h3 {
          margin: 0;
          font-size: 18px;
          font-weight: 700;
        }

        .efficiency-metrics {
          display: grid;
          gap: 20px;
        }

        .efficiency-item {
          display: grid;
          grid-template-columns: 1fr 3fr auto;
          align-items: center;
          gap: 16px;
        }

        .efficiency-label {
          font-size: 14px;
          font-weight: 600;
          color: #374151;
        }

        .efficiency-bar {
          height: 12px;
          background: rgba(229, 220, 194, 0.3);
          border-radius: 6px;
          overflow: hidden;
          position: relative;
        }

        .efficiency-fill {
          height: 100%;
          border-radius: inherit;
          transition: width 2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          position: relative;
        }

        .efficiency-fill::after {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
          animation: shimmer 2s infinite;
        }

        .efficiency-fill.utilization {
          background: linear-gradient(135deg, #C2571B 0%, rgba(255, 166, 0, 1) 100%);
        }

        .efficiency-fill.availability {
          background: linear-gradient(135deg, #003a1cff 0%, rgba(1, 241, 153, 1) 100%);
        }

        .efficiency-fill.activity {
          background: linear-gradient(135deg, #383838ff 0%, #888888ff 100%);
        }


        .efficiency-value {
          font-size: 16px;
          font-weight: 700;
          color: #1A1A1A;
          min-width: 50px;
          text-align: right;
        }

        @keyframes shimmer {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(200%); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
          .stats-grid {
            grid-template-columns: 1fr;
            gap: 16px;
          }

          .stat-card {
            padding: 20px;
            min-height: 160px;
          }

          .stat-value {
            font-size: 2rem;
          }

          .efficiency-item {
            grid-template-columns: 1fr;
            gap: 8px;
            text-align: center;
          }

          .efficiency-bar {
            order: 2;
          }

          .efficiency-value {
            order: 3;
            text-align: center;
          }
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
          .stat-card {
            border: 2px solid #000;
            background: #fff;
          }

          .stat-value, .stat-title {
            color: #000;
          }

          .efficiency-fill {
            border: 1px solid #000;
          }
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
          .stat-card, .stat-icon, .stat-decoration, .efficiency-fill {
            transition: none;
          }

          .floating-icon {
            transform: none;
          }

          .efficiency-fill::after {
            animation: none;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/ExportDialog.tsx":
/*!**************************************************!*\
  !*** ./src/renderer/components/ExportDialog.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ExportDialog: () => (/* binding */ ExportDialog)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/file-spreadsheet.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/file-text.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/database.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/file-bar-chart.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/download.mjs");
/* harmony import */ var _MicroInteractions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MicroInteractions */ "./src/renderer/components/MicroInteractions.tsx");
/* harmony import */ var _ToastSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ToastSystem */ "./src/renderer/components/ToastSystem.tsx");





const ExportDialog = ({ isOpen, onClose, onExport, availableData }) => {
    const { success, error } = (0,_ToastSystem__WEBPACK_IMPORTED_MODULE_3__.useQuickToast)();
    const [isExporting, setIsExporting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [config, setConfig] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        format: 'excel',
        dataTypes: {
            documents: true,
            borrowers: false,
            borrowHistory: false,
            authors: false,
            categories: false,
            stats: false
        },
        documentFields: {
            titre: true,
            auteur: true,
            editeur: true,
            lieuEdition: false,
            annee: true,
            descripteurs: true,
            cote: true,
            type: false,
            isbn: false,
            description: false,
            estEmprunte: true,
            dateEmprunt: false,
            nomEmprunteur: false,
            dateRetourPrevu: false
        },
        borrowerFields: {
            firstName: true,
            lastName: true,
            type: true,
            matricule: true,
            classe: true,
            position: true,
            email: false,
            phone: false,
            cniNumber: false
        },
        historyFields: {
            // Document fields - default selection
            documentTitle: true,
            documentAuthor: true,
            documentEditor: false,
            documentYear: false,
            documentType: true,
            documentCote: false,
            documentISBN: false,
            // Borrower fields - default selection
            borrowerName: true,
            borrowerFirstName: false,
            borrowerLastName: false,
            borrowerMatricule: true,
            borrowerType: true,
            borrowerClass: true,
            borrowerPosition: false,
            borrowerEmail: false,
            borrowerPhone: false,
            borrowerCNI: false,
            // Loan details - default selection
            borrowDate: true,
            borrowTime: false,
            expectedReturnDate: true,
            actualReturnDate: true,
            actualReturnTime: false,
            status: true,
            duration: true,
            overdueDays: true,
            isOverdue: true,
            loanPeriod: false,
            season: false,
            schoolYear: false,
            notes: false
        },
        dateRange: {
            enabled: false,
            startDate: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
            endDate: new Date().toISOString().split('T')[0]
        },
        filters: {
            documentStatus: 'all',
            borrowerType: 'all',
            historyStatus: 'all'
        }
    });
    const updateDataType = (dataType, enabled) => {
        setConfig(prev => ({
            ...prev,
            dataTypes: { ...prev.dataTypes, [dataType]: enabled }
        }));
    };
    const updateDocumentField = (field, enabled) => {
        setConfig(prev => ({
            ...prev,
            documentFields: { ...prev.documentFields, [field]: enabled }
        }));
    };
    const updateBorrowerField = (field, enabled) => {
        setConfig(prev => ({
            ...prev,
            borrowerFields: { ...prev.borrowerFields, [field]: enabled }
        }));
    };
    const updateHistoryField = (field, enabled) => {
        setConfig(prev => ({
            ...prev,
            historyFields: { ...prev.historyFields, [field]: enabled }
        }));
    };
    const handleExport = async () => {
        const selectedDataTypes = Object.entries(config.dataTypes).filter(([_, enabled]) => enabled);
        if (selectedDataTypes.length === 0) {
            error('Sélection requise', 'Veuillez sélectionner au moins un type de données à exporter');
            return;
        }
        setIsExporting(true);
        try {
            await onExport(config);
            success('Export réussi', 'Les données ont été exportées avec succès');
            onClose();
        }
        catch (err) {
            error('Erreur d\'export', 'Une erreur est survenue lors de l\'export');
        }
        finally {
            setIsExporting(false);
        }
    };
    const selectAllDocumentFields = () => {
        setConfig(prev => ({
            ...prev,
            documentFields: Object.keys(prev.documentFields).reduce((acc, key) => ({
                ...acc,
                [key]: true
            }), {})
        }));
    };
    const deselectAllDocumentFields = () => {
        setConfig(prev => ({
            ...prev,
            documentFields: Object.keys(prev.documentFields).reduce((acc, key) => ({
                ...acc,
                [key]: false
            }), {})
        }));
    };
    if (!isOpen)
        return null;
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "export-dialog-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "export-dialog", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "dialog-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 28 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "dialog-title", children: "Exporter les Donn\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "dialog-subtitle", children: "Choisissez les donn\u00E9es et le format d'export" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: onClose, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "dialog-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Format d'Export" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "format-options", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `format-option ${config.format === 'excel' ? 'selected' : ''}`, onClick: () => setConfig(prev => ({ ...prev, format: 'excel' })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Excel (.xlsx)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "format-badge", children: "Recommand\u00E9" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `format-option ${config.format === 'csv' ? 'selected' : ''}`, onClick: () => setConfig(prev => ({ ...prev, format: 'csv' })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "CSV (.csv)" })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Types de Donn\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "data-types-grid", children: [availableData.documents && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `data-type-card ${config.dataTypes.documents ? 'selected' : ''}`, onClick: () => updateDataType('documents', !config.dataTypes.documents), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Documents" }), config.dataTypes.documents ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 })] })), availableData.borrowers && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `data-type-card ${config.dataTypes.borrowers ? 'selected' : ''}`, onClick: () => updateDataType('borrowers', !config.dataTypes.borrowers), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Emprunteurs" }), config.dataTypes.borrowers ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 })] })), availableData.borrowHistory && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `data-type-card ${config.dataTypes.borrowHistory ? 'selected' : ''}`, onClick: () => updateDataType('borrowHistory', !config.dataTypes.borrowHistory), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Historique" }), config.dataTypes.borrowHistory ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `data-type-card ${config.dataTypes.authors ? 'selected' : ''}`, onClick: () => updateDataType('authors', !config.dataTypes.authors), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Auteurs" }), config.dataTypes.authors ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `data-type-card ${config.dataTypes.categories ? 'selected' : ''}`, onClick: () => updateDataType('categories', !config.dataTypes.categories), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Cat\u00E9gories" }), config.dataTypes.categories ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `data-type-card ${config.dataTypes.stats ? 'selected' : ''}`, onClick: () => updateDataType('stats', !config.dataTypes.stats), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Statistiques" }), config.dataTypes.stats ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 })] })] })] }), config.dataTypes.documents && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Champs Documents" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "field-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "action-link", onClick: selectAllDocumentFields, children: "Tout s\u00E9lectionner" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "action-link", onClick: deselectAllDocumentFields, children: "Tout d\u00E9s\u00E9lectionner" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "fields-grid", children: Object.entries({
                                            titre: 'Titre',
                                            auteur: 'Auteur',
                                            editeur: 'Éditeur',
                                            lieuEdition: 'Lieu d\'édition',
                                            annee: 'Année',
                                            descripteurs: 'Catégories',
                                            cote: 'Cote',
                                            type: 'Type',
                                            isbn: 'ISBN',
                                            description: 'Description',
                                            estEmprunte: 'Statut d\'emprunt',
                                            dateEmprunt: 'Date d\'emprunt',
                                            nomEmprunteur: 'Emprunteur',
                                            dateRetourPrevu: 'Date retour prévue'
                                        }).map(([field, label]) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `field-checkbox ${config.documentFields[field] ? 'checked' : ''}`, onClick: () => updateDocumentField(field, !config.documentFields[field]), children: [config.documentFields[field] ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: label })] }, field))) })] })), config.dataTypes.borrowers && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Champs Emprunteurs" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "fields-grid", children: Object.entries({
                                            firstName: 'Prénom',
                                            lastName: 'Nom',
                                            type: 'Type',
                                            matricule: 'Matricule',
                                            classe: 'Classe',
                                            position: 'Poste',
                                            email: 'Email',
                                            phone: 'Téléphone',
                                            cniNumber: 'CNI'
                                        }).map(([field, label]) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `field-checkbox ${config.borrowerFields[field] ? 'checked' : ''}`, onClick: () => updateBorrowerField(field, !config.borrowerFields[field]), children: [config.borrowerFields[field] ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: label })] }, field))) })] })), config.dataTypes.borrowHistory && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Champs Historique des Emprunts" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "subsection", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "subsection-title", children: "Informations Document" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "fields-grid", children: Object.entries({
                                                    documentTitle: 'Titre du document',
                                                    documentAuthor: 'Auteur',
                                                    documentEditor: 'Éditeur',
                                                    documentYear: 'Année',
                                                    documentType: 'Type',
                                                    documentCote: 'Cote',
                                                    documentISBN: 'ISBN'
                                                }).map(([field, label]) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `field-checkbox ${config.historyFields[field] ? 'checked' : ''}`, onClick: () => updateHistoryField(field, !config.historyFields[field]), children: [config.historyFields[field] ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: label })] }, field))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "subsection", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "subsection-title", children: "Informations Emprunteur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "fields-grid", children: Object.entries({
                                                    borrowerName: 'Nom complet',
                                                    borrowerFirstName: 'Prénom',
                                                    borrowerLastName: 'Nom',
                                                    borrowerMatricule: 'Matricule',
                                                    borrowerType: 'Type',
                                                    borrowerClass: 'Classe',
                                                    borrowerPosition: 'Position',
                                                    borrowerEmail: 'Email',
                                                    borrowerPhone: 'Téléphone',
                                                    borrowerCNI: 'CNI'
                                                }).map(([field, label]) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `field-checkbox ${config.historyFields[field] ? 'checked' : ''}`, onClick: () => updateHistoryField(field, !config.historyFields[field]), children: [config.historyFields[field] ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: label })] }, field))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "subsection", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "subsection-title", children: "D\u00E9tails de l'Emprunt" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "fields-grid", children: Object.entries({
                                                    borrowDate: 'Date emprunt',
                                                    borrowTime: 'Heure emprunt',
                                                    expectedReturnDate: 'Date retour prévue',
                                                    actualReturnDate: 'Date retour effective',
                                                    actualReturnTime: 'Heure retour',
                                                    status: 'Statut',
                                                    duration: 'Durée (jours)',
                                                    overdueDays: 'Jours de retard',
                                                    isOverdue: 'En retard (Oui/Non)',
                                                    loanPeriod: 'Période d\'emprunt',
                                                    season: 'Saison',
                                                    schoolYear: 'Année scolaire',
                                                    notes: 'Notes'
                                                }).map(([field, label]) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `field-checkbox ${config.historyFields[field] ? 'checked' : ''}`, onClick: () => updateHistoryField(field, !config.historyFields[field]), children: [config.historyFields[field] ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: label })] }, field))) })] })] })), config.dataTypes.borrowHistory && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Filtre par Date" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "toggle-switch", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", id: "dateRange", checked: config.dateRange.enabled, onChange: (e) => setConfig(prev => ({
                                                            ...prev,
                                                            dateRange: { ...prev.dateRange, enabled: e.target.checked }
                                                        })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { htmlFor: "dateRange" })] })] }), config.dateRange.enabled && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "date-range-inputs", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "date-input", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Date de d\u00E9but" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "date", value: config.dateRange.startDate, onChange: (e) => setConfig(prev => ({
                                                            ...prev,
                                                            dateRange: { ...prev.dateRange, startDate: e.target.value }
                                                        })) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "date-input", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Date de fin" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "date", value: config.dateRange.endDate, onChange: (e) => setConfig(prev => ({
                                                            ...prev,
                                                            dateRange: { ...prev.dateRange, endDate: e.target.value }
                                                        })) })] })] }))] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Filtres" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filters-grid", children: [config.dataTypes.documents && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Statut Documents" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: config.filters.documentStatus, onChange: (e) => setConfig(prev => ({
                                                            ...prev,
                                                            filters: { ...prev.filters, documentStatus: e.target.value }
                                                        })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tous" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "available", children: "Disponibles" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "borrowed", children: "Emprunt\u00E9s" })] })] })), config.dataTypes.borrowers && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Type Emprunteurs" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: config.filters.borrowerType, onChange: (e) => setConfig(prev => ({
                                                            ...prev,
                                                            filters: { ...prev.filters, borrowerType: e.target.value }
                                                        })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tous" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "student", children: "\u00C9tudiants" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "staff", children: "Personnel" })] })] })), config.dataTypes.borrowHistory && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Statut Historique" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: config.filters.historyStatus, onChange: (e) => setConfig(prev => ({
                                                            ...prev,
                                                            filters: { ...prev.filters, historyStatus: e.target.value }
                                                        })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tous" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "active", children: "En cours" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "returned", children: "Rendus" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "overdue", children: "En retard" })] })] }))] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "dialog-footer", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", onClick: onClose, children: "Annuler" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "success", icon: lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], onClick: handleExport, disabled: isExporting, children: isExporting ? 'Export en cours...' : `Exporter en ${config.format.toUpperCase()}` })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .export-dialog-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.6);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
          backdrop-filter: blur(8px);
        }

        .export-dialog {
          background: #FFFFFF;
          border-radius: 20px;
          width: 100%;
          max-width: 900px;
          max-height: 90vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
          border: 1px solid rgba(229, 220, 194, 0.3);
        }

        .dialog-header {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          padding: 32px;
          display: flex;
          align-items: center;
          justify-content: space-between;
        }

        .header-content {
          display: flex;
          align-items: center;
          gap: 20px;
        }

        .header-icon {
          width: 56px;
          height: 56px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .dialog-title {
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 4px 0;
        }

        .dialog-subtitle {
          font-size: 14px;
          opacity: 0.8;
          margin: 0;
        }

        .close-button {
          width: 44px;
          height: 44px;
          border: none;
          background: rgba(243, 238, 217, 0.1);
          color: #F3EED9;
          border-radius: 12px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
        }

        .close-button:hover {
          background: rgba(243, 238, 217, 0.2);
        }

        .dialog-content {
          flex: 1;
          overflow-y: auto;
          padding: 32px;
        }

        .section {
          margin-bottom: 32px;
        }

        .section-title {
          font-size: 18px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 16px 0;
        }

        .subsection {
          margin-bottom: 24px;
          padding: 16px;
          background: rgba(62, 92, 73, 0.02);
          border-radius: 8px;
          border-left: 3px solid #3E5C49;
        }

        .subsection-title {
          font-size: 15px;
          font-weight: 600;
          color: #3E5C49;
          margin: 0 0 12px 0;
        }

        .section-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 16px;
        }

        .field-actions {
          display: flex;
          gap: 16px;
        }

        .action-link {
          background: none;
          border: none;
          color: #3E5C49;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          text-decoration: underline;
          transition: color 0.2s ease;
        }

        .action-link:hover {
          color: #2E453A;
        }

        .format-options {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 16px;
        }

        .format-option {
          padding: 20px;
          border: 2px solid #E5DCC2;
          border-radius: 12px;
          display: flex;
          align-items: center;
          gap: 12px;
          cursor: pointer;
          transition: all 0.2s ease;
          position: relative;
        }

        .format-option:hover {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.05);
        }

        .format-option.selected {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.1);
        }

        .format-badge {
          position: absolute;
          top: -8px;
          right: -8px;
          background: #C2571B;
          color: #F3EED9;
          font-size: 10px;
          font-weight: 600;
          padding: 4px 8px;
          border-radius: 12px;
        }

        .data-types-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: 16px;
        }

        .data-type-card {
          padding: 20px;
          border: 2px solid #E5DCC2;
          border-radius: 12px;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
          cursor: pointer;
          transition: all 0.2s ease;
          text-align: center;
          position: relative;
        }

        .data-type-card:hover {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.05);
        }

        .data-type-card.selected {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.1);
        }

        .data-type-card svg:last-child {
          position: absolute;
          top: 8px;
          right: 8px;
          color: #3E5C49;
        }

        .fields-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 12px;
        }

        .field-checkbox {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px;
          border: 1px solid #E5DCC2;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .field-checkbox:hover {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.05);
        }

        .field-checkbox.checked {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }

        .toggle-switch {
          position: relative;
          display: inline-block;
          width: 50px;
          height: 24px;
        }

        .toggle-switch input {
          opacity: 0;
          width: 0;
          height: 0;
        }

        .toggle-switch label {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: #ccc;
          transition: .4s;
          border-radius: 24px;
        }

        .toggle-switch label:before {
          position: absolute;
          content: "";
          height: 18px;
          width: 18px;
          left: 3px;
          bottom: 3px;
          background-color: white;
          transition: .4s;
          border-radius: 50%;
        }

        .toggle-switch input:checked + label {
          background-color: #3E5C49;
        }

        .toggle-switch input:checked + label:before {
          transform: translateX(26px);
        }

        .date-range-inputs {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
          margin-top: 16px;
        }

        .date-input label {
          display: block;
          font-size: 14px;
          font-weight: 500;
          color: #2E2E2E;
          margin-bottom: 8px;
        }

        .date-input input {
          width: 100%;
          padding: 12px;
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          font-size: 14px;
          background: #FFFFFF;
          color: #2E2E2E;
          transition: all 0.3s ease;
        }

        .date-input input:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }

        .filters-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 16px;
        }

        .filter-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .filter-group label {
          font-size: 14px;
          font-weight: 500;
          color: #2E2E2E;
        }

        .filter-group select {
          padding: 12px;
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          font-size: 14px;
          background: #FFFFFF;
          color: #2E2E2E;
          transition: all 0.3s ease;
        }

        .filter-group select:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }

        .dialog-footer {
          padding: 24px 32px;
          border-top: 1px solid #E5DCC2;
          display: flex;
          justify-content: flex-end;
          gap: 16px;
        }

        @media (max-width: 768px) {
          .export-dialog {
            margin: 12px;
          }

          .data-types-grid,
          .fields-grid,
          .filters-grid {
            grid-template-columns: 1fr;
          }

          .format-options {
            grid-template-columns: 1fr;
          }

          .date-range-inputs {
            grid-template-columns: 1fr;
          }

          .dialog-content {
            padding: 20px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/InitialSetup.tsx":
/*!**************************************************!*\
  !*** ./src/renderer/components/InitialSetup.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InitialSetup: () => (/* binding */ InitialSetup)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/database.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/cloud.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/network.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/monitor.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/settings.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/hard-drive.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/info.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/globe.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/wifi.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/arrow-right.mjs");

// src/renderer/components/InitialSetup.tsx - Version redesignée


const InitialSetup = ({ onComplete, onClose }) => {
    const [selectedMode, setSelectedMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('offline');
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "initial-setup", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setup-background", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setup-pattern" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "floating-elements", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], {}) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setup-container", children: [onClose && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-app-btn", onClick: onClose, title: "Fermer l'application", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 20 }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setup-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setup-logo", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 48 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { className: "setup-title", children: "Configuration Initiale" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setup-subtitle", children: "Configurez le mode de fonctionnement de votre biblioth\u00E8que" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mode-selection", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h2", { className: "section-title", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 24 }), "Choisissez votre mode de fonctionnement"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mode-options", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `mode-card ${selectedMode === 'offline' ? 'selected' : ''}`, onClick: () => setSelectedMode('offline'), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mode-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mode-icon offline", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 32 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mode-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Mode Hors Ligne" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "mode-status recommended", children: "Recommand\u00E9" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mode-description", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Utilise une base de donn\u00E9es locale (SQLite) pour stocker toutes les donn\u00E9es. Fonctionne sans connexion Internet et peut \u00EAtre partag\u00E9 en r\u00E9seau local." }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mode-features", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-list", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Fonctionne sans Internet" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Donn\u00E9es stock\u00E9es localement" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Partage en r\u00E9seau local" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Performance optimale" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Contr\u00F4le total des donn\u00E9es" })] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mode-ideal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Id\u00E9al pour : Biblioth\u00E8ques locales, \u00E9tablissements scolaires, usage priv\u00E9" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mode-card disabled", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mode-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mode-icon online disabled", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 32 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mode-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Mode En Ligne" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "mode-status coming-soon", children: "Bient\u00F4t disponible" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mode-description", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Utilise Supabase pour la synchronisation cloud et le partage multi-\u00E9tablissements. N\u00E9cessite une connexion Internet stable." }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mode-features", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-list", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature disabled", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Synchronisation cloud" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature disabled", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Multi-\u00E9tablissements" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature disabled", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Acc\u00E8s depuis partout" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature disabled", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Sauvegarde automatique" })] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mode-ideal disabled", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Cette fonctionnalit\u00E9 sera disponible dans une prochaine version" })] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "info-panel", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Informations importantes" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "info-content", children: selectedMode === 'offline' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Mode Hors Ligne s\u00E9lectionn\u00E9 :" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ul", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Vos donn\u00E9es seront stock\u00E9es localement sur cet ordinateur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "L'application fonctionnera sans connexion Internet" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Vous pouvez partager la base de donn\u00E9es sur votre r\u00E9seau local" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Ce choix peut \u00EAtre modifi\u00E9 ult\u00E9rieurement dans les param\u00E8tres" })] })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Mode En Ligne :" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ul", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Fonctionnalit\u00E9 en cours de d\u00E9veloppement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Permettra la synchronisation cloud via Supabase" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Gestion multi-\u00E9tablissements" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Disponible dans une prochaine mise \u00E0 jour" })] })] })) })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setup-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "continue-btn", onClick: () => onComplete(selectedMode), disabled: selectedMode === 'online', children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: ["Continuer avec le mode ", selectedMode === 'offline' ? 'Hors Ligne' : 'En Ligne'] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 20 })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setup-note", children: "Vous pourrez modifier ce choix plus tard dans les param\u00E8tres de l'application" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .initial-setup {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: auto;
          z-index: 1000;
        }

        .setup-background {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          opacity: 0.1;
        }

        .setup-pattern {
          width: 100%;
          height: 100%;
          background-image: 
            radial-gradient(circle at 25% 25%, rgba(243, 238, 217, 0.5) 2px, transparent 2px),
            radial-gradient(circle at 75% 75%, rgba(243, 238, 217, 0.5) 2px, transparent 2px);
          background-size: 50px 50px;
          animation: patternMove 20s linear infinite;
        }

        .floating-elements {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
        }

        .floating-icon {
          position: absolute;
          color: rgba(243, 238, 217, 0.2);
          animation: float 6s ease-in-out infinite;
        }

        .floating-icon:nth-child(1) {
          top: 10%;
          left: 10%;
          animation-delay: 0s;
        }

        .floating-icon:nth-child(2) {
          top: 20%;
          right: 10%;
          animation-delay: 2s;
        }

        .floating-icon:nth-child(3) {
          bottom: 20%;
          left: 20%;
          animation-delay: 4s;
        }

        .setup-container {
          background: #FFFFFF;
          border-radius: 20px;
          padding: 32px;
          max-width: 1000px;
          width: 95%;
          max-height: 95vh;
          overflow-y: auto;
          box-shadow: 0 25px 80px rgba(0, 0, 0, 0.25);
          position: relative;
          z-index: 1;
          margin: 20px auto;
          animation: slideIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateY(30px) scale(0.95);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        .setup-header {
          text-align: center;
          margin-bottom: 32px;
        }

        .setup-logo {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          width: 80px;
          height: 80px;
          background: linear-gradient(135deg, #3E5C49, #2E453A);
          border-radius: 20px;
          color: #F3EED9;
          margin-bottom: 20px;
          box-shadow: 0 8px 32px rgba(62, 92, 73, 0.3);
        }

        .setup-title {
          font-size: 2.5rem;
          font-weight: 800;
          color: #2E2E2E;
          margin: 0 0 10px 0;
          letter-spacing: -0.5px;
        }

        .setup-subtitle {
          font-size: 1.1rem;
          color: #4A4A4A;
          margin: 0;
        }

        .mode-selection {
          margin-bottom: 24px;
        }

        .section-title {
          display: flex;
          align-items: center;
          gap: 10px;
          font-size: 1.4rem;
          font-weight: 700;
          color: #2E2E2E;
          margin-bottom: 16px;
        }

        .mode-options {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
        }

        .mode-card {
          border: 2px solid #E5DCC2;
          border-radius: 16px;
          padding: 20px;
          cursor: pointer;
          transition: all 0.3s ease;
          background: #FFFFFF;
          min-height: 380px;
          display: flex;
          flex-direction: column;
          position: relative;
          overflow: hidden;
        }

        .mode-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 4px;
          background: linear-gradient(90deg, #3E5C49, #C2571B);
          transform: scaleX(0);
          transition: transform 0.3s ease;
        }

        .mode-card:not(.disabled):hover {
          border-color: #3E5C49;
          transform: translateY(-2px);
          box-shadow: 0 10px 30px rgba(62, 92, 73, 0.2);
        }

        .mode-card:not(.disabled):hover::before {
          transform: scaleX(1);
        }

        .mode-card.selected {
          border-color: #3E5C49;
          background: linear-gradient(135deg, rgba(62, 92, 73, 0.05), rgba(243, 238, 217, 0.1));
          box-shadow: 0 10px 30px rgba(62, 92, 73, 0.2);
        }

        .mode-card.selected::before {
          transform: scaleX(1);
        }

        .mode-card.disabled {
          opacity: 0.6;
          cursor: not-allowed;
          background: rgba(248, 246, 240, 0.5);
        }

        .mode-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 14px;
        }

        .mode-icon {
          width: 44px;
          height: 44px;
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          flex-shrink: 0;
        }

        .mode-icon.offline {
          background: linear-gradient(135deg, #3E5C49, #2E453A);
        }

        .mode-icon.online {
          background: linear-gradient(135deg, #C2571B, #A8481A);
        }

        .mode-icon.disabled {
          background: #6E6E6E;
        }

        .mode-info h3 {
          font-size: 1.2rem;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 4px 0;
        }

        .mode-status {
          font-size: 0.85rem;
          padding: 4px 8px;
          border-radius: 6px;
          font-weight: 600;
        }

        .mode-status.recommended {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }

        .mode-status.coming-soon {
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
        }

        .mode-description {
          margin-bottom: 12px;
          flex-grow: 1;
        }

        .mode-description p {
          color: #4A4A4A;
          margin: 0;
          line-height: 1.4;
          font-size: 0.95rem;
        }

        .feature-list {
          display: flex;
          flex-direction: column;
          gap: 6px;
          margin-bottom: 12px;
        }

        .feature {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 0.85rem;
        }

        .feature:not(.disabled) {
          color: #3E5C49;
        }

        .feature.disabled {
          color: #4A4A4A;
        }

        .mode-ideal {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 10px;
          background: rgba(248, 246, 240, 0.8);
          border-radius: 6px;
          font-size: 0.8rem;
          color: #4A4A4A;
          margin-top: auto;
        }

        .mode-ideal.disabled {
          background: rgba(229, 220, 194, 0.3);
          color: #4A4A4A;
        }

        .info-panel {
          margin-bottom: 20px;
        }

        .info-card {
          background: rgba(248, 246, 240, 0.8);
          border: 1px solid #E5DCC2;
          border-radius: 10px;
          padding: 16px;
        }

        .info-header {
          display: flex;
          align-items: center;
          gap: 6px;
          margin-bottom: 10px;
        }

        .info-header h3 {
          font-size: 1.05rem;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0;
        }

        .info-content ul {
          margin: 6px 0 0 0;
          padding-left: 18px;
        }

        .info-content li {
          margin-bottom: 3px;
          color: #4A4A4A;
          font-size: 0.9rem;
        }

        .setup-actions {
          text-align: center;
        }

        .continue-btn {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          background: linear-gradient(135deg, #3E5C49, #2E453A);
          color: #F3EED9;
          border: none;
          padding: 14px 28px;
          border-radius: 10px;
          font-size: 1.05rem;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
          margin-bottom: 12px;
        }

        .continue-btn:not(:disabled):hover {
          transform: translateY(-2px);
          box-shadow: 0 10px 30px rgba(62, 92, 73, 0.3);
        }

        .continue-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .setup-note {
          color: #4A4A4A;
          font-size: 0.85rem;
          margin: 0;
        }

        @keyframes patternMove {
          0% { transform: translateX(0) translateY(0); }
          100% { transform: translateX(50px) translateY(50px); }
        }

        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-20px); }
        }

        @media (max-width: 768px) {
          .setup-container {
            padding: 20px;
            width: 98%;
            margin: 10px auto;
          }

          .mode-options {
            grid-template-columns: 1fr;
            gap: 12px;
          }

          .mode-card {
            min-height: auto;
            padding: 16px;
          }

          .setup-title {
            font-size: 1.8rem;
          }

          .section-title {
            font-size: 1.2rem;
          }
        }

        @media (max-width: 480px) {
          .setup-container {
            padding: 16px;
            width: 99%;
            margin: 5px auto;
          }

          .setup-header {
            margin-bottom: 24px;
          }

          .setup-title {
            font-size: 1.6rem;
          }

          .mode-card {
            padding: 14px;
          }

          .continue-btn {
            padding: 12px 20px;
            font-size: 1rem;
          }
        }

        /* Scrollbar personnalisé */
        .setup-container::-webkit-scrollbar {
          width: 8px;
        }

        .setup-container::-webkit-scrollbar-track {
          background: #F3EED9;
          border-radius: 4px;
        }

        .setup-container::-webkit-scrollbar-thumb {
          background: #3E5C49;
          border-radius: 4px;
        }

        .setup-container::-webkit-scrollbar-thumb:hover {
          background: #2E453A;
        }

        .close-app-btn {
          position: absolute;
          top: 16px;
          right: 16px;
          width: 40px;
          height: 40px;
          border: none;
          background: rgba(243, 238, 217, 0.1);
          color: #6E6E6E;
          border-radius: 10px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          z-index: 10;
        }

        .close-app-btn:hover {
          background: rgba(220, 38, 38, 0.1);
          color: #DC2626;
          transform: scale(1.05);
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/InstitutionSetup.tsx":
/*!******************************************************!*\
  !*** ./src/renderer/components/InstitutionSetup.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InstitutionSetup: () => (/* binding */ InstitutionSetup)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/shield.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/wifi-off.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/building.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/sparkles.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/hard-drive.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/database.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/copy.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/download.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/mail.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/zap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/arrow-right.mjs");

// src/renderer/components/InstitutionSetup.tsx - Version redesignée


const InstitutionSetup = ({ institutionCode, institution, onComplete, onClose }) => {
    const [currentStep, setCurrentStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);
    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const handleCopyCode = async () => {
        try {
            await navigator.clipboard.writeText(institutionCode);
            setCopied(true);
            setTimeout(() => setCopied(false), 2000);
        }
        catch (error) {
            const textArea = document.createElement('textarea');
            textArea.value = institutionCode;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            setCopied(true);
            setTimeout(() => setCopied(false), 2000);
        }
    };
    const handleDownloadInfo = () => {
        const content = `
INFORMATIONS DE VOTRE ÉTABLISSEMENT (MODE HORS LIGNE)
=====================================================

Nom: ${institution?.name || 'Non spécifié'}
Code d'accès local: ${institutionCode}
Type: ${institution?.type || 'Non spécifié'}
Ville: ${institution?.city || 'Non spécifié'}

MODE DE FONCTIONNEMENT:
======================
✓ Base de données locale (SQLite)
✓ Fonctionne sans Internet
✓ Données stockées sur votre ordinateur
✓ Possibilité de partage en réseau local

INFORMATIONS IMPORTANTES:
========================
- Ce code permet l'accès à votre bibliothèque locale
- Conservez-le précieusement
- Partagez-le uniquement avec des personnes autorisées
- Votre établissement fonctionne entièrement hors ligne

Date de création: ${new Date().toLocaleDateString('fr-FR')}
Heure de création: ${new Date().toLocaleTimeString('fr-FR')}
    `.trim();
        const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `${institution?.name?.replace(/[^a-zA-Z0-9]/g, '_') || 'bibliotheque'}_offline_info.txt`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    };
    const sendInvitation = () => {
        const subject = encodeURIComponent(`Invitation - ${institution?.name} (Mode Hors Ligne)`);
        const body = encodeURIComponent(`
Bonjour,

Vous êtes invité(e) à rejoindre ${institution?.name} sur notre système de bibliothèque local.

🔑 Code d'accès: ${institutionCode}

📍 Informations importantes:
- Notre bibliothèque fonctionne en mode hors ligne
- Aucune connexion Internet requise
- Accès depuis le réseau local uniquement

📋 Instructions:
1. Connectez-vous au réseau local de l'établissement
2. Lancez l'application Bibliothèque
3. Utilisez le code d'accès ci-dessus pour vous connecter
4. Vos données seront synchronisées localement

Si vous avez des questions, contactez l'administrateur de la bibliothèque.

Cordialement,
L'équipe de ${institution?.name}
    `);
        window.open(`mailto:?subject=${subject}&body=${body}`);
    };
    const nextStep = () => {
        if (currentStep < 3) {
            setCurrentStep(currentStep + 1);
        }
        else {
            onComplete();
        }
    };
    const previousStep = () => {
        if (currentStep > 1) {
            setCurrentStep(currentStep - 1);
        }
    };
    const steps = [
        {
            number: 1,
            title: "Établissement créé !",
            subtitle: "Configuration réussie",
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"]
        },
        {
            number: 2,
            title: "Code d'accès",
            subtitle: "Partagez avec vos utilisateurs",
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"]
        },
        {
            number: 3,
            title: "Prêt à utiliser",
            subtitle: "Commencez dès maintenant",
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"]
        }
    ];
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "institution-setup", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setup-background", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "pattern-overlay" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "floating-shapes", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "shape shape-1" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "shape shape-2" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "shape shape-3" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setup-container", children: [onClose && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-app-btn", onClick: onClose, title: "Fermer l'application", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 20 }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setup-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "offline-badge", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Mode Hors Ligne" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-logo", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 40 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { className: "setup-title", children: "Configuration Termin\u00E9e" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-container", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-steps", children: steps.map((step, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `progress-step ${currentStep >= step.number ? 'active' : ''} ${currentStep === step.number ? 'current' : ''}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "step-circle", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(step.icon, { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "step-title", children: step.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "step-subtitle", children: step.subtitle })] }), index < steps.length - 1 && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "step-connector" })] }, step.number))) }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setup-content", children: [currentStep === 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content success-step", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "success-animation", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "success-circle", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 48 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "success-sparkles", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { className: "sparkle sparkle-1" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { className: "sparkle sparkle-2" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { className: "sparkle sparkle-3" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "step-title", children: "F\u00E9licitations ! \uD83C\uDF89" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "step-description", children: ["Votre \u00E9tablissement ", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: institution?.name }), " a \u00E9t\u00E9 configur\u00E9 avec succ\u00E8s en mode hors ligne. Vous pouvez maintenant g\u00E9rer votre biblioth\u00E8que localement."] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "institution-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "card-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Biblioth\u00E8que Locale" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "card-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "info-label", children: "Nom:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "info-value", children: institution?.name })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "info-label", children: "Type:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "info-value", children: [institution?.type === 'school' && '🏫 École/Lycée', institution?.type === 'university' && '🎓 Université', institution?.type === 'library' && '📚 Bibliothèque', institution?.type === 'other' && '🏢 Autre'] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "info-label", children: "Ville:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "info-value", children: institution?.city })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-row highlight", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "info-label", children: "Code d'acc\u00E8s:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "info-value code-value", children: institutionCode })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "features-preview", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Fonctionnalit\u00E9s disponibles :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "features-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Base de donn\u00E9es locale" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Fonctionne hors ligne" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Gestion des livres" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Gestion des utilisateurs" })] })] })] })] })), currentStep === 2 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content share-step", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "share-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "share-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 40 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "step-title", children: "Code d'Acc\u00E8s Local" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "step-description", children: "Ce code permet aux utilisateurs locaux d'acc\u00E9der \u00E0 votre biblioth\u00E8que. Conservez-le pr\u00E9cieusement et partagez-le uniquement avec des personnes autoris\u00E9es." })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "code-display", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "code-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "code-label", children: "Code d'acc\u00E8s local" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "code-value-large", children: institutionCode }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `copy-button ${copied ? 'copied' : ''}`, onClick: handleCopyCode, children: [copied ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: copied ? 'Copié !' : 'Copier le code' })] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "sharing-options", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Options de partage" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "sharing-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "sharing-option", onClick: handleDownloadInfo, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "option-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "option-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "option-title", children: "T\u00E9l\u00E9charger les infos" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "option-description", children: "Fichier avec code et instructions" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "sharing-option", onClick: sendInvitation, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "option-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "option-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "option-title", children: "Envoyer par email" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "option-description", children: "Invitation pr\u00E9-r\u00E9dig\u00E9e" })] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "instructions-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Instructions pour vos utilisateurs :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ol", { className: "instructions-list", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Se connecter au r\u00E9seau local de l'\u00E9tablissement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Lancer l'application Biblioth\u00E8que" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li", { children: ["Utiliser ce code d'acc\u00E8s : ", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code", { children: institutionCode })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Les donn\u00E9es seront synchronis\u00E9es localement" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "offline-note", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Aucune connexion Internet requise" })] })] })] })), currentStep === 3 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content ready-step", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "ready-animation", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "ready-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 48 }) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "step-title", children: "Tout est pr\u00EAt ! \uD83D\uDE80" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "step-description", children: "Votre biblioth\u00E8que locale est configur\u00E9e et pr\u00EAte \u00E0 \u00EAtre utilis\u00E9e. Vous allez maintenant acc\u00E9der au tableau de bord administrateur." }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "quick-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Prochaines \u00E9tapes recommand\u00E9es :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "actions-list", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "action-number", children: "1" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "action-title", children: "Ajoutez vos premiers livres" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "action-description", children: "Construisez votre catalogue local" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "action-number", children: "2" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "action-title", children: "Configurez vos param\u00E8tres" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "action-description", children: "Personnalisez votre biblioth\u00E8que" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "action-number", children: "3" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "action-title", children: "Partagez le code d'acc\u00E8s" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "action-description", children: "Invitez vos utilisateurs locaux" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "action-number", children: "4" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "action-title", children: "Testez le syst\u00E8me" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "action-description", children: "V\u00E9rifiez toutes les fonctionnalit\u00E9s" })] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "offline-advantages", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Avantages du mode hors ligne :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "advantages-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "advantage-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Donn\u00E9es locales s\u00E9curis\u00E9es" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "advantage-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Ind\u00E9pendance Internet" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "advantage-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Performance optimale" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "advantage-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Contr\u00F4le total" })] })] })] })] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setup-navigation", children: [currentStep > 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "nav-button secondary", onClick: previousStep, disabled: isLoading, children: "Pr\u00E9c\u00E9dent" })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "nav-button primary", onClick: nextStep, disabled: isLoading, children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "loading-spinner" }), "Chargement..."] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [currentStep === 3 ? 'Accéder à ma bibliothèque' : 'Continuer', (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 16 })] })) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .institution-setup {
          min-height: 100vh;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          position: relative;
          overflow: hidden;
          display: flex;
          flex-direction: column;
        }

        .setup-background {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          overflow: hidden;
        }

        .pattern-overlay {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-image: 
            radial-gradient(circle at 20% 80%, rgba(243, 238, 217, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 80% 20%, rgba(243, 238, 217, 0.05) 0%, transparent 50%);
          animation: drift 20s ease-in-out infinite;
        }

        @keyframes drift {
          0%, 100% { transform: translate(0, 0) rotate(0deg); }
          50% { transform: translate(20px, -20px) rotate(1deg); }
        }

        .floating-shapes {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          pointer-events: none;
        }

        .shape {
          position: absolute;
          background: rgba(243, 238, 217, 0.05);
          border-radius: 50%;
          animation: float 6s ease-in-out infinite;
        }

        .shape-1 {
          width: 80px;
          height: 80px;
          top: 20%;
          left: 10%;
          animation-delay: 0s;
        }

        .shape-2 {
          width: 60px;
          height: 60px;
          top: 60%;
          right: 15%;
          animation-delay: 2s;
        }

        .shape-3 {
          width: 100px;
          height: 100px;
          bottom: 30%;
          left: 20%;
          animation-delay: 4s;
        }

        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-20px); }
        }

        .setup-container {
          position: relative;
          z-index: 10;
          height: 100vh;
          display: flex;
          flex-direction: column;
          padding: 20px;
          max-width: 1000px;
          margin: 0 auto;
          overflow-y: auto;
          overflow-x: hidden;
        }

        .close-app-btn {
          position: absolute;
          top: 20px;
          right: 20px;
          width: 44px;
          height: 44px;
          border: none;
          background: rgba(243, 238, 217, 0.15);
          color: #F3EED9;
          border-radius: 12px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          z-index: 20;
          border: 1px solid rgba(243, 238, 217, 0.2);
        }

        .close-app-btn:hover {
          background: rgba(220, 38, 38, 0.2);
          color: #DC2626;
          border-color: rgba(220, 38, 38, 0.3);
          transform: scale(1.05);
        }

        .setup-header {
          text-align: center;
          margin-bottom: 20px;
          color: #F3EED9;
          flex-shrink: 0;
        }

        .offline-badge {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          background: rgba(194, 87, 27, 0.2);
          color: #C2571B;
          padding: 8px 16px;
          border-radius: 20px;
          font-size: 14px;
          font-weight: 600;
          border: 1px solid rgba(194, 87, 27, 0.3);
          margin-bottom: 24px;
        }

        .header-logo {
          width: 60px;
          height: 60px;
          background: rgba(243, 238, 217, 0.15);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin: 0 auto 20px;
          border: 1px solid rgba(243, 238, 217, 0.2);
        }

        .setup-title {
          font-size: 28px;
          font-weight: 800;
          margin: 0 0 24px 0;
          letter-spacing: -0.5px;
        }

        .progress-container {
          margin-bottom: 16px;
        }

        .progress-steps {
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 32px;
        }

        .progress-step {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
          opacity: 0.5;
          transition: all 0.3s ease;
          position: relative;
        }

        .progress-step.active {
          opacity: 1;
        }

        .progress-step.current {
          transform: scale(1.05);
        }

        .step-circle {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: rgba(243, 238, 217, 0.15);
          border: 2px solid rgba(243, 238, 217, 0.3);
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
        }

        .progress-step.active .step-circle {
          background: rgba(243, 238, 217, 0.25);
          border-color: rgba(243, 238, 217, 0.5);
        }

        .progress-step.current .step-circle {
          background: #C2571B;
          border-color: #C2571B;
          color: #F3EED9;
          box-shadow: 0 4px 16px rgba(194, 87, 27, 0.3);
        }

        .step-info {
          text-align: center;
        }

        .step-title {
          font-size: 12px;
          font-weight: 600;
          margin: 0 0 2px 0;
        }

        .step-subtitle {
          font-size: 10px;
          opacity: 0.8;
        }

        .step-connector {
          position: absolute;
          top: 20px;
          left: calc(100% + 8px);
          width: 24px;
          height: 2px;
          background: rgba(243, 238, 217, 0.2);
          z-index: -1;
        }

        .setup-content {
          flex: 1;
          background: #FFFFFF;
          border-radius: 20px;
          padding: 32px;
          margin-bottom: 16px;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
          border: 1px solid rgba(229, 220, 194, 0.3);
          overflow-y: auto;
          min-height: 0;
        }

        .step-content {
          max-width: 700px;
          margin: 0 auto;
        }

        /* Success Step */
        .success-step {
          text-align: center;
        }

        .success-animation {
          position: relative;
          margin-bottom: 24px;
        }

        .success-circle {
          color: #3E5C49;
          animation: bounce 0.6s ease-out;
        }

        .success-sparkles {
          position: absolute;
          inset: 0;
          pointer-events: none;
        }

        .sparkle {
          position: absolute;
          color: #C2571B;
          animation: sparkle 2s ease-in-out infinite;
        }

        .sparkle-1 {
          top: 10%;
          left: 20%;
          animation-delay: 0s;
        }

        .sparkle-2 {
          top: 20%;
          right: 15%;
          animation-delay: 0.5s;
        }

        .sparkle-3 {
          bottom: 15%;
          left: 15%;
          animation-delay: 1s;
        }

        @keyframes bounce {
          0%, 20%, 53%, 80%, 100% { transform: translate3d(0, 0, 0); }
          40%, 43% { transform: translate3d(0, -20px, 0); }
          70% { transform: translate3d(0, -10px, 0); }
          90% { transform: translate3d(0, -3px, 0); }
        }

        @keyframes sparkle {
          0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }
          50% { opacity: 1; transform: scale(1) rotate(180deg); }
        }

        .step-title {
          font-size: 24px;
          font-weight: 700;
          color: #3E5C49;
          margin: 0 0 12px 0;
          letter-spacing: -0.3px;
        }

        .step-description {
          font-size: 16px;
          color: #4A4A4A;
          line-height: 1.5;
          margin-bottom: 24px;
        }

        .institution-card {
          background: rgba(243, 238, 217, 0.1);
          border: 1px solid rgba(243, 238, 217, 0.3);
          border-radius: 12px;
          margin-bottom: 24px;
          overflow: hidden;
        }

        .card-header {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 16px 20px;
          background: rgba(62, 92, 73, 0.1);
          border-bottom: 1px solid rgba(243, 238, 217, 0.3);
        }

        .card-header h3 {
          font-size: 16px;
          font-weight: 600;
          color: #3E5C49;
          margin: 0;
        }

        .card-content {
          padding: 20px;
        }

        .info-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 12px;
          padding-bottom: 12px;
          border-bottom: 1px solid rgba(243, 238, 217, 0.3);
        }

        .info-row:last-child {
          margin-bottom: 0;
          padding-bottom: 0;
          border-bottom: none;
        }

        .info-row.highlight {
          background: rgba(62, 92, 73, 0.05);
          padding: 12px;
          border-radius: 8px;
          border: 1px solid rgba(62, 92, 73, 0.2);
          border-bottom: 1px solid rgba(62, 92, 73, 0.2);
        }

        .info-label {
          font-weight: 600;
          color: #4A4A4A;
          font-size: 14px;
        }

        .info-value {
          font-weight: 600;
          color: #3E5C49;
          font-size: 14px;
        }

        .code-value {
          font-family: 'Monaco', 'Consolas', monospace;
          background: #3E5C49;
          color: #F3EED9;
          padding: 6px 10px;
          border-radius: 6px;
          font-size: 14px;
          letter-spacing: 1px;
        }

        .features-preview h3 {
          font-size: 16px;
          font-weight: 600;
          color: #3E5C49;
          margin: 0 0 12px 0;
          text-align: left;
        }

        .features-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
          gap: 12px;
        }

        .feature-item {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px;
          background: rgba(62, 92, 73, 0.05);
          border: 1px solid rgba(62, 92, 73, 0.1);
          border-radius: 8px;
          color: #3E5C49;
          font-weight: 500;
          font-size: 14px;
        }

        /* Share Step */
        .share-step {
          text-align: center;
        }

        .share-header {
          margin-bottom: 24px;
        }

        .share-icon {
          color: #C2571B;
          margin-bottom: 16px;
        }

        .code-display {
          margin-bottom: 32px;
        }

        .code-container {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          border-radius: 16px;
          padding: 24px;
          color: #F3EED9;
          position: relative;
          overflow: hidden;
        }

        .code-container::before {
          content: '';
          position: absolute;
          top: 0;
          right: 0;
          width: 80px;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.1));
          transform: skewX(-15deg);
        }

        .code-label {
          font-size: 12px;
          opacity: 0.9;
          margin-bottom: 12px;
          text-transform: uppercase;
          letter-spacing: 1px;
        }

        .code-value-large {
          font-size: 32px;
          font-weight: 800;
          letter-spacing: 4px;
          font-family: 'Monaco', 'Consolas', monospace;
          margin-bottom: 16px;
          position: relative;
          z-index: 1;
        }

        .copy-button {
          display: flex;
          align-items: center;
          gap: 6px;
          background: rgba(243, 238, 217, 0.2);
          border: 1px solid rgba(243, 238, 217, 0.3);
          color: #F3EED9;
          padding: 8px 16px;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.2s ease;
          font-weight: 600;
          margin: 0 auto;
          position: relative;
          z-index: 1;
          font-size: 14px;
        }

        .copy-button:hover {
          background: rgba(243, 238, 217, 0.3);
          transform: translateY(-1px);
        }

        .copy-button.copied {
          background: rgba(194, 87, 27, 0.8);
          border-color: rgba(194, 87, 27, 0.8);
          color: #F3EED9;
        }

        .sharing-options {
          margin-bottom: 32px;
        }

        .sharing-options h3 {
          font-size: 16px;
          font-weight: 600;
          color: #3E5C49;
          margin: 0 0 16px 0;
        }

        .sharing-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 16px;
        }

        .sharing-option {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px;
          background: rgba(62, 92, 73, 0.05);
          border: 1px solid rgba(62, 92, 73, 0.1);
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.2s ease;
          color: #3E5C49;
          font-weight: 600;
        }

        .sharing-option:hover {
          background: rgba(62, 92, 73, 0.1);
          border-color: rgba(62, 92, 73, 0.2);
        }

        .option-icon {
          width: 36px;
          height: 36px;
          background: #C2571B;
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          flex-shrink: 0;
        }

        .option-content {
          display: flex;
          flex-direction: column;
          gap: 2px;
        }

        .option-title {
          font-size: 14px;
          font-weight: 600;
        }

        .option-description {
          font-size: 12px;
          color: #4A4A4A;
        }

        .instructions-card {
          background: rgba(243, 238, 217, 0.1);
          border: 1px solid rgba(243, 238, 217, 0.3);
          border-radius: 12px;
          padding: 20px;
          color: #3E5C49;
          text-align: left;
          max-width: 500px;
          margin: 0 auto;
        }

        .instructions-card h4 {
          margin: 0 0 12px 0;
          font-size: 14px;
          font-weight: 600;
        }

        .instructions-list {
          margin: 0 0 16px 0;
          padding-left: 20px;
          list-style-type: decimal;
        }

        .instructions-list li {
          margin-bottom: 6px;
          font-size: 13px;
          line-height: 1.4;
        }

        .instructions-list code {
          background: #3E5C49;
          color: #F3EED9;
          padding: 2px 6px;
          border-radius: 4px;
          font-family: 'Monaco', 'Consolas', monospace;
          font-size: 12px;
        }

        .offline-note {
          display: flex;
          align-items: center;
          gap: 8px;
          background: rgba(194, 87, 27, 0.1);
          border: 1px solid rgba(194, 87, 27, 0.2);
          color: #C2571B;
          padding: 8px 12px;
          border-radius: 8px;
          font-size: 12px;
          font-weight: 600;
        }

        /* Ready Step */
        .ready-step {
          text-align: center;
        }

        .ready-animation {
          margin-bottom: 24px;
        }

        .ready-icon {
          color: #C2571B;
          animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.1); }
        }

        .quick-actions {
          margin-bottom: 24px;
        }

        .quick-actions h3 {
          font-size: 16px;
          font-weight: 600;
          color: #3E5C49;
          margin: 0 0 16px 0;
          text-align: left;
        }

        .actions-list {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .action-item {
          display: flex;
          align-items: center;
          gap: 16px;
          padding: 16px;
          background: rgba(62, 92, 73, 0.05);
          border: 1px solid rgba(62, 92, 73, 0.1);
          border-radius: 12px;
        }

        .action-number {
          width: 32px;
          height: 32px;
          background: #C2571B;
          color: #F3EED9;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          font-size: 14px;
          flex-shrink: 0;
        }

        .action-content {
          display: flex;
          flex-direction: column;
          gap: 2px;
          text-align: left;
        }

        .action-title {
          font-weight: 600;
          color: #3E5C49;
          font-size: 14px;
        }

        .action-description {
          font-size: 12px;
          color: #4A4A4A;
        }

        .offline-advantages h4 {
          font-size: 14px;
          font-weight: 600;
          color: #3E5C49;
          margin: 0 0 12px 0;
          text-align: left;
        }

        .advantages-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
          gap: 12px;
        }

        .advantage-item {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 10px 12px;
          background: rgba(194, 87, 27, 0.1);
          border: 1px solid rgba(194, 87, 27, 0.2);
          border-radius: 8px;
          color: #C2571B;
          font-weight: 500;
          font-size: 13px;
        }

        /* Navigation */
        .setup-navigation {
          display: flex;
          justify-content: flex-end;
          gap: 12px;
          padding: 0 20px 20px;
          flex-shrink: 0;
        }

        .nav-button {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 10px 20px;
          border-radius: 10px;
          font-weight: 600;
          font-size: 14px;
          cursor: pointer;
          border: none;
          transition: all 0.2s ease;
        }

        .nav-button.primary {
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          color: #F3EED9;
        }

        .nav-button.primary:hover:not(:disabled) {
          background: linear-gradient(135deg, #A8481A 0%, #8A3C18 100%);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(194, 87, 27, 0.3);
        }

        .nav-button.secondary {
          background: rgba(243, 238, 217, 0.1);
          color: #F3EED9;
          border: 1px solid rgba(243, 238, 217, 0.3);
        }

        .nav-button.secondary:hover:not(:disabled) {
          background: rgba(243, 238, 217, 0.2);
          border-color: rgba(243, 238, 217, 0.5);
          transform: translateY(-1px);
        }

        .nav-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
          box-shadow: none;
        }

        .loading-spinner {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(243, 238, 217, 0.3);
          border-top: 2px solid #F3EED9;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 768px) {
          .setup-container {
            padding: 16px;
            height: 100vh;
          }

          .progress-steps {
            gap: 20px;
          }

          .step-connector {
            width: 16px;
            left: calc(100% + 4px);
          }

          .setup-content {
            padding: 24px 16px;
            margin-bottom: 12px;
          }

          .features-grid,
          .sharing-grid,
          .advantages-grid {
            grid-template-columns: 1fr;
          }

          .setup-navigation {
            flex-direction: column-reverse;
            padding: 0 16px 16px;
          }

          .code-value-large {
            font-size: 24px;
            letter-spacing: 2px;
          }

          .step-title {
            font-size: 20px;
          }
        }

        @media (max-width: 480px) {
          .progress-steps {
            flex-direction: column;
            gap: 16px;
          }

          .step-connector {
            display: none;
          }

          .setup-title {
            font-size: 24px;
          }

          .code-value-large {
            font-size: 20px;
            letter-spacing: 1px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/InstitutionUserManagement.tsx":
/*!***************************************************************!*\
  !*** ./src/renderer/components/InstitutionUserManagement.tsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InstitutionUserManagement: () => (/* binding */ InstitutionUserManagement)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/search.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/filter.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user-check.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/shield.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user-x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trash-2.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/mail.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/lock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye-off.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/plus.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/save.mjs");
/* harmony import */ var _MicroInteractions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MicroInteractions */ "./src/renderer/components/MicroInteractions.tsx");
/* harmony import */ var _ToastSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ToastSystem */ "./src/renderer/components/ToastSystem.tsx");
/* harmony import */ var _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/LocalAuthService */ "./src/renderer/services/LocalAuthService.ts");






const InstitutionUserManagement = ({ currentUser, currentInstitution, appMode, onClose }) => {
    const { success, error, info } = (0,_ToastSystem__WEBPACK_IMPORTED_MODULE_3__.useQuickToast)();
    const [users, setUsers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);
    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [currentView, setCurrentView] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('list');
    const [selectedUser, setSelectedUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [roleFilter, setRoleFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('all');
    const [newUserForm, setNewUserForm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        email: '',
        firstName: '',
        lastName: '',
        password: '',
        confirmPassword: '',
        role: 'user'
    });
    const [formErrors, setFormErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});
    const [showPassword, setShowPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        loadUsers();
    }, []);
    const loadUsers = async () => {
        try {
            setIsLoading(true);
            if (appMode === 'offline' && currentInstitution?.code) {
                const allUsers = _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_4__.LocalAuthService.getUsers();
                const localUsers = allUsers.filter(user => user.institutionCode === currentInstitution.code);
                const displayUsers = localUsers.map((user) => ({
                    id: user.id,
                    email: user.email,
                    firstName: user.firstName || '',
                    lastName: user.lastName || '',
                    role: user.role,
                    institutionCode: user.institutionCode,
                    isActive: user.isActive !== undefined ? user.isActive : true,
                    createdAt: user.createdAt || new Date().toISOString(),
                    lastLogin: user.lastLogin
                }));
                setUsers(displayUsers);
            }
        }
        catch (err) {
            console.error('Erreur lors du chargement des utilisateurs:', err);
            error('Erreur', 'Impossible de charger les utilisateurs');
        }
        finally {
            setIsLoading(false);
        }
    };
    const validateForm = () => {
        const errors = {};
        if (!newUserForm.email.trim()) {
            errors.email = 'Email obligatoire';
        }
        else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(newUserForm.email)) {
            errors.email = 'Format email invalide';
        }
        if (!newUserForm.firstName.trim()) {
            errors.firstName = 'Prénom obligatoire';
        }
        if (!newUserForm.lastName.trim()) {
            errors.lastName = 'Nom obligatoire';
        }
        if (!newUserForm.password) {
            errors.password = 'Mot de passe obligatoire';
        }
        else if (newUserForm.password.length < 6) {
            errors.password = 'Minimum 6 caractères';
        }
        if (newUserForm.password !== newUserForm.confirmPassword) {
            errors.confirmPassword = 'Les mots de passe ne correspondent pas';
        }
        setFormErrors(errors);
        return Object.keys(errors).length === 0;
    };
    const handleCreateUser = async () => {
        if (!validateForm() || !currentInstitution?.code)
            return;
        try {
            setIsLoading(true);
            if (appMode === 'offline') {
                const newUser = _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_4__.LocalAuthService.addUser({
                    email: newUserForm.email,
                    password: newUserForm.password,
                    firstName: newUserForm.firstName,
                    lastName: newUserForm.lastName,
                    role: newUserForm.role,
                    institutionCode: currentInstitution.code
                });
                if (newUser) {
                    success('Utilisateur créé', `${newUserForm.firstName} ${newUserForm.lastName} a été ajouté avec succès`);
                    setNewUserForm({
                        email: '',
                        firstName: '',
                        lastName: '',
                        password: '',
                        confirmPassword: '',
                        role: 'user'
                    });
                    setCurrentView('list');
                    await loadUsers();
                }
                else {
                    error('Erreur', 'Impossible de créer l\'utilisateur');
                }
            }
        }
        catch (err) {
            console.error('Erreur lors de la création:', err);
            error('Erreur', 'Erreur lors de la création de l\'utilisateur');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleDeleteUser = async (userId, userName) => {
        if (!confirm(`Êtes-vous sûr de vouloir supprimer ${userName} ?`))
            return;
        try {
            if (appMode === 'offline') {
                // Simulation de suppression en filtrant l'utilisateur
                const users = _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_4__.LocalAuthService.getUsers();
                const filteredUsers = users.filter(u => u.id !== userId);
                _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_4__.LocalAuthService.saveUsers(filteredUsers);
                success('Utilisateur supprimé', `${userName} a été supprimé avec succès`);
                await loadUsers();
            }
        }
        catch (err) {
            console.error('Erreur lors de la suppression:', err);
            error('Erreur', 'Erreur lors de la suppression');
        }
    };
    const handleToggleUserStatus = async (userId, currentStatus) => {
        try {
            if (appMode === 'offline') {
                // Simulation de modification du statut
                const users = _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_4__.LocalAuthService.getUsers();
                const updatedUsers = users.map(u => u.id === userId ? { ...u, isActive: !currentStatus } : u);
                _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_4__.LocalAuthService.saveUsers(updatedUsers);
                const action = !currentStatus ? 'activé' : 'désactivé';
                success('Statut modifié', `Utilisateur ${action} avec succès`);
                await loadUsers();
            }
        }
        catch (err) {
            console.error('Erreur lors de la modification du statut:', err);
            error('Erreur', 'Erreur lors de la modification du statut');
        }
    };
    const filteredUsers = users.filter(user => {
        const matchesSearch = user.firstName.toLowerCase().includes(searchTerm.toLowerCase()) ||
            user.lastName.toLowerCase().includes(searchTerm.toLowerCase()) ||
            user.email.toLowerCase().includes(searchTerm.toLowerCase());
        const matchesRole = roleFilter === 'all' || user.role === roleFilter;
        return matchesSearch && matchesRole;
    });
    const getRoleColor = (role) => {
        switch (role) {
            case 'admin': return '#C2571B';
            case 'librarian': return '#3E5C49';
            case 'user': return '#6B7280';
            default: return '#6B7280';
        }
    };
    const getRoleLabel = (role) => {
        switch (role) {
            case 'admin': return 'Administrateur';
            case 'librarian': return 'Bibliothécaire';
            case 'user': return 'Utilisateur';
            default: return role;
        }
    };
    const renderUserList = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "users-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "search-filters", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "search-box", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", placeholder: "Rechercher un utilisateur...", value: searchTerm, onChange: (e) => setSearchTerm(e.target.value) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: roleFilter, onChange: (e) => setRoleFilter(e.target.value), className: "role-filter", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tous les r\u00F4les" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "admin", children: "Administrateurs" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "librarian", children: "Biblioth\u00E9caires" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "user", children: "Utilisateurs" })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "users-stats", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-number", children: users.length }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-label", children: "Total" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-number", children: users.filter(u => u.isActive).length }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-label", children: "Actifs" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-number", children: users.filter(u => u.role === 'admin').length }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-label", children: "Admins" })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "users-list", children: filteredUsers.length === 0 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "empty-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 48 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Aucun utilisateur trouv\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: searchTerm || roleFilter !== 'all'
                                ? 'Aucun utilisateur ne correspond aux critères de recherche'
                                : 'Commencez par ajouter votre premier utilisateur' })] })) : (filteredUsers.map(user => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-avatar", children: [user.firstName[0], user.lastName[0]] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-name", children: [user.firstName, " ", user.lastName, !user.isActive && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "inactive-badge", children: "Inactif" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "user-email", children: user.email }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-meta", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "role-badge", style: { backgroundColor: getRoleColor(user.role) }, children: getRoleLabel(user.role) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "join-date", children: ["Cr\u00E9\u00E9 le ", new Date(user.createdAt).toLocaleDateString()] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", size: "small", onClick: () => handleToggleUserStatus(user.id, user.isActive), disabled: user.id === currentUser?.id, children: user.isActive ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "danger", size: "small", onClick: () => handleDeleteUser(user.id, `${user.firstName} ${user.lastName}`), disabled: user.id === currentUser?.id, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 16 }) })] })] }, user.id)))) })] }));
    const renderAddUserForm = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "add-user-form", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Informations personnelles" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Pr\u00E9nom *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: newUserForm.firstName, onChange: (e) => setNewUserForm(prev => ({ ...prev, firstName: e.target.value })), className: formErrors.firstName ? 'error' : '', placeholder: "Jean" }), formErrors.firstName && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "error-text", children: formErrors.firstName })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Nom *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: newUserForm.lastName, onChange: (e) => setNewUserForm(prev => ({ ...prev, lastName: e.target.value })), className: formErrors.lastName ? 'error' : '', placeholder: "Dupont" }), formErrors.lastName && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "error-text", children: formErrors.lastName })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Email *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-with-icon", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "email", value: newUserForm.email, onChange: (e) => setNewUserForm(prev => ({ ...prev, email: e.target.value })), className: formErrors.email ? 'error' : '', placeholder: "jean.dupont@example.com" })] }), formErrors.email && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "error-text", children: formErrors.email })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "S\u00E9curit\u00E9 et permissions" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "R\u00F4le" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-with-icon", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: newUserForm.role, onChange: (e) => setNewUserForm(prev => ({ ...prev, role: e.target.value })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "user", children: "Utilisateur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "librarian", children: "Biblioth\u00E9caire" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "admin", children: "Administrateur" })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Mot de passe *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-with-icon", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: showPassword ? 'text' : 'password', value: newUserForm.password, onChange: (e) => setNewUserForm(prev => ({ ...prev, password: e.target.value })), className: formErrors.password ? 'error' : '', placeholder: "\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", className: "password-toggle", onClick: () => setShowPassword(!showPassword), children: showPassword ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 16 }) })] }), formErrors.password && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "error-text", children: formErrors.password })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Confirmer le mot de passe *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-with-icon", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: showPassword ? 'text' : 'password', value: newUserForm.confirmPassword, onChange: (e) => setNewUserForm(prev => ({ ...prev, confirmPassword: e.target.value })), className: formErrors.confirmPassword ? 'error' : '', placeholder: "\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022" })] }), formErrors.confirmPassword && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "error-text", children: formErrors.confirmPassword })] })] })] })] }));
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-container user-management-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "modal-title", children: "Gestion des utilisateurs" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "modal-subtitle", children: [currentInstitution?.name || 'Institution', " \u2022 ", users.length, " utilisateur", users.length !== 1 ? 's' : ''] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-btn", onClick: onClose, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "modal-nav", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nav-buttons", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `nav-button ${currentView === 'list' ? 'active' : ''}`, onClick: () => setCurrentView('list'), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 18 }), "Liste des utilisateurs"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `nav-button ${currentView === 'add' ? 'active' : ''}`, onClick: () => setCurrentView('add'), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 18 }), "Nouvel utilisateur"] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "modal-content", children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "loading-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "loading-spinner" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Chargement des utilisateurs..." })] })) : currentView === 'list' ? (renderUserList()) : (renderAddUserForm()) }), currentView === 'add' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", onClick: () => setCurrentView('list'), disabled: isLoading, children: "Annuler" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "primary", onClick: handleCreateUser, disabled: isLoading, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 16 }), "Cr\u00E9er l'utilisateur"] })] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .user-management-modal {
          max-width: 900px;
          height: 80vh;
          display: flex;
          flex-direction: column;
        }

        .modal-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.75);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 50;
          padding: 20px;
        }

        .modal-container {
          background: white;
          border-radius: 20px;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
          width: 100%;
          max-height: 95vh;
          overflow: hidden;
          animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
          from {
            opacity: 0;
            transform: scale(0.95) translateY(20px);
          }
          to {
            opacity: 1;
            transform: scale(1) translateY(0);
          }
        }

        .modal-header {
          background: linear-gradient(135deg, #3E5C49 0%, #C2571B 100%);
          color: #F3EED9;
          padding: 24px 32px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          position: relative;
          overflow: hidden;
        }

        .modal-header::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Ccircle cx='7' cy='7' r='7'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E") repeat;
          opacity: 0.6;
        }

        .header-content {
          display: flex;
          align-items: center;
          gap: 16px;
          position: relative;
          z-index: 1;
        }

        .header-icon {
          width: 48px;
          height: 48px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }

        .header-text {
          flex: 1;
        }

        .modal-title {
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 2px 0;
          color: #F3EED9;
        }

        .modal-subtitle {
          font-size: 14px;
          margin: 0;
          opacity: 0.9;
          color: #F3EED9;
        }

        .close-btn {
          background: rgba(243, 238, 217, 0.15);
          border: 1px solid rgba(243, 238, 217, 0.3);
          color: #F3EED9;
          width: 40px;
          height: 40px;
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: all 0.2s ease;
          position: relative;
          z-index: 1;
        }

        .close-btn:hover {
          background: rgba(255, 255, 255, 0.2);
          transform: scale(1.05);
        }

        .modal-nav {
          background: #FAF9F6;
          border-bottom: 1px solid rgba(229, 220, 194, 0.4);
          padding: 16px 32px;
        }

        .nav-buttons {
          display: flex;
          gap: 8px;
        }

        .nav-button {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 10px 16px;
          border: none;
          background: transparent;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.2s ease;
          font-size: 14px;
          font-weight: 500;
          color: #6E6E6E;
        }

        .nav-button:hover {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }

        .nav-button.active {
          background: #3E5C49;
          color: #F3EED9;
        }

        .modal-content {
          flex: 1;
          overflow-y: auto;
          padding: 32px;
        }

        .modal-actions {
          padding: 24px 32px;
          border-top: 1px solid rgba(229, 220, 194, 0.4);
          display: flex;
          justify-content: flex-end;
          gap: 12px;
          background: #FAF9F6;
        }

        /* Search and Filters */
        .search-filters {
          display: flex;
          gap: 16px;
          margin-bottom: 24px;
          align-items: center;
        }

        .search-box {
          position: relative;
          flex: 1;
        }

        .search-box svg {
          position: absolute;
          left: 16px;
          top: 50%;
          transform: translateY(-50%);
          color: #9CA3AF;
        }

        .search-box input {
          width: 100%;
          padding: 12px 16px 12px 48px;
          border: 2px solid rgba(229, 220, 194, 0.6);
          border-radius: 12px;
          background: white;
          font-size: 14px;
          transition: all 0.2s ease;
        }

        .search-box input:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }

        .filter-group {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 16px;
          background: white;
          border: 2px solid rgba(229, 220, 194, 0.6);
          border-radius: 12px;
        }

        .role-filter {
          border: none;
          background: transparent;
          font-size: 14px;
          cursor: pointer;
          outline: none;
        }

        /* User Stats */
        .users-stats {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
          gap: 16px;
          margin-bottom: 32px;
        }

        .stat-card {
          background: white;
          padding: 20px;
          border-radius: 12px;
          border: 2px solid rgba(229, 220, 194, 0.3);
          display: flex;
          align-items: center;
          gap: 12px;
          transition: all 0.2s ease;
        }

        .stat-card:hover {
          border-color: rgba(62, 92, 73, 0.3);
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .stat-card svg {
          color: #3E5C49;
        }

        .stat-number {
          font-size: 20px;
          font-weight: 700;
          color: #2E2E2E;
          line-height: 1;
        }

        .stat-label {
          font-size: 12px;
          color: #6E6E6E;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        /* Users List */
        .users-list {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .user-card {
          background: white;
          border: 2px solid rgba(229, 220, 194, 0.3);
          border-radius: 12px;
          padding: 20px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          transition: all 0.2s ease;
        }

        .user-card:hover {
          border-color: rgba(62, 92, 73, 0.3);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .user-info {
          display: flex;
          align-items: center;
          gap: 16px;
          flex: 1;
        }

        .user-avatar {
          width: 48px;
          height: 48px;
          border-radius: 12px;
          background: linear-gradient(135deg, #3E5C49, #C2571B);
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          font-size: 16px;
        }

        .user-details {
          flex: 1;
        }

        .user-name {
          font-size: 16px;
          font-weight: 600;
          color: #2E2E2E;
          margin-bottom: 4px;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .inactive-badge {
          background: #EF4444;
          color: white;
          font-size: 11px;
          padding: 2px 6px;
          border-radius: 4px;
          font-weight: 500;
        }

        .user-email {
          font-size: 14px;
          color: #6E6E6E;
          margin-bottom: 8px;
        }

        .user-meta {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .role-badge {
          color: white;
          font-size: 11px;
          padding: 4px 8px;
          border-radius: 6px;
          font-weight: 500;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .join-date {
          font-size: 12px;
          color: #9CA3AF;
        }

        .user-actions {
          display: flex;
          gap: 8px;
        }

        /* Empty State */
        .empty-state {
          text-align: center;
          padding: 60px 20px;
          color: #6E6E6E;
        }

        .empty-state svg {
          color: #D1D5DB;
          margin-bottom: 16px;
        }

        .empty-state h3 {
          font-size: 18px;
          font-weight: 600;
          margin: 0 0 8px 0;
          color: #4B5563;
        }

        .empty-state p {
          font-size: 14px;
          margin: 0;
          max-width: 300px;
          margin: 0 auto;
          line-height: 1.5;
        }

        /* Add User Form */
        .add-user-form {
          max-width: 600px;
          margin: 0 auto;
        }

        .form-section {
          margin-bottom: 32px;
        }

        .form-section h3 {
          font-size: 18px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 20px 0;
          padding-bottom: 8px;
          border-bottom: 2px solid rgba(229, 220, 194, 0.4);
        }

        .form-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
        }

        .form-group {
          margin-bottom: 20px;
        }

        .form-group label {
          display: block;
          font-size: 14px;
          font-weight: 600;
          color: #374151;
          margin-bottom: 8px;
        }

        .form-group input,
        .form-group select {
          width: 100%;
          padding: 12px 16px;
          border: 2px solid rgba(229, 220, 194, 0.6);
          border-radius: 8px;
          font-size: 14px;
          transition: all 0.2s ease;
        }

        .form-group input:focus,
        .form-group select:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }

        .form-group input.error {
          border-color: #EF4444;
        }

        .input-with-icon {
          position: relative;
        }

        .input-with-icon svg {
          position: absolute;
          left: 16px;
          top: 50%;
          transform: translateY(-50%);
          color: #9CA3AF;
          z-index: 1;
        }

        .input-with-icon input,
        .input-with-icon select {
          padding-left: 48px;
        }

        .password-toggle {
          position: absolute;
          right: 16px;
          top: 50%;
          transform: translateY(-50%);
          background: none;
          border: none;
          color: #9CA3AF;
          cursor: pointer;
          transition: color 0.2s ease;
        }

        .password-toggle:hover {
          color: #6B7280;
        }

        .error-text {
          display: block;
          color: #EF4444;
          font-size: 12px;
          margin-top: 4px;
        }

        /* Loading State */
        .loading-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 60px 20px;
        }

        .loading-spinner {
          width: 40px;
          height: 40px;
          border: 3px solid rgba(62, 92, 73, 0.2);
          border-top: 3px solid #3E5C49;
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin-bottom: 16px;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
          .modal-overlay {
            padding: 16px;
          }

          .user-management-modal {
            height: 90vh;
          }

          .modal-header {
            padding: 20px 24px;
          }

          .modal-title {
            font-size: 20px;
          }

          .modal-content {
            padding: 24px;
          }

          .modal-actions {
            padding: 20px 24px;
          }

          .search-filters {
            flex-direction: column;
            align-items: stretch;
          }

          .users-stats {
            grid-template-columns: 1fr;
          }

          .user-card {
            flex-direction: column;
            align-items: flex-start;
            gap: 16px;
          }

          .user-info {
            width: 100%;
          }

          .user-actions {
            align-self: flex-end;
          }

          .form-row {
            grid-template-columns: 1fr;
          }

          .add-user-form {
            max-width: none;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/KeyboardShortcuts.tsx":
/*!*******************************************************!*\
  !*** ./src/renderer/components/KeyboardShortcuts.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   KeyboardShortcutsProvider: () => (/* binding */ KeyboardShortcutsProvider),
/* harmony export */   useKeyboardShortcuts: () => (/* binding */ useKeyboardShortcuts)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/home.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/plus.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/search.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/settings.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/keyboard.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/command.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/zap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye-off.mjs");



const KeyboardShortcutsContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);
const useKeyboardShortcuts = () => {
    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(KeyboardShortcutsContext);
    if (!context) {
        throw new Error('useKeyboardShortcuts must be used within a KeyboardShortcutsProvider');
    }
    return context;
};
const KeyboardShortcutsProvider = ({ children, onNavigate, onOpenAddDocument, onOpenSearch, onOpenSettings }) => {
    const [shortcuts, setShortcuts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});
    const [showHelpPanel, setShowHelpPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [isEnabled, setIsEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);
    const [pressedKeys, setPressedKeys] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());
    const [commandPalette, setCommandPalette] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    // Default shortcuts
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        const defaultShortcuts = {
            'home': {
                key: 'h',
                description: 'Accueil / Dashboard',
                action: () => onNavigate?.('dashboard'),
                category: 'navigation',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"]
            },
            'documents': {
                key: 'd',
                description: 'Liste des documents',
                action: () => onNavigate?.('documents'),
                category: 'navigation',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"]
            },
            'borrowed': {
                key: 'b',
                description: 'Documents empruntés',
                action: () => onNavigate?.('borrowed'),
                category: 'navigation',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"]
            },
            'borrowers': {
                key: 'u',
                description: 'Gestion des emprunteurs',
                action: () => onNavigate?.('borrowers'),
                category: 'navigation',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"]
            },
            'add-document': {
                key: 'n',
                description: 'Nouveau document',
                action: () => onOpenAddDocument?.(),
                category: 'actions',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"],
                modifier: 'ctrl'
            },
            'search': {
                key: 'k',
                description: 'Recherche rapide',
                action: () => setCommandPalette(true),
                category: 'search',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"],
                modifier: 'ctrl'
            },
            'settings': {
                key: ',',
                description: 'Paramètres',
                action: () => onOpenSettings?.(),
                category: 'general',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"],
                modifier: 'ctrl'
            },
            'help': {
                key: '?',
                description: 'Aide et raccourcis',
                action: () => setShowHelpPanel(true),
                category: 'general',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"],
                modifier: 'shift'
            },
            'command-palette': {
                key: 'p',
                description: 'Palette de commandes',
                action: () => setCommandPalette(true),
                category: 'general',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"],
                modifier: 'ctrl'
            }
        };
        setShortcuts(defaultShortcuts);
    }, [onNavigate, onOpenAddDocument, onOpenSearch, onOpenSettings]);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        if (!isEnabled)
            return;
        const handleKeyDown = (event) => {
            // Don't trigger shortcuts when typing in inputs
            if (event.target instanceof HTMLInputElement ||
                event.target instanceof HTMLTextAreaElement ||
                event.target instanceof HTMLSelectElement) {
                return;
            }
            setPressedKeys(prev => new Set([...prev, event.key.toLowerCase()]));
            // Check for modifier combinations
            const key = event.key.toLowerCase();
            const hasCtrl = event.ctrlKey || event.metaKey;
            const hasAlt = event.altKey;
            const hasShift = event.shiftKey;
            // Find matching shortcut
            const matchingShortcut = Object.values(shortcuts).find(shortcut => {
                if (shortcut.key !== key)
                    return false;
                switch (shortcut.modifier) {
                    case 'ctrl':
                        return hasCtrl && !hasAlt && !hasShift;
                    case 'alt':
                        return !hasCtrl && hasAlt && !hasShift;
                    case 'shift':
                        return !hasCtrl && !hasAlt && hasShift;
                    default:
                        return !hasCtrl && !hasAlt && !hasShift;
                }
            });
            if (matchingShortcut) {
                event.preventDefault();
                matchingShortcut.action();
            }
            // ESC to close modals
            if (key === 'escape') {
                setShowHelpPanel(false);
                setCommandPalette(false);
            }
        };
        const handleKeyUp = (event) => {
            setPressedKeys(prev => {
                const newSet = new Set(prev);
                newSet.delete(event.key.toLowerCase());
                return newSet;
            });
        };
        window.addEventListener('keydown', handleKeyDown);
        window.addEventListener('keyup', handleKeyUp);
        return () => {
            window.removeEventListener('keydown', handleKeyDown);
            window.removeEventListener('keyup', handleKeyUp);
        };
    }, [shortcuts, isEnabled]);
    const registerShortcut = (id, shortcut) => {
        setShortcuts(prev => ({ ...prev, [id]: shortcut }));
    };
    const unregisterShortcut = (id) => {
        setShortcuts(prev => {
            const newShortcuts = { ...prev };
            delete newShortcuts[id];
            return newShortcuts;
        });
    };
    const showHelp = () => setShowHelpPanel(true);
    const hideHelp = () => setShowHelpPanel(false);
    // Group shortcuts by category
    const groupedShortcuts = Object.values(shortcuts).reduce((acc, shortcut) => {
        if (!acc[shortcut.category]) {
            acc[shortcut.category] = [];
        }
        acc[shortcut.category].push(shortcut);
        return acc;
    }, {});
    // Filtered shortcuts for command palette
    const filteredShortcuts = Object.values(shortcuts).filter(shortcut => shortcut.description.toLowerCase().includes(searchQuery.toLowerCase()) ||
        shortcut.key.includes(searchQuery.toLowerCase()));
    const categoryLabels = {
        navigation: 'Navigation',
        actions: 'Actions',
        search: 'Recherche',
        general: 'Général'
    };
    const categoryIcons = {
        navigation: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"],
        actions: lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"],
        search: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"],
        general: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"]
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(KeyboardShortcutsContext.Provider, { value: {
            registerShortcut,
            unregisterShortcut,
            showHelp,
            hideHelp,
            isEnabled,
            setEnabled: setIsEnabled
        }, children: [children, showHelpPanel && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "shortcuts-overlay", onClick: () => setShowHelpPanel(false), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "shortcuts-panel", onClick: e => e.stopPropagation(), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "shortcuts-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { children: "Raccourcis Clavier" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Naviguez plus rapidement dans votre biblioth\u00E8que" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: () => setShowHelpPanel(false), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "shortcuts-content", children: Object.entries(groupedShortcuts).map(([category, categoryShortcuts]) => {
                                const Icon = categoryIcons[category];
                                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "shortcuts-category", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "category-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Icon, { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: categoryLabels[category] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "shortcuts-list", children: categoryShortcuts.map((shortcut, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "shortcut-item", children: [shortcut.icon && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(shortcut.icon, { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "shortcut-description", children: shortcut.description }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "shortcut-keys", children: [shortcut.modifier && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("kbd", { className: "key-modifier", children: shortcut.modifier === 'ctrl' ? '⌘' : shortcut.modifier })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("kbd", { className: "key", children: shortcut.key.toUpperCase() })] })] }, index))) })] }, category));
                            }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "shortcuts-footer", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "toggle-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `toggle-button ${isEnabled ? 'enabled' : 'disabled'}`, onClick: () => setIsEnabled(!isEnabled), children: [isEnabled ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16 }), isEnabled ? 'Raccourcis activés' : 'Raccourcis désactivés'] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "shortcuts-tip", children: ["\uD83D\uDCA1 Astuce: Utilisez ", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("kbd", { children: "Ctrl" }), " + ", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("kbd", { children: "K" }), " pour la palette de commandes"] })] })] }) })), commandPalette && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "command-palette-overlay", onClick: () => setCommandPalette(false), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "command-palette", onClick: e => e.stopPropagation(), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "command-search", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", placeholder: "Tapez une commande ou recherchez...", value: searchQuery, onChange: (e) => setSearchQuery(e.target.value), autoFocus: true }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("kbd", { className: "escape-hint", children: "ESC" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "command-results", children: filteredShortcuts.length > 0 ? (filteredShortcuts.map((shortcut, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "command-item", onClick: () => {
                                    shortcut.action();
                                    setCommandPalette(false);
                                    setSearchQuery('');
                                }, children: [shortcut.icon && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(shortcut.icon, { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "command-description", children: shortcut.description }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "command-keys", children: [shortcut.modifier && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("kbd", { className: "key-modifier", children: shortcut.modifier === 'ctrl' ? '⌘' : shortcut.modifier })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("kbd", { className: "key", children: shortcut.key.toUpperCase() })] })] }, index)))) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "no-results", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 32 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { children: ["Aucune commande trouv\u00E9e pour \"", searchQuery, "\""] })] })) })] }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        /* Shortcuts Help Panel */
        .shortcuts-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.6);
          backdrop-filter: blur(8px);
          z-index: 10000;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 20px;
          animation: fadeIn 0.3s ease;
        }

        .shortcuts-panel {
          background: white;
          border-radius: 20px;
          width: 100%;
          max-width: 800px;
          max-height: 90vh;
          overflow: hidden;
          box-shadow: 0 32px 64px rgba(0, 0, 0, 0.2);
          animation: slideUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .shortcuts-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 32px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: white;
        }

        .header-content {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .header-content h2 {
          margin: 0 0 4px 0;
          font-size: 24px;
          font-weight: 700;
        }

        .header-content p {
          margin: 0;
          opacity: 0.9;
          font-size: 14px;
        }

        .close-button {
          background: rgba(255, 255, 255, 0.2);
          border: none;
          border-radius: 10px;
          padding: 10px;
          color: white;
          cursor: pointer;
          transition: background 0.2s ease;
          z-index: 1001;
        }

        .close-button:hover {
          background: rgba(255, 255, 255, 0.3);
        }

        .shortcuts-content {
          padding: 32px;
          max-height: 60vh;
          overflow-y: auto;
        }

        .shortcuts-category {
          margin-bottom: 32px;
        }

        .category-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 16px;
          color: #374151;
        }

        .category-header h3 {
          margin: 0;
          font-size: 18px;
          font-weight: 600;
        }

        .shortcuts-list {
          display: grid;
          gap: 12px;
        }

        .shortcut-item {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px 16px;
          background: rgba(248, 246, 240, 0.6);
          border-radius: 12px;
          border: 1px solid rgba(229, 220, 194, 0.4);
        }

        .shortcut-description {
          flex: 1;
          font-size: 14px;
          color: #374151;
          font-weight: 500;
        }

        .shortcut-keys {
          display: flex;
          gap: 4px;
        }

        .key, .key-modifier {
          background: #374151;
          color: white;
          padding: 4px 8px;
          border-radius: 6px;
          font-size: 12px;
          font-weight: 600;
          font-family: monospace;
          min-width: 24px;
          text-align: center;
        }

        .key-modifier {
          background: #6B7280;
        }

        .shortcuts-footer {
          padding: 24px 32px;
          background: rgba(248, 246, 240, 0.4);
          border-top: 1px solid rgba(229, 220, 194, 0.4);
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .toggle-button {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 20px;
          border: none;
          border-radius: 10px;
          cursor: pointer;
          font-weight: 600;
          transition: all 0.2s ease;
        }

        .toggle-button.enabled {
          background: #10B981;
          color: white;
        }

        .toggle-button.disabled {
          background: #EF4444;
          color: white;
        }

        .shortcuts-tip {
          margin: 0;
          font-size: 14px;
          color: #6B7280;
        }

        /* Command Palette */
        .command-palette-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.4);
          backdrop-filter: blur(4px);
          z-index: 10001;
          display: flex;
          align-items: flex-start;
          justify-content: center;
          padding-top: 120px;
          animation: fadeIn 0.2s ease;
        }

        .command-palette {
          background: white;
          border-radius: 16px;
          width: 100%;
          max-width: 600px;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
          overflow: hidden;
          animation: slideDown 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .command-search {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 20px;
          border-bottom: 1px solid rgba(229, 220, 194, 0.4);
        }

        .command-search input {
          flex: 1;
          border: none;
          outline: none;
          font-size: 16px;
          color: #374151;
          background: transparent;
        }

        .command-search input::placeholder {
          color: #9CA3AF;
        }

        .escape-hint {
          background: #F3F4F6;
          color: #6B7280;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 11px;
          font-weight: 600;
        }

        .command-results {
          max-height: 400px;
          overflow-y: auto;
        }

        .command-item {
          display: flex;
          align-items: center;
          gap: 12px;
          width: 100%;
          padding: 16px 20px;
          border: none;
          background: transparent;
          text-align: left;
          cursor: pointer;
          transition: background 0.2s ease;
          border-bottom: 1px solid rgba(229, 220, 194, 0.2);
        }

        .command-item:hover {
          background: rgba(62, 92, 73, 0.05);
        }

        .command-item:last-child {
          border-bottom: none;
        }

        .command-description {
          flex: 1;
          font-size: 14px;
          color: #374151;
          font-weight: 500;
        }

        .command-keys {
          display: flex;
          gap: 4px;
        }

        .no-results {
          padding: 40px 20px;
          text-align: center;
          color: #9CA3AF;
        }

        .no-results p {
          margin: 12px 0 0 0;
          font-size: 14px;
        }

        /* Animations */
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }

        @keyframes slideUp {
          from { 
            opacity: 0;
            transform: translateY(32px) scale(0.95);
          }
          to { 
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        @keyframes slideDown {
          from { 
            opacity: 0;
            transform: translateY(-20px);
          }
          to { 
            opacity: 1;
            transform: translateY(0);
          }
        }

        /* Responsive */
        @media (max-width: 768px) {
          .shortcuts-panel {
            margin: 10px;
            max-height: calc(100vh - 20px);
          }

          .shortcuts-header {
            padding: 20px;
          }

          .shortcuts-content {
            padding: 20px;
          }

          .shortcuts-footer {
            padding: 16px 20px;
            flex-direction: column;
            gap: 16px;
            text-align: center;
          }

          .command-palette-overlay {
            padding-top: 60px;
            padding-left: 10px;
            padding-right: 10px;
          }

          .shortcut-item {
            flex-direction: column;
            align-items: flex-start;
            gap: 8px;
          }

          .shortcut-keys {
            align-self: flex-end;
          }
        }

        /* High contrast mode */
        @media (prefers-contrast: high) {
          .shortcuts-panel,
          .command-palette {
            border: 2px solid #000;
          }

          .shortcut-item,
          .command-item {
            border: 1px solid #ccc;
          }

          .key, .key-modifier {
            border: 1px solid #000;
          }
        }

        /* Reduced motion */
        @media (prefers-reduced-motion: reduce) {
          .shortcuts-overlay,
          .command-palette-overlay,
          .shortcuts-panel,
          .command-palette,
          .shortcut-item,
          .command-item,
          .toggle-button {
            animation: none;
            transition: none;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/MicroInteractions.tsx":
/*!*******************************************************!*\
  !*** ./src/renderer/components/MicroInteractions.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FloatingButton: () => (/* binding */ FloatingButton),
/* harmony export */   MicroButton: () => (/* binding */ MicroButton),
/* harmony export */   MicroCard: () => (/* binding */ MicroCard),
/* harmony export */   MicroLoader: () => (/* binding */ MicroLoader),
/* harmony export */   ParticleSystem: () => (/* binding */ ParticleSystem),
/* harmony export */   useMicroInteractions: () => (/* binding */ useMicroInteractions)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


// Hook pour gérer les micro-interactions
const useMicroInteractions = () => {
    const [isHovered, setIsHovered] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [isPressed, setIsPressed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [isAnimating, setIsAnimating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const triggerSuccess = () => {
        setIsAnimating(true);
        setTimeout(() => setIsAnimating(false), 600);
    };
    return {
        isHovered,
        isPressed,
        isAnimating,
        setIsHovered,
        setIsPressed,
        triggerSuccess,
        animationProps: {
            onMouseEnter: () => setIsHovered(true),
            onMouseLeave: () => setIsHovered(false),
            onMouseDown: () => setIsPressed(true),
            onMouseUp: () => setIsPressed(false),
        }
    };
};
const ParticleSystem = ({ isActive, color = '#3E5C49', count = 8 }) => {
    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        if (isActive && containerRef.current) {
            const particles = Array.from({ length: count }, (_, i) => {
                const particle = document.createElement('div');
                particle.className = 'micro-particle';
                particle.style.cssText = `
          position: absolute;
          width: 6px;
          height: 6px;
          background: ${color};
          border-radius: 50%;
          pointer-events: none;
          z-index: 1000;
          box-shadow: 0 0 8px ${color}80;
        `;
                const angle = (360 / count) * i;
                const distance = 30 + Math.random() * 20;
                const endX = Math.cos(angle * Math.PI / 180) * distance;
                const endY = Math.sin(angle * Math.PI / 180) * distance;
                particle.animate([
                    {
                        transform: 'translate(0, 0) scale(0)',
                        opacity: 1
                    },
                    {
                        transform: `translate(${endX}px, ${endY}px) scale(1)`,
                        opacity: 0
                    }
                ], {
                    duration: 600,
                    easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                });
                containerRef.current?.appendChild(particle);
                setTimeout(() => {
                    particle.remove();
                }, 600);
            });
        }
    }, [isActive, color, count]);
    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { ref: containerRef, className: "particle-container" });
};
const MicroButton = ({ children, onClick, variant = 'primary', size = 'medium', icon: Icon, disabled = false, className = '' }) => {
    const { isHovered, isPressed, isAnimating, animationProps, triggerSuccess } = useMicroInteractions();
    const [showParticles, setShowParticles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const handleClick = () => {
        if (disabled)
            return;
        setShowParticles(true);
        triggerSuccess();
        onClick?.();
        setTimeout(() => setShowParticles(false), 100);
    };
    const getVariantStyles = () => {
        switch (variant) {
            case 'primary':
                return {
                    bg: 'linear-gradient(135deg, #3E5C49 0%, #2E453A 100%)',
                    hover: 'linear-gradient(135deg, #2E453A 0%, #1E2F25 100%)',
                    text: '#F3EED9',
                    particles: '#3E5C49',
                    shadow: 'rgba(62, 92, 73, 0.3)',
                    border: 'none'
                };
            case 'secondary':
                return {
                    bg: 'linear-gradient(135deg, #F3EED9 0%, #E5DCC2 100%)',
                    hover: 'linear-gradient(135deg, #E5DCC2 0%, #D4C9A8 100%)',
                    text: '#2E2E2E',
                    particles: '#6E6E6E',
                    shadow: 'rgba(110, 110, 110, 0.2)',
                    border: '2px solid #E5DCC2'
                };
            case 'success':
                return {
                    bg: 'linear-gradient(135deg, #3E5C49 0%, #2E453A 100%)',
                    hover: 'linear-gradient(135deg, #2E453A 0%, #1E2F25 100%)',
                    text: '#F3EED9',
                    particles: '#34D399',
                    shadow: 'rgba(62, 92, 73, 0.4)',
                    border: 'none'
                };
            case 'danger':
                return {
                    bg: 'linear-gradient(135deg, #DC2626 0%, #B91C1C 100%)',
                    hover: 'linear-gradient(135deg, #B91C1C 0%, #991B1B 100%)',
                    text: '#F3EED9',
                    particles: '#F87171',
                    shadow: 'rgba(220, 38, 38, 0.3)',
                    border: 'none'
                };
            default:
                return {
                    bg: 'linear-gradient(135deg, #3E5C49 0%, #2E453A 100%)',
                    hover: 'linear-gradient(135deg, #2E453A 0%, #1E2F25 100%)',
                    text: '#F3EED9',
                    particles: '#3E5C49',
                    shadow: 'rgba(62, 92, 73, 0.3)',
                    border: 'none'
                };
        }
    };
    const styles = getVariantStyles();
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `micro-button ${variant} ${size} ${className}`, onClick: handleClick, disabled: disabled, ...animationProps, style: {
            '--button-bg': styles.bg,
            '--button-hover': styles.hover,
            '--button-text': styles.text,
            '--button-particles': styles.particles,
            '--button-shadow': styles.shadow,
            '--button-border': styles.border,
            '--scale': isPressed ? '0.95' : isHovered ? '1.02' : '1',
            '--shadow': isHovered
                ? `0 8px 25px ${styles.shadow}, 0 0 20px ${styles.shadow}`
                : `0 2px 10px ${styles.shadow}`,
            '--brightness': isPressed ? '0.9' : '1'
        }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "button-content", children: [Icon && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `button-icon ${isAnimating ? 'success-bounce' : ''}`, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Icon, { size: size === 'small' ? 14 : size === 'large' ? 20 : 16 }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "button-text", children: children })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ParticleSystem, { isActive: showParticles, color: styles.particles }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `ripple-effect ${isPressed ? 'active' : ''}` }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "shine-effect" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .micro-button {
          position: relative;
          background: var(--button-bg);
          color: var(--button-text);
          border: var(--button-border);
          border-radius: 12px;
          font-weight: 600;
          cursor: ${disabled ? 'not-allowed' : 'pointer'};
          overflow: hidden;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          transform: scale(var(--scale));
          box-shadow: var(--shadow);
          filter: brightness(var(--brightness));
          opacity: ${disabled ? '0.6' : '1'};
          text-shadow: ${variant === 'secondary' ? 'none' : '0 1px 2px rgba(0, 0, 0, 0.1)'};
        }

        .micro-button.small {
          padding: 8px 16px;
          font-size: 13px;
          border-radius: 8px;
        }

        .micro-button.medium {
          padding: 12px 20px;
          font-size: 14px;
        }

        .micro-button.large {
          padding: 16px 24px;
          font-size: 16px;
          border-radius: 14px;
        }

        .micro-button:hover:not(:disabled) {
          background: var(--button-hover);
          letter-spacing: 0.3px;
        }

        .micro-button.secondary:hover:not(:disabled) {
          border-color: #2E2E2E;
        }

        .button-content {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          position: relative;
          z-index: 2;
        }

        .button-icon {
          display: flex;
          align-items: center;
          justify-content: center;
          transition: transform 0.2s ease;
        }

        .button-icon.success-bounce {
          animation: successBounce 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .button-text {
          position: relative;
          font-weight: 600;
          line-height: 1.2;
        }

        .ripple-effect {
          position: absolute;
          top: 50%;
          left: 50%;
          width: 0;
          height: 0;
          background: rgba(255, 255, 255, 0.4);
          border-radius: 50%;
          transform: translate(-50%, -50%);
          transition: all 0.4s ease;
          pointer-events: none;
        }

        .ripple-effect.active {
          width: 300px;
          height: 300px;
        }

        .shine-effect {
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(
            90deg,
            transparent,
            rgba(255, 255, 255, 0.2),
            transparent
          );
          transition: left 0.5s ease;
          pointer-events: none;
        }

        .micro-button:hover:not(:disabled) .shine-effect {
          left: 100%;
        }

        .particle-container {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          pointer-events: none;
        }

        @keyframes successBounce {
          0% { transform: scale(1); }
          50% { transform: scale(1.2) rotate(5deg); }
          100% { transform: scale(1) rotate(0deg); }
        }

        /* Glow effect pour les boutons primaires */
        .micro-button.primary:hover:not(:disabled) {
          box-shadow: 
            var(--shadow),
            0 0 30px rgba(62, 92, 73, 0.4),
            inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        /* Animation de pulse pour les boutons success */
        .micro-button.success {
          animation: ${isAnimating ? 'successPulse 0.6s ease' : 'none'};
        }

        @keyframes successPulse {
          0% { transform: scale(1); }
          50% { 
            transform: scale(1.05); 
            box-shadow: 0 0 30px rgba(62, 92, 73, 0.6);
          }
          100% { transform: scale(1); }
        }

        /* États de focus pour l'accessibilité */
        .micro-button:focus-visible {
          outline: 2px solid #C2571B;
          outline-offset: 2px;
        }

        /* Amélioration pour les petits écrans */
        @media (max-width: 768px) {
          .micro-button {
            min-height: 44px;
            min-width: 44px;
          }
        }
      ` })] }));
};
const MicroCard = ({ children, onClick, className = '', hoverable = true, variant = 'default' }) => {
    const { isHovered, animationProps } = useMicroInteractions();
    const [mousePosition, setMousePosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({ x: 0, y: 0 });
    const handleMouseMove = (e) => {
        if (!hoverable)
            return;
        const rect = e.currentTarget.getBoundingClientRect();
        setMousePosition({
            x: e.clientX - rect.left,
            y: e.clientY - rect.top
        });
    };
    const getVariantStyles = () => {
        switch (variant) {
            case 'elevated':
                return {
                    background: 'linear-gradient(135deg, #FFFFFF 0%, #F9FAFB 100%)',
                    border: '1px solid rgba(229, 220, 194, 0.2)',
                    shadow: '0 8px 32px rgba(0, 0, 0, 0.08)',
                    hoverShadow: '0 20px 50px rgba(0, 0, 0, 0.15)'
                };
            case 'outlined':
                return {
                    background: 'transparent',
                    border: '2px solid #E5DCC2',
                    shadow: 'none',
                    hoverShadow: '0 8px 25px rgba(62, 92, 73, 0.1)'
                };
            default:
                return {
                    background: '#FFFFFF',
                    border: '1px solid rgba(229, 220, 194, 0.15)',
                    shadow: '0 4px 20px rgba(0, 0, 0, 0.08)',
                    hoverShadow: '0 20px 40px rgba(0, 0, 0, 0.12)'
                };
        }
    };
    const styles = getVariantStyles();
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `micro-card ${variant} ${className} ${onClick ? 'clickable' : ''}`, onClick: onClick, onMouseMove: handleMouseMove, ...(hoverable ? animationProps : {}), style: {
            '--mouse-x': `${mousePosition.x}px`,
            '--mouse-y': `${mousePosition.y}px`,
            '--scale': isHovered ? '1.02' : '1',
            '--shadow': isHovered ? styles.hoverShadow : styles.shadow,
            '--border-opacity': isHovered ? '0.4' : '0.15',
            '--background': styles.background,
            '--border': styles.border
        }, children: [hoverable && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `card-glow ${isHovered ? 'active' : ''}`, style: {
                    background: `radial-gradient(300px circle at var(--mouse-x) var(--mouse-y), rgba(62, 92, 73, 0.08), transparent 40%)`
                } })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "card-border-gradient" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "card-content", children: children }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .micro-card {
          position: relative;
          background: var(--background);
          border-radius: 16px;
          border: var(--border);
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          transform: scale(var(--scale));
          box-shadow: var(--shadow);
          overflow: hidden;
          backdrop-filter: blur(10px);
        }

        .micro-card.elevated {
          border-radius: 20px;
        }

        .micro-card.outlined:hover {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.02);
        }

        .micro-card.clickable {
          cursor: pointer;
        }

        .micro-card.clickable:active {
          transform: scale(0.98);
        }

        .card-glow {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          opacity: 0;
          transition: opacity 0.3s ease;
          pointer-events: none;
        }

        .card-glow.active {
          opacity: 1;
        }

        .card-border-gradient {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 1px;
          background: linear-gradient(90deg, 
            transparent, 
            rgba(62, 92, 73, 0.3), 
            transparent
          );
          opacity: 0;
          transition: opacity 0.3s ease;
        }

        .micro-card:hover .card-border-gradient {
          opacity: 1;
        }

        .card-content {
          position: relative;
          z-index: 1;
        }

        /* Animation d'apparition améliorée */
        .micro-card {
          animation: cardSlideIn 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        @keyframes cardSlideIn {
          from {
            opacity: 0;
            transform: translateY(20px) scale(0.95);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        /* Focus visible pour l'accessibilité */
        .micro-card.clickable:focus-visible {
          outline: 2px solid #C2571B;
          outline-offset: 2px;
        }

        /* Amélioration pour les écrans tactiles */
        @media (hover: none) {
          .micro-card:hover {
            transform: none;
          }
          
          .micro-card.clickable:active {
            transform: scale(0.98);
          }
        }
      ` })] }));
};
const FloatingButton = ({ icon: Icon, onClick, tooltip, color = '#3E5C49', size = 'medium' }) => {
    const { isHovered, isPressed, animationProps } = useMicroInteractions();
    const [showTooltip, setShowTooltip] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const getSizeStyles = () => {
        switch (size) {
            case 'small':
                return { width: '48px', height: '48px', iconSize: 18 };
            case 'large':
                return { width: '64px', height: '64px', iconSize: 24 };
            default:
                return { width: '56px', height: '56px', iconSize: 20 };
        }
    };
    const sizeStyles = getSizeStyles();
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "floating-button-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `floating-button ${size}`, onClick: onClick, onMouseEnter: () => {
                    animationProps.onMouseEnter();
                    if (tooltip)
                        setShowTooltip(true);
                }, onMouseLeave: () => {
                    animationProps.onMouseLeave();
                    setShowTooltip(false);
                }, onMouseDown: animationProps.onMouseDown, onMouseUp: animationProps.onMouseUp, style: {
                    '--button-color': color,
                    '--button-size': sizeStyles.width,
                    '--scale': isPressed ? '0.9' : isHovered ? '1.1' : '1',
                    '--shadow': isHovered
                        ? `0 12px 30px ${color}50, 0 0 20px ${color}30`
                        : `0 6px 20px ${color}30`,
                    '--rotation': isHovered ? '5deg' : '0deg'
                }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Icon, { size: sizeStyles.iconSize }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `pulse-ring ${isHovered ? 'active' : ''}` }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "fab-shine" })] }), tooltip && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `floating-tooltip ${showTooltip ? 'visible' : ''}`, children: [tooltip, (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tooltip-arrow" })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .floating-button-container {
          position: relative;
        }

        .floating-button {
          position: relative;
          width: var(--button-size);
          height: var(--button-size);
          background: linear-gradient(135deg, var(--button-color) 0%, ${color}dd 100%);
          color: #F3EED9;
          border: none;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          transform: scale(var(--scale)) rotate(var(--rotation));
          box-shadow: var(--shadow);
          overflow: hidden;
          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }

        .floating-button::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.2) 0%, 
            transparent 50%, 
            rgba(0, 0, 0, 0.1) 100%
          );
          border-radius: 50%;
          pointer-events: none;
        }

        .pulse-ring {
          position: absolute;
          top: 50%;
          left: 50%;
          width: 100%;
          height: 100%;
          border: 2px solid var(--button-color);
          border-radius: 50%;
          transform: translate(-50%, -50%) scale(0);
          opacity: 0;
          transition: all 0.4s ease;
        }

        .pulse-ring.active {
          transform: translate(-50%, -50%) scale(1.6);
          opacity: 0.4;
        }

        .fab-shine {
          position: absolute;
          top: -50%;
          left: -50%;
          width: 200%;
          height: 200%;
          background: linear-gradient(45deg, 
            transparent 30%, 
            rgba(255, 255, 255, 0.3) 50%, 
            transparent 70%
          );
          transform: rotate(-45deg) translate(-100%, -100%);
          transition: transform 0.6s ease;
          pointer-events: none;
        }

        .floating-button:hover .fab-shine {
          transform: rotate(-45deg) translate(100%, 100%);
        }

        .floating-tooltip {
          position: absolute;
          bottom: calc(100% + 12px);
          left: 50%;
          transform: translateX(-50%) translateY(4px);
          background: rgba(46, 46, 46, 0.95);
          color: #F3EED9;
          padding: 8px 12px;
          border-radius: 8px;
          font-size: 12px;
          font-weight: 600;
          white-space: nowrap;
          opacity: 0;
          visibility: hidden;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          pointer-events: none;
          z-index: 1000;
          backdrop-filter: blur(10px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .floating-tooltip.visible {
          opacity: 1;
          visibility: visible;
          transform: translateX(-50%) translateY(0px);
        }

        .tooltip-arrow {
          position: absolute;
          top: 100%;
          left: 50%;
          transform: translateX(-50%);
          width: 0;
          height: 0;
          border-left: 6px solid transparent;
          border-right: 6px solid transparent;
          border-top: 6px solid rgba(46, 46, 46, 0.95);
        }

        /* Tailles spécifiques */
        .floating-button.small {
          --button-size: 48px;
        }

        .floating-button.large {
          --button-size: 64px;
        }

        /* Focus visible pour l'accessibilité */
        .floating-button:focus-visible {
          outline: 2px solid #C2571B;
          outline-offset: 3px;
        }

        /* Animation d'apparition */
        .floating-button {
          animation: fabSlideIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes fabSlideIn {
          from {
            opacity: 0;
            transform: scale(0) rotate(-180deg);
          }
          to {
            opacity: 1;
            transform: scale(1) rotate(0deg);
          }
        }

        /* Amélioration pour les écrans tactiles */
        @media (hover: none) {
          .floating-button:hover {
            transform: scale(1);
          }
          
          .floating-button:active {
            transform: scale(0.95);
          }
        }
      ` })] }));
};
// Loading avec micro-interactions amélioré
const MicroLoader = ({ size = 24, color = '#3E5C49', variant = 'spinner' }) => {
    if (variant === 'dots') {
        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "micro-loader dots", style: { width: size * 2, height: size / 2 }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "dot", style: { backgroundColor: color } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "dot", style: { backgroundColor: color } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "dot", style: { backgroundColor: color } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
          .micro-loader.dots {
            display: flex;
            align-items: center;
            justify-content: space-between;
          }

          .dot {
            width: ${size / 4}px;
            height: ${size / 4}px;
            border-radius: 50%;
            animation: dotPulse 1.4s ease-in-out infinite both;
          }

          .dot:nth-child(1) { animation-delay: -0.32s; }
          .dot:nth-child(2) { animation-delay: -0.16s; }
          .dot:nth-child(3) { animation-delay: 0s; }

          @keyframes dotPulse {
            0%, 80%, 100% { 
              transform: scale(0.8);
              opacity: 0.5;
            }
            40% { 
              transform: scale(1);
              opacity: 1;
            }
          }
        ` })] }));
    }
    if (variant === 'pulse') {
        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "micro-loader pulse", style: { width: size, height: size }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "pulse-circle", style: { backgroundColor: `${color}40` } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "pulse-circle", style: { backgroundColor: `${color}60` } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "pulse-circle", style: { backgroundColor: color } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
          .micro-loader.pulse {
            position: relative;
            display: inline-block;
          }

          .pulse-circle {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            animation: pulse 2s ease-in-out infinite;
          }

          .pulse-circle:nth-child(1) { animation-delay: 0s; }
          .pulse-circle:nth-child(2) { animation-delay: 0.4s; }
          .pulse-circle:nth-child(3) { animation-delay: 0.8s; }

          @keyframes pulse {
            0% { 
              transform: scale(0);
              opacity: 1;
            }
            100% { 
              transform: scale(1);
              opacity: 0;
            }
          }
        ` })] }));
    }
    // Default spinner variant
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "micro-loader spinner", style: { width: size, height: size }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "spinner-ring", style: { borderTopColor: color } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .micro-loader.spinner {
          position: relative;
          display: inline-block;
        }

        .spinner-ring {
          width: 100%;
          height: 100%;
          border: 2px solid transparent;
          border-top: 2px solid ${color};
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/PrintManager.tsx":
/*!**************************************************!*\
  !*** ./src/renderer/components/PrintManager.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PrintManager: () => (/* binding */ PrintManager)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/file-text.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/bar-chart-3.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/printer.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/download.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/zap.mjs");
/* harmony import */ var _ExportDialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ExportDialog */ "./src/renderer/components/ExportDialog.tsx");




const PrintManager = ({ documents, stats, onClose }) => {
    const [selectedType, setSelectedType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('inventory');
    const [isProcessing, setIsProcessing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [showExportDialog, setShowExportDialog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [institutionSettings, setInstitutionSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        name: 'Bibliothèque Numérique',
        address: '',
        city: '',
        country: '',
        phone: '',
        email: '',
        website: '',
        logo: '',
        description: 'Système de gestion de bibliothèque moderne'
    });
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        // Charger les informations de l'institution depuis les données de connexion
        const loadInstitutionSettings = () => {
            try {
                // D'abord essayer de récupérer les données de l'utilisateur connecté
                const currentUser = localStorage.getItem('currentUser');
                if (currentUser) {
                    const user = JSON.parse(currentUser);
                    if (user.institutionCode) {
                        // Chercher l'institution correspondante dans LocalAuthService
                        const institutions = JSON.parse(localStorage.getItem('local_institutions') || '[]');
                        const userInstitution = institutions.find((inst) => inst.code === user.institutionCode);
                        if (userInstitution) {
                            setInstitutionSettings({
                                name: userInstitution.name || 'Bibliothèque Numérique',
                                address: userInstitution.address || '',
                                city: userInstitution.city || '',
                                country: userInstitution.country || '',
                                phone: userInstitution.phone || '',
                                email: userInstitution.email || '',
                                website: userInstitution.website || '',
                                logo: userInstitution.logo || '',
                                description: userInstitution.description || 'Système de gestion de bibliothèque moderne'
                            });
                            return;
                        }
                    }
                }
                // Fallback vers les paramètres stockés si aucune institution de connexion n'est trouvée
                const stored = localStorage.getItem('institutionSettings');
                if (stored) {
                    const parsed = JSON.parse(stored);
                    setInstitutionSettings(prev => ({ ...prev, ...parsed }));
                }
            }
            catch (error) {
                console.error('Erreur lors du chargement des paramètres d\'institution:', error);
            }
        };
        loadInstitutionSettings();
    }, []);
    const printOptions = [
        {
            id: 'inventory',
            title: 'Inventaire Complet',
            description: 'Liste détaillée de tous les documents avec statuts',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"],
            color: '#3E5C49',
            gradient: 'linear-gradient(135deg, #3E5C49 0%, #2E453A 100%)',
            count: documents.length,
            features: ['Informations complètes', 'Statuts des emprunts', 'Métadonnées']
        },
        {
            id: 'available',
            title: 'Documents Disponibles',
            description: 'Collection des ouvrages disponibles à l\'emprunt',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"],
            color: '#3E5C49',
            gradient: 'linear-gradient(135deg, #3E5C49 0%, #4A6B57 100%)',
            count: documents.filter(doc => !doc.estEmprunte).length,
            features: ['Documents en rayon', 'Prêts à emprunter', 'Tri par catégorie']
        },
        {
            id: 'borrowed',
            title: 'Documents Empruntés',
            description: 'Suivi des emprunts en cours avec emprunteurs',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"],
            color: '#C2571B',
            gradient: 'linear-gradient(135deg, #C2571B 0%, #A8481A 100%)',
            count: documents.filter(doc => doc.estEmprunte).length,
            features: ['Noms des emprunteurs', 'Dates d\'emprunt', 'Alertes retard']
        }
    ];
    const showMessage = (type, text) => {
        setMessage({ type, text });
        setTimeout(() => setMessage(null), 5000);
    };
    const handlePrint = async () => {
        setIsProcessing(true);
        try {
            const printData = {
                documents,
                stats,
                institution: institutionSettings
            };
            let success = false;
            switch (selectedType) {
                case 'inventory':
                    success = await window.electronAPI.printInventory(printData);
                    break;
                case 'available':
                    success = await window.electronAPI.printAvailableBooks(printData);
                    break;
                case 'borrowed':
                    success = await window.electronAPI.printBorrowedBooks(printData);
                    break;
            }
            if (success) {
                showMessage('success', 'Document envoyé à l\'imprimante avec succès');
            }
            else {
                showMessage('error', 'Erreur lors de l\'impression');
            }
        }
        catch (error) {
            console.error('Print error:', error);
            showMessage('error', 'Erreur lors de l\'impression');
        }
        finally {
            setIsProcessing(false);
        }
    };
    const handleExport = async (config) => {
        setIsProcessing(true);
        try {
            const result = await window.electronAPI.exportAdvanced(config);
            if (result.success && result.path) {
                const fileName = result.path.split(/[/\\]/).pop();
                showMessage('success', `Fichier exporté avec succès : ${fileName}`);
            }
            else if (result.cancelled) {
                // User cancelled the export
                return;
            }
            else {
                showMessage('error', `Erreur lors de l'export : ${result.error || 'Erreur inconnue'}`);
            }
        }
        catch (error) {
            console.error('Export error:', error);
            showMessage('error', 'Erreur lors de l\'export des données');
        }
        finally {
            setIsProcessing(false);
        }
    };
    const getPreviewData = () => {
        switch (selectedType) {
            case 'inventory':
                return {
                    title: 'Inventaire Complet',
                    items: documents,
                    description: `${documents.length} document(s) au total`,
                    icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"]
                };
            case 'available':
                return {
                    title: 'Documents Disponibles',
                    items: documents.filter(doc => !doc.estEmprunte),
                    description: `${documents.filter(doc => !doc.estEmprunte).length} document(s) disponible(s)`,
                    icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"]
                };
            case 'borrowed':
                return {
                    title: 'Documents Empruntés',
                    items: documents.filter(doc => doc.estEmprunte),
                    description: `${documents.filter(doc => doc.estEmprunte).length} document(s) emprunté(s)`,
                    icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"]
                };
        }
    };
    const previewData = getPreviewData();
    const selectedOption = printOptions.find(opt => opt.id === selectedType);
    if (!selectedOption) {
        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: "Erreur: option s\u00E9lectionn\u00E9e invalide" });
    }
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "print-manager-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "print-manager-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 28 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "modal-title", children: "Impression & Export" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "modal-subtitle", children: "G\u00E9n\u00E9rez des rapports professionnels de votre biblioth\u00E8que" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: onClose, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 20 }) })] }), message && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `message ${message.type}`, children: [message.type === 'success' ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 20 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: message.text })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "options-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Choisir le type de rapport" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "section-description", children: "S\u00E9lectionnez le contenu \u00E0 inclure dans votre document" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "print-options", children: printOptions.map((option) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `option-card ${selectedType === option.id ? 'selected' : ''}`, onClick: () => setSelectedType(option.id), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "option-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "option-icon", style: { background: option.gradient }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(option.icon, { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "option-badge", children: [option.count, " \u00E9l\u00E9ment", option.count > 1 ? 's' : ''] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "option-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "option-title", children: option.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "option-description", children: option.description }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "option-features", children: option.features.map((feature, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "feature-tag", children: feature }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "option-indicator", children: selectedType === option.id && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }) })] }, option.id))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-title-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Aper\u00E7u du contenu" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-stats", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(previewData.icon, { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: previewData.description })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "preview-button", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 16 }), "Pr\u00E9visualiser"] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "institution-header", children: [institutionSettings.logo && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "institution-logo", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img", { src: institutionSettings.logo, alt: "Logo" }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "institution-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "institution-name", children: institutionSettings.name }), institutionSettings.address && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "institution-address", children: [institutionSettings.address, ", ", institutionSettings.city] })), institutionSettings.phone && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "institution-contact", children: ["T\u00E9l: ", institutionSettings.phone, institutionSettings.email && ` • ${institutionSettings.email}`] }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "report-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "preview-icon", style: { background: selectedOption?.gradient }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(selectedOption.icon, { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "preview-title", children: previewData.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "preview-subtitle", children: ["G\u00E9n\u00E9r\u00E9 le ", new Date().toLocaleDateString('fr-FR')] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "preview-content", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-table", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "table-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-cell", children: "Titre" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-cell", children: "Auteur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-cell", children: "Cat\u00E9gorie" }), selectedType === 'borrowed' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-cell", children: "Emprunteur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-cell", children: "Date" })] })), selectedType !== 'borrowed' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-cell", children: "Statut" }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "table-body", children: [previewData.items.slice(0, 4).map((doc, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "table-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "table-cell", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "cell-content", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "book-title", children: doc.titre }) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "table-cell", children: doc.auteur }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "table-cell", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "category-badge", children: doc.descripteurs }) }), selectedType === 'borrowed' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "table-cell", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: doc.nomEmprunteur || '-' }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "table-cell", children: doc.dateEmprunt ? new Date(doc.dateEmprunt).toLocaleDateString('fr-FR') : '-' })] })), selectedType !== 'borrowed' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "table-cell", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: `status-badge ${doc.estEmprunte ? 'borrowed' : 'available'}`, children: doc.estEmprunte ? 'Emprunté' : 'Disponible' }) }))] }, index))), previewData.items.length > 4 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "table-row more-items", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "table-cell more-text", children: ["... et ", previewData.items.length - 4, " autre(s) \u00E9l\u00E9ment(s)"] }) }))] })] }) })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-footer", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "footer-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Format PDF professionnel" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Export Excel/CSV pour donn\u00E9es" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "footer-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "btn-secondary", onClick: () => setShowExportDialog(true), disabled: isProcessing, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 18 }), isProcessing ? 'Export...' : 'Exporter Données'] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "btn-primary", onClick: handlePrint, disabled: isProcessing, children: isProcessing ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 18 }), "G\u00E9n\u00E9ration..."] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 18 }), "Imprimer"] })) })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .print-manager-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(46, 46, 46, 0.7);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }
        
        .print-manager-modal {
          background: #FFFFFF;
          border-radius: 24px;
          width: 100%;
          max-width: 1000px;
          max-height: 90vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          box-shadow: 
            0 24px 48px rgba(62, 92, 73, 0.2),
            0 8px 24px rgba(62, 92, 73, 0.12);
          border: 1px solid rgba(229, 220, 194, 0.3);
        }
        
        .modal-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 32px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          position: relative;
          overflow: hidden;
        }
        
        .modal-header::before {
          content: '';
          position: absolute;
          top: 0;
          right: 0;
          width: 200px;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.1));
          transform: skewX(-15deg);
          transform-origin: top;
        }
        
        .header-content {
          display: flex;
          align-items: center;
          gap: 20px;
          position: relative;
          z-index: 1;
        }
        
        .header-icon {
          width: 56px;
          height: 56px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          backdrop-filter: blur(10px);
        }
        
        .modal-title {
          font-size: 24px;
          font-weight: 800;
          margin: 0 0 4px 0;
          letter-spacing: -0.3px;
        }
        
        .modal-subtitle {
          font-size: 14px;
          opacity: 0.9;
          margin: 0;
          line-height: 1.4;
        }
        
        .close-button {
          background: rgba(243, 238, 217, 0.15);
          border: 1px solid rgba(243, 238, 217, 0.3);
          color: #F3EED9;
          padding: 12px;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.3s ease;
          position: relative;
          z-index: 1;
        }
        
        .close-button:hover {
          background: rgba(243, 238, 217, 0.25);
          transform: scale(1.05);
        }
        
        .message {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px 32px;
          font-size: 14px;
          font-weight: 600;
          border-bottom: 1px solid #E5DCC2;
        }
        
        .message.success {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }
        
        .message.error {
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
        }
        
        .modal-content {
          flex: 1;
          overflow-y: auto;
          padding: 32px;
          display: flex;
          flex-direction: column;
          gap: 40px;
        }
        
        .section-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 24px;
        }
        
        .section-title {
          font-size: 20px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 4px 0;
        }
        
        .section-description {
          font-size: 14px;
          color: #4A4A4A;
          margin: 0;
        }
        
        .preview-title-section {
          flex: 1;
        }
        
        .preview-stats {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          color: #4A4A4A;
          margin-top: 4px;
        }
        
        .preview-button {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 8px 16px;
          background: #F3EED9;
          border: 1px solid #E5DCC2;
          border-radius: 8px;
          color: #4A4A4A;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }
        
        .preview-button:hover {
          background: #EAEADC;
          color: #2E2E2E;
        }
        
        .print-options {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 20px;
        }
        
        .option-card {
          background: #FFFFFF;
          border: 2px solid #E5DCC2;
          border-radius: 16px;
          padding: 24px;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          position: relative;
          overflow: hidden;
        }
        
        .option-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, transparent 0%, rgba(62, 92, 73, 0.02) 100%);
          opacity: 0;
          transition: opacity 0.3s ease;
        }
        
        .option-card:hover::before {
          opacity: 1;
        }
        
        .option-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 12px 32px rgba(62, 92, 73, 0.15);
          border-color: #3E5C49;
        }
        
        .option-card.selected {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.02);
          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.12);
        }
        
        .option-card.selected::before {
          opacity: 1;
        }
        
        .option-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 16px;
        }
        
        .option-icon {
          width: 48px;
          height: 48px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
        }
        
        .option-badge {
          background: #F3EED9;
          color: #4A4A4A;
          padding: 4px 12px;
          border-radius: 20px;
          font-size: 12px;
          font-weight: 600;
        }
        
        .option-title {
          font-size: 18px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 8px 0;
        }
        
        .option-description {
          font-size: 14px;
          color: #4A4A4A;
          margin: 0 0 16px 0;
          line-height: 1.5;
        }
        
        .option-features {
          display: flex;
          flex-wrap: wrap;
          gap: 8px;
        }
        
        .feature-tag {
          background: #F3EED9;
          color: #4A4A4A;
          padding: 4px 8px;
          border-radius: 8px;
          font-size: 11px;
          font-weight: 500;
        }
        
        .option-indicator {
          position: absolute;
          top: 16px;
          right: 16px;
          width: 24px;
          height: 24px;
          background: #3E5C49;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          opacity: 0;
          transform: scale(0.8);
          transition: all 0.3s ease;
        }
        
        .option-card.selected .option-indicator {
          opacity: 1;
          transform: scale(1);
        }
        
        .preview-card {
          background: #FEFEFE;
          border: 1px solid #E5DCC2;
          border-radius: 16px;
          overflow: hidden;
        }
        
        .preview-header {
          padding: 24px;
          background: #F3EED9;
        }

        .institution-header {
          display: flex;
          align-items: flex-start;
          gap: 16px;
          margin-bottom: 20px;
          padding-bottom: 16px;
          border-bottom: 1px solid rgba(229, 220, 194, 0.5);
        }

        .institution-logo {
          width: 60px;
          height: 60px;
          border-radius: 12px;
          overflow: hidden;
          border: 2px solid #E5DCC2;
          background: #FFFFFF;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }

        .institution-logo img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .institution-info {
          flex: 1;
        }

        .institution-name {
          font-size: 18px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 4px 0;
        }

        .institution-address {
          font-size: 13px;
          color: #4A4A4A;
          margin: 0 0 2px 0;
        }

        .institution-contact {
          font-size: 12px;
          color: #4A4A4A;
          margin: 0;
        }

        .report-header {
          display: flex;
          align-items: center;
          gap: 16px;
          border-bottom: 1px solid #E5DCC2;
        }
        
        .preview-icon {
          width: 40px;
          height: 40px;
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
        }
        
        .preview-title {
          font-size: 16px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 2px 0;
        }
        
        .preview-subtitle {
          font-size: 12px;
          color: #4A4A4A;
          margin: 0;
        }
        
        .preview-content {
          padding: 24px;
        }
        
        .preview-table {
          background: #FFFFFF;
          border-radius: 12px;
          overflow: hidden;
          border: 1px solid #E5DCC2;
        }
        
        .table-header {
          display: grid;
          grid-template-columns: 2fr 1.5fr 1fr 1fr 1fr;
          background: #F3EED9;
          border-bottom: 1px solid #E5DCC2;
        }
        
        .header-cell {
          padding: 16px 20px;
          font-size: 12px;
          font-weight: 700;
          color: #2E2E2E;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        
        .table-body {
          max-height: 240px;
          overflow-y: auto;
        }
        
        .table-row {
          display: grid;
          grid-template-columns: 2fr 1.5fr 1fr 1fr 1fr;
          border-bottom: 1px solid #F3EED9;
          transition: background 0.2s ease;
        }
        
        .table-row:hover {
          background: #FEFEFE;
        }
        
        .table-row:last-child {
          border-bottom: none;
        }
        
        .table-row.more-items {
          grid-template-columns: 1fr;
          background: #F3EED9;
        }
        
        .table-cell {
          padding: 16px 20px;
          font-size: 14px;
          color: #2E2E2E;
          display: flex;
          align-items: center;
          overflow: hidden;
        }
        
        .cell-content {
          width: 100%;
        }
        
        .book-title {
          font-weight: 600;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        
        .more-text {
          text-align: center;
          font-style: italic;
          color: #4A4A4A;
          justify-content: center;
        }
        
        .category-badge {
          background: #3E5C49;
          color: #F3EED9;
          padding: 4px 10px;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 600;
        }
        
        .status-badge {
          padding: 4px 10px;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 600;
        }
        
        .status-badge.available {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }
        
        .status-badge.borrowed {
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
        }
        
        .modal-footer {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 24px 32px;
          border-top: 1px solid #E5DCC2;
          background: #FEFEFE;
        }
        
        .footer-info {
          display: flex;
          gap: 32px;
        }
        
        .info-item {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 12px;
          color: #4A4A4A;
        }
        
        .footer-actions {
          display: flex;
          gap: 12px;
        }
        
        .btn-secondary, .btn-primary {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 16px 24px;
          border-radius: 12px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
          border: none;
          position: relative;
          overflow: hidden;
        }
        
        .btn-secondary {
          background: #F3EED9;
          color: #4A4A4A;
          border: 2px solid #E5DCC2;
        }
        
        .btn-secondary:hover:not(:disabled) {
          background: #EAEADC;
          color: #2E2E2E;
          transform: translateY(-1px);
        }
        
        .btn-primary {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.3);
        }
        
        .btn-primary:hover:not(:disabled) {
          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.4);
        }
        
        .btn-secondary:disabled,
        .btn-primary:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }
        
        /* Responsive Design */
        @media (max-width: 1024px) {
          .print-options {
            grid-template-columns: 1fr;
            gap: 16px;
          }
          
          .table-header,
          .table-row {
            grid-template-columns: 1fr;
          }
          
          .header-cell,
          .table-cell {
            padding: 12px 16px;
          }
          
          .modal-content {
            padding: 24px;
            gap: 32px;
          }
        }
        
        @media (max-width: 768px) {
          .print-manager-overlay {
            padding: 12px;
          }
          
          .print-manager-modal {
            border-radius: 20px;
          }
          
          .modal-header {
            padding: 24px 20px;
            flex-direction: column;
            gap: 16px;
            text-align: center;
          }
          
          .header-content {
            flex-direction: column;
            gap: 16px;
          }
          
          .modal-content {
            padding: 20px;
          }
          
          .section-header {
            flex-direction: column;
            align-items: stretch;
            gap: 12px;
          }
          
          .footer-info {
            display: none;
          }
          
          .footer-actions {
            width: 100%;
            justify-content: stretch;
          }
          
          .btn-secondary,
          .btn-primary {
            flex: 1;
            justify-content: center;
          }
          
          .option-card {
            padding: 20px;
          }
          
          .preview-content {
            padding: 16px;
          }
        }
        
        @media (max-width: 480px) {
          .modal-header {
            padding: 20px 16px;
          }
          
          .modal-content {
            padding: 16px;
            gap: 24px;
          }
          
          .modal-footer {
            padding: 16px;
            flex-direction: column;
            gap: 16px;
          }
          
          .footer-actions {
            flex-direction: column;
          }
          
          .option-header {
            flex-direction: column;
            gap: 12px;
            align-items: stretch;
          }
          
          .option-badge {
            text-align: center;
          }
          
          .table-header,
          .table-row {
            display: block;
          }
          
          .header-cell,
          .table-cell {
            display: block;
            padding: 8px 16px;
            border-bottom: 1px solid #F3EED9;
          }
          
          .header-cell {
            background: #E5DCC2;
            font-weight: 700;
          }
          
          .table-cell:last-child {
            border-bottom: none;
          }
        }
      ` }), showExportDialog && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ExportDialog__WEBPACK_IMPORTED_MODULE_2__.ExportDialog, { isOpen: showExportDialog, onClose: () => setShowExportDialog(false), onExport: handleExport, availableData: {
                    documents: true,
                    borrowers: true,
                    borrowHistory: false
                } }))] }));
};


/***/ }),

/***/ "./src/renderer/components/ReportsManager.tsx":
/*!****************************************************!*\
  !*** ./src/renderer/components/ReportsManager.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ReportsManager: () => (/* binding */ ReportsManager)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/file-text.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/file-spreadsheet.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/bar-chart-3.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/loader-2.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/settings.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/download.mjs");
/* harmony import */ var _services_ReportService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/ReportService */ "./src/renderer/services/ReportService.ts");
/* harmony import */ var _ToastSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ToastSystem */ "./src/renderer/components/ToastSystem.tsx");





const ReportsManager = ({ documents, borrowers, borrowHistory, onClose }) => {
    const [selectedReportType, setSelectedReportType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('documents');
    const [exportFormat, setExportFormat] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('pdf');
    const [includeDetails, setIncludeDetails] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);
    const [dateRange, setDateRange] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        start: '',
        end: new Date().toISOString().split('T')[0]
    });
    const [useDateFilter, setUseDateFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [isGenerating, setIsGenerating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [reportPreview, setReportPreview] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const toast = (0,_ToastSystem__WEBPACK_IMPORTED_MODULE_3__.useQuickToast)();
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        // Définir la date de début par défaut (30 jours en arrière)
        const thirtyDaysAgo = new Date();
        thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);
        setDateRange(prev => ({
            ...prev,
            start: thirtyDaysAgo.toISOString().split('T')[0]
        }));
    }, []);
    const generateReport = async () => {
        setIsGenerating(true);
        try {
            const options = {
                format: exportFormat,
                includeDetails,
                dateRange: useDateFilter ? dateRange : undefined
            };
            let reportData;
            switch (selectedReportType) {
                case 'documents':
                    reportData = _services_ReportService__WEBPACK_IMPORTED_MODULE_2__.ReportService.generateDocumentReport(documents, options);
                    break;
                case 'borrowers':
                    reportData = _services_ReportService__WEBPACK_IMPORTED_MODULE_2__.ReportService.generateBorrowerReport(borrowers, borrowHistory, options);
                    break;
                case 'history':
                    reportData = _services_ReportService__WEBPACK_IMPORTED_MODULE_2__.ReportService.generateBorrowHistoryReport(borrowHistory, options);
                    break;
                default:
                    throw new Error('Type de rapport non reconnu');
            }
            setReportPreview(reportData);
            toast.success('Rapport généré', 'Le rapport a été généré avec succès');
        }
        catch (error) {
            console.error('Erreur lors de la génération du rapport:', error);
            toast.error('Erreur de génération', 'Erreur lors de la génération du rapport: ' + error.message);
        }
        finally {
            setIsGenerating(false);
        }
    };
    const downloadReport = async () => {
        if (!reportPreview)
            return;
        try {
            const timestamp = new Date().toISOString().replace(/[:.]/g, '-').split('T')[0];
            let filename = `${selectedReportType}_${timestamp}`;
            let content;
            let mimeType;
            switch (exportFormat) {
                case 'csv':
                    content = _services_ReportService__WEBPACK_IMPORTED_MODULE_2__.ReportService.exportToCSV(reportPreview);
                    filename += '.csv';
                    mimeType = 'text/csv;charset=utf-8';
                    break;
                case 'pdf':
                    content = _services_ReportService__WEBPACK_IMPORTED_MODULE_2__.ReportService.generatePDFContent(reportPreview);
                    filename += '.html'; // L'utilisateur pourra ensuite imprimer en PDF
                    mimeType = 'text/html;charset=utf-8';
                    break;
                case 'excel':
                    // Pour Excel, on génère un CSV avec un type MIME spécifique
                    content = _services_ReportService__WEBPACK_IMPORTED_MODULE_2__.ReportService.exportToCSV(reportPreview);
                    filename += '.csv';
                    mimeType = 'application/vnd.ms-excel';
                    break;
                default:
                    throw new Error('Format d\'export non supporté');
            }
            _services_ReportService__WEBPACK_IMPORTED_MODULE_2__.ReportService.downloadFile(content, filename, mimeType);
            toast.success('Téléchargement réussi', `Le rapport ${filename} a été téléchargé`);
        }
        catch (error) {
            console.error('Erreur lors du téléchargement:', error);
            toast.error('Erreur de téléchargement', 'Erreur lors du téléchargement: ' + error.message);
        }
    };
    const reportTypes = [
        {
            key: 'documents',
            title: 'Rapport des Documents',
            description: 'Liste complète des documents avec leur statut',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"],
            count: documents.length
        },
        {
            key: 'borrowers',
            title: 'Rapport des Emprunteurs',
            description: 'Statistiques et informations des emprunteurs',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"],
            count: borrowers.length
        },
        {
            key: 'history',
            title: 'Historique des Emprunts',
            description: 'Historique complet des emprunts et retours',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"],
            count: borrowHistory.length
        }
    ];
    const exportFormats = [
        {
            key: 'pdf',
            title: 'PDF',
            description: 'Format imprimable avec mise en forme',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"]
        },
        {
            key: 'csv',
            title: 'CSV',
            description: 'Données brutes pour tableur',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"]
        },
        {
            key: 'excel',
            title: 'Excel',
            description: 'Compatible Microsoft Excel',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"]
        }
    ];
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "reports-manager", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "reports-overlay", onClick: onClose }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "reports-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "reports-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { children: "G\u00E9n\u00E9ration de Rapports" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Cr\u00E9ez et exportez des rapports d\u00E9taill\u00E9s" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-btn", onClick: onClose, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "reports-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Type de Rapport" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "report-types", children: reportTypes.map(type => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `report-type-card ${selectedReportType === type.key ? 'selected' : ''}`, onClick: () => setSelectedReportType(type.key), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "card-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(type.icon, { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "card-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: type.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: type.description }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "count", children: [type.count, " \u00E9l\u00E9ments"] })] })] }, type.key))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Options de Filtrage" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-options", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "filter-group", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "checkbox-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: useDateFilter, onChange: (e) => setUseDateFilter(e.target.checked) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "checkmark" }), "Filtrer par p\u00E9riode"] }) }), useDateFilter && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "date-range", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "date-input", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Du" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "date", value: dateRange.start, onChange: (e) => setDateRange(prev => ({ ...prev, start: e.target.value })) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "date-input", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Au" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "date", value: dateRange.end, onChange: (e) => setDateRange(prev => ({ ...prev, end: e.target.value })) })] })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "filter-group", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "checkbox-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: includeDetails, onChange: (e) => setIncludeDetails(e.target.checked) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "checkmark" }), "Inclure les d\u00E9tails complets"] }) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Format d'Export" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "export-formats", children: exportFormats.map(format => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `format-option ${exportFormat === format.key ? 'selected' : ''}`, onClick: () => setExportFormat(format.key), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(format.icon, { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "format-title", children: format.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "format-description", children: format.description })] })] }, format.key))) })] }), reportPreview && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Aper\u00E7u du Rapport" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "report-preview", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: reportPreview.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: reportPreview.subtitle }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "generation-time", children: ["G\u00E9n\u00E9r\u00E9 le ", new Date(reportPreview.generatedAt).toLocaleString('fr-FR')] })] }), reportPreview.summary && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "summary-preview", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { children: "R\u00E9sum\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "summary-grid", children: Object.entries(reportPreview.summary).map(([key, value]) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "summary-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "summary-label", children: [key, ":"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "summary-value", children: value.toString() })] }, key))) })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "data-preview", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: reportPreview.data.length }), " \u00E9l\u00E9ments dans ce rapport"] }), reportPreview.data.length > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "sample-data", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Aper\u00E7u des premi\u00E8res lignes:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("pre", { children: JSON.stringify(reportPreview.data.slice(0, 2), null, 2) })] }))] })] })] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "reports-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "generate-btn", onClick: generateReport, disabled: isGenerating, children: isGenerating ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 16, className: "spinning" }), "G\u00E9n\u00E9ration..."] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 16 }), "G\u00E9n\u00E9rer le Rapport"] })) }), reportPreview && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "download-btn", onClick: downloadReport, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16 }), "T\u00E9l\u00E9charger (", exportFormat.toUpperCase(), ")"] }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .reports-manager {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          z-index: 10000;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 20px;
        }

        .reports-overlay {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.7);
          backdrop-filter: blur(4px);
        }

        .reports-container {
          position: relative;
          background: white;
          border-radius: 20px;
          max-width: 900px;
          width: 100%;
          max-height: 90vh;
          overflow-y: auto;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
          border: 1px solid rgba(229, 220, 194, 0.3);
        }

        .reports-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 24px 32px;
          border-bottom: 1px solid rgba(229, 220, 194, 0.3);
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          border-radius: 20px 20px 0 0;
        }

        .header-info {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .header-info h2 {
          margin: 0;
          font-size: 20px;
          font-weight: 700;
        }

        .header-info p {
          margin: 0;
          opacity: 0.9;
          font-size: 14px;
        }

        .close-btn {
          background: rgba(243, 238, 217, 0.1);
          border: none;
          color: #F3EED9;
          width: 40px;
          height: 40px;
          border-radius: 10px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
        }

        .close-btn:hover {
          background: rgba(220, 38, 38, 0.2);
          color: #DC2626;
        }

        .reports-content {
          padding: 32px;
        }

        .section {
          margin-bottom: 32px;
        }

        .section h3 {
          margin: 0 0 16px 0;
          font-size: 16px;
          font-weight: 600;
          color: #3E5C49;
        }

        .report-types {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: 16px;
        }

        .report-type-card {
          display: flex;
          align-items: center;
          gap: 16px;
          padding: 20px;
          border: 2px solid rgba(229, 220, 194, 0.3);
          border-radius: 12px;
          background: white;
          cursor: pointer;
          transition: all 0.2s ease;
          text-align: left;
        }

        .report-type-card:hover {
          border-color: rgba(62, 92, 73, 0.3);
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.1);
        }

        .report-type-card.selected {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.05);
        }

        .card-icon {
          width: 48px;
          height: 48px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          flex-shrink: 0;
        }

        .card-content h4 {
          margin: 0 0 4px 0;
          font-size: 14px;
          font-weight: 600;
          color: #3E5C49;
        }

        .card-content p {
          margin: 0 0 8px 0;
          font-size: 12px;
          color: #4A4A4A;
          line-height: 1.4;
        }

        .count {
          font-size: 12px;
          color: #C2571B;
          font-weight: 600;
        }

        .filter-options {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .filter-group {
          display: flex;
          align-items: center;
        }

        .checkbox-label {
          display: flex;
          align-items: center;
          gap: 8px;
          cursor: pointer;
          font-size: 14px;
          color: #4A4A4A;
        }

        .checkbox-label input[type="checkbox"] {
          margin: 0;
        }

        .date-range {
          display: flex;
          gap: 16px;
          margin-left: 24px;
        }

        .date-input {
          display: flex;
          flex-direction: column;
          gap: 4px;
        }

        .date-input label {
          font-size: 12px;
          font-weight: 600;
          color: #4A4A4A;
        }

        .date-input input {
          padding: 8px 12px;
          border: 1px solid rgba(229, 220, 194, 0.4);
          border-radius: 8px;
          font-size: 14px;
          outline: none;
          transition: border-color 0.2s ease;
        }

        .date-input input:focus {
          border-color: #3E5C49;
        }

        .export-formats {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 12px;
        }

        .format-option {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px;
          border: 2px solid rgba(229, 220, 194, 0.3);
          border-radius: 10px;
          background: white;
          cursor: pointer;
          transition: all 0.2s ease;
          text-align: left;
        }

        .format-option:hover {
          border-color: rgba(62, 92, 73, 0.3);
        }

        .format-option.selected {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.05);
        }

        .format-title {
          display: block;
          font-weight: 600;
          color: #3E5C49;
          font-size: 14px;
        }

        .format-description {
          display: block;
          font-size: 12px;
          color: #4A4A4A;
        }

        .report-preview {
          background: rgba(243, 238, 217, 0.1);
          border: 1px solid rgba(229, 220, 194, 0.3);
          border-radius: 12px;
          padding: 20px;
        }

        .preview-header h4 {
          margin: 0 0 4px 0;
          color: #3E5C49;
          font-size: 16px;
        }

        .preview-header p {
          margin: 0 0 8px 0;
          color: #4A4A4A;
          font-size: 14px;
        }

        .generation-time {
          font-size: 12px;
          color: #C2571B;
          font-weight: 600;
        }

        .summary-preview {
          margin: 16px 0;
          padding: 16px;
          background: white;
          border-radius: 8px;
        }

        .summary-preview h5 {
          margin: 0 0 12px 0;
          color: #3E5C49;
          font-size: 14px;
        }

        .summary-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 8px;
        }

        .summary-item {
          display: flex;
          justify-content: space-between;
          padding: 8px;
          background: rgba(62, 92, 73, 0.05);
          border-radius: 6px;
          font-size: 12px;
        }

        .summary-label {
          font-weight: 600;
          color: #4A4A4A;
        }

        .summary-value {
          color: #C2571B;
          font-weight: 600;
        }

        .data-preview {
          margin-top: 16px;
          padding: 16px;
          background: white;
          border-radius: 8px;
        }

        .sample-data {
          margin-top: 8px;
        }

        .sample-data pre {
          background: #f5f5f5;
          padding: 12px;
          border-radius: 6px;
          font-size: 11px;
          overflow-x: auto;
          max-height: 150px;
          overflow-y: auto;
        }

        .reports-actions {
          display: flex;
          justify-content: flex-end;
          gap: 12px;
          padding: 24px 32px;
          border-top: 1px solid rgba(229, 220, 194, 0.3);
          background: rgba(243, 238, 217, 0.1);
          border-radius: 0 0 20px 20px;
        }

        .generate-btn, .download-btn {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 20px;
          border: none;
          border-radius: 10px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
          font-size: 14px;
        }

        .generate-btn {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
        }

        .generate-btn:hover:not(:disabled) {
          background: linear-gradient(135deg, #2E453A 0%, #1F2F25 100%);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.3);
        }

        .generate-btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }

        .download-btn {
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          color: #F3EED9;
        }

        .download-btn:hover {
          background: linear-gradient(135deg, #A8481A 0%, #8A3C18 100%);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(194, 87, 27, 0.3);
        }

        .spinning {
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
          .reports-container {
            margin: 10px;
            max-height: calc(100vh - 20px);
          }

          .reports-header {
            padding: 20px;
          }

          .reports-content {
            padding: 20px;
          }

          .report-types {
            grid-template-columns: 1fr;
          }

          .export-formats {
            grid-template-columns: 1fr;
          }

          .date-range {
            flex-direction: column;
            margin-left: 0;
          }

          .reports-actions {
            flex-direction: column;
            padding: 20px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/Settings.tsx":
/*!**********************************************!*\
  !*** ./src/renderer/components/Settings.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Settings: () => (/* binding */ Settings)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/building.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/database.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/shield.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/hard-drive.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/settings.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/log-out.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/camera.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/upload.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trash-2.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/phone.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/mail.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/globe.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/map-pin.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/download.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/lock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/cloud.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/refresh-cw.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/save.mjs");
/* harmony import */ var _services_ConfigService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/ConfigService */ "./src/renderer/services/ConfigService.ts");




const Settings = ({ onClose, onLogout }) => {
    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('institution');
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [institutionSettings, setInstitutionSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        name: 'Lycée Moderne de Douala',
        address: 'Avenue de la Liberté',
        city: 'Douala',
        country: 'Cameroun',
        phone: '+237 233 42 15 67',
        email: 'contact@lyceemoderne.cm',
        website: 'www.lyceemoderne.cm',
        logo: '',
        description: 'Établissement d\'enseignement secondaire général et technique'
    });
    const [backupSettings, setBackupSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        autoBackup: true,
        backupFrequency: 'weekly',
        lastBackup: new Date().toISOString(),
        cloudSync: false,
        cloudProvider: 'google'
    });
    const [securitySettings, setSecuritySettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        requireAuth: true,
        sessionTimeout: 60,
        passwordPolicy: {
            minLength: 6,
            requireNumbers: true,
            requireSymbols: false
        }
    });
    const [showConfirmLogout, setShowConfirmLogout] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        loadSettings();
    }, []);
    const loadSettings = async () => {
        try {
            // Simulate loading settings from storage
            const settings = await window.electronAPI.getSettings();
            if (settings) {
                setInstitutionSettings(settings.institution || institutionSettings);
                setBackupSettings(settings.backup || backupSettings);
                setSecuritySettings(settings.security || securitySettings);
            }
        }
        catch (error) {
            console.error('Error loading settings:', error);
        }
    };
    const saveSettings = async () => {
        setIsLoading(true);
        try {
            await window.electronAPI.saveSettings({
                institution: institutionSettings,
                backup: backupSettings,
                security: securitySettings
            });
            showMessage('success', 'Paramètres sauvegardés avec succès');
        }
        catch (error) {
            showMessage('error', 'Erreur lors de la sauvegarde');
            console.error('Error saving settings:', error);
        }
        finally {
            setIsLoading(false);
        }
    };
    const showMessage = (type, text) => {
        setMessage({ type, text });
        setTimeout(() => setMessage(null), 5000);
    };
    const handleLogoUpload = async (event) => {
        const file = event.target.files?.[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                setInstitutionSettings(prev => ({
                    ...prev,
                    logo: e.target?.result
                }));
            };
            reader.readAsDataURL(file);
        }
    };
    const handleBackup = async () => {
        setIsLoading(true);
        try {
            await window.electronAPI.createBackup();
            setBackupSettings(prev => ({
                ...prev,
                lastBackup: new Date().toISOString()
            }));
            showMessage('success', 'Sauvegarde créée avec succès');
        }
        catch (error) {
            showMessage('error', 'Erreur lors de la sauvegarde');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleRestore = async () => {
        if (window.confirm('Êtes-vous sûr de vouloir restaurer une sauvegarde ? Cela remplacera toutes les données actuelles.')) {
            setIsLoading(true);
            try {
                // Utiliser la nouvelle fonction selectBackupFile
                const fileResult = await window.electronAPI.selectBackupFile();
                if (fileResult.success && fileResult.filePath) {
                    const restoreResult = await window.electronAPI.restoreBackup(fileResult.filePath);
                    if (restoreResult.success) {
                        showMessage('success', 'Données restaurées avec succès');
                    }
                    else {
                        showMessage('error', restoreResult.error || 'Erreur lors de la restauration');
                    }
                }
                else if (fileResult.error && fileResult.error !== 'Sélection annulée') {
                    showMessage('error', fileResult.error);
                }
            }
            catch (error) {
                showMessage('error', 'Erreur lors de la restauration');
            }
            finally {
                setIsLoading(false);
            }
        }
    };
    const handleClearData = async () => {
        if (window.confirm('⚠️ ATTENTION: Cette action supprimera définitivement toutes les données. Êtes-vous absolument sûr ?')) {
            if (window.confirm('Dernière confirmation: Voulez-vous vraiment supprimer TOUTES les données ?')) {
                setIsLoading(true);
                try {
                    await window.electronAPI.clearAllData();
                    showMessage('success', 'Toutes les données ont été supprimées');
                }
                catch (error) {
                    showMessage('error', 'Erreur lors de la suppression');
                }
                finally {
                    setIsLoading(false);
                }
            }
        }
    };
    const tabs = [
        { id: 'institution', label: 'Établissement', icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"] },
        { id: 'backup', label: 'Sauvegardes', icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"] },
        { id: 'security', label: 'Sécurité', icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"] },
        { id: 'config', label: 'Configuration', icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"] },
        { id: 'about', label: 'À propos', icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"] }
    ];
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 28 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "modal-title", children: "Param\u00E8tres" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "modal-subtitle", children: "Configuration de l'application" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: onClose, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 20 }) })] }), message && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `message ${message.type}`, children: [message.type === 'success' ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 20 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: message.text })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-sidebar", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("nav", { className: "settings-nav", children: tabs.map((tab) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `nav-button ${activeTab === tab.id ? 'active' : ''}`, onClick: () => setActiveTab(tab.id), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(tab.icon, { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: tab.label })] }, tab.id))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "logout-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "logout-button", onClick: () => setShowConfirmLogout(true), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 18 }), "Se d\u00E9connecter"] }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-main", children: [activeTab === 'institution' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Informations de l'\u00E9tablissement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Configurez les d\u00E9tails de votre institution" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "logo-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "logo-preview", children: institutionSettings.logo ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img", { src: institutionSettings.logo, alt: "Logo" })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "logo-placeholder", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 32 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Logo" })] })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "logo-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "upload-button", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16 }), "Changer le logo", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "file", accept: "image/*", onChange: handleLogoUpload, style: { display: 'none' } })] }), institutionSettings.logo && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "remove-button", onClick: () => setInstitutionSettings(prev => ({ ...prev, logo: '' })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16 }), "Supprimer"] }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Nom de l'\u00E9tablissement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionSettings.name, onChange: (e) => setInstitutionSettings(prev => ({ ...prev, name: e.target.value })), className: "form-input" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "T\u00E9l\u00E9phone" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "tel", value: institutionSettings.phone, onChange: (e) => setInstitutionSettings(prev => ({ ...prev, phone: e.target.value })), className: "form-input" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Email" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "email", value: institutionSettings.email, onChange: (e) => setInstitutionSettings(prev => ({ ...prev, email: e.target.value })), className: "form-input" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Site web" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "url", value: institutionSettings.website, onChange: (e) => setInstitutionSettings(prev => ({ ...prev, website: e.target.value })), className: "form-input" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Adresse" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionSettings.address, onChange: (e) => setInstitutionSettings(prev => ({ ...prev, address: e.target.value })), className: "form-input" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Ville" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionSettings.city, onChange: (e) => setInstitutionSettings(prev => ({ ...prev, city: e.target.value })), className: "form-input" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group span-full", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Description" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea", { value: institutionSettings.description, onChange: (e) => setInstitutionSettings(prev => ({ ...prev, description: e.target.value })), className: "form-textarea", rows: 3 })] })] })] })] })), activeTab === 'backup' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Gestion des sauvegardes" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Prot\u00E9gez vos donn\u00E9es avec des sauvegardes automatiques" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "backup-status", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "status-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "status-icon success", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "status-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Derni\u00E8re sauvegarde" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: new Date(backupSettings.lastBackup).toLocaleDateString('fr-FR', {
                                                                        year: 'numeric',
                                                                        month: 'long',
                                                                        day: 'numeric',
                                                                        hour: '2-digit',
                                                                        minute: '2-digit'
                                                                    }) })] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Sauvegarde automatique" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "toggle-switch", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: backupSettings.autoBackup, onChange: (e) => setBackupSettings(prev => ({ ...prev, autoBackup: e.target.checked })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "toggle-slider" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Cr\u00E9er automatiquement des sauvegardes selon la fr\u00E9quence d\u00E9finie" })] }), backupSettings.autoBackup && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Fr\u00E9quence" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "radio-group", children: [
                                                                    { value: 'daily', label: 'Quotidienne' },
                                                                    { value: 'weekly', label: 'Hebdomadaire' },
                                                                    { value: 'monthly', label: 'Mensuelle' }
                                                                ].map((option) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "radio-option", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "radio", name: "frequency", value: option.value, checked: backupSettings.backupFrequency === option.value, onChange: (e) => setBackupSettings(prev => ({ ...prev, backupFrequency: e.target.value })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "radio-label", children: option.label })] }, option.value))) })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Synchronisation cloud" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "toggle-switch", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: backupSettings.cloudSync, onChange: (e) => setBackupSettings(prev => ({ ...prev, cloudSync: e.target.checked })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "toggle-slider" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Synchroniser automatiquement vos sauvegardes avec le cloud" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "backup-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "action-button primary", onClick: handleBackup, disabled: isLoading, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 18 }), "Cr\u00E9er une sauvegarde maintenant"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "action-button secondary", onClick: handleRestore, disabled: isLoading, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 18 }), "Restaurer une sauvegarde"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "action-button danger", onClick: handleClearData, disabled: isLoading, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 18 }), "Effacer toutes les donn\u00E9es"] })] })] })] })), activeTab === 'security' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Param\u00E8tres de s\u00E9curit\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Configurez la s\u00E9curit\u00E9 et l'authentification" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Authentification requise" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "toggle-switch", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: securitySettings.requireAuth, onChange: (e) => setSecuritySettings(prev => ({ ...prev, requireAuth: e.target.checked })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "toggle-slider" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Exiger une connexion pour acc\u00E9der \u00E0 l'application" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "D\u00E9lai d'expiration de session (minutes)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_20__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "number", min: "5", max: "480", value: securitySettings.sessionTimeout, onChange: (e) => setSecuritySettings(prev => ({ ...prev, sessionTimeout: parseInt(e.target.value) })), className: "form-input" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Politique de mot de passe" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "sub-setting", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Longueur minimale" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_20__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "number", min: "4", max: "20", value: securitySettings.passwordPolicy.minLength, onChange: (e) => setSecuritySettings(prev => ({
                                                                                    ...prev,
                                                                                    passwordPolicy: {
                                                                                        ...prev.passwordPolicy,
                                                                                        minLength: parseInt(e.target.value)
                                                                                    }
                                                                                })), className: "form-input" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "checkbox-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "checkbox-option", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: securitySettings.passwordPolicy.requireNumbers, onChange: (e) => setSecuritySettings(prev => ({
                                                                                    ...prev,
                                                                                    passwordPolicy: {
                                                                                        ...prev.passwordPolicy,
                                                                                        requireNumbers: e.target.checked
                                                                                    }
                                                                                })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "checkbox-label", children: "Exiger des chiffres" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "checkbox-option", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: securitySettings.passwordPolicy.requireSymbols, onChange: (e) => setSecuritySettings(prev => ({
                                                                                    ...prev,
                                                                                    passwordPolicy: {
                                                                                        ...prev.passwordPolicy,
                                                                                        requireSymbols: e.target.checked
                                                                                    }
                                                                                })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "checkbox-label", children: "Exiger des symboles" })] })] })] })] })] })), activeTab === 'config' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Configuration de l'application" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Mode de fonctionnement et param\u00E8tres syst\u00E8me" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "config-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "config-info-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "config-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "config-icon", children: _services_ConfigService__WEBPACK_IMPORTED_MODULE_2__.ConfigService.getMode() === 'offline' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 24 })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_21__["default"], { size: 24 })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "config-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h4", { children: ["Mode actuel : ", _services_ConfigService__WEBPACK_IMPORTED_MODULE_2__.ConfigService.getConfigInfo().displayMode] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "config-description", children: _services_ConfigService__WEBPACK_IMPORTED_MODULE_2__.ConfigService.getMode() === 'offline'
                                                                                    ? 'L\'application utilise une base de données locale SQLite'
                                                                                    : 'L\'application utilise Supabase pour la synchronisation cloud' })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "config-features", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { children: "Fonctionnalit\u00E9s actives :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "feature-list", children: _services_ConfigService__WEBPACK_IMPORTED_MODULE_2__.ConfigService.getMode() === 'offline' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { className: "feature-icon active", size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Base de donn\u00E9es locale" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { className: "feature-icon active", size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Fonctionnement hors ligne" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { className: "feature-icon active", size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Partage r\u00E9seau local" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { className: "feature-icon disabled", size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "disabled", children: "Synchronisation cloud (d\u00E9sactiv\u00E9e)" })] })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { className: "feature-icon active", size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Synchronisation cloud" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { className: "feature-icon active", size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Multi-\u00E9tablissements" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { className: "feature-icon active", size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Sauvegarde automatique" })] })] })) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "config-actions", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-note", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Le mode en ligne sera disponible dans une prochaine version. Le mode hors ligne offre toutes les fonctionnalit\u00E9s n\u00E9cessaires." })] }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "config-stats-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { children: "Informations syst\u00E8me" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stats-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Configur\u00E9 le :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-value", children: _services_ConfigService__WEBPACK_IMPORTED_MODULE_2__.ConfigService.getConfig().configuredAt
                                                                                    ? new Date(_services_ConfigService__WEBPACK_IMPORTED_MODULE_2__.ConfigService.getConfig().configuredAt).toLocaleDateString('fr-FR')
                                                                                    : 'Non configuré' })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Version :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-value", children: _services_ConfigService__WEBPACK_IMPORTED_MODULE_2__.ConfigService.getConfig().version })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Mode :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-value", children: _services_ConfigService__WEBPACK_IMPORTED_MODULE_2__.ConfigService.getConfigInfo().displayMode })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Statut :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "stat-value success", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 14 }), "Op\u00E9rationnel"] })] })] })] })] })] })), activeTab === 'about' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "\u00C0 propos de l'application" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Informations sur la version et les cr\u00E9dits" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "about-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "app-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "app-logo", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 48 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Biblioth\u00E8que v2.0.0" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Syst\u00E8me de gestion moderne pour biblioth\u00E8ques" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-cards", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "D\u00E9velopp\u00E9 par" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Votre \u00E9quipe de d\u00E9veloppement" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Technologies utilis\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tech-list", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Electron" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "React" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "TypeScript" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "SQLite" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Licence" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "MIT License" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "system-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Informations syst\u00E8me" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "system-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Version de l'application" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "2.0.0" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Base de donn\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "SQLite v3.39.0" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Plateforme" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Windows/macOS/Linux" })] })] })] })] })] }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-footer", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "btn-secondary", onClick: onClose, disabled: isLoading, children: "Annuler" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "btn-primary", onClick: saveSettings, disabled: isLoading, children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_22__["default"], { size: 16, className: "spinning" }), "Sauvegarde..."] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_23__["default"], { size: 16 }), "Sauvegarder"] })) })] })] }), showConfirmLogout && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "logout-overlay", onClick: () => setShowConfirmLogout(false), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "logout-modal", onClick: (e) => e.stopPropagation(), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "logout-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Confirmer la d\u00E9connexion" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "\u00CAtes-vous s\u00FBr de vouloir vous d\u00E9connecter ? Toutes les donn\u00E9es non sauvegard\u00E9es seront perdues." }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "logout-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "btn-secondary", onClick: () => setShowConfirmLogout(false), children: "Annuler" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "btn-danger", onClick: () => {
                                        setShowConfirmLogout(false);
                                        onLogout();
                                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 16 }), "Se d\u00E9connecter"] })] })] }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .settings-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(46, 46, 46, 0.7);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }
        
        .settings-modal {
          background: #FFFFFF;
          border-radius: 24px;
          width: 100%;
          max-width: 1200px;
          max-height: 90vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          box-shadow: 
            0 24px 48px rgba(62, 92, 73, 0.2),
            0 8px 24px rgba(62, 92, 73, 0.12);
          border: 1px solid rgba(229, 220, 194, 0.3);
        }
        
        .modal-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 32px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
        }
        
        .header-content {
          display: flex;
          align-items: center;
          gap: 20px;
        }
        
        .header-icon {
          width: 56px;
          height: 56px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        
        .modal-title {
          font-size: 24px;
          font-weight: 800;
          margin: 0 0 4px 0;
        }
        
        .modal-subtitle {
          font-size: 14px;
          opacity: 0.9;
          margin: 0;
        }
        
        .close-button {
          background: rgba(243, 238, 217, 0.15);
          border: 1px solid rgba(243, 238, 217, 0.3);
          color: #F3EED9;
          padding: 12px;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.3s ease;
        }
        
        .close-button:hover {
          background: rgba(243, 238, 217, 0.25);
        }
        
        .message {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px 32px;
          font-size: 14px;
          font-weight: 600;
          border-bottom: 1px solid #E5DCC2;
        }
        
        .message.success {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }
        
        .message.error {
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
        }
        
        .settings-content {
          flex: 1;
          display: flex;
          overflow: hidden;
        }
        
        .settings-sidebar {
          width: 280px;
          background: #F3EED9;
          border-right: 1px solid #E5DCC2;
          padding: 24px 0;
          display: flex;
          flex-direction: column;
          justify-content: space-between;
        }
        
        .settings-nav {
          display: flex;
          flex-direction: column;
          gap: 8px;
          padding: 0 24px;
        }
        
        .nav-button {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px 20px;
          border: none;
          background: transparent;
          color: #4A4A4A;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.2s ease;
          font-size: 14px;
          font-weight: 500;
          text-align: left;
        }
        
        .nav-button:hover {
          background: rgba(62, 92, 73, 0.08);
          color: #3E5C49;
        }
        
        .nav-button.active {
          background: #3E5C49;
          color: #F3EED9;
          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.2);
        }
        
        .logout-section {
          padding: 0 24px;
          border-top: 1px solid #E5DCC2;
          padding-top: 24px;
        }
        
        .logout-button {
          width: 100%;
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px 20px;
          border: none;
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.2s ease;
          font-size: 14px;
          font-weight: 600;
        }
        
        .logout-button:hover {
          background: rgba(194, 87, 27, 0.15);
          color: #A8481A;
        }
        
        .settings-main {
          flex: 1;
          overflow-y: auto;
          padding: 32px;
        }
        
        .settings-section {
          max-width: 800px;
        }
        
        .section-header {
          display: flex;
          align-items: center;
          gap: 16px;
          margin-bottom: 32px;
          padding-bottom: 16px;
          border-bottom: 2px solid #E5DCC2;
        }
        
        .section-header h3 {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 4px 0;
        }
        
        .section-header p {
          font-size: 14px;
          color: #4A4A4A;
          margin: 0;
        }
        
        .form-section {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }
        
        .logo-section {
          display: flex;
          align-items: center;
          gap: 24px;
          padding: 24px;
          background: #F3EED9;
          border-radius: 16px;
          border: 1px solid #E5DCC2;
          margin-bottom: 32px;
        }
        
        .logo-preview {
          width: 120px;
          height: 120px;
          border-radius: 16px;
          overflow: hidden;
          border: 2px solid #E5DCC2;
          display: flex;
          align-items: center;
          justify-content: center;
          background: #FFFFFF;
        }
        
        .logo-preview img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }
        
        .logo-placeholder {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
          color: #4A4A4A;
          text-align: center;
        }
        
        .logo-actions {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }
        
        .upload-button {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 16px;
          background: #3E5C49;
          color: #F3EED9;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 600;
          transition: all 0.2s ease;
        }
        
        .upload-button:hover {
          background: #2E453A;
        }
        
        .remove-button {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 16px;
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
          border: 1px solid rgba(194, 87, 27, 0.2);
          border-radius: 8px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 600;
          transition: all 0.2s ease;
        }
        
        .remove-button:hover {
          background: rgba(194, 87, 27, 0.15);
        }
        
        .form-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
        }
        
        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }
        
        .form-group.span-full {
          grid-column: 1 / -1;
        }
        
        .form-group label {
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
        }
        
        .input-wrapper {
          position: relative;
          display: flex;
          align-items: center;
        }
        
        .input-wrapper svg {
          position: absolute;
          left: 16px;
          color: #4A4A4A;
          z-index: 2;
        }
        
        .form-input {
          width: 100%;
          padding: 12px 16px 12px 48px;
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          font-size: 14px;
          background: #FFFFFF;
          color: #2E2E2E;
          transition: all 0.2s ease;
        }
        
        .form-input:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }
        
        .form-textarea {
          width: 100%;
          padding: 12px 16px;
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          font-size: 14px;
          background: #FFFFFF;
          color: #2E2E2E;
          transition: all 0.2s ease;
          resize: vertical;
          min-height: 80px;
        }
        
        .form-textarea:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }
        
        .backup-status {
          margin-bottom: 32px;
        }
        
        .status-card {
          display: flex;
          align-items: center;
          gap: 16px;
          padding: 20px;
          background: rgba(62, 92, 73, 0.05);
          border: 1px solid rgba(62, 92, 73, 0.1);
          border-radius: 12px;
        }
        
        .status-icon {
          width: 48px;
          height: 48px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        
        .status-icon.success {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }
        
        .status-content h4 {
          font-size: 16px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 4px 0;
        }
        
        .status-content p {
          font-size: 14px;
          color: #4A4A4A;
          margin: 0;
        }
        
        .setting-group {
          padding: 20px;
          background: #FEFEFE;
          border: 1px solid #E5DCC2;
          border-radius: 12px;
        }
        
        .setting-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 8px;
        }
        
        .setting-header h4 {
          font-size: 16px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0;
        }
        
        .setting-group p {
          font-size: 14px;
          color: #4A4A4A;
          margin: 0;
          line-height: 1.4;
        }
        
        .toggle-switch {
          position: relative;
          display: inline-block;
          width: 44px;
          height: 24px;
        }
        
        .toggle-switch input {
          opacity: 0;
          width: 0;
          height: 0;
        }
        
        .toggle-slider {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: #E5DCC2;
          transition: 0.3s;
          border-radius: 24px;
        }
        
        .toggle-slider:before {
          position: absolute;
          content: "";
          height: 20px;
          width: 20px;
          left: 2px;
          bottom: 2px;
          background: #FFFFFF;
          transition: 0.3s;
          border-radius: 50%;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        input:checked + .toggle-slider {
          background: #3E5C49;
        }
        
        input:checked + .toggle-slider:before {
          transform: translateX(20px);
        }
        
        .radio-group {
          display: flex;
          flex-direction: column;
          gap: 12px;
          margin-top: 12px;
        }
        
        .radio-option {
          display: flex;
          align-items: center;
          gap: 12px;
          cursor: pointer;
        }
        
        .radio-option input {
          margin: 0;
        }
        
        .radio-label {
          font-size: 14px;
          color: #2E2E2E;
        }
        
        .checkbox-group {
          display: flex;
          flex-direction: column;
          gap: 12px;
          margin-top: 12px;
        }
        
        .checkbox-option {
          display: flex;
          align-items: center;
          gap: 12px;
          cursor: pointer;
        }
        
        .checkbox-option input {
          margin: 0;
        }
        
        .checkbox-label {
          font-size: 14px;
          color: #2E2E2E;
        }
        
        .sub-setting {
          display: flex;
          flex-direction: column;
          gap: 8px;
          margin-top: 16px;
        }
        
        .sub-setting label {
          font-size: 13px;
          font-weight: 500;
          color: #4A4A4A;
        }
        
        .backup-actions {
          display: flex;
          flex-direction: column;
          gap: 12px;
          margin-top: 24px;
        }
        
        .action-button {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px 20px;
          border: none;
          border-radius: 12px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 600;
          transition: all 0.2s ease;
          text-align: left;
        }
        
        .action-button.primary {
          background: #3E5C49;
          color: #F3EED9;
        }
        
        .action-button.primary:hover:not(:disabled) {
          background: #2E453A;
        }
        
        .action-button.secondary {
          background: #F3EED9;
          color: #4A4A4A;
          border: 1px solid #E5DCC2;
        }
        
        .action-button.secondary:hover:not(:disabled) {
          background: #EAEADC;
          color: #2E2E2E;
        }
        
        .action-button.danger {
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
          border: 1px solid rgba(194, 87, 27, 0.2);
        }
        
        .action-button.danger:hover:not(:disabled) {
          background: rgba(194, 87, 27, 0.15);
        }
        
        .action-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }
        
        .config-content {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }
        
        .config-info-card {
          background: #f8f9fa;
          border: 1px solid #e9ecef;
          border-radius: 12px;
          padding: 24px;
        }
        
        .config-header {
          display: flex;
          align-items: flex-start;
          gap: 16px;
          margin-bottom: 20px;
        }
        
        .config-icon {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 48px;
          height: 48px;
          background: linear-gradient(135deg, #4CAF50, #45a049);
          border-radius: 12px;
          color: white;
        }
        
        .config-details h4 {
          margin: 0 0 8px 0;
          font-size: 1.2rem;
          font-weight: 600;
          color: #2d3748;
        }
        
        .config-description {
          margin: 0;
          color: #718096;
          line-height: 1.5;
        }
        
        .config-features {
          margin-bottom: 20px;
        }
        
        .config-features h5 {
          margin: 0 0 12px 0;
          font-size: 1rem;
          font-weight: 600;
          color: #4a5568;
        }
        
        .config-features .feature-list {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }
        
        .config-features .feature-item {
          display: flex;
          align-items: center;
          gap: 8px;
        }
        
        .config-features .feature-icon.active {
          color: #48bb78;
        }
        
        .config-features .feature-icon.disabled {
          color: #cbd5e0;
        }
        
        .config-features .feature-item .disabled {
          color: #a0aec0;
        }
        
        .config-actions {
          border-top: 1px solid #e2e8f0;
          padding-top: 16px;
        }
        
        .action-note {
          display: flex;
          align-items: flex-start;
          gap: 12px;
          padding: 12px 16px;
          background: #f7fafc;
          border: 1px solid #e2e8f0;
          border-radius: 8px;
          font-size: 0.9rem;
          color: #4a5568;
        }
        
        .config-stats-card {
          background: white;
          border: 1px solid #e2e8f0;
          border-radius: 12px;
          padding: 24px;
        }
        
        .config-stats-card h5 {
          margin: 0 0 16px 0;
          font-size: 1.1rem;
          font-weight: 600;
          color: #2d3748;
        }
        
        .stats-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
        }
        
        .stat-item {
          display: flex;
          flex-direction: column;
          gap: 4px;
        }
        
        .stat-label {
          font-size: 0.85rem;
          color: #718096;
          font-weight: 500;
        }
        
        .stat-value {
          font-size: 0.95rem;
          color: #2d3748;
          font-weight: 600;
        }
        
        .stat-value.success {
          display: flex;
          align-items: center;
          gap: 6px;
          color: #48bb78;
        }

        .about-content {
          display: flex;
          flex-direction: column;
          gap: 32px;
        }
        
        .app-info {
          text-align: center;
          padding: 32px;
          background: #F3EED9;
          border-radius: 16px;
          border: 1px solid #E5DCC2;
        }
        
        .app-logo {
          width: 80px;
          height: 80px;
          background: #3E5C49;
          color: #F3EED9;
          border-radius: 20px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin: 0 auto 20px;
        }
        
        .app-info h3 {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 8px 0;
        }
        
        .app-info p {
          font-size: 16px;
          color: #4A4A4A;
          margin: 0;
        }
        
        .info-cards {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 20px;
        }
        
        .info-card {
          padding: 20px;
          background: #FFFFFF;
          border: 1px solid #E5DCC2;
          border-radius: 12px;
        }
        
        .info-card h4 {
          font-size: 16px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 12px 0;
        }
        
        .info-card p {
          font-size: 14px;
          color: #4A4A4A;
          margin: 0;
        }
        
        .tech-list {
          display: flex;
          flex-wrap: wrap;
          gap: 8px;
        }
        
        .tech-list span {
          background: #3E5C49;
          color: #F3EED9;
          padding: 4px 12px;
          border-radius: 16px;
          font-size: 12px;
          font-weight: 600;
        }
        
        .system-info {
          padding: 24px;
          background: #FEFEFE;
          border: 1px solid #E5DCC2;
          border-radius: 12px;
        }
        
        .system-info h4 {
          font-size: 18px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 16px 0;
        }
        
        .system-details {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }
        
        .detail-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 12px 0;
          border-bottom: 1px solid #F3EED9;
        }
        
        .detail-item:last-child {
          border-bottom: none;
        }
        
        .detail-item span:first-child {
          font-size: 14px;
          color: #4A4A4A;
        }
        
        .detail-item span:last-child {
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
        }
        
        .settings-footer {
          display: flex;
          justify-content: flex-end;
          gap: 16px;
          padding: 24px 32px;
          border-top: 1px solid #E5DCC2;
          background: #FEFEFE;
        }
        
        .btn-secondary, .btn-primary {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 24px;
          border-radius: 12px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
          border: none;
        }
        
        .btn-secondary {
          background: #F3EED9;
          color: #4A4A4A;
          border: 2px solid #E5DCC2;
        }
        
        .btn-secondary:hover:not(:disabled) {
          background: #EAEADC;
          color: #2E2E2E;
        }
        
        .btn-primary {
          background: #3E5C49;
          color: #F3EED9;
        }
        
        .btn-primary:hover:not(:disabled) {
          background: #2E453A;
        }
        
        .btn-secondary:disabled,
        .btn-primary:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }
        
        .spinning {
          animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        
        /* Logout Modal */
        .logout-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(46, 46, 46, 0.8);
          backdrop-filter: blur(4px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1001;
          padding: 20px;
        }
        
        .logout-modal {
          background: #FFFFFF;
          border-radius: 16px;
          width: 100%;
          max-width: 400px;
          padding: 24px;
          box-shadow: 0 20px 40px rgba(62, 92, 73, 0.2);
          border: 1px solid rgba(229, 220, 194, 0.3);
        }
        
        .logout-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 16px;
          color: #C2571B;
        }
        
        .logout-header h3 {
          font-size: 18px;
          font-weight: 700;
          margin: 0;
        }
        
        .logout-modal p {
          font-size: 14px;
          color: #4A4A4A;
          margin: 0 0 24px 0;
          line-height: 1.5;
        }
        
        .logout-actions {
          display: flex;
          gap: 12px;
          justify-content: flex-end;
        }
        
        .btn-danger {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 20px;
          background: #C2571B;
          color: #F3EED9;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
        }
        
        .btn-danger:hover {
          background: #A8481A;
        }
        
        /* Responsive Design */
        @media (max-width: 1024px) {
          .settings-content {
            flex-direction: column;
          }
          
          .settings-sidebar {
            width: 100%;
            flex-direction: row;
            justify-content: space-between;
            padding: 16px 24px;
            border-right: none;
            border-bottom: 1px solid #E5DCC2;
          }
          
          .settings-nav {
            flex-direction: row;
            gap: 12px;
            padding: 0;
            overflow-x: auto;
          }
          
          .nav-button {
            white-space: nowrap;
            min-width: 120px;
            justify-content: center;
          }
          
          .logout-section {
            border-top: none;
            border-left: 1px solid #E5DCC2;
            padding-top: 0;
            padding-left: 24px;
          }
          
          .logout-button {
            width: auto;
            min-width: 140px;
          }
        }
        
        @media (max-width: 768px) {
          .settings-modal {
            margin: 12px;
            border-radius: 20px;
            max-height: calc(100vh - 24px);
          }
          
          .modal-header {
            padding: 20px;
            flex-direction: column;
            gap: 16px;
            text-align: center;
          }
          
          .settings-main {
            padding: 20px;
          }
          
          .form-grid {
            grid-template-columns: 1fr;
          }
          
          .logo-section {
            flex-direction: column;
            text-align: center;
          }
          
          .info-cards {
            grid-template-columns: 1fr;
          }
          
          .settings-footer {
            padding: 16px 20px;
            flex-direction: column-reverse;
          }
          
          .btn-secondary,
          .btn-primary {
            width: 100%;
            justify-content: center;
          }
        }
        
        @media (max-width: 480px) {
          .settings-sidebar {
            flex-direction: column;
            gap: 16px;
          }
          
          .settings-nav {
            flex-direction: column;
          }
          
          .logout-section {
            border-left: none;
            border-top: 1px solid #E5DCC2;
            padding-left: 0;
            padding-top: 16px;
          }
          
          .backup-actions {
            gap: 8px;
          }
          
          .action-button {
            padding: 12px 16px;
            font-size: 13px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/Sidebar.tsx":
/*!*********************************************!*\
  !*** ./src/renderer/components/Sidebar.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Sidebar: () => (/* binding */ Sidebar)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/home.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/plus.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/file-text.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/pie-chart.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/history.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/settings.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/hard-drive.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/heart.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/bar-chart-3.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/graduation-cap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/briefcase.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/chevron-right.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/chevron-left.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/log-out.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/zap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trending-up.mjs");



const Sidebar = ({ currentView, onNavigate, onLogout, stats, currentUser, currentInstitution }) => {
    const [isCollapsed, setIsCollapsed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const menuItems = [
        {
            id: 'dashboard',
            label: 'Tableau de bord',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"],
            description: 'Vue d\'ensemble et statistiques',
            gradient: 'linear-gradient(135deg, #3E5C49 0%, #2E453A 100%)'
        },
        {
            id: 'documents',
            label: 'Ma Collection',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"],
            description: 'Parcourir tous les documents',
            count: stats.totalDocuments,
            gradient: 'linear-gradient(135deg, #3E5C49 0%, #4A6B57 100%)'
        },
        {
            id: 'borrowed',
            label: 'Emprunts Actifs',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"],
            description: 'Documents actuellement empruntés',
            count: stats.borrowedDocuments,
            badge: stats.borrowedDocuments > 0,
            urgent: stats.overdueDocuments > 0,
            gradient: 'linear-gradient(135deg, #C2571B 0%, #A8481A 100%)'
        }
    ];
    const actionItems = [
        {
            id: 'add-document',
            label: 'Nouveau Document',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"],
            description: 'Ajouter à la collection',
            accent: true,
            gradient: 'linear-gradient(135deg, #C2571B 0%, #E65100 100%)',
            highlight: true
        },
        {
            id: 'borrowers',
            label: 'Gestion Emprunteurs',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"],
            description: 'Gérer les utilisateurs',
            count: stats.totalBorrowers,
            badge: stats.totalBorrowers > 0,
            gradient: 'linear-gradient(135deg, #6E6E6E 0%, #5A5A5A 100%)'
        }
    ];
    const reportItems = [
        {
            id: 'reports',
            label: 'Générer Rapports',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"],
            description: 'Créer et exporter des rapports',
            gradient: 'linear-gradient(135deg, #C2571B 0%, #E65100 100%)',
            highlight: true
        },
        {
            id: 'statistics',
            label: 'Statistiques Avancées',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"],
            description: 'Analyses et insights détaillés',
            gradient: 'linear-gradient(135deg, #3E5C49 0%, #2E453A 100%)',
            highlight: true
        },
        {
            id: 'history',
            label: 'Historique Complet',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"],
            description: 'Tous les emprunts et retours',
            gradient: 'linear-gradient(135deg, #607D8B 0%, #455A64 100%)'
        }
    ];
    const supportItems = [
        {
            id: 'app-settings',
            label: 'Paramètres',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"],
            description: 'Configuration de l\'application',
            gradient: 'linear-gradient(135deg, #6366F1 0%, #4F46E5 100%)'
        },
        ...(currentUser?.role === 'admin' ? [{
                id: 'user-management',
                label: 'Gestion des Utilisateurs',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"],
                description: 'Créer et gérer les comptes de votre institution',
                gradient: 'linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)'
            }] : []),
        {
            id: 'backup-manager',
            label: 'Sauvegardes',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"],
            description: 'Gérer les sauvegardes de données',
            gradient: 'linear-gradient(135deg, #0891B2 0%, #0E7490 100%)'
        },
        {
            id: 'about-support',
            label: 'À propos & Soutien',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"],
            description: 'Projet, développeur & soutien',
            gradient: 'linear-gradient(135deg, #E91E63 0%, #3E5C49 100%)',
            support: true
        }
    ];
    const quickStats = [
        {
            label: 'Collection',
            value: stats.totalDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"],
            color: '#3E5C49',
            trend: '+2 ce mois'
        },
        {
            label: 'Disponibles',
            value: stats.availableDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"],
            color: '#3E5C49',
            percentage: stats.totalDocuments > 0 ? Math.round((stats.availableDocuments / stats.totalDocuments) * 100) : 0
        },
        {
            label: 'Empruntés',
            value: stats.borrowedDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"],
            color: '#C2571B',
            percentage: stats.totalDocuments > 0 ? Math.round((stats.borrowedDocuments / stats.totalDocuments) * 100) : 0
        },
        {
            label: 'En retard',
            value: stats.overdueDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"],
            color: '#DC2626',
            urgent: stats.overdueDocuments > 0
        }
    ];
    const userStats = [
        {
            label: 'Étudiants',
            value: stats.totalStudents,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"],
            color: '#3E5C49'
        },
        {
            label: 'Personnel',
            value: stats.totalStaff,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"],
            color: '#C2571B'
        }
    ];
    const getPopularityScore = () => {
        if (stats.totalDocuments === 0)
            return 0;
        return Math.round((stats.borrowedDocuments / stats.totalDocuments) * 100);
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `sidebar ${isCollapsed ? 'collapsed' : ''}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "sidebar-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "sidebar-toggle", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "toggle-button", onClick: () => setIsCollapsed(!isCollapsed), title: isCollapsed ? 'Développer le menu' : 'Réduire le menu', children: isCollapsed ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 18 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 18 }) }) }), !isCollapsed && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "sidebar-brand", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "brand-logo", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "brand-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "brand-title", children: "Biblioth\u00E8que" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "brand-subtitle", children: "Syst\u00E8me de gestion moderne" })] })] }))] }), currentUser && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "user-profile-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-profile", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "user-avatar", onClick: () => onNavigate('user-profile'), title: "Voir le profil utilisateur", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "avatar-text", children: currentUser.firstName?.charAt(0)?.toUpperCase() || currentUser.email?.charAt(0)?.toUpperCase() || 'U' }) }), !isCollapsed && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "user-name", children: currentUser.firstName ? `${currentUser.firstName} ${currentUser.lastName || ''}`.trim() : currentUser.email }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "user-role", children: currentUser.role || 'Utilisateur' }), currentInstitution && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "user-institution", children: currentInstitution.name }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "user-settings-btn", onClick: () => onNavigate('user-profile'), title: "Modifier le profil", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 16 }) }), onLogout && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "user-logout-btn", onClick: onLogout, title: "Se d\u00E9connecter", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_20__["default"], { size: 16 }) }))] })] }))] }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "sidebar-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("nav", { className: "sidebar-nav", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nav-section", children: [!isCollapsed && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "nav-title", children: "Principal" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul", { className: "nav-list", children: menuItems.map((item) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { className: "nav-item", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `nav-button ${currentView === item.id ? 'active' : ''} ${item.accent ? 'accent' : ''} ${item.urgent ? 'urgent' : ''} ${item.highlight ? 'highlight' : ''}`, onClick: () => onNavigate(item.id), title: isCollapsed ? item.label : '', style: {
                                                    '--item-gradient': item.gradient
                                                }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "nav-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(item.icon, { size: 20 }) }), !isCollapsed && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nav-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "nav-label", children: item.label }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "nav-description", children: item.description })] }), item.count !== undefined && item.count > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `nav-count ${item.badge ? 'badge' : ''} ${item.urgent ? 'urgent' : ''}`, children: item.count })), item.highlight && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "nav-highlight", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_21__["default"], { size: 14 }) }))] })), isCollapsed && item.badge && stats.borrowedDocuments > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `nav-indicator ${item.urgent ? 'urgent' : ''}` }))] }) }, item.id))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nav-section", children: [!isCollapsed && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "nav-title", children: "Actions" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul", { className: "nav-list", children: actionItems.map((item) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { className: "nav-item", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `nav-button ${currentView === item.id ? 'active' : ''} ${item.accent ? 'accent' : ''} ${item.highlight ? 'highlight' : ''}`, onClick: () => onNavigate(item.id), title: isCollapsed ? item.label : '', style: {
                                                    '--item-gradient': item.gradient
                                                }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "nav-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(item.icon, { size: 20 }) }), !isCollapsed && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nav-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "nav-label", children: item.label }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "nav-description", children: item.description })] }), item.count !== undefined && item.count > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `nav-count ${item.badge ? 'badge' : ''}`, children: item.count })), item.highlight && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "nav-highlight", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_21__["default"], { size: 14 }) }))] }))] }) }, item.id))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nav-section", children: [!isCollapsed && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "nav-title", children: "Rapports" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul", { className: "nav-list", children: reportItems.map((item) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { className: "nav-item", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `nav-button ${currentView === item.id ? 'active' : ''}`, onClick: () => onNavigate(item.id), title: isCollapsed ? item.label : '', style: {
                                                    '--item-gradient': item.gradient
                                                }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "nav-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(item.icon, { size: 20 }) }), !isCollapsed && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nav-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "nav-label", children: item.label }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "nav-description", children: item.description })] }))] }) }, item.id))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nav-section", children: [!isCollapsed && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "nav-title", children: "Communaut\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul", { className: "nav-list", children: supportItems.map((item) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { className: "nav-item", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `nav-button ${currentView === item.id ? 'active' : ''} ${item.support ? 'support' : ''}`, onClick: () => onNavigate(item.id), title: isCollapsed ? item.label : '', style: {
                                                    '--item-gradient': item.gradient
                                                }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "nav-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(item.icon, { size: 20 }) }), !isCollapsed && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nav-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "nav-label", children: item.label }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "nav-description", children: item.description })] }))] }) }, item.id))) })] })] }), !isCollapsed && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stats-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stats-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "stats-title", children: "Statistiques de collection" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "popularity-score", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_22__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: [getPopularityScore(), "% popularit\u00E9"] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stats-grid", children: quickStats.map((stat, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `stat-card ${stat.urgent ? 'urgent' : ''}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon", style: { color: stat.color }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(stat.icon, { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-value", children: stat.value }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-label", children: stat.label }), stat.trend && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-trend", children: stat.trend })), stat.percentage !== undefined && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-percentage", children: [stat.percentage, "%"] }))] })] }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stats-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "stats-title", children: "Utilisateurs" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "users-stats", children: userStats.map((stat, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-stat", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "user-stat-icon", style: { color: stat.color }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(stat.icon, { size: 18 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "user-stat-value", children: stat.value }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "user-stat-label", children: stat.label })] })] }, index))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "total-users", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "total-label", children: "Total des utilisateurs" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "total-value", children: stats.totalBorrowers })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "stats-title", children: "Activit\u00E9 r\u00E9cente" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-pulse" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-summary", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-dot available" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: [stats.availableDocuments, " documents pr\u00EAts \u00E0 emprunter"] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-dot borrowed" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: [stats.borrowedDocuments, " emprunts en cours"] })] }), stats.overdueDocuments > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-item urgent", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-dot overdue" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: [stats.overdueDocuments, " document(s) en retard"] })] }))] })] })] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .sidebar {
          width: 300px;
          background: linear-gradient(180deg, #3E5C49 0%, #2E453A 100%);
          display: flex;
          flex-direction: column;
          position: relative;
          transition: width 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          border-right: 1px solid rgba(46, 69, 58, 0.3);
          box-shadow: 4px 0 16px rgba(62, 92, 73, 0.1);
        }
        
        .sidebar.collapsed {
          width: 72px;
        }
        
        .sidebar::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: 
            radial-gradient(circle at 20% 80%, rgba(243, 238, 217, 0.03) 0%, transparent 50%),
            radial-gradient(circle at 80% 20%, rgba(194, 87, 27, 0.02) 0%, transparent 50%);
          pointer-events: none;
        }
        
        .sidebar-header {
          padding: 24px 20px;
          border-bottom: 1px solid rgba(243, 238, 217, 0.1);
          position: relative;
          z-index: 1;
          width: 100%;
          box-sizing: border-box;
          display: block;
        }
        
        .collapsed .sidebar-header {
          padding: 16px 12px;
        }
        
        .sidebar-toggle {
          display: flex;
          justify-content: flex-end;
          margin-bottom: 16px;
          position: relative;
          z-index: 20;
        }
        
        .collapsed .sidebar-toggle {
          justify-content: center;
          margin-bottom: 20px;
        }
        
        .toggle-button {
          width: 40px;
          height: 40px;
          border: none;
          background: rgba(243, 238, 217, 0.15);
          color: #F3EED9;
          border-radius: 12px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          backdrop-filter: blur(10px);
          border: 1px solid rgba(243, 238, 217, 0.3);
          position: relative;
          z-index: 10;
          opacity: 1;
          visibility: visible;
        }
        
        .toggle-button:hover {
          background: rgba(243, 238, 217, 0.25);
          transform: scale(1.05);
          border: 1px solid rgba(243, 238, 217, 0.4);
        }
        
        .toggle-button svg {
          display: block;
          flex-shrink: 0;
        }
        
        .sidebar-brand {
          display: flex;
          align-items: center;
          gap: 16px;
          opacity: 1;
          transition: opacity 0.2s ease;
        }
        
        .collapsed .sidebar-brand {
          opacity: 0;
          pointer-events: none;
        }
        
        .brand-logo {
          width: 48px;
          height: 48px;
          background: rgba(243, 238, 217, 0.15);
          border-radius: 14px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          border: 1px solid rgba(243, 238, 217, 0.2);
        }
        
        .brand-title {
          font-size: 20px;
          font-weight: 800;
          color: #F3EED9;
          margin: 0 0 4px 0;
          letter-spacing: -0.3px;
        }
        
        .brand-subtitle {
          font-size: 13px;
          color: rgba(243, 238, 217, 0.7);
          margin: 0;
          line-height: 1.3;
        }
        
        .sidebar-content {
          flex: 1;
          overflow-y: auto;
          padding: 8px 20px 20px;
          position: relative;
          z-index: 1;
        }
        
        .collapsed .sidebar-content {
          padding: 8px 12px 20px;
        }
        
        .nav-section {
          margin-bottom: 32px;
        }
        
        .nav-title {
          font-size: 11px;
          font-weight: 700;
          text-transform: uppercase;
          letter-spacing: 1px;
          color: rgba(243, 238, 217, 0.6);
          margin-bottom: 16px;
          margin-top: 0;
          padding: 0 4px;
        }
        
        .nav-list {
          list-style: none;
          padding: 0;
          margin: 0;
          display: flex;
          flex-direction: column;
          gap: 8px;
        }
        
        .nav-item {
          width: 100%;
        }
        
        .nav-button {
          width: 100%;
          display: flex;
          align-items: center;
          gap: 16px;
          padding: 16px;
          border: none;
          background: transparent;
          color: #F3EED9;
          cursor: pointer;
          border-radius: 16px;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          font-size: 14px;
          position: relative;
          text-align: left;
          overflow: hidden;
          border: 1px solid transparent;
        }
        
        .collapsed .nav-button {
          justify-content: center;
          padding: 16px 12px;
        }
        
        .nav-button::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(243, 238, 217, 0.08);
          border-radius: 16px;
          transform: scaleX(0);
          transform-origin: left;
          transition: transform 0.3s ease;
        }
        
        .nav-button:hover::before {
          transform: scaleX(1);
        }
        
        .nav-button:hover {
          color: #FFFFFF;
          transform: translateX(4px);
          border-color: rgba(243, 238, 217, 0.2);
        }
        
        .collapsed .nav-button:hover {
          transform: scale(1.05);
        }
        
        .nav-button.active {
          background: var(--item-gradient, rgba(243, 238, 217, 0.15));
          color: #FFFFFF;
          box-shadow: 
            0 8px 24px rgba(0, 0, 0, 0.15),
            0 4px 12px rgba(62, 92, 73, 0.2);
          border-color: rgba(243, 238, 217, 0.3);
        }
        
        .nav-button.active::before {
          transform: scaleX(1);
          background: rgba(243, 238, 217, 0.1);
        }
        
        .nav-button.highlight {
          background: var(--item-gradient);
          animation: pulse-highlight 3s ease-in-out infinite;
        }
        
        .nav-button.highlight:hover {
          background: linear-gradient(135deg, #A8481A 0%, #D84315 100%);
          transform: translateX(4px) translateY(-2px);
          box-shadow: 0 12px 32px rgba(194, 87, 27, 0.4);
        }
        
        .nav-button.support {
          position: relative;
        }
        
        .nav-button.support::after {
          content: '♥';
          position: absolute;
          top: 8px;
          right: 8px;
          font-size: 12px;
          color: #E91E63;
          animation: heartbeat 2s ease-in-out infinite;
        }
        
        @keyframes heartbeat {
          0%, 100% {
            transform: scale(1);
            opacity: 0.8;
          }
          50% {
            transform: scale(1.2);
            opacity: 1;
          }
        }
        
        @keyframes pulse-highlight {
          0%, 100% {
            box-shadow: 0 4px 16px rgba(194, 87, 27, 0.3);
          }
          50% {
            box-shadow: 0 8px 24px rgba(194, 87, 27, 0.5);
          }
        }
        
        .nav-button.urgent {
          position: relative;
        }
        
        .nav-button.urgent::after {
          content: '';
          position: absolute;
          top: 12px;
          right: 12px;
          width: 8px;
          height: 8px;
          background: #DC2626;
          border-radius: 50%;
          animation: pulse-urgent 2s infinite;
        }
        
        @keyframes pulse-urgent {
          0%, 100% {
            opacity: 1;
            transform: scale(1);
          }
          50% {
            opacity: 0.7;
            transform: scale(1.2);
          }
        }
        
        .nav-icon {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 24px;
          height: 24px;
          flex-shrink: 0;
          position: relative;
          z-index: 1;
        }
        
        .nav-content {
          flex: 1;
          display: flex;
          flex-direction: column;
          min-width: 0;
          position: relative;
          z-index: 1;
        }
        
        .nav-label {
          font-weight: 700;
          line-height: 1.2;
          margin-bottom: 3px;
          font-size: 15px;
        }
        
        .nav-description {
          font-size: 12px;
          opacity: 0.8;
          line-height: 1.2;
        }
        
        .nav-count {
          background: rgba(243, 238, 217, 0.2);
          color: #F3EED9;
          font-size: 12px;
          font-weight: 700;
          padding: 4px 8px;
          border-radius: 10px;
          min-width: 20px;
          text-align: center;
          flex-shrink: 0;
          position: relative;
          z-index: 1;
          border: 1px solid rgba(243, 238, 217, 0.3);
        }
        
        .nav-count.badge {
          background: #C2571B;
          color: #FFFFFF;
          animation: pulse-badge 2s infinite;
          border-color: rgba(255, 255, 255, 0.3);
        }
        
        .nav-count.urgent {
          background: #DC2626;
          color: #FFFFFF;
          animation: pulse-urgent 1.5s infinite;
          border-color: rgba(255, 255, 255, 0.3);
        }
        
        @keyframes pulse-badge {
          0%, 100% {
            opacity: 1;
            transform: scale(1);
          }
          50% {
            opacity: 0.8;
            transform: scale(1.05);
          }
        }
        
        .nav-highlight {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 28px;
          height: 28px;
          background: rgba(255, 255, 255, 0.2);
          border-radius: 50%;
          color: #F3EED9;
          animation: sparkle 2s ease-in-out infinite;
        }
        
        @keyframes sparkle {
          0%, 100% {
            opacity: 0.7;
            transform: rotate(0deg) scale(1);
          }
          50% {
            opacity: 1;
            transform: rotate(180deg) scale(1.1);
          }
        }
        
        .nav-indicator {
          width: 10px;
          height: 10px;
          background: #C2571B;
          border-radius: 50%;
          position: absolute;
          top: 12px;
          right: 12px;
          animation: pulse-badge 2s infinite;
          border: 2px solid rgba(243, 238, 217, 0.3);
        }
        
        .nav-indicator.urgent {
          background: #DC2626;
          animation: pulse-urgent 1.5s infinite;
        }
        
        .stats-section {
          margin-bottom: 24px;
          padding-top: 20px;
          border-top: 1px solid rgba(243, 238, 217, 0.1);
          position: relative;
          isolation: isolate;
        }
        
        .stats-section:first-of-type {
          border-top: none;
          padding-top: 0;
        }
        
        .stats-header {
          display: flex !important;
          align-items: center !important;
          justify-content: space-between !important;
          margin-bottom: 16px !important;
          position: relative !important;
          z-index: 10 !important;
        }
        
        .stats-title {
          font-size: 11px !important;
          font-weight: 700 !important;
          text-transform: uppercase !important;
          letter-spacing: 1px !important;
          color: rgba(243, 238, 217, 0.6) !important;
          margin: 0 !important;
          font-family: inherit !important;
        }
        
        .popularity-score {
          display: flex;
          align-items: center;
          gap: 4px;
          font-size: 10px;
          color: rgba(243, 238, 217, 0.8);
          font-weight: 600;
        }
        
        .stats-grid {
          display: grid !important;
          grid-template-columns: 1fr 1fr !important;
          grid-template-rows: auto auto !important;
          gap: 12px !important;
          width: 100% !important;
          max-width: none !important;
        }
        
        .stat-card {
          background: rgba(243, 238, 217, 0.08) !important;
          border-radius: 12px !important;
          padding: 14px 12px !important;
          display: flex !important;
          align-items: center !important;
          gap: 12px !important;
          transition: all 0.2s ease !important;
          border: 1px solid rgba(243, 238, 217, 0.1) !important;
          position: relative !important;
          overflow: hidden !important;
          isolation: isolate !important;
          min-height: 60px !important;
          width: 100% !important;
          box-sizing: border-box !important;
        }
        
        .stat-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, rgba(243, 238, 217, 0.05) 0%, transparent 100%);
          opacity: 0;
          transition: opacity 0.2s ease;
        }
        
        .stat-card:hover {
          background: rgba(243, 238, 217, 0.12);
          transform: translateY(-1px);
        }
        
        .stat-card:hover::before {
          opacity: 1;
        }
        
        .stat-card.urgent {
          background: rgba(220, 38, 38, 0.15);
          border-color: rgba(220, 38, 38, 0.3);
          animation: pulse-card 3s ease-in-out infinite;
        }
        
        @keyframes pulse-card {
          0%, 100% {
            background: rgba(220, 38, 38, 0.15);
          }
          50% {
            background: rgba(220, 38, 38, 0.2);
          }
        }
        
        .stat-icon {
          opacity: 0.9;
          flex-shrink: 0;
        }
        
        .stat-content {
          flex: 1;
          min-width: 0;
        }
        
        .stat-value {
          font-size: 18px !important;
          font-weight: 800 !important;
          line-height: 1.2 !important;
          color: #F3EED9 !important;
          margin-bottom: 2px !important;
          font-family: inherit !important;
        }
        
        .stat-label {
          font-size: 10px !important;
          color: rgba(243, 238, 217, 0.7) !important;
          line-height: 1.2 !important;
          text-transform: uppercase !important;
          letter-spacing: 0.5px !important;
          font-weight: 600 !important;
          font-family: inherit !important;
        }
        
        .stat-trend {
          font-size: 9px;
          color: #4CAF50;
          font-weight: 600;
          margin-top: 2px;
        }
        
        .stat-percentage {
          font-size: 9px;
          color: rgba(243, 238, 217, 0.8);
          font-weight: 600;
          margin-top: 2px;
        }
        
        .users-stats {
          display: flex;
          flex-direction: column;
          gap: 12px;
          margin-bottom: 16px;
        }
        
        .user-stat {
          display: flex;
          align-items: center;
          gap: 12px;
          background: rgba(243, 238, 217, 0.06);
          border-radius: 10px;
          padding: 12px;
          border: 1px solid rgba(243, 238, 217, 0.1);
        }
        
        .user-stat-icon {
          opacity: 0.9;
        }
        
        .user-stat-content {
          flex: 1;
        }
        
        .user-stat-value {
          font-size: 16px;
          font-weight: 700;
          color: #F3EED9;
          line-height: 1.2;
        }
        
        .user-stat-label {
          font-size: 11px;
          color: rgba(243, 238, 217, 0.7);
          font-weight: 500;
        }
        
        .total-users {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 12px 16px;
          background: rgba(243, 238, 217, 0.1);
          border-radius: 12px;
          border: 1px solid rgba(243, 238, 217, 0.2);
        }
        
        .total-label {
          font-size: 12px;
          color: rgba(243, 238, 217, 0.8);
          font-weight: 600;
        }
        
        .total-value {
          font-size: 16px;
          font-weight: 800;
          color: #F3EED9;
        }
        
        .activity-section {
          margin-top: auto;
        }
        
        .activity-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 16px;
        }
        
        .activity-pulse {
          width: 8px;
          height: 8px;
          background: #4CAF50;
          border-radius: 50%;
          animation: pulse-activity 2s ease-in-out infinite;
        }
        
        @keyframes pulse-activity {
          0%, 100% {
            opacity: 1;
            transform: scale(1);
          }
          50% {
            opacity: 0.6;
            transform: scale(1.3);
          }
        }
        
        .activity-summary {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }
        
        .activity-item {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 11px;
          color: rgba(243, 238, 217, 0.8);
          line-height: 1.3;
        }
        
        .activity-item.urgent {
          color: #FFCDD2;
        }
        
        .activity-dot {
          width: 6px;
          height: 6px;
          border-radius: 50%;
          flex-shrink: 0;
        }
        
        .activity-dot.available {
          background: #4CAF50;
        }
        
        .activity-dot.borrowed {
          background: #FF9800;
        }
        
        .activity-dot.overdue {
          background: #F44336;
          animation: pulse-urgent 1.5s infinite;
        }
        
        /* Enhanced scrollbar */
        .sidebar-content::-webkit-scrollbar {
          width: 4px;
        }
        
        .sidebar-content::-webkit-scrollbar-track {
          background: rgba(243, 238, 217, 0.1);
          border-radius: 2px;
        }
        
        .sidebar-content::-webkit-scrollbar-thumb {
          background: rgba(243, 238, 217, 0.3);
          border-radius: 2px;
        }
        
        .sidebar-content::-webkit-scrollbar-thumb:hover {
          background: rgba(243, 238, 217, 0.5);
        }
        
        /* Force consistent 2x2 grid layout for statistics */
        @media (min-width: 769px) {
          .stats-grid {
            display: grid !important;
            grid-template-columns: 1fr 1fr !important;
            grid-template-rows: auto auto !important;
            grid-auto-rows: auto !important;
            gap: 12px !important;
            align-items: stretch !important;
          }
          
          .stat-card {
            min-height: 60px !important;
            max-height: none !important;
            flex: none !important;
          }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
          .sidebar {
            width: 100%;
            height: auto;
            flex-direction: row;
            border-right: none;
            border-bottom: 1px solid rgba(46, 69, 58, 0.3);
            overflow-x: auto;
            background: linear-gradient(90deg, #3E5C49 0%, #2E453A 100%);
          }
          
          .sidebar.collapsed {
            width: 100%;
          }
          
          .sidebar-header {
            padding: 12px 16px;
            border-bottom: 1px solid rgba(243, 238, 217, 0.1);
          }
          
          .sidebar-toggle {
            justify-content: center;
          }
          
          .sidebar-content {
            flex: 1;
            padding: 16px 20px;
            overflow-x: auto;
            display: flex;
            gap: 20px;
            overflow-y: visible;
          }
          
          .nav-section {
            margin-bottom: 0;
            flex-shrink: 0;
          }
          
          .nav-list {
            flex-direction: row;
            gap: 12px;
          }
          
          .nav-button {
            flex-direction: column;
            gap: 6px;
            padding: 12px 16px;
            min-width: 80px;
            white-space: nowrap;
            border-radius: 12px;
          }
          
          .nav-content {
            align-items: center;
            text-align: center;
          }
          
          .nav-label {
            font-size: 12px;
          }
          
          .nav-description {
            display: none;
          }
          
          .nav-count {
            position: absolute;
            top: 8px;
            right: 8px;
            font-size: 10px;
            padding: 2px 6px;
            min-width: 16px;
          }
          
          .stats-section,
          .activity-section {
            display: none;
          }
        }
        
        @media (max-width: 480px) {
          .sidebar-content {
            padding: 12px 16px;
            gap: 16px;
          }
          
          .nav-button {
            min-width: 70px;
            padding: 10px 12px;
          }
          
          .nav-label {
            font-size: 11px;
          }
          
          .nav-count {
            font-size: 9px;
            padding: 1px 4px;
          }
        }
        
        /* Performance optimizations */
        .nav-button {
          contain: layout style paint;
        }
        
        .stat-card {
          contain: layout style paint;
        }
        
        /* Accessibility improvements */
        @media (prefers-reduced-motion: reduce) {
          .nav-button,
          .stat-card,
          .toggle-button,
          .activity-pulse,
          .nav-highlight {
            transition: none;
            animation: none;
          }
          
          .nav-button:hover {
            transform: none;
          }
        }
        
        /* High contrast mode */
        @media (prefers-contrast: high) {
          .nav-button {
            border: 2px solid rgba(243, 238, 217, 0.5);
          }
          
          .nav-button.active {
            border-color: #F3EED9;
          }
          
          .stat-card {
            border-width: 2px;
          }
        }
      ` }), !isCollapsed && stats.overdueDocuments > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "emergency-alert", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "alert-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "alert-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "alert-title", children: "Action requise" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "alert-message", children: [stats.overdueDocuments, " document(s) en retard"] })] })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .emergency-alert {
          margin: 16px 20px;
          background: linear-gradient(135deg, #DC2626 0%, #B91C1C 100%);
          color: #FFFFFF;
          padding: 16px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          gap: 12px;
          animation: pulse-alert 3s ease-in-out infinite;
          border: 1px solid rgba(255, 255, 255, 0.2);
          box-shadow: 0 4px 16px rgba(220, 38, 38, 0.3);
        }
        
        @keyframes pulse-alert {
          0%, 100% {
            box-shadow: 0 4px 16px rgba(220, 38, 38, 0.3);
          }
          50% {
            box-shadow: 0 8px 24px rgba(220, 38, 38, 0.5);
          }
        }
        
        .alert-icon {
          width: 32px;
          height: 32px;
          background: rgba(255, 255, 255, 0.2);
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }
        
        .alert-content {
          flex: 1;
        }
        
        .alert-title {
          font-size: 12px;
          font-weight: 700;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          margin-bottom: 2px;
          opacity: 0.9;
        }
        
        .alert-message {
          font-size: 13px;
          font-weight: 600;
          line-height: 1.3;
        }

        /* User Profile Section */
        .user-profile-section {
          padding: 16px 20px;
          border-bottom: 1px solid rgba(243, 238, 217, 0.1);
          position: relative;
          z-index: 1;
        }

        .user-profile {
          display: flex;
          align-items: center;
          gap: 12px;
          background: rgba(243, 238, 217, 0.08);
          border-radius: 12px;
          padding: 12px;
          border: 1px solid rgba(243, 238, 217, 0.15);
          transition: all 0.2s ease;
        }

        .user-profile:hover {
          background: rgba(243, 238, 217, 0.12);
          border-color: rgba(243, 238, 217, 0.25);
        }

        .user-avatar {
          width: 36px;
          height: 36px;
          border-radius: 10px;
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
          box-shadow: 0 4px 12px rgba(194, 87, 27, 0.3);
          cursor: pointer;
          transition: all 0.2s ease;
          border: 2px solid transparent;
        }

        .user-avatar:hover {
          border-color: rgba(243, 238, 217, 0.3);
          transform: scale(1.05);
          box-shadow: 0 6px 16px rgba(194, 87, 27, 0.4);
        }

        .avatar-text {
          color: #F3EED9;
          font-weight: 700;
          font-size: 14px;
          text-transform: uppercase;
        }

        .user-info {
          flex: 1;
          min-width: 0;
        }

        .user-name {
          font-size: 14px;
          font-weight: 600;
          color: #F3EED9;
          margin-bottom: 2px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .user-role {
          font-size: 11px;
          color: rgba(243, 238, 217, 0.7);
          font-weight: 500;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          margin-bottom: 2px;
        }

        .user-institution {
          font-size: 10px;
          color: rgba(243, 238, 217, 0.6);
          font-weight: 500;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .user-actions {
          display: flex;
          gap: 8px;
          flex-shrink: 0;
        }

        .user-settings-btn,
        .user-logout-btn {
          width: 30px;
          height: 30px;
          border: 1px solid rgba(243, 238, 217, 0.2);
          background: rgba(243, 238, 217, 0.15);
          color: #F3EED9;
          border-radius: 8px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          flex-shrink: 0;
        }

        .user-settings-btn:hover {
          background: rgba(243, 238, 217, 0.25);
          border-color: rgba(243, 238, 217, 0.4);
          color: #F3EED9;
          transform: scale(1.05);
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .user-logout-btn:hover {
          background: rgba(220, 38, 38, 0.2);
          border-color: rgba(220, 38, 38, 0.4);
          color: #FFB3B3;
          transform: scale(1.05);
          box-shadow: 0 2px 8px rgba(220, 38, 38, 0.2);
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/SmartSearch.tsx":
/*!*************************************************!*\
  !*** ./src/renderer/components/SmartSearch.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SmartSearch: () => (/* binding */ SmartSearch)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/tag.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/star.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trending-up.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/zap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/search.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/filter.mjs");



const SmartSearch = ({ onSearch, data = [], placeholder = "Rechercher dans la bibliothèque...", className = "" }) => {
    const [query, setQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [isExpanded, setIsExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [showFilters, setShowFilters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [filters, setFilters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({ type: 'all' });
    const [suggestions, setSuggestions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [selectedSuggestion, setSelectedSuggestion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1);
    const [recentSearches, setRecentSearches] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const searchRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    // Generate smart suggestions based on query
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        if (query.length === 0) {
            setSuggestions(generateQuickActions());
            return;
        }
        if (query.length < 2) {
            setSuggestions([]);
            return;
        }
        const newSuggestions = [];
        // Search in documents
        const documentMatches = data.filter(item => item.titre?.toLowerCase().includes(query.toLowerCase()) ||
            item.auteur?.toLowerCase().includes(query.toLowerCase())).slice(0, 3);
        documentMatches.forEach(doc => {
            newSuggestions.push({
                id: `doc-${doc.id}`,
                text: doc.titre,
                type: 'document',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"],
                description: `par ${doc.auteur} • ${doc.descripteurs}`
            });
        });
        // Add category suggestions
        const categoryMatches = ['Fiction', 'Sciences', 'Histoire', 'Philosophie', 'Art']
            .filter(cat => cat.toLowerCase().includes(query.toLowerCase()))
            .slice(0, 2);
        categoryMatches.forEach(cat => {
            newSuggestions.push({
                id: `cat-${cat}`,
                text: cat,
                type: 'category',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"],
                description: 'Catégorie'
            });
        });
        // Add author suggestions
        const authorMatches = Array.from(new Set(data.map(item => item.auteur)))
            .filter(author => author?.toLowerCase().includes(query.toLowerCase()))
            .slice(0, 2);
        authorMatches.forEach(author => {
            newSuggestions.push({
                id: `author-${author}`,
                text: author,
                type: 'author',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"],
                description: 'Auteur'
            });
        });
        setSuggestions(newSuggestions);
    }, [query, data]);
    const generateQuickActions = () => [
        {
            id: 'quick-available',
            text: 'Documents disponibles',
            type: 'quick-action',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"],
            description: 'Voir tous les livres disponibles',
            action: () => handleQuickSearch('status:available')
        },
        {
            id: 'quick-recent',
            text: 'Ajouts récents',
            type: 'quick-action',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"],
            description: 'Documents ajoutés récemment',
            action: () => handleQuickSearch('recent')
        },
        {
            id: 'quick-popular',
            text: 'Plus empruntés',
            type: 'quick-action',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"],
            description: 'Les livres les plus populaires',
            action: () => handleQuickSearch('popular')
        },
        {
            id: 'quick-overdue',
            text: 'Retards',
            type: 'quick-action',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"],
            description: 'Documents en retard',
            action: () => handleQuickSearch('status:overdue')
        }
    ];
    const handleQuickSearch = (searchType) => {
        setQuery(searchType);
        handleSearch(searchType);
        setIsExpanded(false);
    };
    const handleSearch = (searchQuery = query) => {
        if (searchQuery.trim()) {
            // Add to recent searches
            const newRecentSearches = [
                searchQuery,
                ...recentSearches.filter(s => s !== searchQuery)
            ].slice(0, 5);
            setRecentSearches(newRecentSearches);
        }
        onSearch(searchQuery, filters);
    };
    const handleSuggestionClick = (suggestion) => {
        if (suggestion.action) {
            suggestion.action();
        }
        else {
            setQuery(suggestion.text);
            handleSearch(suggestion.text);
        }
        setIsExpanded(false);
    };
    const handleKeyDown = (e) => {
        if (!isExpanded)
            return;
        switch (e.key) {
            case 'ArrowDown':
                e.preventDefault();
                setSelectedSuggestion(prev => prev < suggestions.length - 1 ? prev + 1 : prev);
                break;
            case 'ArrowUp':
                e.preventDefault();
                setSelectedSuggestion(prev => prev > 0 ? prev - 1 : -1);
                break;
            case 'Enter':
                e.preventDefault();
                if (selectedSuggestion >= 0) {
                    handleSuggestionClick(suggestions[selectedSuggestion]);
                }
                else {
                    handleSearch();
                    setIsExpanded(false);
                }
                break;
            case 'Escape':
                setIsExpanded(false);
                setSelectedSuggestion(-1);
                break;
        }
    };
    const clearSearch = () => {
        setQuery('');
        setSuggestions(generateQuickActions());
        inputRef.current?.focus();
    };
    // Click outside handler
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        const handleClickOutside = (event) => {
            if (searchRef.current && !searchRef.current.contains(event.target)) {
                setIsExpanded(false);
                setSelectedSuggestion(-1);
            }
        };
        document.addEventListener('mousedown', handleClickOutside);
        return () => document.removeEventListener('mousedown', handleClickOutside);
    }, []);
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `smart-search ${isExpanded ? 'expanded' : ''} ${className}`, ref: searchRef, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "search-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "search-input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { className: "search-icon", size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { ref: inputRef, type: "text", value: query, onChange: (e) => setQuery(e.target.value), onFocus: () => setIsExpanded(true), onKeyDown: handleKeyDown, placeholder: placeholder, className: "search-input" }), query && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "clear-button", onClick: clearSearch, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16 }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: `filter-button ${showFilters ? 'active' : ''}`, onClick: () => setShowFilters(!showFilters), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 18 }) })] }), showFilters && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filters-panel", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Type:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: filters.type, onChange: (e) => setFilters(prev => ({
                                            ...prev,
                                            type: e.target.value
                                        })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tout" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "documents", children: "Documents" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "borrowers", children: "Emprunteurs" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "history", children: "Historique" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Statut:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: filters.status || '', onChange: (e) => setFilters(prev => ({
                                            ...prev,
                                            status: e.target.value || undefined
                                        })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "", children: "Tous" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "available", children: "Disponible" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "borrowed", children: "Emprunt\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "overdue", children: "En retard" })] })] })] })), isExpanded && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "suggestions-panel", children: [suggestions.length > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "suggestions-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "suggestions-header", children: query ? 'Suggestions' : 'Actions rapides' }), suggestions.map((suggestion, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `suggestion-item ${index === selectedSuggestion ? 'selected' : ''}`, onClick: () => handleSuggestionClick(suggestion), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "suggestion-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(suggestion.icon, { size: 18 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "suggestion-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "suggestion-text", children: suggestion.text }), suggestion.description && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "suggestion-description", children: suggestion.description }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "suggestion-type", children: suggestion.type })] }, suggestion.id)))] })), recentSearches.length > 0 && !query && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "suggestions-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "suggestions-header", children: "Recherches r\u00E9centes" }), recentSearches.map((search, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "suggestion-item recent", onClick: () => {
                                            setQuery(search);
                                            handleSearch(search);
                                            setIsExpanded(false);
                                        }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "suggestion-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "suggestion-content", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "suggestion-text", children: search }) })] }, index)))] }))] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .smart-search {
          position: relative;
          width: 100%;
          max-width: 600px;
          margin: 0 auto;
        }

        .search-container {
          position: relative;
          background: rgba(255, 255, 255, 0.95);
          border-radius: 16px;
          border: 1px solid rgba(229, 220, 194, 0.4);
          backdrop-filter: blur(10px);
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          overflow: hidden;
        }

        .smart-search.expanded .search-container {
          box-shadow: 
            0 20px 40px rgba(62, 92, 73, 0.15),
            0 8px 16px rgba(62, 92, 73, 0.08);
          border-color: #3E5C49;
        }

        .search-input-wrapper {
          display: flex;
          align-items: center;
          padding: 16px 20px;
          gap: 12px;
        }

        .search-icon {
          color: #6B7280;
          transition: color 0.2s ease;
        }

        .smart-search.expanded .search-icon {
          color: #3E5C49;
        }

        .search-input {
          flex: 1;
          border: none;
          outline: none;
          background: transparent;
          font-size: 16px;
          color: #1F2937;
          font-weight: 500;
        }

        .search-input::placeholder {
          color: #9CA3AF;
        }

        .clear-button, .filter-button {
          padding: 8px;
          border: none;
          background: rgba(107, 114, 128, 0.1);
          border-radius: 8px;
          color: #6B7280;
          cursor: pointer;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .clear-button:hover, .filter-button:hover {
          background: rgba(107, 114, 128, 0.2);
          color: #374151;
        }

        .filter-button.active {
          background: #3E5C49;
          color: white;
        }

        .filters-panel {
          padding: 16px 20px;
          border-top: 1px solid rgba(229, 220, 194, 0.4);
          background: rgba(248, 246, 240, 0.5);
          display: flex;
          gap: 20px;
          flex-wrap: wrap;
        }

        .filter-row {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .filter-row label {
          font-size: 14px;
          font-weight: 600;
          color: #374151;
          min-width: 60px;
        }

        .filter-row select {
          padding: 6px 12px;
          border: 1px solid rgba(229, 220, 194, 0.6);
          border-radius: 8px;
          background: white;
          font-size: 14px;
          color: #374151;
          outline: none;
          transition: border-color 0.2s ease;
        }

        .filter-row select:focus {
          border-color: #3E5C49;
        }

        .suggestions-panel {
          border-top: 1px solid rgba(229, 220, 194, 0.4);
          max-height: 400px;
          overflow-y: auto;
        }

        .suggestions-section {
          padding: 8px 0;
        }

        .suggestions-header {
          padding: 12px 20px 8px;
          font-size: 12px;
          font-weight: 700;
          color: #6B7280;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .suggestion-item {
          display: flex;
          align-items: center;
          padding: 12px 20px;
          cursor: pointer;
          transition: all 0.2s ease;
          gap: 12px;
        }

        .suggestion-item:hover,
        .suggestion-item.selected {
          background: rgba(62, 92, 73, 0.08);
        }

        .suggestion-item.recent {
          opacity: 0.8;
        }

        .suggestion-icon {
          width: 36px;
          height: 36px;
          background: rgba(62, 92, 73, 0.1);
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #3E5C49;
          flex-shrink: 0;
        }

        .suggestion-content {
          flex: 1;
        }

        .suggestion-text {
          font-size: 15px;
          font-weight: 600;
          color: #1F2937;
          margin-bottom: 2px;
        }

        .suggestion-description {
          font-size: 13px;
          color: #6B7280;
        }

        .suggestion-type {
          font-size: 11px;
          color: #9CA3AF;
          text-transform: uppercase;
          font-weight: 600;
          letter-spacing: 0.5px;
          background: rgba(156, 163, 175, 0.1);
          padding: 4px 8px;
          border-radius: 6px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
          .search-input-wrapper {
            padding: 14px 16px;
          }

          .search-input {
            font-size: 16px; /* Prevents zoom on iOS */
          }

          .filters-panel {
            flex-direction: column;
            gap: 12px;
          }

          .filter-row {
            justify-content: space-between;
          }

          .filter-row label {
            min-width: auto;
          }
        }

        /* High contrast mode */
        @media (prefers-contrast: high) {
          .search-container {
            border: 2px solid #000;
            background: #fff;
          }

          .suggestion-item:hover,
          .suggestion-item.selected {
            background: #000;
            color: #fff;
          }
        }

        /* Reduced motion */
        @media (prefers-reduced-motion: reduce) {
          .search-container,
          .suggestion-item,
          .clear-button,
          .filter-button {
            transition: none;
          }
        }

        /* Dark mode considerations */
        @media (prefers-color-scheme: dark) {
          .search-container {
            background: rgba(31, 41, 55, 0.95);
            border-color: rgba(75, 85, 99, 0.4);
          }

          .search-input {
            color: #F3F4F6;
          }

          .search-input::placeholder {
            color: #6B7280;
          }

          .filters-panel {
            background: rgba(17, 24, 39, 0.5);
          }

          .suggestion-text {
            color: #F3F4F6;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/StatisticsManager.tsx":
/*!*******************************************************!*\
  !*** ./src/renderer/components/StatisticsManager.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StatisticsManager: () => (/* binding */ StatisticsManager)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/bar-chart-3.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trending-up.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/lightbulb.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/refresh-cw.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/download.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/file-text.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/activity.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/target.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/pie-chart.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/star.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-triangle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/award.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trending-down.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/calendar.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/zap.mjs");
/* harmony import */ var _services_StatisticsService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/StatisticsService */ "./src/renderer/services/StatisticsService.ts");
/* harmony import */ var _ToastSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ToastSystem */ "./src/renderer/components/ToastSystem.tsx");





const StatisticsManager = ({ documents, borrowers, borrowHistory, onClose }) => {
    const [statistics, setStatistics] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [selectedTab, setSelectedTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('overview');
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const toast = (0,_ToastSystem__WEBPACK_IMPORTED_MODULE_3__.useQuickToast)();
    const generateStatistics = () => {
        setIsLoading(true);
        try {
            const stats = _services_StatisticsService__WEBPACK_IMPORTED_MODULE_2__.StatisticsService.generateDetailedStatistics(documents, borrowers, borrowHistory);
            setStatistics(stats);
            toast.success('Statistiques générées', 'Les statistiques ont été calculées avec succès');
        }
        catch (error) {
            console.error('Erreur lors de la génération des statistiques:', error);
            toast.error('Erreur de génération', 'Impossible de générer les statistiques: ' + error.message);
        }
        finally {
            setIsLoading(false);
        }
    };
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        generateStatistics();
    }, [documents, borrowers, borrowHistory]);
    const exportStatistics = (format) => {
        if (!statistics)
            return;
        try {
            let content;
            let filename;
            let mimeType;
            if (format === 'csv') {
                content = _services_StatisticsService__WEBPACK_IMPORTED_MODULE_2__.StatisticsService.exportToCSV(statistics);
                filename = `statistiques_${new Date().toISOString().split('T')[0]}.csv`;
                mimeType = 'text/csv;charset=utf-8';
            }
            else {
                content = _services_StatisticsService__WEBPACK_IMPORTED_MODULE_2__.StatisticsService.exportToPDF(statistics);
                filename = `statistiques_${new Date().toISOString().split('T')[0]}.html`;
                mimeType = 'text/html;charset=utf-8';
            }
            const blob = new Blob([content], { type: mimeType });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            toast.success('Export réussi', `Statistiques exportées en ${format.toUpperCase()}`);
        }
        catch (error) {
            toast.error('Erreur d\'export', 'Impossible d\'exporter: ' + error.message);
        }
    };
    const tabs = [
        { key: 'overview', label: 'Vue d\'ensemble', icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"] },
        { key: 'documents', label: 'Documents', icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"] },
        { key: 'borrowers', label: 'Emprunteurs', icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"] },
        { key: 'trends', label: 'Tendances', icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"] },
        { key: 'insights', label: 'Insights', icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"] }
    ];
    if (isLoading || !statistics) {
        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "statistics-manager", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "statistics-overlay", onClick: onClose }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "statistics-container", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "loading-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 48, className: "spinning" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "G\u00E9n\u00E9ration des statistiques..." }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Analyse des donn\u00E9es en cours" })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: getStyles() })] }));
    }
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "statistics-manager", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "statistics-overlay", onClick: onClose }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "statistics-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "statistics-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { children: "Statistiques Avanc\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Analyse d\u00E9taill\u00E9e des donn\u00E9es de votre biblioth\u00E8que" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "action-btn", onClick: () => exportStatistics('csv'), title: "Exporter en CSV", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16 }), "CSV"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "action-btn", onClick: () => exportStatistics('pdf'), title: "Exporter en PDF", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 16 }), "PDF"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-btn", onClick: onClose, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 20 }) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "statistics-tabs", children: tabs.map(tab => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `tab-btn ${selectedTab === tab.key ? 'active' : ''}`, onClick: () => setSelectedTab(tab.key), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(tab.icon, { size: 16 }), tab.label] }, tab.key))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "statistics-content", children: [selectedTab === 'overview' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(OverviewTab, { statistics: statistics })), selectedTab === 'documents' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DocumentsTab, { statistics: statistics })), selectedTab === 'borrowers' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BorrowersTab, { statistics: statistics })), selectedTab === 'trends' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(TrendsTab, { statistics: statistics })), selectedTab === 'insights' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(InsightsTab, { statistics: statistics }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: getStyles() })] }));
};
// Composants des onglets
const OverviewTab = ({ statistics }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "metrics-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MetricCard, { title: "Documents", value: statistics.overview.totalDocuments, icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], color: "#3E5C49" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MetricCard, { title: "Emprunteurs", value: statistics.overview.totalBorrowers, icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], color: "#C2571B" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MetricCard, { title: "Emprunts Actifs", value: statistics.overview.activeLoans, icon: lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], color: "#2E453A" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MetricCard, { title: "Taux d'Utilisation", value: `${statistics.overview.utilizationRate.toFixed(1)}%`, icon: lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], color: "#6B7280" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "overview-charts", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "chart-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 20 }), " R\u00E9partition des Emprunts"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "chart-content", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "status-breakdown", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "status-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "status-indicator available" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: ["Disponibles: ", statistics.overview.availableDocuments] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "status-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "status-indicator borrowed" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: ["Emprunt\u00E9s: ", statistics.overview.activeLoans] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "status-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "status-indicator overdue" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: ["En retard: ", statistics.overview.overdueLoans] })] })] }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "chart-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 20 }), " Performance"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "performance-metrics", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "perf-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "perf-label", children: "Dur\u00E9e moyenne d'emprunt" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "perf-value", children: [statistics.overview.averageLoanDuration, " jours"] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "perf-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "perf-label", children: "Sant\u00E9 globale" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "health-bar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "health-fill", style: { width: `${statistics.insights.performance.overallHealth}%` } }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "perf-value", children: [statistics.insights.performance.overallHealth, "%"] })] })] })] })] })] }));
const DocumentsTab = ({ statistics }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 20 }), " Documents les Plus Populaires"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "list-container", children: statistics.documents.mostBorrowedDocuments.slice(0, 10).map((item, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "list-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "item-rank", children: index + 1 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "item-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "item-title", children: item.document.titre }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "item-subtitle", children: item.document.auteur })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "item-value", children: [item.borrowCount, " emprunts"] })] }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 20 }), " Documents Jamais Emprunt\u00E9s"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-highlight", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-number", children: statistics.documents.neverBorrowedDocuments.length }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-text", children: "documents n'ont jamais \u00E9t\u00E9 emprunt\u00E9s" })] }), statistics.documents.neverBorrowedDocuments.length > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mini-list", children: [statistics.documents.neverBorrowedDocuments.slice(0, 5).map((doc, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mini-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: [doc.titre, " - ", doc.auteur] })] }, index))), statistics.documents.neverBorrowedDocuments.length > 5 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mini-item more", children: ["+", statistics.documents.neverBorrowedDocuments.length - 5, " autres..."] }))] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stats-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Par Type" }), Object.entries(statistics.documents.totalByType).map(([type, count]) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: type }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: count })] }, type)))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "\u00C2ge Moyen" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "big-stat", children: [statistics.documents.averageDocumentAge, " ans"] })] })] })] }));
const BorrowersTab = ({ statistics }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 20 }), " Top Emprunteurs"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "list-container", children: statistics.borrowers.topBorrowers.slice(0, 10).map((item, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "list-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "item-rank", children: index + 1 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "item-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "item-title", children: [item.borrower.firstName, " ", item.borrower.lastName] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "item-subtitle", children: [item.borrower.type === 'student' ? 'Étudiant' : 'Personnel', " - ", item.borrower.matricule] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "item-stats", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-chip", children: [item.borrowCount, " emprunts"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-chip active", children: [item.activeLoans, " actifs"] }), item.overdueLoans > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-chip overdue", children: [item.overdueLoans, " retard"] }))] })] }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 20 }), " Activit\u00E9 des Emprunteurs"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-chart", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-bar", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-segment very-active", style: { width: `${(statistics.borrowers.borrowerActivity.veryActive / statistics.overview.totalBorrowers) * 100}%` }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: ["Tr\u00E8s Actifs (", statistics.borrowers.borrowerActivity.veryActive, ")"] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-segment active", style: { width: `${(statistics.borrowers.borrowerActivity.active / statistics.overview.totalBorrowers) * 100}%` }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: ["Actifs (", statistics.borrowers.borrowerActivity.active, ")"] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-segment moderate", style: { width: `${(statistics.borrowers.borrowerActivity.moderate / statistics.overview.totalBorrowers) * 100}%` }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: ["Mod\u00E9r\u00E9s (", statistics.borrowers.borrowerActivity.moderate, ")"] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-segment low", style: { width: `${(statistics.borrowers.borrowerActivity.low / statistics.overview.totalBorrowers) * 100}%` }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: ["Faibles (", statistics.borrowers.borrowerActivity.low, ")"] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-segment inactive", style: { width: `${(statistics.borrowers.borrowerActivity.inactive / statistics.overview.totalBorrowers) * 100}%` }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: ["Inactifs (", statistics.borrowers.borrowerActivity.inactive, ")"] }) })] }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stats-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "R\u00E9partition" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "\u00C9tudiants" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: statistics.borrowers.totalByType.students })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Personnel" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: statistics.borrowers.totalByType.staff })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Moyenne" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "big-stat", children: [statistics.borrowers.averageBorrowsPerBorrower.toFixed(1), " emprunts/personne"] })] })] })] }));
const TrendsTab = ({ statistics }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 20 }), " Tendances d'Emprunts"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "trend-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "trend-metric", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "trend-label", children: "Ce mois" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "trend-value", children: statistics.trends.borrowingTrends.thisMonth })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "trend-indicator", children: [statistics.trends.borrowingTrends.trend === 'up' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { className: "trend-up" })) : statistics.trends.borrowingTrends.trend === 'down' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_20__["default"], { className: "trend-down" })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "trend-stable", children: "\u2192" })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: `trend-growth ${statistics.trends.borrowingTrends.trend}`, children: [statistics.trends.borrowingTrends.growth > 0 ? '+' : '', statistics.trends.borrowingTrends.growth.toFixed(1), "%"] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "trend-metric", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "trend-label", children: "Mois dernier" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "trend-value", children: statistics.trends.borrowingTrends.lastMonth })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_21__["default"], { size: 20 }), " Mod\u00E8les Quotidiens"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "daily-pattern", children: Object.entries(statistics.trends.dailyPatterns).map(([day, count]) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "day-bar", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "day-label", children: day.slice(0, 3) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "day-bar-container", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "day-bar-fill", style: { height: `${(count / Math.max(...Object.values(statistics.trends.dailyPatterns))) * 100}%` } }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "day-count", children: count })] }, day))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 20 }), " Cat\u00E9gories Populaires"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "category-list", children: statistics.trends.popularCategories.slice(0, 8).map((category, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "category-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "category-name", children: category.category }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "category-bar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "category-fill", style: { width: `${(category.borrowCount / statistics.trends.popularCategories[0]?.borrowCount || 1) * 100}%` } }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "category-count", children: category.borrowCount })] }, index))) })] })] }));
const InsightsTab = ({ statistics }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 20 }), " Recommandations"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "insights-container", children: statistics.insights.recommendations.map((rec, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `insight-card recommendation ${rec.priority}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "insight-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "insight-title", children: rec.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: `priority-badge ${rec.priority}`, children: rec.priority })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "insight-description", children: rec.description }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "insight-impact", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Impact:" }), " ", rec.impact] })] }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_22__["default"], { size: 20 }), " Alertes"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "insights-container", children: statistics.insights.alerts.map((alert, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `insight-card alert ${alert.severity}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "insight-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_22__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "insight-title", children: alert.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "alert-count", children: alert.count })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "insight-description", children: alert.description })] }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_23__["default"], { size: 20 }), " Performance Globale"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "performance-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "perf-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "perf-title", children: "Utilisation Collection" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "perf-circle", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg", { viewBox: "0 0 36 36", className: "circular-chart", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { className: "circle-bg", d: "M18 2.0845\r\n                a 15.9155 15.9155 0 0 1 0 31.831\r\n                a 15.9155 15.9155 0 0 1 0 -31.831" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { className: "circle", strokeDasharray: `${statistics.insights.performance.collectionUtilization}, 100`, d: "M18 2.0845\r\n                a 15.9155 15.9155 0 0 1 0 31.831\r\n                a 15.9155 15.9155 0 0 1 0 -31.831" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("text", { x: "18", y: "20.35", className: "percentage", children: [statistics.insights.performance.collectionUtilization, "%"] })] }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "perf-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "perf-title", children: "Engagement Emprunteurs" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "perf-circle", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg", { viewBox: "0 0 36 36", className: "circular-chart", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { className: "circle-bg", d: "M18 2.0845\r\n                a 15.9155 15.9155 0 0 1 0 31.831\r\n                a 15.9155 15.9155 0 0 1 0 -31.831" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { className: "circle", strokeDasharray: `${statistics.insights.performance.borrowerEngagement}, 100`, d: "M18 2.0845\r\n                a 15.9155 15.9155 0 0 1 0 31.831\r\n                a 15.9155 15.9155 0 0 1 0 -31.831" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("text", { x: "18", y: "20.35", className: "percentage", children: [statistics.insights.performance.borrowerEngagement, "%"] })] }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "perf-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "perf-title", children: "Conformit\u00E9 Retours" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "perf-circle", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg", { viewBox: "0 0 36 36", className: "circular-chart", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { className: "circle-bg", d: "M18 2.0845\r\n                a 15.9155 15.9155 0 0 1 0 31.831\r\n                a 15.9155 15.9155 0 0 1 0 -31.831" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { className: "circle", strokeDasharray: `${statistics.insights.performance.returnCompliance}, 100`, d: "M18 2.0845\r\n                a 15.9155 15.9155 0 0 1 0 31.831\r\n                a 15.9155 15.9155 0 0 1 0 -31.831" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("text", { x: "18", y: "20.35", className: "percentage", children: [statistics.insights.performance.returnCompliance, "%"] })] }) })] })] })] })] }));
// Composant MetricCard
const MetricCard = ({ title, value, icon: Icon, color }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "metric-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "metric-icon", style: { backgroundColor: color }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Icon, { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "metric-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "metric-value", children: value }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "metric-title", children: title })] })] }));
// Styles CSS
const getStyles = () => `
  .statistics-manager {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }

  .statistics-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(4px);
  }

  .statistics-container {
    position: relative;
    background: white;
    border-radius: 20px;
    max-width: 1200px;
    width: 100%;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
    border: 1px solid rgba(229, 220, 194, 0.3);
    overflow: hidden;
  }

  .statistics-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 24px 32px;
    border-bottom: 1px solid rgba(229, 220, 194, 0.3);
    background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
    color: #F3EED9;
  }

  .header-info {
    display: flex;
    align-items: center;
    gap: 16px;
  }

  .header-info h2 {
    margin: 0;
    font-size: 20px;
    font-weight: 700;
  }

  .header-info p {
    margin: 0;
    opacity: 0.9;
    font-size: 14px;
  }

  .header-actions {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .action-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    background: rgba(243, 238, 217, 0.1);
    border: 1px solid rgba(243, 238, 217, 0.2);
    color: #F3EED9;
    padding: 8px 16px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 14px;
    font-weight: 600;
  }

  .action-btn:hover {
    background: rgba(243, 238, 217, 0.2);
    transform: translateY(-1px);
  }

  .close-btn {
    background: rgba(243, 238, 217, 0.1);
    border: none;
    color: #F3EED9;
    width: 40px;
    height: 40px;
    border-radius: 10px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
  }

  .close-btn:hover {
    background: rgba(220, 38, 38, 0.2);
    color: #DC2626;
  }

  .statistics-tabs {
    display: flex;
    background: #F8F9FA;
    border-bottom: 1px solid rgba(229, 220, 194, 0.3);
    overflow-x: auto;
  }

  .tab-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 16px 24px;
    border: none;
    background: none;
    color: #6B7280;
    cursor: pointer;
    transition: all 0.2s ease;
    border-bottom: 3px solid transparent;
    white-space: nowrap;
    font-weight: 500;
  }

  .tab-btn:hover {
    background: rgba(62, 92, 73, 0.05);
    color: #3E5C49;
  }

  .tab-btn.active {
    color: #3E5C49;
    border-bottom-color: #3E5C49;
    background: rgba(62, 92, 73, 0.05);
  }

  .statistics-content {
    flex: 1;
    overflow-y: auto;
    padding: 32px;
  }

  .tab-content {
    max-width: 1000px;
    margin: 0 auto;
  }

  .loading-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 80px 20px;
    text-align: center;
    color: #3E5C49;
  }

  .loading-state h3 {
    margin: 20px 0 8px 0;
    font-size: 18px;
  }

  .loading-state p {
    margin: 0;
    color: #6B7280;
  }

  .spinning {
    animation: spin 1s linear infinite;
    color: #C2571B;
  }

  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  /* Métriques */
  .metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 32px;
  }

  .metric-card {
    display: flex;
    align-items: center;
    gap: 16px;
    background: white;
    border: 1px solid rgba(229, 220, 194, 0.3);
    border-radius: 12px;
    padding: 20px;
    transition: all 0.2s ease;
  }

  .metric-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(62, 92, 73, 0.1);
  }

  .metric-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
  }

  .metric-content {
    flex: 1;
  }

  .metric-value {
    font-size: 24px;
    font-weight: 700;
    color: #2E2E2E;
    line-height: 1;
  }

  .metric-title {
    font-size: 14px;
    color: #6B7280;
    margin-top: 4px;
  }

  /* Charts et Graphiques */
  .overview-charts {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 24px;
  }

  .chart-card {
    background: white;
    border: 1px solid rgba(229, 220, 194, 0.3);
    border-radius: 12px;
    padding: 24px;
  }

  .chart-card h3 {
    display: flex;
    align-items: center;
    gap: 8px;
    margin: 0 0 20px 0;
    color: #3E5C49;
    font-size: 16px;
  }

  .status-breakdown {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .status-item {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .status-indicator {
    width: 12px;
    height: 12px;
    border-radius: 50%;
  }

  .status-indicator.available { background: #10B981; }
  .status-indicator.borrowed { background: #F59E0B; }
  .status-indicator.overdue { background: #EF4444; }

  .performance-metrics {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .perf-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
  }

  .perf-label {
    font-weight: 500;
    color: #374151;
  }

  .perf-value {
    font-weight: 600;
    color: #3E5C49;
  }

  .health-bar {
    flex: 1;
    height: 8px;
    background: #E5E7EB;
    border-radius: 4px;
    overflow: hidden;
    margin: 0 12px;
  }

  .health-fill {
    height: 100%;
    background: linear-gradient(90deg, #EF4444 0%, #F59E0B 50%, #10B981 100%);
    border-radius: 4px;
    transition: width 0.3s ease;
  }

  /* Sections et Listes */
  .section {
    margin-bottom: 32px;
  }

  .section h3 {
    display: flex;
    align-items: center;
    gap: 8px;
    margin: 0 0 16px 0;
    color: #3E5C49;
    font-size: 18px;
    font-weight: 600;
  }

  .list-container {
    background: white;
    border: 1px solid rgba(229, 220, 194, 0.3);
    border-radius: 12px;
    overflow: hidden;
  }

  .list-item {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 16px 20px;
    border-bottom: 1px solid rgba(229, 220, 194, 0.2);
    transition: background 0.2s ease;
  }

  .list-item:last-child {
    border-bottom: none;
  }

  .list-item:hover {
    background: rgba(62, 92, 73, 0.02);
  }

  .item-rank {
    width: 32px;
    height: 32px;
    background: #3E5C49;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 14px;
    flex-shrink: 0;
  }

  .item-info {
    flex: 1;
  }

  .item-title {
    font-weight: 600;
    color: #2E2E2E;
    margin-bottom: 2px;
  }

  .item-subtitle {
    font-size: 13px;
    color: #6B7280;
  }

  .item-value {
    font-weight: 600;
    color: #C2571B;
  }

  .item-stats {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }

  .stat-chip {
    background: #E5DCC2;
    color: #6B7280;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 500;
  }

  .stat-chip.active {
    background: #3E5C49;
    color: white;
  }

  .stat-chip.overdue {
    background: #FEE2E2;
    color: #DC2626;
  }

  /* Activité et Tendances */
  .activity-chart {
    background: white;
    border: 1px solid rgba(229, 220, 194, 0.3);
    border-radius: 12px;
    padding: 20px;
  }

  .activity-bar {
    display: flex;
    height: 40px;
    border-radius: 8px;
    overflow: hidden;
    background: #F3F4F6;
  }

  .activity-segment {
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 12px;
    font-weight: 600;
    transition: all 0.2s ease;
  }

  .activity-segment:hover {
    filter: brightness(1.1);
  }

  .activity-segment.very-active { background: #059669; }
  .activity-segment.active { background: #10B981; }
  .activity-segment.moderate { background: #F59E0B; }
  .activity-segment.low { background: #EF4444; }
  .activity-segment.inactive { background: #6B7280; }

  .trend-card {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: white;
    border: 1px solid rgba(229, 220, 194, 0.3);
    border-radius: 12px;
    padding: 24px;
  }

  .trend-metric {
    text-align: center;
  }

  .trend-label {
    display: block;
    font-size: 14px;
    color: #6B7280;
    margin-bottom: 4px;
  }

  .trend-value {
    font-size: 32px;
    font-weight: 700;
    color: #2E2E2E;
  }

  .trend-indicator {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
  }

  .trend-up { color: #10B981; }
  .trend-down { color: #EF4444; }
  .trend-stable { color: #6B7280; font-size: 24px; font-weight: bold; }

  .trend-growth {
    font-weight: 600;
    font-size: 18px;
  }

  .trend-growth.up { color: #10B981; }
  .trend-growth.down { color: #EF4444; }
  .trend-growth.stable { color: #6B7280; }

  .daily-pattern {
    display: flex;
    gap: 16px;
    justify-content: space-between;
    background: white;
    border: 1px solid rgba(229, 220, 194, 0.3);
    border-radius: 12px;
    padding: 24px;
  }

  .day-bar {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    flex: 1;
  }

  .day-label {
    font-size: 12px;
    font-weight: 600;
    color: #6B7280;
    text-transform: uppercase;
  }

  .day-bar-container {
    height: 80px;
    width: 20px;
    background: #F3F4F6;
    border-radius: 10px;
    display: flex;
    align-items: flex-end;
    overflow: hidden;
  }

  .day-bar-fill {
    width: 100%;
    background: linear-gradient(to top, #3E5C49, #C2571B);
    border-radius: 10px;
    transition: height 0.3s ease;
  }

  .day-count {
    font-size: 12px;
    font-weight: 600;
    color: #2E2E2E;
  }

  .category-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .category-item {
    display: flex;
    align-items: center;
    gap: 16px;
    background: white;
    border: 1px solid rgba(229, 220, 194, 0.3);
    border-radius: 8px;
    padding: 12px 16px;
  }

  .category-name {
    min-width: 120px;
    font-weight: 500;
    color: #2E2E2E;
  }

  .category-bar {
    flex: 1;
    height: 8px;
    background: #F3F4F6;
    border-radius: 4px;
    overflow: hidden;
  }

  .category-fill {
    height: 100%;
    background: #3E5C49;
    border-radius: 4px;
    transition: width 0.3s ease;
  }

  .category-count {
    min-width: 40px;
    text-align: right;
    font-weight: 600;
    color: #C2571B;
  }

  /* Insights */
  .insights-container {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .insight-card {
    background: white;
    border: 1px solid rgba(229, 220, 194, 0.3);
    border-radius: 12px;
    padding: 20px;
    border-left: 4px solid #3E5C49;
  }

  .insight-card.recommendation.high {
    border-left-color: #EF4444;
    background: rgba(239, 68, 68, 0.02);
  }

  .insight-card.recommendation.medium {
    border-left-color: #F59E0B;
    background: rgba(245, 158, 11, 0.02);
  }

  .insight-card.recommendation.low {
    border-left-color: #10B981;
    background: rgba(16, 185, 129, 0.02);
  }

  .insight-card.alert.critical {
    border-left-color: #DC2626;
    background: rgba(220, 38, 38, 0.02);
  }

  .insight-card.alert.warning {
    border-left-color: #D97706;
    background: rgba(217, 119, 6, 0.02);
  }

  .insight-card.alert.info {
    border-left-color: #2563EB;
    background: rgba(37, 99, 235, 0.02);
  }

  .insight-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;
  }

  .insight-title {
    flex: 1;
    font-weight: 600;
    color: #2E2E2E;
  }

  .priority-badge {
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
  }

  .priority-badge.high {
    background: #FEE2E2;
    color: #DC2626;
  }

  .priority-badge.medium {
    background: #FEF3C7;
    color: #D97706;
  }

  .priority-badge.low {
    background: #D1FAE5;
    color: #059669;
  }

  .alert-count {
    background: #DC2626;
    color: white;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
  }

  .insight-description {
    margin: 0 0 12px 0;
    color: #4B5563;
    line-height: 1.5;
  }

  .insight-impact {
    font-size: 14px;
    color: #6B7280;
  }

  /* Performance Circles */
  .performance-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 24px;
  }

  .perf-card {
    background: white;
    border: 1px solid rgba(229, 220, 194, 0.3);
    border-radius: 12px;
    padding: 24px;
    text-align: center;
  }

  .perf-title {
    font-weight: 600;
    color: #2E2E2E;
    margin-bottom: 16px;
  }

  .perf-circle {
    width: 120px;
    height: 120px;
    margin: 0 auto;
  }

  .circular-chart {
    width: 100%;
    height: 100%;
  }

  .circle-bg {
    fill: none;
    stroke: #E5E7EB;
    stroke-width: 2.8;
  }

  .circle {
    fill: none;
    stroke: #3E5C49;
    stroke-width: 2.8;
    stroke-linecap: round;
    animation: progress 1s ease-out forwards;
  }

  .percentage {
    fill: #2E2E2E;
    font-size: 0.5em;
    text-anchor: middle;
    font-weight: 600;
  }

  @keyframes progress {
    0% {
      stroke-dasharray: 0 100;
    }
  }

  /* Utilitaires */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
  }

  .stat-card {
    background: white;
    border: 1px solid rgba(229, 220, 194, 0.3);
    border-radius: 12px;
    padding: 20px;
  }

  .stat-card h4 {
    margin: 0 0 16px 0;
    color: #3E5C49;
    font-size: 16px;
  }

  .stat-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0;
    border-bottom: 1px solid rgba(229, 220, 194, 0.2);
  }

  .stat-row:last-child {
    border-bottom: none;
  }

  .big-stat {
    font-size: 32px;
    font-weight: 700;
    color: #C2571B;
    text-align: center;
    margin: 20px 0;
  }

  .stat-highlight {
    display: flex;
    align-items: baseline;
    gap: 8px;
    margin-bottom: 16px;
  }

  .stat-number {
    font-size: 48px;
    font-weight: 700;
    color: #C2571B;
  }

  .stat-text {
    color: #6B7280;
    font-weight: 500;
  }

  .mini-list {
    max-height: 200px;
    overflow-y: auto;
  }

  .mini-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 0;
    font-size: 13px;
    color: #6B7280;
  }

  .mini-item.more {
    font-style: italic;
    color: #9CA3AF;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .statistics-container {
      margin: 10px;
      max-height: calc(100vh - 20px);
    }

    .statistics-header {
      padding: 20px;
      flex-direction: column;
      gap: 16px;
      align-items: flex-start;
    }

    .header-actions {
      align-self: flex-end;
    }

    .statistics-content {
      padding: 20px;
    }

    .metrics-grid {
      grid-template-columns: 1fr;
    }

    .overview-charts {
      grid-template-columns: 1fr;
    }

    .daily-pattern {
      flex-wrap: wrap;
      gap: 8px;
    }

    .performance-grid {
      grid-template-columns: 1fr;
    }

    .tab-btn {
      padding: 12px 16px;
    }
  }
`;


/***/ }),

/***/ "./src/renderer/components/TitleBar.tsx":
/*!**********************************************!*\
  !*** ./src/renderer/components/TitleBar.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TitleBar: () => (/* binding */ TitleBar)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/refresh-cw.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/minus.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/square.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");


const TitleBar = ({ onRefresh, isAuthenticated = false }) => {
    const handleMinimize = () => {
        try {
            if (window.electronAPI && window.electronAPI.minimizeWindow) {
                window.electronAPI.minimizeWindow();
            }
            else {
                console.warn('electronAPI.minimizeWindow non disponible');
            }
        }
        catch (error) {
            console.error('Erreur lors de la minimisation:', error);
        }
    };
    const handleMaximize = () => {
        try {
            if (window.electronAPI && window.electronAPI.maximizeWindow) {
                window.electronAPI.maximizeWindow();
            }
            else {
                console.warn('electronAPI.maximizeWindow non disponible');
            }
        }
        catch (error) {
            console.error('Erreur lors de la maximisation:', error);
        }
    };
    const handleClose = () => {
        try {
            if (window.electronAPI && window.electronAPI.closeWindow) {
                window.electronAPI.closeWindow();
            }
            else {
                console.warn('electronAPI.closeWindow non disponible');
                // Fallback pour fermer la fenêtre
                if (window.close) {
                    window.close();
                }
            }
        }
        catch (error) {
            console.error('Erreur lors de la fermeture:', error);
        }
    };
    const handleRefresh = () => {
        try {
            if (onRefresh) {
                onRefresh();
            }
        }
        catch (error) {
            console.error('Erreur lors du rafraîchissement:', error);
        }
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "titlebar", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "titlebar-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "titlebar-left", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "app-logo", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_1__["default"], { size: 18 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "app-title", children: "Biblioth\u00E8que" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "title-separator" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "app-subtitle", children: "Gestion moderne de collection" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "titlebar-center" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "titlebar-controls", children: [isAuthenticated && onRefresh && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "control-button refresh", onClick: handleRefresh, title: "Rafra\u00EEchir", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 12 }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "control-button minimize", onClick: handleMinimize, title: "R\u00E9duire", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 12 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "control-button maximize", onClick: handleMaximize, title: "Agrandir", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 10 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "control-button close", onClick: handleClose, title: "Fermer", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 12 }) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .titlebar {
          height: 48px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          border-bottom: 1px solid rgba(46, 69, 58, 0.2);
          -webkit-app-region: drag;
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          z-index: 1000;
        }
        
        .titlebar::after {
          content: '';
          position: absolute;
          bottom: 0;
          left: 0;
          right: 0;
          height: 1px;
          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.3), transparent);
        }
        
        .titlebar-content {
          display: flex;
          align-items: center;
          justify-content: space-between;
          height: 100%;
          padding: 0 8px 0 16px;
          position: relative;
        }
        
        .titlebar-left {
          display: flex;
          align-items: center;
          gap: 12px;
          flex: 1;
          min-width: 0;
        }
        
        .app-logo {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 32px;
          height: 32px;
          background: rgba(243, 238, 217, 0.15);
          border-radius: 8px;
          color: #F3EED9;
          flex-shrink: 0;
        }
        
        .app-title {
          font-size: 14px;
          font-weight: 700;
          color: #F3EED9;
          letter-spacing: -0.2px;
          flex-shrink: 0;
        }
        
        .title-separator {
          width: 1px;
          height: 16px;
          background: rgba(243, 238, 217, 0.3);
          flex-shrink: 0;
        }
        
        .app-subtitle {
          font-size: 12px;
          font-weight: 400;
          color: rgba(243, 238, 217, 0.8);
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        
        .titlebar-center {
          flex: 2;
          display: flex;
          justify-content: center;
          margin: 0 16px;
        }
        
        .titlebar-controls {
          display: flex;
          align-items: center;
          -webkit-app-region: no-drag;
          flex-shrink: 0;
        }
        
        .control-button {
          width: 44px;
          height: 32px;
          border: none;
          background: transparent;
          color: #F3EED9;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 4px;
          transition: all 0.15s ease;
          opacity: 0.8;
          position: relative;
        }
        
        .control-button::before {
          content: '';
          position: absolute;
          inset: 4px;
          border-radius: 2px;
          background: transparent;
          transition: background 0.15s ease;
        }
        
        .control-button:hover {
          opacity: 1;
        }
        
        .control-button:hover::before {
          background: rgba(243, 238, 217, 0.1);
        }
        
        .control-button:active::before {
          background: rgba(243, 238, 217, 0.2);
        }
        
        .control-button.close:hover::before {
          background: #E81123;
        }
        
        .control-button.close:hover {
          color: #FFFFFF;
        }
        
        .control-button.close:active::before {
          background: #C50E1F;
        }

        .control-button.refresh:hover::before {
          background: rgba(139, 195, 74, 0.2);
        }

        .control-button.refresh:hover {
          color: #8BC34A;
        }

        .control-button.refresh:active::before {
          background: rgba(139, 195, 74, 0.3);
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
          .app-subtitle {
            display: none;
          }
          
          .title-separator {
            display: none;
          }
          
          .titlebar-content {
            padding: 0 4px 0 12px;
          }
        }
        
        @media (max-width: 480px) {
          .titlebar-left {
            gap: 8px;
          }
          
          .app-title {
            font-size: 13px;
          }
          
          .control-button {
            width: 40px;
            height: 30px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/ToastSystem.tsx":
/*!*************************************************!*\
  !*** ./src/renderer/components/ToastSystem.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ToastProvider: () => (/* binding */ ToastProvider),
/* harmony export */   useQuickToast: () => (/* binding */ useQuickToast),
/* harmony export */   useToast: () => (/* binding */ useToast)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-triangle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/info.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/bell.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/download.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/upload.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/activity.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/star.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/settings.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/shield.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/heart.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/file-text.mjs");



const ToastContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);
const useToast = () => {
    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ToastContext);
    if (!context) {
        throw new Error('useToast must be used within a ToastProvider');
    }
    return context;
};
const ToastProvider = ({ children }) => {
    const [toasts, setToasts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const addToast = (toastData) => {
        const id = `toast-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
        const toast = {
            id,
            duration: 5000,
            ...toastData
        };
        setToasts(prev => [...prev, toast]);
        // Auto remove if not sticky
        if (!toast.sticky && toast.duration) {
            setTimeout(() => {
                removeToast(id);
            }, toast.duration);
        }
    };
    const removeToast = (id) => {
        setToasts(prev => prev.filter(toast => toast.id !== id));
    };
    const updateToast = (id, updates) => {
        setToasts(prev => prev.map(toast => toast.id === id ? { ...toast, ...updates } : toast));
    };
    const clearAll = () => {
        setToasts([]);
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ToastContext.Provider, { value: { addToast, removeToast, updateToast, clearAll }, children: [children, (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ToastContainer, { toasts: toasts, removeToast: removeToast })] }));
};
const ToastContainer = ({ toasts, removeToast }) => {
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "toast-container", children: [toasts.map((toast, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ToastItem, { toast: toast, onRemove: () => removeToast(toast.id), index: index }, toast.id))), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .toast-container {
          position: fixed;
          top: 24px;
          right: 24px;
          z-index: 10000;
          display: flex;
          flex-direction: column;
          gap: 16px;
          max-width: 450px;
          width: 100%;
          pointer-events: none;
        }

        .toast-container::before {
          content: '';
          position: fixed;
          top: 0;
          right: 0;
          width: 500px;
          height: 100vh;
          background: linear-gradient(135deg, 
            rgba(62, 92, 73, 0.01) 0%, 
            rgba(194, 87, 27, 0.005) 50%, 
            transparent 100%);
          pointer-events: none;
          z-index: -1;
        }

        @media (max-width: 768px) {
          .toast-container {
            top: 80px;
            left: 16px;
            right: 16px;
            max-width: none;
            gap: 12px;
          }
          
          .toast-container::before {
            display: none;
          }
        }

        @media (max-width: 480px) {
          .toast-container {
            top: 70px;
            left: 12px;
            right: 12px;
          }
        }
      ` })] }));
};
const ToastItem = ({ toast, onRemove, index }) => {
    const [isVisible, setIsVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [isRemoving, setIsRemoving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [progress, setProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(100);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        // Animate in
        setTimeout(() => setIsVisible(true), 50 * index);
    }, [index]);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        // Progress bar animation
        if (toast.duration && !toast.sticky) {
            const startTime = Date.now();
            const interval = setInterval(() => {
                const elapsed = Date.now() - startTime;
                const remaining = Math.max(0, (toast.duration - elapsed) / toast.duration * 100);
                setProgress(remaining);
                if (remaining === 0) {
                    clearInterval(interval);
                }
            }, 50);
            return () => clearInterval(interval);
        }
    }, [toast.duration, toast.sticky]);
    const handleRemove = () => {
        setIsRemoving(true);
        setTimeout(onRemove, 300);
    };
    const getIcon = () => {
        if (toast.icon)
            return toast.icon;
        switch (toast.type) {
            case 'success': return lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"];
            case 'error': return lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"];
            case 'warning': return lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"];
            case 'info': return lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"];
            default: return lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"];
        }
    };
    const getColors = () => {
        if (toast.color) {
            return {
                background: `${toast.color}15`,
                border: `${toast.color}40`,
                accent: toast.color
            };
        }
        switch (toast.type) {
            case 'success':
                return {
                    background: 'rgba(62, 92, 73, 0.1)',
                    border: 'rgba(62, 92, 73, 0.25)',
                    accent: '#3E5C49',
                    secondaryAccent: '#C2571B'
                };
            case 'error':
                return {
                    background: 'rgba(194, 87, 27, 0.1)',
                    border: 'rgba(194, 87, 27, 0.25)',
                    accent: '#C2571B',
                    secondaryAccent: '#3E5C49'
                };
            case 'warning':
                return {
                    background: 'rgba(194, 87, 27, 0.08)',
                    border: 'rgba(194, 87, 27, 0.2)',
                    accent: '#C2571B',
                    secondaryAccent: '#3E5C49'
                };
            case 'info':
                return {
                    background: 'rgba(62, 92, 73, 0.08)',
                    border: 'rgba(62, 92, 73, 0.2)',
                    accent: '#3E5C49',
                    secondaryAccent: '#C2571B'
                };
            default:
                return {
                    background: 'rgba(62, 92, 73, 0.05)',
                    border: 'rgba(62, 92, 73, 0.15)',
                    accent: '#3E5C49',
                    secondaryAccent: '#C2571B'
                };
        }
    };
    const Icon = getIcon();
    const colors = getColors();
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `toast-item ${isVisible ? 'visible' : ''} ${isRemoving ? 'removing' : ''}`, style: {
            '--toast-bg': colors.background,
            '--toast-border': colors.border,
            '--toast-accent': colors.accent,
            '--toast-secondary': colors.secondaryAccent || colors.accent
        }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "toast-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "toast-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Icon, { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "toast-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "toast-title", children: toast.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "toast-message", children: toast.message }), toast.progress !== undefined && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "toast-progress-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "toast-progress-label", children: ["Progression: ", Math.round(toast.progress), "%"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "toast-progress-bar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "toast-progress-fill", style: { width: `${toast.progress}%` } }) })] }))] }), toast.action && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "toast-action", onClick: toast.action.onClick, children: toast.action.label })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "toast-close", onClick: handleRemove, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 16 }) })] }), !toast.sticky && toast.duration && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "toast-timer", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "toast-timer-fill", style: { width: `${progress}%` } }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .toast-item {
          background: #F3EED9;
          border: 2px solid var(--toast-border);
          border-radius: 20px;
          backdrop-filter: blur(20px);
          box-shadow: 
            0 25px 50px rgba(62, 92, 73, 0.15),
            0 10px 30px rgba(194, 87, 27, 0.08),
            inset 0 1px 0 rgba(255, 255, 255, 0.8);
          overflow: hidden;
          transform: translateX(100%);
          opacity: 0;
          transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
          pointer-events: auto;
          position: relative;
          border-left: 6px solid var(--toast-accent);
        }

        .toast-item::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, 
            rgba(62, 92, 73, 0.03) 0%, 
            rgba(194, 87, 27, 0.02) 50%, 
            rgba(243, 238, 217, 0.05) 100%);
          pointer-events: none;
        }

        .toast-item.visible {
          transform: translateX(0);
          opacity: 1;
        }

        .toast-item.removing {
          transform: translateX(100%) scale(0.9);
          opacity: 0;
        }

        .toast-content {
          display: flex;
          align-items: flex-start;
          gap: 16px;
          padding: 24px;
          position: relative;
          z-index: 1;
        }

        .toast-icon {
          width: 48px;
          height: 48px;
          background: linear-gradient(135deg, var(--toast-accent) 0%, var(--toast-secondary) 100%);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          flex-shrink: 0;
          position: relative;
          overflow: hidden;
          box-shadow: 
            0 8px 20px rgba(62, 92, 73, 0.3),
            inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .toast-icon::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.4), transparent);
          animation: shimmer 3s infinite ease-in-out;
        }

        .toast-icon::after {
          content: '';
          position: absolute;
          inset: 4px;
          border-radius: 12px;
          background: linear-gradient(135deg, 
            rgba(243, 238, 217, 0.2) 0%, 
            transparent 50%, 
            rgba(243, 238, 217, 0.1) 100%);
        }

        @keyframes shimmer {
          0%, 100% { left: -100%; opacity: 0; }
          50% { left: 100%; opacity: 1; }
        }

        .toast-text {
          flex: 1;
          min-width: 0;
        }

        .toast-title {
          font-size: 17px;
          font-weight: 700;
          color: #3E5C49;
          margin-bottom: 6px;
          line-height: 1.3;
          font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        .toast-message {
          font-size: 15px;
          color: #5A6B5D;
          line-height: 1.5;
          font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        .toast-progress-container {
          margin-top: 16px;
          padding: 12px;
          background: rgba(62, 92, 73, 0.05);
          border-radius: 12px;
          border: 1px solid rgba(62, 92, 73, 0.1);
        }

        .toast-progress-label {
          font-size: 13px;
          color: #3E5C49;
          margin-bottom: 8px;
          font-weight: 600;
          font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        .toast-progress-bar {
          height: 8px;
          background: rgba(62, 92, 73, 0.15);
          border-radius: 6px;
          overflow: hidden;
          box-shadow: inset 0 2px 4px rgba(62, 92, 73, 0.1);
        }

        .toast-progress-fill {
          height: 100%;
          background: linear-gradient(90deg, var(--toast-accent) 0%, var(--toast-secondary) 100%);
          border-radius: inherit;
          transition: width 0.4s cubic-bezier(0.16, 1, 0.3, 1);
          position: relative;
          box-shadow: 
            0 2px 8px rgba(62, 92, 73, 0.3),
            inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .toast-progress-fill::after {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.5), transparent);
          animation: progressShimmer 2s infinite ease-in-out;
        }

        @keyframes progressShimmer {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(200%); }
        }

        .toast-action {
          background: linear-gradient(135deg, var(--toast-accent) 0%, var(--toast-secondary) 100%);
          color: #F3EED9;
          border: none;
          padding: 10px 18px;
          border-radius: 12px;
          font-size: 13px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
          flex-shrink: 0;
          font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
          box-shadow: 
            0 4px 15px rgba(62, 92, 73, 0.3),
            inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .toast-action:hover {
          transform: translateY(-2px) scale(1.02);
          box-shadow: 
            0 8px 25px rgba(62, 92, 73, 0.4),
            inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .toast-action:active {
          transform: translateY(0) scale(0.98);
        }

        .toast-close {
          background: rgba(62, 92, 73, 0.1);
          border: none;
          border-radius: 12px;
          padding: 10px;
          cursor: pointer;
          color: #5A6B5D;
          transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
          flex-shrink: 0;
          box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.5);
        }

        .toast-close:hover {
          background: rgba(194, 87, 27, 0.15);
          color: #C2571B;
          transform: scale(1.1);
          box-shadow: 
            0 4px 12px rgba(194, 87, 27, 0.2),
            inset 0 1px 0 rgba(255, 255, 255, 0.6);
        }

        .toast-close:active {
          transform: scale(0.95);
        }

        .toast-timer {
          position: absolute;
          bottom: 0;
          left: 6px;
          right: 0;
          height: 4px;
          background: rgba(62, 92, 73, 0.15);
          border-radius: 0 0 16px 0;
        }

        .toast-timer-fill {
          height: 100%;
          background: linear-gradient(90deg, var(--toast-accent) 0%, var(--toast-secondary) 100%);
          transition: width 0.1s linear;
          border-radius: inherit;
          box-shadow: 
            0 -2px 8px rgba(62, 92, 73, 0.2),
            inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        /* Animation d'entrée en cascade */
        .toast-item:nth-child(1) { animation-delay: 0s; }
        .toast-item:nth-child(2) { animation-delay: 0.1s; }
        .toast-item:nth-child(3) { animation-delay: 0.2s; }
        .toast-item:nth-child(4) { animation-delay: 0.3s; }

        /* Responsive design */
        @media (max-width: 768px) {
          .toast-content {
            padding: 20px;
            gap: 14px;
          }
          
          .toast-icon {
            width: 44px;
            height: 44px;
          }
          
          .toast-title {
            font-size: 16px;
          }
          
          .toast-message {
            font-size: 14px;
          }
        }

        /* High contrast mode */
        @media (prefers-contrast: high) {
          .toast-item {
            border: 3px solid var(--toast-accent);
            background: #FFFFFF;
          }
          
          .toast-title {
            color: #000000;
          }
          
          .toast-message {
            color: #333333;
          }
        }

        /* Reduced motion */
        @media (prefers-reduced-motion: reduce) {
          .toast-item {
            transition: opacity 0.3s ease;
          }

          .toast-icon::before,
          .toast-progress-fill::after {
            animation: none;
          }
          
          .toast-action:hover,
          .toast-close:hover {
            transform: none;
          }
        }

        /* Dark mode adaptation */
        @media (prefers-color-scheme: dark) {
          .toast-item {
            background: #2A3B2E;
            border-color: rgba(243, 238, 217, 0.2);
            box-shadow: 
              0 25px 50px rgba(0, 0, 0, 0.3),
              0 10px 30px rgba(62, 92, 73, 0.2),
              inset 0 1px 0 rgba(243, 238, 217, 0.1);
          }
          
          .toast-title {
            color: #F3EED9;
          }
          
          .toast-message {
            color: #C5D0C7;
          }
          
          .toast-close {
            background: rgba(243, 238, 217, 0.1);
            color: #C5D0C7;
          }
          
          .toast-close:hover {
            background: rgba(194, 87, 27, 0.2);
            color: #F3EED9;
          }
        }
      ` })] }));
};
// Convenience hooks for common toast types
const useQuickToast = () => {
    const { addToast } = useToast();
    return {
        success: (title, message, action) => addToast({ type: 'success', title, message, action }),
        error: (title, message, action) => addToast({ type: 'error', title, message, action, duration: 8000 }),
        warning: (title, message, action) => addToast({ type: 'warning', title, message, action, duration: 6000 }),
        info: (title, message, action) => addToast({ type: 'info', title, message, action }),
        documentAdded: (title) => addToast({
            type: 'custom',
            title: 'Document ajouté avec succès !',
            message: `"${title}" a été ajouté à votre bibliothèque`,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"],
            color: '#3E5C49'
        }),
        documentBorrowed: (title, borrower) => addToast({
            type: 'custom',
            title: 'Emprunt enregistré',
            message: `"${title}" emprunté par ${borrower}`,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"],
            color: '#C2571B'
        }),
        documentReturned: (title) => addToast({
            type: 'custom',
            title: 'Retour confirmé',
            message: `"${title}" a été retourné avec succès`,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"],
            color: '#3E5C49'
        }),
        borrowerAdded: (name) => addToast({
            type: 'custom',
            title: 'Emprunteur ajouté',
            message: `${name} a été ajouté au système`,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"],
            color: '#3E5C49'
        }),
        exportCompleted: (format, filename) => addToast({
            type: 'custom',
            title: 'Export terminé',
            message: `Fichier ${format.toUpperCase()} "${filename}" généré avec succès`,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"],
            color: '#3E5C49',
            duration: 7000
        }),
        backupCreated: (filename) => addToast({
            type: 'custom',
            title: 'Sauvegarde créée',
            message: `Sauvegarde "${filename}" créée avec succès`,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"],
            color: '#3E5C49'
        }),
        syncProgress: (progress) => {
            const id = 'sync-progress';
            if (progress === 100) {
                addToast({
                    type: 'custom',
                    title: 'Synchronisation terminée',
                    message: 'Toutes vos données sont à jour',
                    icon: lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"],
                    color: '#3E5C49'
                });
            }
            else {
                addToast({
                    type: 'custom',
                    title: 'Synchronisation en cours...',
                    message: `Mise à jour de vos données (${Math.round(progress)}%)`,
                    icon: lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"],
                    color: '#C2571B',
                    progress,
                    sticky: true
                });
            }
        },
        overdueAlert: (count) => addToast({
            type: 'warning',
            title: 'Documents en retard !',
            message: `${count} document${count > 1 ? 's' : ''} en retard de retour`,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"],
            duration: 10000,
            action: {
                label: 'Voir',
                onClick: () => {
                    // Navigation vers les documents en retard
                    console.log('Navigate to overdue documents');
                }
            }
        }),
        systemUpdate: (version) => addToast({
            type: 'info',
            title: 'Mise à jour disponible',
            message: `Version ${version} disponible au téléchargement`,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"],
            duration: 15000,
            action: {
                label: 'Télécharger',
                onClick: () => {
                    // Ouvrir la page de téléchargement
                    console.log('Open download page');
                }
            }
        }),
        settingsUpdated: () => addToast({
            type: 'success',
            title: 'Paramètres sauvegardés',
            message: 'Vos préférences ont été mises à jour',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"],
            color: '#3E5C49'
        }),
        securityAlert: (message) => addToast({
            type: 'warning',
            title: 'Alerte de sécurité',
            message: message,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"],
            duration: 12000,
            sticky: true
        }),
        welcome: (username) => addToast({
            type: 'custom',
            title: `Bienvenue ${username} !`,
            message: 'Votre bibliothèque numérique est prête',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"],
            color: '#C2571B',
            duration: 6000
        }),
        reportGenerated: (reportType, itemCount) => addToast({
            type: 'success',
            title: 'Rapport généré',
            message: `Rapport ${reportType} créé avec ${itemCount} élément${itemCount > 1 ? 's' : ''}`,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"],
            color: '#3E5C49'
        }),
        maintenance: (message) => addToast({
            type: 'info',
            title: 'Maintenance programmée',
            message: message,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"],
            color: '#C2571B',
            duration: 20000,
            sticky: true
        })
    };
};


/***/ }),

/***/ "./src/renderer/components/UserProfile.tsx":
/*!*************************************************!*\
  !*** ./src/renderer/components/UserProfile.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UserProfile: () => (/* binding */ UserProfile)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/shield.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/building.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/pen-line.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/mail.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye-off.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/save.mjs");
/* harmony import */ var _MicroInteractions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MicroInteractions */ "./src/renderer/components/MicroInteractions.tsx");
/* harmony import */ var _ToastSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ToastSystem */ "./src/renderer/components/ToastSystem.tsx");
/* harmony import */ var _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/LocalAuthService */ "./src/renderer/services/LocalAuthService.ts");






const UserProfile = ({ currentUser, currentInstitution, appMode, onClose, onUserUpdate }) => {
    const { success, error } = (0,_ToastSystem__WEBPACK_IMPORTED_MODULE_3__.useQuickToast)();
    const [isEditing, setIsEditing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [showPasswordSection, setShowPasswordSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        firstName: currentUser?.firstName || '',
        lastName: currentUser?.lastName || '',
        email: currentUser?.email || '',
        role: currentUser?.role || '',
        currentPassword: '',
        newPassword: '',
        confirmPassword: ''
    });
    const [validation, setValidation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        currentPasswordValid: false,
        newPasswordValid: false,
        passwordsMatch: false
    });
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        if (currentUser) {
            setFormData({
                firstName: currentUser.firstName || '',
                lastName: currentUser.lastName || '',
                email: currentUser.email || '',
                role: currentUser.role || '',
                currentPassword: '',
                newPassword: '',
                confirmPassword: ''
            });
        }
    }, [currentUser]);
    const validatePasswords = () => {
        const currentPasswordValid = formData.currentPassword.length >= 3;
        const newPasswordValid = formData.newPassword.length >= 4;
        const passwordsMatch = formData.newPassword === formData.confirmPassword;
        setValidation({
            currentPasswordValid,
            newPasswordValid,
            passwordsMatch
        });
        return currentPasswordValid && newPasswordValid && passwordsMatch;
    };
    const handleInputChange = (field, value) => {
        setFormData(prev => ({ ...prev, [field]: value }));
        if (field.includes('Password')) {
            setTimeout(validatePasswords, 100);
        }
    };
    const handleSaveProfile = async () => {
        setIsLoading(true);
        try {
            if (appMode === 'offline') {
                // Mode offline - utiliser LocalAuthService
                const users = _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_4__.LocalAuthService.getUsers();
                const userIndex = users.findIndex(u => u.id === currentUser?.id);
                if (userIndex === -1) {
                    error('Erreur', 'Utilisateur non trouvé');
                    return;
                }
                const updatedUser = {
                    ...users[userIndex],
                    firstName: formData.firstName,
                    lastName: formData.lastName,
                    email: formData.email,
                    lastModified: new Date().toISOString()
                };
                // Si changement de mot de passe demandé
                if (showPasswordSection && formData.newPassword) {
                    if (!validatePasswords()) {
                        error('Erreur de validation', 'Veuillez vérifier les mots de passe');
                        return;
                    }
                    // Vérifier le mot de passe actuel
                    if (users[userIndex].password !== formData.currentPassword) {
                        error('Mot de passe incorrect', 'Le mot de passe actuel est incorrect');
                        return;
                    }
                    updatedUser.password = formData.newPassword;
                }
                users[userIndex] = updatedUser;
                _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_4__.LocalAuthService.saveUsers(users);
                // Mettre à jour le currentUser dans localStorage aussi
                localStorage.setItem('currentUser', JSON.stringify(updatedUser));
                // Notifier le parent avec l'utilisateur unifié
                const unifiedUser = {
                    id: updatedUser.id,
                    firstName: updatedUser.firstName,
                    lastName: updatedUser.lastName,
                    email: updatedUser.email,
                    role: updatedUser.role,
                    institutionCode: updatedUser.institutionCode,
                    lastLogin: updatedUser.lastLogin,
                    preferences: updatedUser.preferences
                };
                onUserUpdate(unifiedUser);
            }
            else {
                // Mode online - utiliser Supabase (à implémenter si nécessaire)
                error('Mode non supporté', 'La modification du profil en mode online n\'est pas encore implémentée');
                return;
            }
            success('Profil mis à jour', 'Vos informations ont été sauvegardées avec succès');
            setIsEditing(false);
            setShowPasswordSection(false);
            setFormData(prev => ({
                ...prev,
                currentPassword: '',
                newPassword: '',
                confirmPassword: ''
            }));
        }
        catch (err) {
            error('Erreur de sauvegarde', 'Impossible de sauvegarder les modifications');
        }
        finally {
            setIsLoading(false);
        }
    };
    const getRoleLabel = (role) => {
        const roleMap = {
            'admin': 'Administrateur',
            'librarian': 'Bibliothécaire',
            'user': 'Utilisateur',
            'Administrateur': 'Administrateur',
            'Bibliothécaire': 'Bibliothécaire',
            'Utilisateur': 'Utilisateur'
        };
        return roleMap[role] || role;
    };
    const getInitials = (user) => {
        if (user?.firstName && user?.lastName) {
            return `${user.firstName.charAt(0)}${user.lastName.charAt(0)}`.toUpperCase();
        }
        if (user?.firstName) {
            return user.firstName.charAt(0).toUpperCase();
        }
        if (user?.email) {
            return user.email.charAt(0).toUpperCase();
        }
        return 'U';
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-profile-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-profile-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 28 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "modal-title", children: "Profil utilisateur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "modal-subtitle", children: "G\u00E9rez vos informations personnelles" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: onClose, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-avatar-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "large-avatar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "large-avatar-text", children: getInitials(currentUser) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-basic-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "user-display-name", children: currentUser?.firstName
                                                    ? `${currentUser.firstName} ${currentUser.lastName || ''}`.trim()
                                                    : currentUser?.email || 'Utilisateur' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-role-badge", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 14 }), getRoleLabel(currentUser?.role || 'user')] }), currentInstitution && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-institution-badge", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 14 }), currentInstitution.name] }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "profile-form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "section-title", children: "Informations personnelles" }), !isEditing && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", size: "small", icon: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], onClick: () => setIsEditing(true), children: "Modifier" }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Pr\u00E9nom" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.firstName, onChange: (e) => handleInputChange('firstName', e.target.value), disabled: !isEditing, className: "form-input", placeholder: "Votre pr\u00E9nom" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Nom" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.lastName, onChange: (e) => handleInputChange('lastName', e.target.value), disabled: !isEditing, className: "form-input", placeholder: "Votre nom" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group full-width", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Email" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-with-icon", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16, className: "input-icon" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "email", value: formData.email, onChange: (e) => handleInputChange('email', e.target.value), disabled: !isEditing, className: "form-input with-icon", placeholder: "votre@email.com" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group full-width", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "R\u00F4le" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: getRoleLabel(formData.role), disabled: true, className: "form-input disabled" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "form-help", children: "Le r\u00F4le ne peut \u00EAtre modifi\u00E9 que par un administrateur" })] })] }), isEditing && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "password-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "section-title", children: "S\u00E9curit\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", size: "small", icon: showPasswordSection ? lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"] : lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], onClick: () => setShowPasswordSection(!showPasswordSection), children: showPasswordSection ? 'Masquer' : 'Changer mot de passe' })] }), showPasswordSection && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "password-form", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Mot de passe actuel" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-with-validation", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "password", value: formData.currentPassword, onChange: (e) => handleInputChange('currentPassword', e.target.value), className: `form-input ${validation.currentPasswordValid ? 'valid' : formData.currentPassword ? 'invalid' : ''}`, placeholder: "Mot de passe actuel" }), formData.currentPassword && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "validation-icon", children: validation.currentPasswordValid ?
                                                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16, className: "valid" }) :
                                                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16, className: "invalid" }) }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Nouveau mot de passe" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-with-validation", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "password", value: formData.newPassword, onChange: (e) => handleInputChange('newPassword', e.target.value), className: `form-input ${validation.newPasswordValid ? 'valid' : formData.newPassword ? 'invalid' : ''}`, placeholder: "Nouveau mot de passe (min. 4 caract\u00E8res)" }), formData.newPassword && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "validation-icon", children: validation.newPasswordValid ?
                                                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16, className: "valid" }) :
                                                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16, className: "invalid" }) }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Confirmer le mot de passe" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-with-validation", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "password", value: formData.confirmPassword, onChange: (e) => handleInputChange('confirmPassword', e.target.value), className: `form-input ${validation.passwordsMatch && formData.confirmPassword ? 'valid' : formData.confirmPassword ? 'invalid' : ''}`, placeholder: "Confirmer le nouveau mot de passe" }), formData.confirmPassword && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "validation-icon", children: validation.passwordsMatch ?
                                                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16, className: "valid" }) :
                                                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16, className: "invalid" }) }))] })] })] }))] }))] })] }), isEditing && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-footer", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", onClick: () => {
                                    setIsEditing(false);
                                    setShowPasswordSection(false);
                                    // Reset form
                                    setFormData({
                                        firstName: currentUser?.firstName || '',
                                        lastName: currentUser?.lastName || '',
                                        email: currentUser?.email || '',
                                        role: currentUser?.role || '',
                                        currentPassword: '',
                                        newPassword: '',
                                        confirmPassword: ''
                                    });
                                }, children: "Annuler" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "success", onClick: handleSaveProfile, disabled: isLoading, icon: lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], children: isLoading ? 'Sauvegarde...' : 'Sauvegarder' })] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .user-profile-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.6);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
          backdrop-filter: blur(8px);
        }

        .user-profile-modal {
          background: #FFFFFF;
          border-radius: 20px;
          width: 100%;
          max-width: 600px;
          max-height: 90vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
          border: 1px solid rgba(229, 220, 194, 0.3);
        }

        .modal-header {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          padding: 32px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          position: relative;
        }

        .header-content {
          display: flex;
          align-items: center;
          gap: 20px;
        }

        .header-icon {
          width: 56px;
          height: 56px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .modal-title {
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 4px 0;
        }

        .modal-subtitle {
          font-size: 14px;
          opacity: 0.8;
          margin: 0;
        }

        .close-button {
          width: 44px;
          height: 44px;
          border: none;
          background: rgba(243, 238, 217, 0.1);
          color: #F3EED9;
          border-radius: 12px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          z-index: 10;
        }

        .close-button:hover {
          background: rgba(243, 238, 217, 0.2);
        }

        .modal-content {
          flex: 1;
          overflow-y: auto;
          padding: 32px;
        }

        .user-avatar-section {
          display: flex;
          align-items: center;
          gap: 24px;
          margin-bottom: 32px;
          padding: 24px;
          background: rgba(243, 238, 217, 0.1);
          border-radius: 16px;
          border: 1px solid rgba(243, 238, 217, 0.2);
        }

        .large-avatar {
          width: 80px;
          height: 80px;
          border-radius: 20px;
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);
        }

        .large-avatar-text {
          color: #F3EED9;
          font-weight: 800;
          font-size: 28px;
          text-transform: uppercase;
        }

        .user-display-name {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 8px 0;
        }

        .user-role-badge,
        .user-institution-badge {
          display: inline-flex;
          align-items: center;
          gap: 6px;
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 12px;
          font-weight: 600;
          margin: 4px 8px 4px 0;
        }

        .user-role-badge {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }

        .user-institution-badge {
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
        }

        .profile-form-section {
          margin-bottom: 24px;
        }

        .section-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 20px;
        }

        .section-title {
          font-size: 18px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0;
        }

        .form-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
        }

        .form-group.full-width {
          grid-column: 1 / -1;
        }

        .form-label {
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
          margin-bottom: 8px;
        }

        .form-input {
          padding: 12px 16px;
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          font-size: 14px;
          background: #FFFFFF;
          color: #2E2E2E;
          transition: all 0.3s ease;
        }

        .form-input:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }

        .form-input:disabled {
          background: #F5F5F5;
          color: #4A4A4A;
          cursor: not-allowed;
        }

        .form-input.disabled {
          background: #F8F8F8;
          border-color: #E0E0E0;
        }

        .form-input.with-icon {
          padding-left: 44px;
        }

        .form-input.valid {
          border-color: #10B981;
        }

        .form-input.invalid {
          border-color: #DC2626;
        }

        .input-with-icon {
          position: relative;
        }

        .input-icon {
          position: absolute;
          left: 14px;
          top: 50%;
          transform: translateY(-50%);
          color: #4A4A4A;
        }

        .input-with-validation {
          position: relative;
        }

        .validation-icon {
          position: absolute;
          right: 12px;
          top: 50%;
          transform: translateY(-50%);
        }

        .validation-icon .valid {
          color: #10B981;
        }

        .validation-icon .invalid {
          color: #DC2626;
        }

        .form-help {
          font-size: 12px;
          color: #4A4A4A;
          margin: 4px 0 0 0;
          font-style: italic;
        }

        .password-section {
          margin-top: 32px;
          padding-top: 24px;
          border-top: 1px solid rgba(229, 220, 194, 0.3);
        }

        .password-form {
          display: flex;
          flex-direction: column;
          gap: 16px;
          margin-top: 20px;
        }

        .modal-footer {
          padding: 24px 32px;
          border-top: 1px solid #E5DCC2;
          display: flex;
          justify-content: flex-end;
          gap: 16px;
        }

        @media (max-width: 768px) {
          .user-profile-modal {
            margin: 12px;
          }

          .user-avatar-section {
            flex-direction: column;
            text-align: center;
            gap: 16px;
          }

          .form-grid {
            grid-template-columns: 1fr;
          }

          .modal-content {
            padding: 20px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/index.tsx":
/*!********************************!*\
  !*** ./src/renderer/index.tsx ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_dom_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom/client */ "./node_modules/react-dom/client.js");
/* harmony import */ var _App__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./App */ "./src/renderer/App.tsx");



const container = document.getElementById('root');
const root = (0,react_dom_client__WEBPACK_IMPORTED_MODULE_1__.createRoot)(container);
root.render((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_App__WEBPACK_IMPORTED_MODULE_2__.App, {}));


/***/ }),

/***/ "./src/renderer/services/ConfigService.ts":
/*!************************************************!*\
  !*** ./src/renderer/services/ConfigService.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ConfigService: () => (/* binding */ ConfigService)
/* harmony export */ });
class ConfigService {
    /**
     * Charge la configuration depuis localStorage
     */
    static getConfig() {
        try {
            const stored = localStorage.getItem(this.CONFIG_KEY);
            if (stored) {
                const config = JSON.parse(stored);
                return { ...this.DEFAULT_CONFIG, ...config };
            }
        }
        catch (error) {
            console.error('Erreur lors du chargement de la configuration:', error);
        }
        return this.DEFAULT_CONFIG;
    }
    /**
     * Sauvegarde la configuration dans localStorage
     */
    static saveConfig(config) {
        try {
            const currentConfig = this.getConfig();
            const newConfig = {
                ...currentConfig,
                ...config,
                configuredAt: new Date().toISOString()
            };
            localStorage.setItem(this.CONFIG_KEY, JSON.stringify(newConfig));
            console.log('Configuration sauvegardée:', newConfig);
        }
        catch (error) {
            console.error('Erreur lors de la sauvegarde de la configuration:', error);
            throw error;
        }
    }
    /**
     * Vérifie si l'application a été configurée
     */
    static isConfigured() {
        return this.getConfig().isConfigured;
    }
    /**
     * Obtient le mode de fonctionnement actuel
     */
    static getMode() {
        return this.getConfig().mode;
    }
    /**
     * Configure l'application avec le mode choisi
     */
    static configureApp(mode) {
        this.saveConfig({
            mode,
            isConfigured: true
        });
    }
    /**
     * Réinitialise la configuration (pour les tests ou la reconfiguration)
     */
    static resetConfig() {
        try {
            localStorage.removeItem(this.CONFIG_KEY);
            console.log('Configuration réinitialisée');
        }
        catch (error) {
            console.error('Erreur lors de la réinitialisation:', error);
        }
    }
    /**
     * Met à jour uniquement le mode sans affecter les autres paramètres
     */
    static updateMode(mode) {
        this.saveConfig({ mode });
    }
    /**
     * Obtient les informations de configuration pour l'affichage
     */
    static getConfigInfo() {
        const config = this.getConfig();
        return {
            ...config,
            displayMode: config.mode === 'offline' ? 'Hors Ligne' : 'En Ligne'
        };
    }
    /**
     * Valide si le mode est supporté
     */
    static isModeSupported(mode) {
        // Pour cette version, seul le mode offline est supporté
        return mode === 'offline';
    }
    /**
     * Obtient la liste des modes disponibles
     */
    static getAvailableModes() {
        return [
            { value: 'offline', label: 'Hors Ligne', supported: true },
            { value: 'online', label: 'En Ligne', supported: false }
        ];
    }
}
ConfigService.CONFIG_KEY = 'bibliotheque_app_config';
ConfigService.DEFAULT_CONFIG = {
    mode: 'offline',
    isConfigured: false,
    configuredAt: '',
    version: '1.0.0'
};


/***/ }),

/***/ "./src/renderer/services/LocalAuthService.ts":
/*!***************************************************!*\
  !*** ./src/renderer/services/LocalAuthService.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LocalAuthService: () => (/* binding */ LocalAuthService)
/* harmony export */ });
// src/renderer/services/LocalAuthService.ts
// Service pour gérer l'authentification et les établissements locaux
class LocalAuthService {
    // === GESTION DES PARAMÈTRES DE L'APPLICATION ===
    static getAppSettings() {
        const settings = localStorage.getItem(this.SETTINGS_KEY);
        return settings ? JSON.parse(settings) : {
            requireAppPassword: false,
            autoLogin: false,
            rememberLastUser: true
        };
    }
    static saveAppSettings(settings) {
        localStorage.setItem(this.SETTINGS_KEY, JSON.stringify(settings));
    }
    static setAppPassword(password) {
        const settings = this.getAppSettings();
        settings.requireAppPassword = true;
        settings.appPassword = password; // En production, il faut hasher
        this.saveAppSettings(settings);
    }
    static verifyAppPassword(password) {
        const settings = this.getAppSettings();
        return !settings.requireAppPassword || settings.appPassword === password;
    }
    static clearAppPassword() {
        const settings = this.getAppSettings();
        settings.requireAppPassword = false;
        delete settings.appPassword;
        this.saveAppSettings(settings);
    }
    // === GESTION DES UTILISATEURS LOCAUX ===
    static getUsers() {
        const users = localStorage.getItem(this.USERS_KEY);
        return users ? JSON.parse(users) : [];
    }
    static saveUsers(users) {
        localStorage.setItem(this.USERS_KEY, JSON.stringify(users));
    }
    static addUser(user) {
        const users = this.getUsers();
        const newUser = {
            ...user,
            id: Date.now().toString(),
            isActive: user.isActive !== undefined ? user.isActive : true,
            createdAt: new Date().toISOString(),
            lastLogin: new Date().toISOString()
        };
        // Vérifier si l'utilisateur existe déjà
        const existingUserIndex = users.findIndex(u => u.email === user.email);
        if (existingUserIndex !== -1) {
            users[existingUserIndex] = newUser;
        }
        else {
            users.push(newUser);
        }
        this.saveUsers(users);
        return newUser;
    }
    static findUser(email, password, institutionCode) {
        const users = this.getUsers();
        return users.find(u => u.email === email &&
            u.password === password &&
            u.institutionCode === institutionCode) || null;
    }
    static updateUserLastLogin(userId) {
        const users = this.getUsers();
        const userIndex = users.findIndex(u => u.id === userId);
        if (userIndex !== -1) {
            users[userIndex].lastLogin = new Date().toISOString();
            this.saveUsers(users);
        }
    }
    static updateUserPreferences(userId, preferences) {
        const users = this.getUsers();
        const userIndex = users.findIndex(u => u.id === userId);
        if (userIndex !== -1) {
            users[userIndex].preferences = {
                rememberMe: false,
                autoLogin: false,
                theme: 'light',
                ...users[userIndex].preferences,
                ...preferences
            };
            this.saveUsers(users);
        }
    }
    // === GESTION DES ÉTABLISSEMENTS LOCAUX ===
    static getInstitutions() {
        const institutions = localStorage.getItem(this.INSTITUTIONS_KEY);
        return institutions ? JSON.parse(institutions) : [];
    }
    static saveInstitutions(institutions) {
        localStorage.setItem(this.INSTITUTIONS_KEY, JSON.stringify(institutions));
    }
    static createInstitution(institutionData) {
        const institutions = this.getInstitutions();
        // Générer un code unique
        let code;
        do {
            code = this.generateInstitutionCode();
        } while (institutions.some(inst => inst.code === code));
        const newInstitution = {
            ...institutionData,
            id: Date.now().toString(),
            code,
            created_at: new Date().toISOString()
        };
        institutions.push(newInstitution);
        this.saveInstitutions(institutions);
        return newInstitution;
    }
    static findInstitutionByCode(code) {
        const institutions = this.getInstitutions();
        return institutions.find(inst => inst.code === code) || null;
    }
    static getAllValidCodes() {
        const institutions = this.getInstitutions();
        const institutionCodes = institutions.map(inst => inst.code);
        // Ajouter les codes par défaut
        const defaultCodes = ['BIBLIO2024', 'OFFLINE', 'LOCAL', 'TEST'];
        return [...defaultCodes, ...institutionCodes];
    }
    static generateInstitutionCode() {
        // Génère un code de 8 caractères alphanumériques
        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
        let result = '';
        for (let i = 0; i < 8; i++) {
            result += chars.charAt(Math.floor(Math.random() * chars.length));
        }
        return result;
    }
    // === GESTION DE LA DERNIÈRE CONNEXION ===
    static saveLastLoginInfo(email, institutionCode, rememberPassword = false, password) {
        const settings = this.getAppSettings();
        if (settings.rememberLastUser) {
            const info = {
                email,
                institutionCode,
                timestamp: new Date().toISOString()
            };
            if (rememberPassword && password) {
                info.password = password; // En production, il faut hasher
            }
            localStorage.setItem(this.LAST_LOGIN_KEY, JSON.stringify(info));
        }
    }
    static getLastLoginInfo() {
        const info = localStorage.getItem(this.LAST_LOGIN_KEY);
        return info ? JSON.parse(info) : null;
    }
    static clearLastLoginInfo() {
        localStorage.removeItem(this.LAST_LOGIN_KEY);
    }
    // === UTILISATEURS PAR DÉFAUT ===
    static getDefaultUsers() {
        return [
            { email: 'admin@local', password: 'admin', role: 'Administrateur' },
            { email: 'bibliothecaire@local', password: 'biblio', role: 'Bibliothécaire' },
            { email: 'test@local', password: 'test', role: 'Utilisateur' }
        ];
    }
    static isDefaultUser(email, password) {
        return this.getDefaultUsers().some(u => u.email === email && u.password === password);
    }
    // === MÉTHODES D'AUTHENTIFICATION ===
    static authenticate(email, password, institutionCode) {
        // Vérifier si le code d'établissement est valide
        const validCodes = this.getAllValidCodes();
        if (!validCodes.includes(institutionCode.toUpperCase())) {
            return { success: false, message: 'Code d\'établissement invalide' };
        }
        // Chercher un utilisateur local d'abord
        const localUser = this.findUser(email, password, institutionCode);
        if (localUser) {
            this.updateUserLastLogin(localUser.id);
            return { success: true, user: localUser };
        }
        // Vérifier les utilisateurs par défaut
        if (this.isDefaultUser(email, password) || password === 'demo') {
            // Créer/mettre à jour l'utilisateur par défaut
            const defaultUser = this.addUser({
                email,
                password,
                firstName: email.split('@')[0].charAt(0).toUpperCase() + email.split('@')[0].slice(1),
                lastName: 'Local',
                role: email.includes('admin') ? 'admin' : email.includes('bibliothecaire') ? 'librarian' : 'user',
                institutionCode,
                preferences: {
                    rememberMe: false,
                    autoLogin: false,
                    theme: 'light'
                }
            });
            return { success: true, user: defaultUser };
        }
        return { success: false, message: 'Identifiants invalides' };
    }
    // === NETTOYAGE ===
    static clearAllData() {
        localStorage.removeItem(this.USERS_KEY);
        localStorage.removeItem(this.INSTITUTIONS_KEY);
        localStorage.removeItem(this.SETTINGS_KEY);
        localStorage.removeItem(this.LAST_LOGIN_KEY);
    }
}
LocalAuthService.USERS_KEY = 'local_users';
LocalAuthService.INSTITUTIONS_KEY = 'local_institutions';
LocalAuthService.SETTINGS_KEY = 'app_settings';
LocalAuthService.LAST_LOGIN_KEY = 'last_login_info';


/***/ }),

/***/ "./src/renderer/services/ReportService.ts":
/*!************************************************!*\
  !*** ./src/renderer/services/ReportService.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ReportService: () => (/* binding */ ReportService)
/* harmony export */ });
class ReportService {
    // Génération de rapport sur les documents
    static generateDocumentReport(documents, options) {
        const now = new Date();
        // Filtrage par date si spécifié
        let filteredDocuments = documents;
        if (options?.dateRange) {
            filteredDocuments = documents.filter(doc => {
                const createdAt = doc.createdAt || doc.lastModified;
                if (!createdAt)
                    return true;
                const docDate = new Date(createdAt);
                return docDate >= new Date(options.dateRange.start) &&
                    docDate <= new Date(options.dateRange.end);
            });
        }
        const reportData = {
            title: 'Rapport des Documents',
            subtitle: `Bibliothèque - ${now.toLocaleDateString('fr-FR')}`,
            generatedAt: now.toISOString(),
            data: filteredDocuments.map(doc => ({
                id: doc.id,
                titre: doc.titre,
                auteur: doc.auteur,
                editeur: doc.editeur,
                annee: doc.annee,
                type: doc.type || 'Livre',
                cote: doc.cote,
                statut: doc.estEmprunte ? 'Emprunté' : 'Disponible',
                emprunteur: doc.nomEmprunteur || '',
                dateEmprunt: doc.dateEmprunt ? new Date(doc.dateEmprunt).toLocaleDateString('fr-FR') : '',
                dateRetourPrevu: doc.dateRetourPrevu ? new Date(doc.dateRetourPrevu).toLocaleDateString('fr-FR') : '',
                descripteurs: doc.descripteurs
            })),
            summary: {
                totalItems: filteredDocuments.length,
                totalDisponibles: filteredDocuments.filter(d => !d.estEmprunte).length,
                totalEmpruntes: filteredDocuments.filter(d => d.estEmprunte).length,
                parType: this.groupByType(filteredDocuments),
                parAnnee: this.groupByYear(filteredDocuments)
            }
        };
        return reportData;
    }
    // Génération de rapport sur les emprunteurs
    static generateBorrowerReport(borrowers, borrowHistory, options) {
        const now = new Date();
        // Filtrage par date si spécifié
        let filteredBorrowers = borrowers;
        if (options?.dateRange) {
            filteredBorrowers = borrowers.filter(borrower => {
                const createdAt = borrower.createdAt || borrower.lastModified;
                if (!createdAt)
                    return true;
                const borrowerDate = new Date(createdAt);
                return borrowerDate >= new Date(options.dateRange.start) &&
                    borrowerDate <= new Date(options.dateRange.end);
            });
        }
        // Calcul des statistiques d'emprunt par emprunteur
        const borrowStats = this.calculateBorrowerStats(filteredBorrowers, borrowHistory || []);
        const reportData = {
            title: 'Rapport des Emprunteurs',
            subtitle: `Bibliothèque - ${now.toLocaleDateString('fr-FR')}`,
            generatedAt: now.toISOString(),
            data: filteredBorrowers.map(borrower => ({
                id: borrower.id,
                nom: `${borrower.firstName} ${borrower.lastName}`,
                matricule: borrower.matricule,
                type: borrower.type === 'student' ? 'Étudiant' : 'Personnel',
                classe: borrower.classe || '',
                cni: borrower.cniNumber || '',
                position: borrower.position || '',
                email: borrower.email || '',
                telephone: borrower.phone || '',
                totalEmprunts: borrowStats[borrower.id]?.totalBorrows || 0,
                empruntsActifs: borrowStats[borrower.id]?.activeBorrows || 0,
                empruntsEnRetard: borrowStats[borrower.id]?.overdueBorrows || 0,
                derniereActivite: borrowStats[borrower.id]?.lastActivity || ''
            })),
            summary: {
                totalItems: filteredBorrowers.length,
                totalEtudiants: filteredBorrowers.filter(b => b.type === 'student').length,
                totalPersonnel: filteredBorrowers.filter(b => b.type === 'staff').length,
                emprunteursActifs: Object.values(borrowStats).filter((stats) => stats.activeBorrows > 0).length,
                totalEmprunts: Object.values(borrowStats).reduce((sum, stats) => sum + stats.totalBorrows, 0)
            }
        };
        return reportData;
    }
    // Génération de rapport d'historique des emprunts
    static generateBorrowHistoryReport(borrowHistory, options) {
        const now = new Date();
        // Filtrage par date si spécifié
        let filteredHistory = borrowHistory;
        if (options?.dateRange) {
            filteredHistory = borrowHistory.filter(history => {
                const borrowDate = new Date(history.borrowDate);
                return borrowDate >= new Date(options.dateRange.start) &&
                    borrowDate <= new Date(options.dateRange.end);
            });
        }
        const reportData = {
            title: 'Rapport d\'Historique des Emprunts',
            subtitle: `Bibliothèque - ${now.toLocaleDateString('fr-FR')}`,
            generatedAt: now.toISOString(),
            data: filteredHistory.map(history => {
                const borrowDate = new Date(history.borrowDate);
                const expectedReturnDate = new Date(history.expectedReturnDate);
                const actualReturnDate = history.actualReturnDate ? new Date(history.actualReturnDate) : null;
                const currentDate = new Date();
                // Calculate loan duration
                const endDate = actualReturnDate || currentDate;
                const loanDuration = Math.ceil((endDate.getTime() - borrowDate.getTime()) / (1000 * 60 * 60 * 24));
                // Calculate overdue days
                let overdueDays = 0;
                if (history.status === 'overdue' || (history.status === 'active' && currentDate > expectedReturnDate)) {
                    const checkDate = actualReturnDate || currentDate;
                    overdueDays = Math.max(0, Math.ceil((checkDate.getTime() - expectedReturnDate.getTime()) / (1000 * 60 * 60 * 24)));
                }
                return {
                    // Document Information
                    documentTitre: history.document?.titre || `Document ID: ${history.documentId}`,
                    documentAuteur: history.document?.auteur || '',
                    documentEditeur: history.document?.editeur || '',
                    documentAnnee: history.document?.annee || '',
                    documentType: history.document?.type || 'Livre',
                    documentCote: history.document?.cote || '',
                    documentISBN: history.document?.isbn || '',
                    // Borrower Information  
                    emprunteurNom: history.borrower ? `${history.borrower.firstName} ${history.borrower.lastName}` : `Emprunteur ID: ${history.borrowerId}`,
                    emprunteurPrenom: history.borrower?.firstName || '',
                    emprunteurNomFamille: history.borrower?.lastName || '',
                    emprunteurMatricule: history.borrower?.matricule || '',
                    emprunteurType: history.borrower?.type === 'student' ? 'Étudiant' : history.borrower?.type === 'staff' ? 'Personnel' : '',
                    emprunteurClasse: history.borrower?.classe || '',
                    emprunteurPosition: history.borrower?.position || '',
                    emprunteurEmail: history.borrower?.email || '',
                    emprunteurTelephone: history.borrower?.phone || '',
                    emprunteurCNI: history.borrower?.cniNumber || '',
                    // Loan Details
                    dateEmprunt: borrowDate.toLocaleDateString('fr-FR'),
                    heureEmprunt: borrowDate.toLocaleTimeString('fr-FR'),
                    dateRetourPrevu: expectedReturnDate.toLocaleDateString('fr-FR'),
                    dateRetourEffective: actualReturnDate ? actualReturnDate.toLocaleDateString('fr-FR') : '',
                    heureRetourEffective: actualReturnDate ? actualReturnDate.toLocaleTimeString('fr-FR') : '',
                    // Status and Duration
                    statut: history.status === 'active' ? 'En cours' :
                        history.status === 'returned' ? 'Retourné' :
                            history.status === 'overdue' ? 'En retard' : 'Inconnu',
                    dureeEmprunt: `${loanDuration} jour${loanDuration > 1 ? 's' : ''}`,
                    joursRetard: overdueDays > 0 ? `${overdueDays} jour${overdueDays > 1 ? 's' : ''}` : '',
                    estEnRetard: overdueDays > 0 ? 'Oui' : 'Non',
                    // Additional Information
                    notes: history.notes || '',
                    periodeEmprunt: this.calculateLoanPeriod(borrowDate, expectedReturnDate),
                    saisonEmprunt: this.getSeason(borrowDate),
                    anneeScolaire: this.getSchoolYear(borrowDate)
                };
            }),
            summary: {
                totalItems: filteredHistory.length,
                empruntsActifs: filteredHistory.filter(h => h.status === 'active').length,
                empruntsRetournes: filteredHistory.filter(h => h.status === 'returned').length,
                empruntsEnRetard: filteredHistory.filter(h => h.status === 'overdue').length,
                dureeMovenneEmprunt: this.calculateAverageBorrowDuration(filteredHistory)
            }
        };
        return reportData;
    }
    // Export en CSV
    static exportToCSV(reportData) {
        if (reportData.data.length === 0)
            return '';
        const headers = Object.keys(reportData.data[0]);
        const csvContent = [
            `"${reportData.title}"`,
            `"Généré le: ${new Date(reportData.generatedAt).toLocaleString('fr-FR')}"`,
            '',
            headers.map(h => `"${h}"`).join(','),
            ...reportData.data.map(row => headers.map(header => `"${(row[header] || '').toString().replace(/"/g, '""')}"`).join(','))
        ].join('\n');
        // Add UTF-8 BOM for proper Excel encoding
        return '\ufeff' + csvContent;
    }
    // Export en PDF (génère le contenu HTML à convertir)
    static generatePDFContent(reportData) {
        const styles = `
      <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .header { text-align: center; margin-bottom: 30px; }
        .header h1 { color: #3E5C49; margin-bottom: 5px; }
        .header p { color: #666; margin: 0; }
        .summary { background: #f5f5f5; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
        .summary h3 { margin-top: 0; color: #3E5C49; }
        .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; }
        .summary-item { background: white; padding: 10px; border-radius: 4px; }
        .summary-item strong { color: #C2571B; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 8px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background-color: #3E5C49; color: white; }
        tr:nth-child(even) { background-color: #f9f9f9; }
        .footer { margin-top: 30px; text-align: center; color: #666; font-size: 12px; }
      </style>
    `;
        const summaryHtml = reportData.summary ? `
      <div class="summary">
        <h3>Résumé</h3>
        <div class="summary-grid">
          ${Object.entries(reportData.summary).map(([key, value]) => `
            <div class="summary-item">
              <strong>${this.formatSummaryKey(key)}:</strong> ${this.formatSummaryValue(value)}
            </div>
          `).join('')}
        </div>
      </div>
    ` : '';
        const tableHeaders = reportData.data.length > 0 ? Object.keys(reportData.data[0]) : [];
        const tableHtml = `
      <table>
        <thead>
          <tr>
            ${tableHeaders.map(header => `<th>${this.formatColumnHeader(header)}</th>`).join('')}
          </tr>
        </thead>
        <tbody>
          ${reportData.data.map(row => `
            <tr>
              ${tableHeaders.map(header => `<td>${row[header] || ''}</td>`).join('')}
            </tr>
          `).join('')}
        </tbody>
      </table>
    `;
        return `
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="utf-8">
          <title>${reportData.title}</title>
          ${styles}
        </head>
        <body>
          <div class="header">
            <h1>${reportData.title}</h1>
            <p>${reportData.subtitle}</p>
            <p>Généré le ${new Date(reportData.generatedAt).toLocaleString('fr-FR')}</p>
          </div>
          
          ${summaryHtml}
          ${tableHtml}
          
          <div class="footer">
            <p>Ce rapport a été généré automatiquement par l'application Bibliothèque</p>
          </div>
        </body>
      </html>
    `;
    }
    // Téléchargement du fichier
    static downloadFile(content, filename, mimeType) {
        // Ensure proper UTF-8 encoding for CSV files
        const blob = new Blob([content], {
            type: mimeType + ';charset=utf-8'
        });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    }
    // Méthodes utilitaires
    static groupByType(documents) {
        return documents.reduce((acc, doc) => {
            const type = doc.type || 'Livre';
            acc[type] = (acc[type] || 0) + 1;
            return acc;
        }, {});
    }
    static groupByYear(documents) {
        return documents.reduce((acc, doc) => {
            const year = doc.annee || 'Non spécifié';
            acc[year] = (acc[year] || 0) + 1;
            return acc;
        }, {});
    }
    static calculateBorrowerStats(borrowers, borrowHistory) {
        const stats = {};
        borrowers.forEach(borrower => {
            if (!borrower.id)
                return;
            const borrowerHistory = borrowHistory.filter(h => h.borrowerId === borrower.id);
            const activeBorrows = borrowerHistory.filter(h => h.status === 'active').length;
            const overdueBorrows = borrowerHistory.filter(h => h.status === 'overdue').length;
            const lastActivity = borrowerHistory.length > 0 ?
                Math.max(...borrowerHistory.map(h => new Date(h.borrowDate).getTime())) : null;
            stats[borrower.id] = {
                totalBorrows: borrowerHistory.length,
                activeBorrows,
                overdueBorrows,
                lastActivity: lastActivity ? new Date(lastActivity).toLocaleDateString('fr-FR') : ''
            };
        });
        return stats;
    }
    static calculateAverageBorrowDuration(borrowHistory) {
        const returnedBorrows = borrowHistory.filter(h => h.actualReturnDate);
        if (returnedBorrows.length === 0)
            return 'N/A';
        const totalDays = returnedBorrows.reduce((sum, history) => {
            const borrowDate = new Date(history.borrowDate);
            const returnDate = new Date(history.actualReturnDate);
            const duration = Math.ceil((returnDate.getTime() - borrowDate.getTime()) / (1000 * 60 * 60 * 24));
            return sum + duration;
        }, 0);
        const average = Math.round(totalDays / returnedBorrows.length);
        return `${average} jours`;
    }
    static formatSummaryKey(key) {
        const keyMap = {
            totalItems: 'Total d\'éléments',
            totalDisponibles: 'Documents disponibles',
            totalEmpruntes: 'Documents empruntés',
            totalEtudiants: 'Étudiants',
            totalPersonnel: 'Personnel',
            emprunteursActifs: 'Emprunteurs actifs',
            totalEmprunts: 'Total emprunts',
            empruntsActifs: 'Emprunts actifs',
            empruntsRetournes: 'Emprunts retournés',
            empruntsEnRetard: 'Emprunts en retard',
            dureeMovenneEmprunt: 'Durée moyenne'
        };
        return keyMap[key] || key;
    }
    static formatSummaryValue(value) {
        if (typeof value === 'object' && value !== null) {
            return Object.entries(value).map(([k, v]) => `${k}: ${v}`).join(', ');
        }
        return value.toString();
    }
    static formatColumnHeader(header) {
        const headerMap = {
            // Document fields
            id: 'ID',
            titre: 'Titre',
            auteur: 'Auteur',
            editeur: 'Éditeur',
            annee: 'Année',
            type: 'Type',
            cote: 'Cote',
            statut: 'Statut',
            descripteurs: 'Descripteurs',
            // Enhanced document fields for history report
            documentTitre: 'Titre du Document',
            documentAuteur: 'Auteur du Document',
            documentEditeur: 'Éditeur',
            documentAnnee: 'Année de Publication',
            documentType: 'Type de Document',
            documentCote: 'Cote',
            documentISBN: 'ISBN',
            // Borrower fields
            nom: 'Nom',
            matricule: 'Matricule',
            classe: 'Classe',
            cni: 'CNI',
            position: 'Position',
            email: 'Email',
            telephone: 'Téléphone',
            // Enhanced borrower fields for history report
            emprunteur: 'Emprunteur',
            emprunteurNom: 'Nom Complet',
            emprunteurPrenom: 'Prénom',
            emprunteurNomFamille: 'Nom de Famille',
            emprunteurMatricule: 'Matricule',
            emprunteurType: 'Type d\'Emprunteur',
            emprunteurClasse: 'Classe/Niveau',
            emprunteurPosition: 'Poste/Position',
            emprunteurEmail: 'Email',
            emprunteurTelephone: 'Téléphone',
            emprunteurCNI: 'CNI',
            // Loan fields
            dateEmprunt: 'Date d\'Emprunt',
            heureEmprunt: 'Heure d\'Emprunt',
            dateRetourPrevu: 'Date de Retour Prévue',
            dateRetourEffective: 'Date de Retour Effective',
            heureRetourEffective: 'Heure de Retour',
            dureeEmprunt: 'Durée d\'Emprunt',
            joursRetard: 'Jours de Retard',
            estEnRetard: 'En Retard',
            periodeEmprunt: 'Période d\'Emprunt',
            saisonEmprunt: 'Saison',
            anneeScolaire: 'Année Scolaire',
            // Statistics fields
            totalEmprunts: 'Total Emprunts',
            empruntsActifs: 'Emprunts Actifs',
            empruntsEnRetard: 'En Retard',
            derniereActivite: 'Dernière Activité',
            // General fields
            document: 'Document',
            notes: 'Notes et Observations'
        };
        return headerMap[header] || header;
    }
    // New utility methods for enhanced history report
    static calculateLoanPeriod(borrowDate, expectedReturnDate) {
        const diffTime = expectedReturnDate.getTime() - borrowDate.getTime();
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        if (diffDays <= 7)
            return 'Court terme (≤7 jours)';
        if (diffDays <= 14)
            return 'Moyen terme (8-14 jours)';
        if (diffDays <= 30)
            return 'Long terme (15-30 jours)';
        return 'Très long terme (>30 jours)';
    }
    static getSeason(date) {
        const month = date.getMonth() + 1; // getMonth() returns 0-11
        if (month >= 3 && month <= 5)
            return 'Printemps';
        if (month >= 6 && month <= 8)
            return 'Été';
        if (month >= 9 && month <= 11)
            return 'Automne';
        return 'Hiver';
    }
    static getSchoolYear(date) {
        const year = date.getFullYear();
        const month = date.getMonth() + 1;
        // Academic year typically starts in September
        if (month >= 9) {
            return `${year}-${year + 1}`;
        }
        else {
            return `${year - 1}-${year}`;
        }
    }
}


/***/ }),

/***/ "./src/renderer/services/StatisticsService.ts":
/*!****************************************************!*\
  !*** ./src/renderer/services/StatisticsService.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StatisticsService: () => (/* binding */ StatisticsService)
/* harmony export */ });
class StatisticsService {
    static generateDetailedStatistics(documents, borrowers, borrowHistory) {
        return {
            overview: this.generateOverviewStats(documents, borrowers, borrowHistory),
            documents: this.generateDocumentStats(documents, borrowHistory),
            borrowers: this.generateBorrowerStats(borrowers, borrowHistory),
            borrowHistory: this.generateBorrowHistoryStats(borrowHistory),
            trends: this.generateTrendStats(borrowHistory),
            insights: this.generateInsightStats(documents, borrowers, borrowHistory)
        };
    }
    static generateOverviewStats(documents, borrowers, borrowHistory) {
        const activeLoans = borrowHistory.filter(bh => bh.status === 'active').length;
        const overdueLoans = borrowHistory.filter(bh => bh.status === 'overdue').length;
        const availableDocuments = documents.length - activeLoans;
        const returnedLoans = borrowHistory.filter(bh => bh.actualReturnDate);
        const totalLoanDays = returnedLoans.reduce((sum, bh) => {
            const borrowDate = new Date(bh.borrowDate);
            const returnDate = new Date(bh.actualReturnDate);
            const days = Math.ceil((returnDate.getTime() - borrowDate.getTime()) / (1000 * 60 * 60 * 24));
            return sum + days;
        }, 0);
        return {
            totalDocuments: documents.length,
            totalBorrowers: borrowers.length,
            totalBorrows: borrowHistory.length,
            activeLoans,
            overdueLoans,
            availableDocuments,
            utilizationRate: documents.length > 0 ? (activeLoans / documents.length) * 100 : 0,
            averageLoanDuration: returnedLoans.length > 0 ? Math.round(totalLoanDays / returnedLoans.length) : 0
        };
    }
    static generateDocumentStats(documents, borrowHistory) {
        // Compter les emprunts par document
        const borrowCounts = new Map();
        const lastBorrowed = new Map();
        borrowHistory.forEach(bh => {
            borrowCounts.set(bh.documentId, (borrowCounts.get(bh.documentId) || 0) + 1);
            const currentDate = lastBorrowed.get(bh.documentId);
            if (!currentDate || new Date(bh.borrowDate) > new Date(currentDate)) {
                lastBorrowed.set(bh.documentId, bh.borrowDate);
            }
        });
        // Documents par type
        const totalByType = documents.reduce((acc, doc) => {
            const type = doc.type || 'Livre';
            acc[type] = (acc[type] || 0) + 1;
            return acc;
        }, {});
        // Documents par année
        const totalByYear = documents.reduce((acc, doc) => {
            const year = doc.annee || 'Non spécifié';
            acc[year] = (acc[year] || 0) + 1;
            return acc;
        }, {});
        // Documents par auteur
        const totalByAuthor = documents.reduce((acc, doc) => {
            acc[doc.auteur] = (acc[doc.auteur] || 0) + 1;
            return acc;
        }, {});
        // Documents avec leur popularité
        const documentsWithBorrowCount = documents.map(doc => ({
            document: doc,
            borrowCount: borrowCounts.get(doc.id) || 0,
            lastBorrowed: lastBorrowed.get(doc.id)
        }));
        // Trier par popularité
        const sortedByPopularity = [...documentsWithBorrowCount].sort((a, b) => b.borrowCount - a.borrowCount);
        // Documents les plus/moins empruntés
        const mostBorrowedDocuments = sortedByPopularity.slice(0, 10);
        const leastBorrowedDocuments = sortedByPopularity.slice(-10).reverse();
        const neverBorrowedDocuments = documents.filter(doc => (borrowCounts.get(doc.id) || 0) === 0);
        // Catégoriser par popularité
        const maxBorrows = Math.max(...documentsWithBorrowCount.map(d => d.borrowCount));
        const documentsByPopularity = documentsWithBorrowCount.map(item => ({
            ...item,
            rating: this.getRatingFromBorrowCount(item.borrowCount, maxBorrows)
        }));
        // Âge moyen des documents
        const currentYear = new Date().getFullYear();
        const averageDocumentAge = documents.reduce((sum, doc) => {
            const year = parseInt(doc.annee) || currentYear;
            return sum + (currentYear - year);
        }, 0) / documents.length;
        return {
            totalByType,
            totalByYear,
            totalByAuthor,
            mostBorrowedDocuments,
            leastBorrowedDocuments,
            neverBorrowedDocuments,
            documentsByPopularity,
            averageDocumentAge: Math.round(averageDocumentAge),
            documentsByStatus: {
                available: documents.filter(d => !d.estEmprunte).length,
                borrowed: documents.filter(d => d.estEmprunte && !this.isOverdue(d)).length,
                overdue: documents.filter(d => d.estEmprunte && this.isOverdue(d)).length
            }
        };
    }
    static generateBorrowerStats(borrowers, borrowHistory) {
        // Statistiques par emprunteur
        const borrowerStats = new Map();
        borrowHistory.forEach(bh => {
            const stats = borrowerStats.get(bh.borrowerId) || {
                borrowCount: 0,
                activeLoans: 0,
                overdueLoans: 0,
                totalDuration: 0,
                returnedLoans: 0
            };
            stats.borrowCount++;
            if (bh.status === 'active')
                stats.activeLoans++;
            if (bh.status === 'overdue')
                stats.overdueLoans++;
            if (bh.actualReturnDate) {
                const duration = Math.ceil((new Date(bh.actualReturnDate).getTime() - new Date(bh.borrowDate).getTime()) / (1000 * 60 * 60 * 24));
                stats.totalDuration += duration;
                stats.returnedLoans++;
            }
            if (!stats.lastActivity || new Date(bh.borrowDate) > new Date(stats.lastActivity)) {
                stats.lastActivity = bh.borrowDate;
            }
            borrowerStats.set(bh.borrowerId, stats);
        });
        // Top emprunteurs
        const topBorrowers = borrowers
            .map(borrower => {
            const stats = borrowerStats.get(borrower.id) || {
                borrowCount: 0, activeLoans: 0, overdueLoans: 0, totalDuration: 0, returnedLoans: 0
            };
            return {
                borrower,
                borrowCount: stats.borrowCount,
                activeLoans: stats.activeLoans,
                overdueLoans: stats.overdueLoans,
                averageLoanDuration: stats.returnedLoans > 0 ? Math.round(stats.totalDuration / stats.returnedLoans) : 0,
                lastActivity: stats.lastActivity
            };
        })
            .sort((a, b) => b.borrowCount - a.borrowCount)
            .slice(0, 20);
        // Emprunteurs inactifs
        const now = new Date();
        const inactiveBorrowers = borrowers
            .filter(borrower => {
            const stats = borrowerStats.get(borrower.id);
            return !stats || !stats.lastActivity ||
                (now.getTime() - new Date(stats.lastActivity).getTime()) > (90 * 24 * 60 * 60 * 1000); // 90 jours
        })
            .map(borrower => {
            const stats = borrowerStats.get(borrower.id);
            const lastActivity = stats?.lastActivity ? new Date(stats.lastActivity) : null;
            const daysSinceLastActivity = lastActivity ?
                Math.ceil((now.getTime() - lastActivity.getTime()) / (1000 * 60 * 60 * 24)) :
                Infinity;
            return {
                borrower,
                daysSinceLastActivity,
                totalBorrows: stats?.borrowCount || 0
            };
        })
            .sort((a, b) => b.daysSinceLastActivity - a.daysSinceLastActivity);
        // Activité des emprunteurs
        const borrowerActivity = {
            veryActive: 0,
            active: 0,
            moderate: 0,
            low: 0,
            inactive: 0
        };
        borrowers.forEach(borrower => {
            const stats = borrowerStats.get(borrower.id);
            const borrowCount = stats?.borrowCount || 0;
            if (borrowCount === 0)
                borrowerActivity.inactive++;
            else if (borrowCount === 1)
                borrowerActivity.low++;
            else if (borrowCount <= 4)
                borrowerActivity.moderate++;
            else if (borrowCount <= 10)
                borrowerActivity.active++;
            else
                borrowerActivity.veryActive++;
        });
        return {
            totalByType: {
                students: borrowers.filter(b => b.type === 'student').length,
                staff: borrowers.filter(b => b.type === 'staff').length
            },
            topBorrowers,
            inactiveBorrowers,
            borrowerActivity,
            averageBorrowsPerBorrower: borrowHistory.length / Math.max(borrowers.length, 1)
        };
    }
    static generateBorrowHistoryStats(borrowHistory) {
        const totalBorrows = borrowHistory.length;
        const totalReturns = borrowHistory.filter(bh => bh.actualReturnDate).length;
        const activeLoans = borrowHistory.filter(bh => bh.status === 'active').length;
        const overdueLoans = borrowHistory.filter(bh => bh.status === 'overdue').length;
        // Taux de retour à temps
        const onTimeReturns = borrowHistory.filter(bh => {
            if (!bh.actualReturnDate)
                return false;
            return new Date(bh.actualReturnDate) <= new Date(bh.expectedReturnDate);
        }).length;
        const returnRate = totalReturns > 0 ? (onTimeReturns / totalReturns) * 100 : 0;
        // Emprunts par mois
        const borrowsByMonth = borrowHistory.reduce((acc, bh) => {
            const month = new Date(bh.borrowDate).toLocaleString('fr-FR', { year: 'numeric', month: 'long' });
            acc[month] = (acc[month] || 0) + 1;
            return acc;
        }, {});
        // Retours par mois
        const returnsByMonth = borrowHistory
            .filter(bh => bh.actualReturnDate)
            .reduce((acc, bh) => {
            const month = new Date(bh.actualReturnDate).toLocaleString('fr-FR', { year: 'numeric', month: 'long' });
            acc[month] = (acc[month] || 0) + 1;
            return acc;
        }, {});
        // Périodes de pointe
        const peakBorrowingPeriods = Object.entries(borrowsByMonth)
            .sort(([, a], [, b]) => b - a)
            .slice(0, 5)
            .map(([period, count]) => ({
            period,
            count,
            type: 'month'
        }));
        // Durée moyenne d'emprunt
        const returnedLoans = borrowHistory.filter(bh => bh.actualReturnDate);
        const totalDuration = returnedLoans.reduce((sum, bh) => {
            const duration = Math.ceil((new Date(bh.actualReturnDate).getTime() - new Date(bh.borrowDate).getTime()) / (1000 * 60 * 60 * 24));
            return sum + duration;
        }, 0);
        const averageLoanDuration = returnedLoans.length > 0 ? Math.round(totalDuration / returnedLoans.length) : 0;
        // Emprunts les plus longs
        const longestLoans = borrowHistory
            .map(bh => {
            const endDate = bh.actualReturnDate ? new Date(bh.actualReturnDate) : new Date();
            const duration = Math.ceil((endDate.getTime() - new Date(bh.borrowDate).getTime()) / (1000 * 60 * 60 * 24));
            return {
                borrowHistory: bh,
                duration,
                status: bh.status
            };
        })
            .sort((a, b) => b.duration - a.duration)
            .slice(0, 10);
        // Emprunteurs les plus fréquents
        const borrowerCounts = borrowHistory.reduce((acc, bh) => {
            if (bh.borrower) {
                const existing = acc.find(item => item.borrower.id === bh.borrower.id);
                if (existing) {
                    existing.borrowCount++;
                }
                else {
                    acc.push({
                        borrower: bh.borrower,
                        borrowCount: 1
                    });
                }
            }
            return acc;
        }, []);
        const mostFrequentBorrowers = borrowerCounts
            .sort((a, b) => b.borrowCount - a.borrowCount)
            .slice(0, 10);
        return {
            totalBorrows,
            totalReturns,
            activeLoans,
            overdueLoans,
            returnRate,
            borrowsByMonth,
            returnsByMonth,
            peakBorrowingPeriods,
            averageLoanDuration,
            longestLoans,
            mostFrequentBorrowers
        };
    }
    static generateTrendStats(borrowHistory) {
        const now = new Date();
        const thisMonth = new Date(now.getFullYear(), now.getMonth(), 1);
        const lastMonth = new Date(now.getFullYear(), now.getMonth() - 1, 1);
        const thisMonthBorrows = borrowHistory.filter(bh => new Date(bh.borrowDate) >= thisMonth).length;
        const lastMonthBorrows = borrowHistory.filter(bh => {
            const borrowDate = new Date(bh.borrowDate);
            return borrowDate >= lastMonth && borrowDate < thisMonth;
        }).length;
        const growth = lastMonthBorrows > 0 ? ((thisMonthBorrows - lastMonthBorrows) / lastMonthBorrows) * 100 : 0;
        let trend = 'stable';
        if (Math.abs(growth) > 5) {
            trend = growth > 0 ? 'up' : 'down';
        }
        // Catégories populaires (basé sur les descripteurs)
        const categoryBorrows = borrowHistory.reduce((acc, bh) => {
            if (bh.document?.descripteurs) {
                const categories = bh.document.descripteurs.split(',').map(c => c.trim());
                categories.forEach(category => {
                    acc[category] = (acc[category] || 0) + 1;
                });
            }
            return acc;
        }, {});
        const popularCategories = Object.entries(categoryBorrows)
            .sort(([, a], [, b]) => b - a)
            .slice(0, 10)
            .map(([category, borrowCount]) => ({
            category,
            borrowCount,
            growthRate: 0 // Simplified for now
        }));
        // Tendances saisonnières (simplifié)
        const seasonalTrends = {
            borrowing: {
                spring: borrowHistory.filter(bh => this.getSeason(new Date(bh.borrowDate)) === 'spring').length,
                summer: borrowHistory.filter(bh => this.getSeason(new Date(bh.borrowDate)) === 'summer').length,
                fall: borrowHistory.filter(bh => this.getSeason(new Date(bh.borrowDate)) === 'fall').length,
                winter: borrowHistory.filter(bh => this.getSeason(new Date(bh.borrowDate)) === 'winter').length
            }
        };
        // Modèles quotidiens (jour de la semaine)
        const dailyPatterns = borrowHistory.reduce((acc, bh) => {
            const dayOfWeek = new Date(bh.borrowDate).toLocaleDateString('fr-FR', { weekday: 'long' });
            acc[dayOfWeek] = (acc[dayOfWeek] || 0) + 1;
            return acc;
        }, {});
        return {
            borrowingTrends: {
                thisMonth: thisMonthBorrows,
                lastMonth: lastMonthBorrows,
                growth,
                trend
            },
            popularCategories,
            seasonalTrends,
            dailyPatterns
        };
    }
    static generateInsightStats(documents, borrowers, borrowHistory) {
        const recommendations = [];
        const alerts = [];
        // Documents jamais empruntés
        const neverBorrowedCount = documents.filter(doc => !borrowHistory.some(bh => bh.documentId === doc.id)).length;
        if (neverBorrowedCount > documents.length * 0.3) {
            recommendations.push({
                type: 'marketing',
                title: 'Promouvoir les documents non empruntés',
                description: `${neverBorrowedCount} documents (${Math.round(neverBorrowedCount / documents.length * 100)}%) n'ont jamais été empruntés. Considérez une campagne de promotion.`,
                priority: 'medium',
                impact: 'Amélioration de l\'utilisation de la collection'
            });
        }
        // Documents en retard
        const overdueCount = borrowHistory.filter(bh => bh.status === 'overdue').length;
        if (overdueCount > 0) {
            alerts.push({
                type: 'overdue',
                title: 'Documents en retard',
                description: 'Des documents sont en retard et nécessitent un suivi',
                count: overdueCount,
                severity: overdueCount > 10 ? 'critical' : 'warning'
            });
        }
        // Emprunteurs inactifs
        const inactiveCount = borrowers.filter(borrower => {
            const hasRecentActivity = borrowHistory.some(bh => bh.borrowerId === borrower.id &&
                new Date(bh.borrowDate) > new Date(Date.now() - 90 * 24 * 60 * 60 * 1000));
            return !hasRecentActivity;
        }).length;
        if (inactiveCount > borrowers.length * 0.5) {
            recommendations.push({
                type: 'marketing',
                title: 'Réengager les emprunteurs inactifs',
                description: `${inactiveCount} emprunteurs n'ont pas d'activité récente. Lancez une campagne de réengagement.`,
                priority: 'medium',
                impact: 'Augmentation de l\'engagement des utilisateurs'
            });
        }
        // Performance générale
        const collectionUtilization = documents.length > 0 ?
            (borrowHistory.length / documents.length) * 100 : 0;
        const borrowerEngagement = borrowers.length > 0 ?
            (borrowHistory.length / borrowers.length) * 100 : 0;
        const onTimeReturns = borrowHistory.filter(bh => bh.actualReturnDate && new Date(bh.actualReturnDate) <= new Date(bh.expectedReturnDate)).length;
        const returnCompliance = borrowHistory.length > 0 ?
            (onTimeReturns / borrowHistory.filter(bh => bh.actualReturnDate).length) * 100 : 100;
        const overallHealth = (collectionUtilization + borrowerEngagement + returnCompliance) / 3;
        return {
            recommendations,
            alerts,
            performance: {
                collectionUtilization: Math.round(collectionUtilization),
                borrowerEngagement: Math.round(borrowerEngagement),
                returnCompliance: Math.round(returnCompliance),
                overallHealth: Math.round(overallHealth)
            }
        };
    }
    // Méthodes utilitaires
    static getRatingFromBorrowCount(borrowCount, maxBorrows) {
        if (borrowCount === 0)
            return 'none';
        if (borrowCount >= maxBorrows * 0.7)
            return 'high';
        if (borrowCount >= maxBorrows * 0.3)
            return 'medium';
        return 'low';
    }
    static isOverdue(document) {
        if (!document.dateRetourPrevu || !document.estEmprunte)
            return false;
        return new Date() > new Date(document.dateRetourPrevu);
    }
    static getSeason(date) {
        const month = date.getMonth();
        if (month >= 2 && month <= 4)
            return 'spring';
        if (month >= 5 && month <= 7)
            return 'summer';
        if (month >= 8 && month <= 10)
            return 'fall';
        return 'winter';
    }
    // Export des statistiques
    static exportToCSV(statistics) {
        const sections = [
            '# VUE D\'ENSEMBLE',
            `Total Documents,${statistics.overview.totalDocuments}`,
            `Total Emprunteurs,${statistics.overview.totalBorrowers}`,
            `Total Emprunts,${statistics.overview.totalBorrows}`,
            `Emprunts Actifs,${statistics.overview.activeLoans}`,
            `Emprunts en Retard,${statistics.overview.overdueLoans}`,
            `Taux d'Utilisation,%${statistics.overview.utilizationRate.toFixed(2)}`,
            '',
            '# DOCUMENTS POPULAIRES',
            'Titre,Auteur,Nombre d\'Emprunts',
            ...statistics.documents.mostBorrowedDocuments.slice(0, 10).map(item => `"${item.document.titre}","${item.document.auteur}",${item.borrowCount}`),
            '',
            '# TOP EMPRUNTEURS',
            'Nom,Type,Nombre d\'Emprunts,Emprunts Actifs',
            ...statistics.borrowers.topBorrowers.slice(0, 10).map(item => `"${item.borrower.firstName} ${item.borrower.lastName}","${item.borrower.type}",${item.borrowCount},${item.activeLoans}`)
        ];
        return sections.join('\n');
    }
    static exportToPDF(statistics) {
        // Génère du HTML pour conversion PDF
        return `
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="utf-8">
          <title>Statistiques Détaillées de la Bibliothèque</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #3E5C49; padding-bottom: 20px; }
            .section { margin-bottom: 30px; }
            .section h2 { color: #3E5C49; border-bottom: 1px solid #eee; padding-bottom: 10px; }
            .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0; }
            .stat-card { background: #f5f5f5; padding: 15px; border-radius: 8px; text-align: center; }
            .stat-value { font-size: 24px; font-weight: bold; color: #C2571B; }
            .stat-label { font-size: 14px; color: #666; }
            table { width: 100%; border-collapse: collapse; margin: 15px 0; }
            th, td { padding: 8px; text-align: left; border-bottom: 1px solid #ddd; }
            th { background-color: #3E5C49; color: white; }
            .insight { background: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; border-radius: 5px; margin: 10px 0; }
            .alert { background: #f8d7da; border: 1px solid #f5c6cb; padding: 15px; border-radius: 5px; margin: 10px 0; }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>Statistiques Détaillées de la Bibliothèque</h1>
            <p>Généré le ${new Date().toLocaleString('fr-FR')}</p>
          </div>
          
          <div class="section">
            <h2>Vue d'Ensemble</h2>
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-value">${statistics.overview.totalDocuments}</div>
                <div class="stat-label">Documents</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${statistics.overview.totalBorrowers}</div>
                <div class="stat-label">Emprunteurs</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${statistics.overview.totalBorrows}</div>
                <div class="stat-label">Total Emprunts</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${statistics.overview.utilizationRate.toFixed(1)}%</div>
                <div class="stat-label">Taux d'Utilisation</div>
              </div>
            </div>
          </div>

          <div class="section">
            <h2>Documents les Plus Populaires</h2>
            <table>
              <thead>
                <tr><th>Titre</th><th>Auteur</th><th>Emprunts</th></tr>
              </thead>
              <tbody>
                ${statistics.documents.mostBorrowedDocuments.slice(0, 10).map(item => `
                  <tr>
                    <td>${item.document.titre}</td>
                    <td>${item.document.auteur}</td>
                    <td>${item.borrowCount}</td>
                  </tr>
                `).join('')}
              </tbody>
            </table>
          </div>

          <div class="section">
            <h2>Recommandations</h2>
            ${statistics.insights.recommendations.map(rec => `
              <div class="insight">
                <strong>${rec.title}</strong><br>
                ${rec.description}
              </div>
            `).join('')}
          </div>

          <div class="section">
            <h2>Alertes</h2>
            ${statistics.insights.alerts.map(alert => `
              <div class="alert">
                <strong>${alert.title}</strong> (${alert.count})<br>
                ${alert.description}
              </div>
            `).join('')}
          </div>
        </body>
      </html>
    `;
    }
}


/***/ }),

/***/ "./src/renderer/services/SupabaseClient.ts":
/*!*************************************************!*\
  !*** ./src/renderer/services/SupabaseClient.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SupabaseRendererService: () => (/* binding */ SupabaseRendererService),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   supabaseRenderer: () => (/* binding */ supabaseRenderer)
/* harmony export */ });
// Service Supabase pour le renderer (frontend) - Sans dépendances Node.js
// Service Supabase simplifié pour le renderer - utilise principalement l'authentification locale
class SupabaseRendererService {
    constructor() {
        this.currentUser = null;
        this.currentInstitution = null;
        this.supabaseUrl = '';
        this.supabaseKey = '';
        // Récupérer la configuration Supabase depuis les variables d'environnement via Electron
        this.loadSupabaseConfig();
    }
    async loadSupabaseConfig() {
        try {
            // Essayer de récupérer la config via IPC Electron
            if (window.electronAPI && window.electronAPI.getSupabaseConfig) {
                const config = await window.electronAPI.getSupabaseConfig();
                if (config) {
                    this.supabaseUrl = config.url || '';
                    this.supabaseKey = config.key || '';
                }
            }
        }
        catch (error) {
            console.log('Configuration Supabase non disponible, mode local activé');
        }
    }
    async callSupabaseAPI(endpoint, options = {}) {
        if (!this.supabaseUrl || !this.supabaseKey) {
            throw new Error('Configuration Supabase manquante');
        }
        const url = `${this.supabaseUrl}/auth/v1${endpoint}`;
        const response = await fetch(url, {
            ...options,
            headers: {
                'Content-Type': 'application/json',
                'apikey': this.supabaseKey,
                'Authorization': `Bearer ${this.supabaseKey}`,
                ...options.headers,
            },
        });
        if (!response.ok) {
            const error = await response.text();
            throw new Error(`Erreur API Supabase: ${error}`);
        }
        return response.json();
    }
    // Méthodes d'authentification - utilise Supabase API si disponible, sinon authentification locale
    async signIn(email, password) {
        try {
            // Essayer l'authentification Supabase en premier
            if (this.supabaseUrl && this.supabaseKey) {
                console.log('Tentative d\'authentification Supabase...');
                const result = await this.callSupabaseAPI('/token?grant_type=password', {
                    method: 'POST',
                    body: JSON.stringify({
                        email,
                        password
                    })
                });
                if (result.access_token && result.user) {
                    // Créer l'utilisateur au format de l'application
                    const user = {
                        id: result.user.id,
                        firstName: result.user.user_metadata?.first_name || result.user.user_metadata?.firstName || 'Utilisateur',
                        lastName: result.user.user_metadata?.last_name || result.user.user_metadata?.lastName || 'Supabase',
                        email: result.user.email,
                        role: result.user.user_metadata?.role || 'user'
                    };
                    this.currentUser = user;
                    console.log('Authentification Supabase réussie:', user);
                    return {
                        success: true,
                        user,
                        message: 'Connexion Supabase réussie'
                    };
                }
            }
        }
        catch (supabaseError) {
            console.log('Échec authentification Supabase:', supabaseError.message);
            // Continuer vers l'authentification locale
        }
        try {
            // Authentification locale de fallback - simule une connexion réussie
            console.log('Utilisation de l\'authentification locale de fallback...');
            const user = {
                id: Date.now().toString(),
                firstName: 'Administrateur',
                lastName: 'Local',
                email: email
            };
            this.currentUser = user;
            return {
                success: true,
                user,
                message: 'Connexion locale réussie'
            };
        }
        catch (error) {
            console.error('Sign in failed:', error);
            return { success: false, error: 'Échec de l\'authentification' };
        }
    }
    async signOut() {
        try {
            this.currentUser = null;
            this.currentInstitution = null;
        }
        catch (error) {
            console.error('Sign out failed:', error);
        }
    }
    async signUp(email, password, userData) {
        try {
            // Authentification locale simplifiée
            const user = {
                id: Date.now().toString(),
                firstName: userData.firstName,
                lastName: userData.lastName,
                email: email
            };
            this.currentUser = user;
            return {
                success: true,
                user,
                message: 'Registration successful'
            };
        }
        catch (error) {
            console.error('Sign up failed:', error);
            return { success: false, error: 'Registration failed' };
        }
    }
    async register(userData) {
        try {
            // Utilise l'authentification locale
            const user = {
                id: Date.now().toString(),
                firstName: userData.firstName,
                lastName: userData.lastName
            };
            this.currentUser = user;
            return {
                success: true,
                user,
                message: 'Registration successful'
            };
        }
        catch (error) {
            console.error('Registration failed:', error);
            return {
                success: false,
                message: 'Registration failed'
            };
        }
    }
    // Document management methods
    async getDocuments(institutionCode) {
        try {
            if (window.electronAPI && window.electronAPI.getDocuments) {
                return await window.electronAPI.getDocuments(institutionCode);
            }
            return [];
        }
        catch (error) {
            console.error('Error getting documents:', error);
            return [];
        }
    }
    async addDocument(document, institutionCode) {
        try {
            if (window.electronAPI && window.electronAPI.addDocument) {
                return await window.electronAPI.addDocument(document, institutionCode);
            }
            throw new Error('Add document API not available');
        }
        catch (error) {
            console.error('Error adding document:', error);
            throw error;
        }
    }
    async deleteDocument(id, institutionCode) {
        try {
            if (window.electronAPI && window.electronAPI.deleteDocument) {
                return await window.electronAPI.deleteDocument(parseInt(id, 10), institutionCode);
            }
            return false;
        }
        catch (error) {
            console.error('Error deleting document:', error);
            return false;
        }
    }
    // Author and category methods
    async getAuthors(institutionCode) {
        try {
            if (window.electronAPI && window.electronAPI.getAuthors) {
                return await window.electronAPI.getAuthors(institutionCode);
            }
            return [];
        }
        catch (error) {
            console.error('Error getting authors:', error);
            return [];
        }
    }
    async getCategories(institutionCode) {
        try {
            if (window.electronAPI && window.electronAPI.getCategories) {
                return await window.electronAPI.getCategories(institutionCode);
            }
            return [];
        }
        catch (error) {
            console.error('Error getting categories:', error);
            return [];
        }
    }
    // Institution management - utilise des données locales simplifiées
    async createInstitution(institutionData) {
        try {
            // Créer une institution locale
            const institution = {
                id: Date.now().toString(),
                code: institutionData.code || Math.random().toString(36).substr(2, 8).toUpperCase(),
                name: institutionData.name || 'Mon Institution',
                address: institutionData.address || '',
                city: institutionData.city || '',
                country: institutionData.country || '',
                phone: institutionData.phone || '',
                email: institutionData.email || '',
                website: institutionData.website || '',
                logo: institutionData.logo || '',
                description: institutionData.description || '',
                type: institutionData.type || 'library',
                status: 'active',
                subscription_plan: 'basic',
                max_books: 1000,
                max_users: 100,
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            this.currentInstitution = institution;
            return {
                success: true,
                institution,
                code: institution.code
            };
        }
        catch (error) {
            console.error('Error creating institution:', error);
            throw error;
        }
    }
    async switchInstitution(institutionCode) {
        try {
            console.log('🔍 DEBUG switchInstitution - institutionCode:', institutionCode);
            // Toujours créer/mettre à jour l'institution avec le bon code
            const institution = {
                id: institutionCode,
                code: institutionCode,
                name: `Institution ${institutionCode}`,
                address: '',
                city: '',
                country: '',
                phone: '',
                email: '',
                website: '',
                logo: '',
                description: '',
                type: 'library',
                status: 'active',
                subscription_plan: 'basic',
                max_books: 1000,
                max_users: 100,
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            this.currentInstitution = institution;
            console.log('🔍 DEBUG switchInstitution - currentInstitution set:', this.currentInstitution);
            return true;
        }
        catch (error) {
            console.error('Error switching institution:', error);
            return false;
        }
    }
    // Borrowing system methods
    async borrowDocument(borrowData, institutionCode) {
        try {
            if (window.electronAPI && window.electronAPI.borrowDocument) {
                return await window.electronAPI.borrowDocument(parseInt(borrowData.documentId, 10), parseInt(borrowData.borrowerId, 10), borrowData.expectedReturnDate, institutionCode);
            }
            throw new Error('Borrow document API not available');
        }
        catch (error) {
            console.error('Error borrowing document:', error);
            throw error;
        }
    }
    async returnDocument(borrowId) {
        // Use returnBook method from preload - convert string ID to number if needed
        try {
            if (window.electronAPI && window.electronAPI.returnBook) {
                const borrowIdNum = typeof borrowId === 'string' ? parseInt(borrowId, 10) : borrowId;
                return await window.electronAPI.returnBook(borrowIdNum);
            }
            return false;
        }
        catch (error) {
            console.error('Error returning document:', error);
            return false;
        }
    }
    async returnBook(borrowId, notes) {
        try {
            if (window.electronAPI && window.electronAPI.returnBook) {
                const borrowIdNum = typeof borrowId === 'string' ? parseInt(borrowId, 10) : borrowId;
                return await window.electronAPI.returnBook(borrowIdNum, notes);
            }
            return false;
        }
        catch (error) {
            console.error('Error returning book:', error);
            return false;
        }
    }
    // Additional methods needed by the application
    async getBorrowers(institutionCode) {
        try {
            if (window.electronAPI && window.electronAPI.getBorrowers) {
                return await window.electronAPI.getBorrowers(institutionCode);
            }
            return [];
        }
        catch (error) {
            console.error('Error getting borrowers:', error);
            return [];
        }
    }
    async addBorrower(borrowerData, institutionCode) {
        try {
            if (window.electronAPI && window.electronAPI.addBorrower) {
                return await window.electronAPI.addBorrower(borrowerData, institutionCode);
            }
            throw new Error('Add borrower API not available');
        }
        catch (error) {
            console.error('Error adding borrower:', error);
            throw error;
        }
    }
    async getBorrowedDocuments(institutionCode) {
        try {
            if (window.electronAPI && window.electronAPI.getBorrowedDocuments) {
                return await window.electronAPI.getBorrowedDocuments(institutionCode);
            }
            return [];
        }
        catch (error) {
            console.error('Error getting borrowed documents:', error);
            return [];
        }
    }
    async getStats(institutionCode) {
        try {
            if (window.electronAPI && window.electronAPI.getStats) {
                return await window.electronAPI.getStats(institutionCode);
            }
            return {
                totalDocuments: 0,
                borrowedDocuments: 0,
                availableDocuments: 0,
                totalAuthors: 0,
                totalCategories: 0,
                totalBorrowers: 0,
                totalStudents: 0,
                totalStaff: 0,
                overdueDocuments: 0
            };
        }
        catch (error) {
            console.error('Error getting stats:', error);
            return {
                totalDocuments: 0,
                borrowedDocuments: 0,
                availableDocuments: 0,
                totalAuthors: 0,
                totalCategories: 0,
                totalBorrowers: 0,
                totalStudents: 0,
                totalStaff: 0,
                overdueDocuments: 0
            };
        }
    }
    // Getters
    getCurrentUser() {
        return this.currentUser;
    }
    getCurrentInstitution() {
        return this.currentInstitution;
    }
    isAuthenticated() {
        return !!this.currentUser;
    }
    isReady() {
        return true; // Always ready for local operations
    }
    // Utility methods
    async refreshAuth() {
        // No-op for local authentication
    }
    onAuthStateChange(callback) {
        // For local authentication, we don't have real-time auth changes
        return () => { };
    }
}
// Instance singleton pour le renderer
const supabaseRenderer = new SupabaseRendererService();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (supabaseRenderer);
// No additional type exports needed - types are already exported above


/***/ }),

/***/ "./src/renderer/types/UnifiedTypes.ts":
/*!********************************************!*\
  !*** ./src/renderer/types/UnifiedTypes.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   convertToUnifiedInstitution: () => (/* binding */ convertToUnifiedInstitution),
/* harmony export */   convertToUnifiedUser: () => (/* binding */ convertToUnifiedUser)
/* harmony export */ });
// Types unifiés pour les modes offline et online
// Fonctions utilitaires pour convertir entre les types
const convertToUnifiedUser = (user, mode) => {
    if (mode === 'offline') {
        // Utilisateur de LocalAuthService
        return {
            id: user.id,
            firstName: user.firstName,
            lastName: user.lastName,
            email: user.email,
            role: user.role,
            institutionCode: user.institutionCode,
            password: user.password,
            lastLogin: user.lastLogin,
            preferences: user.preferences
        };
    }
    else {
        // Utilisateur Supabase
        return {
            id: user.id,
            firstName: user.firstName,
            lastName: user.lastName,
            email: user.email,
            role: user.role,
            institutionCode: user.institutionCode,
            lastLogin: user.lastLogin
        };
    }
};
const convertToUnifiedInstitution = (institution, mode) => {
    if (mode === 'offline') {
        // Institution de LocalAuthService
        return {
            id: institution.id,
            code: institution.code,
            name: institution.name,
            address: institution.address,
            city: institution.city,
            country: institution.country,
            phone: institution.phone,
            email: institution.email,
            website: institution.website,
            logo: institution.logo,
            description: institution.description
        };
    }
    else {
        // Institution Supabase
        return {
            id: institution.id,
            code: institution.code,
            name: institution.name,
            address: institution.address,
            city: institution.city,
            country: institution.country,
            phone: institution.phone,
            email: institution.email,
            website: institution.website,
            logo: institution.logo,
            description: institution.description
        };
    }
};


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = global["webpackChunkbibliotheque_app"] = global["webpackChunkbibliotheque_app"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendors"], () => (__webpack_require__("./src/renderer/index.tsx")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;
//# sourceMappingURL=main.bundle.js.map