/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/renderer/App.tsx":
/*!******************************!*\
  !*** ./src/renderer/App.tsx ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   App: () => (/* binding */ App)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_TitleBar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/TitleBar */ "./src/renderer/components/TitleBar.tsx");
/* harmony import */ var _components_Sidebar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/Sidebar */ "./src/renderer/components/Sidebar.tsx");
/* harmony import */ var _components_Dashboard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/Dashboard */ "./src/renderer/components/Dashboard.tsx");
/* harmony import */ var _components_DocumentList__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/DocumentList */ "./src/renderer/components/DocumentList.tsx");
/* harmony import */ var _components_BorrowedDocuments__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/BorrowedDocuments */ "./src/renderer/components/BorrowedDocuments.tsx");
/* harmony import */ var _components_AddDocument__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/AddDocument */ "./src/renderer/components/AddDocument.tsx");
/* harmony import */ var _components_BorrowDocument__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/BorrowDocument */ "./src/renderer/components/BorrowDocument.tsx");
/* harmony import */ var _components_Borrowers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/Borrowers */ "./src/renderer/components/Borrowers.tsx");
/* harmony import */ var _components_BorrowHistory__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/BorrowHistory */ "./src/renderer/components/BorrowHistory.tsx");
/* harmony import */ var _components_Settings__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/Settings */ "./src/renderer/components/Settings.tsx");
/* harmony import */ var _components_Donation__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/Donation */ "./src/renderer/components/Donation.tsx");
/* harmony import */ var _components_About__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/About */ "./src/renderer/components/About.tsx");
/* harmony import */ var _components_EnhancedAuthentication__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/EnhancedAuthentication */ "./src/renderer/components/EnhancedAuthentication.tsx");
/* harmony import */ var _components_InstitutionSetup__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/InstitutionSetup */ "./src/renderer/components/InstitutionSetup.tsx");
/* harmony import */ var _components_InitialSetup__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/InitialSetup */ "./src/renderer/components/InitialSetup.tsx");
/* harmony import */ var _components_AppPasswordScreen__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/AppPasswordScreen */ "./src/renderer/components/AppPasswordScreen.tsx");
/* harmony import */ var _services_SupabaseClient__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./services/SupabaseClient */ "./src/renderer/services/SupabaseClient.ts");
/* harmony import */ var _services_ConfigService__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./services/ConfigService */ "./src/renderer/services/ConfigService.ts");
/* harmony import */ var _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./services/LocalAuthService */ "./src/renderer/services/LocalAuthService.ts");
/* harmony import */ var _components_AppSettings__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./components/AppSettings */ "./src/renderer/components/AppSettings.tsx");
/* harmony import */ var _components_UserProfile__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/UserProfile */ "./src/renderer/components/UserProfile.tsx");
/* harmony import */ var _components_BackupManager__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./components/BackupManager */ "./src/renderer/components/BackupManager.tsx");
/* harmony import */ var _components_ToastSystem__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./components/ToastSystem */ "./src/renderer/components/ToastSystem.tsx");
/* harmony import */ var _components_KeyboardShortcuts__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./components/KeyboardShortcuts */ "./src/renderer/components/KeyboardShortcuts.tsx");
/* harmony import */ var _types_UnifiedTypes__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./types/UnifiedTypes */ "./src/renderer/types/UnifiedTypes.ts");

// src/renderer/App.tsx - Version modifiée pour Supabase


























const App = () => {
    const [currentView, setCurrentView] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('initial_setup');
    const [isAuthenticated, setIsAuthenticated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [currentUser, setCurrentUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [currentInstitution, setCurrentInstitution] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [unifiedUser, setUnifiedUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [unifiedInstitution, setUnifiedInstitution] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [institutionCode, setInstitutionCode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [isDemoMode, setIsDemoMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [appMode, setAppMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('offline');
    const [isAppConfigured, setIsAppConfigured] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    // App security states
    const [isAppLocked, setIsAppLocked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);
    const [needsPasswordSetup, setNeedsPasswordSetup] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    // Data states
    const [documents, setDocuments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [authors, setAuthors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [categories, setCategories] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [borrowers, setBorrowers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [borrowedDocuments, setBorrowedDocuments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [stats, setStats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        totalDocuments: 0,
        borrowedDocuments: 0,
        availableDocuments: 0,
        totalAuthors: 0,
        totalCategories: 0,
        totalBorrowers: 0,
        totalStudents: 0,
        totalStaff: 0,
        overdueDocuments: 0
    });
    // Services
    const [supabaseService] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => new _services_SupabaseClient__WEBPACK_IMPORTED_MODULE_18__.SupabaseRendererService());
    const [showBorrowModal, setShowBorrowModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [selectedDocumentForBorrow, setSelectedDocumentForBorrow] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [editingDocument, setEditingDocument] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        checkAppSecurity();
    }, []);
    const checkAppSecurity = async () => {
        try {
            // Vérifier si un mot de passe d'application est requis
            const appSettings = _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_20__.LocalAuthService.getAppSettings();
            if (appSettings.requireAppPassword) {
                setIsAppLocked(true);
                setNeedsPasswordSetup(false);
            }
            else {
                setIsAppLocked(false);
                await checkInitialConfiguration();
            }
        }
        catch (error) {
            console.error('Erreur lors de la vérification de sécurité:', error);
            setIsAppLocked(false);
            await checkInitialConfiguration();
        }
    };
    const handleAppUnlock = async () => {
        setIsAppLocked(false);
        await checkInitialConfiguration();
    };
    const handlePasswordSetup = async () => {
        setNeedsPasswordSetup(false);
        setIsAppLocked(false);
        await checkInitialConfiguration();
    };
    const checkInitialConfiguration = async () => {
        try {
            // Vérifier si l'application a été configurée
            const configured = _services_ConfigService__WEBPACK_IMPORTED_MODULE_19__.ConfigService.isConfigured();
            const mode = _services_ConfigService__WEBPACK_IMPORTED_MODULE_19__.ConfigService.getMode();
            setIsAppConfigured(configured);
            setAppMode(mode);
            // Charger les informations de dernière connexion si disponibles
            const lastLogin = _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_20__.LocalAuthService.getLastLoginInfo();
            if (configured) {
                console.log(`Application configurée en mode: ${mode}`);
                // Si auto-login activé et informations disponibles
                if (lastLogin && lastLogin.password && _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_20__.LocalAuthService.getAppSettings().autoLogin) {
                    console.log('Tentative de connexion automatique...');
                    try {
                        await handleAuthentication({
                            email: lastLogin.email,
                            password: lastLogin.password,
                            institutionCode: lastLogin.institutionCode,
                            mode: 'login'
                        });
                        return;
                    }
                    catch (error) {
                        console.log('Échec de la connexion automatique:', error);
                    }
                }
                setCurrentView('auth');
                await checkAuthStatus();
            }
            else {
                console.log('Première exécution - configuration nécessaire');
                setCurrentView('initial_setup');
            }
        }
        catch (error) {
            console.error('Erreur lors de la vérification de la configuration:', error);
            setCurrentView('initial_setup');
        }
    };
    const handleInitialSetup = async (mode) => {
        try {
            console.log(`Configuration initiale: mode ${mode}`);
            // Sauvegarder la configuration
            _services_ConfigService__WEBPACK_IMPORTED_MODULE_19__.ConfigService.configureApp(mode);
            // Mettre à jour l'état local
            setAppMode(mode);
            setIsAppConfigured(true);
            // Rediriger vers l'authentification
            setCurrentView('auth');
            // Si mode offline, charger les données de démo par défaut
            if (mode === 'offline') {
                setIsDemoMode(false); // Mode offline avec vraies données locales
            }
        }
        catch (error) {
            console.error('Erreur lors de la configuration initiale:', error);
            setError('Erreur lors de la sauvegarde de la configuration');
        }
    };
    const checkAuthStatus = async () => {
        try {
            // En mode offline, on utilise uniquement l'authentification locale
            if (appMode === 'offline') {
                setCurrentView('auth');
                return;
            }
            const user = supabaseService.getCurrentUser();
            const institution = supabaseService.getCurrentInstitution();
            if (user && institution) {
                setCurrentUser(user);
                setCurrentInstitution(institution);
                setIsAuthenticated(true);
                setCurrentView('dashboard');
                await loadData();
            }
            else {
                setCurrentView('auth');
            }
        }
        catch (error) {
            console.error('Erreur lors de la vérification de l\'authentification:', error);
            setCurrentView('auth');
        }
    };
    const loadData = async () => {
        if (appMode === 'online' && !supabaseService.isAuthenticated())
            return;
        try {
            setIsLoading(true);
            if (appMode === 'offline') {
                // Mode offline - charger les données depuis SQLite via electronAPI
                const [documentsData, authorsData, categoriesData, borrowersData, borrowedDocumentsData] = await Promise.all([
                    window.electronAPI.getDocuments(),
                    window.electronAPI.getAuthors(),
                    window.electronAPI.getCategories(),
                    window.electronAPI.getBorrowers(),
                    window.electronAPI.getBorrowHistory()
                ]);
                setDocuments(documentsData || []);
                setAuthors(authorsData || []);
                setCategories(categoriesData || []);
                setBorrowers(borrowersData || []);
                setBorrowedDocuments(borrowedDocumentsData || []);
                // Calculer les statistiques manuellement pour le mode offline
                const totalDocuments = documentsData?.length || 0;
                const borrowedCount = borrowedDocumentsData?.filter(bh => bh.status === 'active').length || 0;
                const availableDocuments = totalDocuments - borrowedCount;
                const totalAuthors = authorsData?.length || 0;
                const totalCategories = categoriesData?.length || 0;
                const totalBorrowers = borrowersData?.length || 0;
                const totalStudents = borrowersData?.filter(b => b.type === 'student').length || 0;
                const totalStaff = borrowersData?.filter(b => b.type === 'staff').length || 0;
                const overdueDocuments = borrowedDocumentsData?.filter(bh => {
                    if (bh.status !== 'active')
                        return false;
                    const expectedReturnDate = new Date(bh.expectedReturnDate);
                    return expectedReturnDate < new Date();
                }).length || 0;
                setStats({
                    totalDocuments,
                    borrowedDocuments: borrowedCount,
                    availableDocuments,
                    totalAuthors,
                    totalCategories,
                    totalBorrowers,
                    totalStudents,
                    totalStaff,
                    overdueDocuments
                });
            }
            else {
                // Mode online - utiliser Supabase
                const [documentsData, authorsData, categoriesData, borrowersData, borrowedDocumentsData, statsData] = await Promise.all([
                    supabaseService.getDocuments(),
                    supabaseService.getAuthors(),
                    supabaseService.getCategories(),
                    supabaseService.getBorrowers(),
                    supabaseService.getBorrowedDocuments(),
                    supabaseService.getStats()
                ]);
                setDocuments(documentsData);
                setAuthors(authorsData);
                setCategories(categoriesData);
                setBorrowers(borrowersData);
                setBorrowedDocuments(borrowedDocumentsData);
                setStats(statsData);
            }
        }
        catch (error) {
            console.error('Erreur lors du chargement des données:', error);
            setError('Erreur lors du chargement des données');
        }
        finally {
            setIsLoading(false);
        }
    };
    const loadDemoData = async () => {
        try {
            setIsLoading(true);
            // Données de démonstration
            const demoDocuments = [
                {
                    id: 1,
                    titre: "L'Art de la Programmation",
                    auteur: "Donald Knuth",
                    editeur: "Addison-Wesley",
                    lieuEdition: "Reading, MA",
                    annee: "1968",
                    descripteurs: "Informatique, Programmation",
                    cote: "004.01 KNU",
                    couverture: "",
                    estEmprunte: false,
                    syncStatus: 'synced',
                    lastModified: new Date().toISOString(),
                    version: 1,
                    createdAt: new Date().toISOString()
                },
                {
                    id: 2,
                    titre: "Clean Code",
                    auteur: "Robert C. Martin",
                    editeur: "Prentice Hall",
                    lieuEdition: "Upper Saddle River, NJ",
                    annee: "2008",
                    descripteurs: "Développement, Bonnes pratiques",
                    cote: "005.1 MAR",
                    couverture: "",
                    estEmprunte: false,
                    syncStatus: 'synced',
                    lastModified: new Date().toISOString(),
                    version: 1,
                    createdAt: new Date().toISOString()
                },
                {
                    id: 3,
                    titre: "Design Patterns",
                    auteur: "Gang of Four",
                    editeur: "Addison-Wesley",
                    lieuEdition: "Reading, MA",
                    annee: "1994",
                    descripteurs: "Architecture logicielle",
                    cote: "005.1 GAM",
                    couverture: "",
                    estEmprunte: false,
                    syncStatus: 'synced',
                    lastModified: new Date().toISOString(),
                    version: 1,
                    createdAt: new Date().toISOString()
                }
            ];
            const demoAuthors = [
                {
                    id: 1,
                    name: "Donald Knuth",
                    syncStatus: 'synced',
                    lastModified: new Date().toISOString(),
                    version: 1,
                    createdAt: new Date().toISOString()
                },
                {
                    id: 2,
                    name: "Robert C. Martin",
                    syncStatus: 'synced',
                    lastModified: new Date().toISOString(),
                    version: 1,
                    createdAt: new Date().toISOString()
                },
                {
                    id: 3,
                    name: "Gang of Four",
                    syncStatus: 'synced',
                    lastModified: new Date().toISOString(),
                    version: 1,
                    createdAt: new Date().toISOString()
                }
            ];
            const demoCategories = [
                {
                    id: 1,
                    name: "Informatique",
                    syncStatus: 'synced',
                    lastModified: new Date().toISOString(),
                    version: 1,
                    createdAt: new Date().toISOString()
                },
                {
                    id: 2,
                    name: "Programmation",
                    syncStatus: 'synced',
                    lastModified: new Date().toISOString(),
                    version: 1,
                    createdAt: new Date().toISOString()
                },
                {
                    id: 3,
                    name: "Architecture logicielle",
                    syncStatus: 'synced',
                    lastModified: new Date().toISOString(),
                    version: 1,
                    createdAt: new Date().toISOString()
                }
            ];
            const demoBorrowers = [
                {
                    id: 1,
                    type: 'student',
                    firstName: 'Jean',
                    lastName: 'Dupont',
                    matricule: 'ETU001',
                    classe: 'Master 2 Info',
                    cniNumber: '',
                    position: '',
                    email: 'jean.dupont@demo.local',
                    phone: '+33 6 12 34 56 78',
                    syncStatus: 'synced',
                    lastModified: new Date().toISOString(),
                    version: 1,
                    createdAt: new Date().toISOString()
                },
                {
                    id: 2,
                    type: 'staff',
                    firstName: 'Marie',
                    lastName: 'Martin',
                    matricule: 'PROF001',
                    classe: '',
                    cniNumber: '',
                    position: 'Professeur',
                    email: 'marie.martin@demo.local',
                    phone: '+33 6 87 65 43 21',
                    syncStatus: 'synced',
                    lastModified: new Date().toISOString(),
                    version: 1,
                    createdAt: new Date().toISOString()
                }
            ];
            const demoStats = {
                totalDocuments: demoDocuments.length,
                borrowedDocuments: 0,
                availableDocuments: demoDocuments.length,
                totalAuthors: demoAuthors.length,
                totalCategories: demoCategories.length,
                totalBorrowers: demoBorrowers.length,
                totalStudents: 1,
                totalStaff: 1,
                overdueDocuments: 0
            };
            setDocuments(demoDocuments);
            setAuthors(demoAuthors);
            setCategories(demoCategories);
            setBorrowers(demoBorrowers);
            setBorrowedDocuments([]);
            setStats(demoStats);
        }
        catch (error) {
            console.error('Erreur lors du chargement des données démo:', error);
            setError('Erreur lors du chargement des données démo');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleAuthentication = async (credentials) => {
        try {
            setIsLoading(true);
            setError('');
            if (credentials.mode === 'login') {
                // En mode offline, utiliser le nouveau service d'authentification
                if (appMode === 'offline') {
                    console.log('Mode offline - authentification avec LocalAuthService');
                    // Utiliser le service d'authentification local
                    const authResult = _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_20__.LocalAuthService.authenticate(credentials.email, credentials.password, credentials.institutionCode || '');
                    if (!authResult.success) {
                        throw new Error(authResult.message || 'Échec de l\'authentification');
                    }
                    const localUser = authResult.user;
                    // Sauvegarder les informations de connexion si demandé
                    _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_20__.LocalAuthService.saveLastLoginInfo(credentials.email, credentials.institutionCode || '', true, // Toujours mémoriser le mot de passe en mode offline
                    credentials.password);
                    if (localUser) {
                        // Convertir l'utilisateur local au format User
                        const appUser = {
                            id: localUser.id,
                            firstName: localUser.firstName,
                            lastName: localUser.lastName,
                            email: localUser.email,
                            role: localUser.role
                        };
                        // Chercher l'institution correspondante ou créer une par défaut
                        const institution = _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_20__.LocalAuthService.findInstitutionByCode(localUser.institutionCode);
                        const appInstitution = institution ? {
                            id: institution.id,
                            name: institution.name,
                            code: institution.code,
                            address: institution.address,
                            city: institution.city,
                            country: institution.country,
                            phone: institution.phone,
                            email: institution.email,
                            website: institution.website,
                            logo: institution.logo,
                            description: institution.description,
                            type: institution.type,
                            status: 'active',
                            subscription_plan: 'basic',
                            max_books: 10000,
                            max_users: 100,
                            created_at: institution.created_at,
                            updated_at: new Date().toISOString()
                        } : {
                            id: 'default-offline',
                            name: 'Ma Bibliothèque',
                            code: localUser.institutionCode,
                            address: '',
                            city: '',
                            country: '',
                            phone: '',
                            email: '',
                            website: '',
                            logo: '',
                            description: 'Institution locale par défaut',
                            type: 'library',
                            status: 'active',
                            subscription_plan: 'basic',
                            max_books: 10000,
                            max_users: 100,
                            created_at: new Date().toISOString(),
                            updated_at: new Date().toISOString()
                        };
                        setCurrentUser(appUser);
                        setCurrentInstitution(appInstitution);
                        // Créer les versions unifiées
                        setUnifiedUser((0,_types_UnifiedTypes__WEBPACK_IMPORTED_MODULE_26__.convertToUnifiedUser)(localUser, 'offline'));
                        setUnifiedInstitution((0,_types_UnifiedTypes__WEBPACK_IMPORTED_MODULE_26__.convertToUnifiedInstitution)(institution || {
                            id: 'default-offline',
                            name: 'Ma Bibliothèque',
                            code: localUser.institutionCode,
                            address: '',
                            city: '',
                            country: '',
                            phone: '',
                            email: '',
                            website: '',
                            logo: '',
                            description: 'Bibliothèque locale',
                            type: 'library',
                            adminEmail: localUser.email,
                            created_at: new Date().toISOString()
                        }, 'offline'));
                        setIsAuthenticated(true);
                        setIsDemoMode(false);
                        setCurrentView('dashboard');
                        await loadData();
                        return;
                    }
                }
                // Mode online (désactivé pour cette version)
                throw new Error('Le mode en ligne n\'est pas encore disponible dans cette version.');
            }
            else if (credentials.mode === 'register') {
                // Inscription avec code d'établissement
                const result = await supabaseService.signUp(credentials.email, credentials.password, {
                    firstName: credentials.userData.firstName,
                    lastName: credentials.userData.lastName,
                    institutionCode: credentials.institutionCode || 'DEFAULT'
                });
                if (!result.success) {
                    throw new Error(result.error);
                }
                // Afficher un message de succès et rediriger vers login
                alert('Compte créé avec succès ! Veuillez vérifier votre email et vous connecter.');
            }
            else if (credentials.mode === 'create_institution') {
                // Création d'institution locale
                const institutionData = credentials.userData.institution;
                // Créer l'institution avec le service local
                const newInstitution = _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_20__.LocalAuthService.createInstitution({
                    name: institutionData.name,
                    address: institutionData.address || '',
                    city: institutionData.city || '',
                    country: institutionData.country || '',
                    phone: institutionData.phone || '',
                    email: institutionData.email || '',
                    website: institutionData.website || '',
                    logo: institutionData.logo || '',
                    description: institutionData.description || '',
                    type: institutionData.type || 'library',
                    adminEmail: credentials.email
                });
                setInstitutionCode(newInstitution.code);
                // Créer le compte administrateur local
                const adminUser = _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_20__.LocalAuthService.addUser({
                    email: credentials.email,
                    password: credentials.password,
                    firstName: credentials.userData.admin.firstName,
                    lastName: credentials.userData.admin.lastName,
                    role: 'admin',
                    institutionCode: newInstitution.code,
                    preferences: {
                        rememberMe: true,
                        autoLogin: false,
                        theme: 'light'
                    }
                });
                if (!adminUser) {
                    throw new Error('Erreur lors de la création du compte administrateur');
                }
                setCurrentView('institution_setup');
            }
        }
        catch (error) {
            setError(error.message || 'Erreur d\'authentification');
            throw error;
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleLogout = async () => {
        try {
            await supabaseService.signOut();
            setIsAuthenticated(false);
            setCurrentUser(null);
            setCurrentInstitution(null);
            setCurrentView('auth');
            // Réinitialiser les données
            setDocuments([]);
            setAuthors([]);
            setCategories([]);
            setBorrowers([]);
            setBorrowedDocuments([]);
            setStats({
                totalDocuments: 0,
                borrowedDocuments: 0,
                availableDocuments: 0,
                totalAuthors: 0,
                totalCategories: 0,
                totalBorrowers: 0,
                totalStudents: 0,
                totalStaff: 0,
                overdueDocuments: 0
            });
        }
        catch (error) {
            console.error('Erreur lors de la déconnexion:', error);
        }
    };
    const handleUserUpdate = (updatedUser) => {
        setUnifiedUser(updatedUser);
        // Mettre à jour aussi currentUser pour la compatibilité
        if (appMode === 'offline') {
            const appUser = {
                id: updatedUser.id,
                firstName: updatedUser.firstName || '',
                lastName: updatedUser.lastName || '',
                email: updatedUser.email,
                role: updatedUser.role
            };
            setCurrentUser(appUser);
        }
    };
    const handleAddDocument = async (document) => {
        try {
            if (appMode === 'offline') {
                // Mode offline - utiliser l'API électron pour SQLite
                if (editingDocument) {
                    // Modification d'un document existant
                    const documentToUpdate = { ...document, id: editingDocument.id };
                    await window.electronAPI.updateDocument(documentToUpdate);
                    console.log('Document modifié en mode offline:', editingDocument.id);
                }
                else {
                    // Ajout d'un nouveau document
                    const documentId = await window.electronAPI.addDocument(document);
                    console.log('Document ajouté en mode offline avec ID:', documentId);
                }
                // Ajouter l'auteur s'il n'existe pas
                if (!authors.find(a => a.name === document.auteur)) {
                    await window.electronAPI.addAuthor({
                        name: document.auteur,
                        biography: '',
                        birthDate: '',
                        nationality: '',
                        syncStatus: 'pending',
                        lastModified: new Date().toISOString(),
                        version: 1,
                        createdAt: new Date().toISOString()
                    });
                }
                // Ajouter la catégorie si elle n'existe pas (basée sur les descripteurs)
                const categoryName = document.descripteurs.split(',')[0]?.trim();
                if (categoryName && !categories.find(c => c.name === categoryName)) {
                    await window.electronAPI.addCategory({
                        name: categoryName,
                        description: `Catégorie créée automatiquement pour ${categoryName}`,
                        color: '#3E5C49',
                        syncStatus: 'pending',
                        lastModified: new Date().toISOString(),
                        version: 1,
                        createdAt: new Date().toISOString()
                    });
                }
                // Recharger les données pour mettre à jour l'interface
                await loadData();
            }
            else if (isDemoMode) {
                // Mode démo - ajouter localement en mémoire
                const newId = Math.max(...documents.map(d => d.id || 0)) + 1;
                const newDocument = {
                    ...document,
                    id: newId,
                    syncStatus: 'synced',
                    lastModified: new Date().toISOString(),
                    version: 1,
                    createdAt: new Date().toISOString()
                };
                const updatedDocuments = [...documents, newDocument];
                setDocuments(updatedDocuments);
                // Mettre à jour les statistiques
                setStats(prev => ({
                    ...prev,
                    totalDocuments: updatedDocuments.length,
                    availableDocuments: updatedDocuments.length - prev.borrowedDocuments
                }));
                // Ajouter l'auteur s'il n'existe pas
                if (!authors.find(a => a.name === document.auteur)) {
                    const newAuthorId = Math.max(...authors.map(a => a.id || 0)) + 1;
                    const newAuthor = {
                        id: newAuthorId,
                        name: document.auteur,
                        syncStatus: 'synced',
                        lastModified: new Date().toISOString(),
                        version: 1,
                        createdAt: new Date().toISOString()
                    };
                    setAuthors(prev => [...prev, newAuthor]);
                    setStats(prev => ({ ...prev, totalAuthors: prev.totalAuthors + 1 }));
                }
                console.log('Document ajouté en mode démo:', newDocument);
            }
            else {
                // Mode online - utiliser Supabase
                await supabaseService.addDocument(document);
                await loadData();
            }
            // Nettoyer l'état d'édition et retourner à la liste des documents
            setEditingDocument(null);
            setCurrentView('documents');
        }
        catch (error) {
            console.error('Erreur lors de l\'ajout du document:', error);
            throw error;
        }
    };
    const handleReturnDocument = async (borrowHistoryId, notes) => {
        if (borrowHistoryId === undefined) {
            console.error('Invalid argument for returnBook:', { borrowHistoryId });
            return;
        }
        try {
            if (appMode === 'offline') {
                // Mode offline - utiliser l'API électron pour SQLite
                await window.electronAPI.returnBook(borrowHistoryId, notes);
                console.log('Document retourné en mode offline:', borrowHistoryId);
            }
            else {
                // Mode online - utiliser Supabase
                await supabaseService.returnBook(borrowHistoryId.toString(), notes);
            }
            await loadData();
        }
        catch (error) {
            console.error('Erreur lors du retour:', error);
            throw error;
        }
    };
    const handleDeleteDocument = async (documentId) => {
        try {
            if (appMode === 'offline') {
                // Mode offline - utiliser l'API électron pour SQLite
                await window.electronAPI.deleteDocument(documentId);
                console.log('Document supprimé en mode offline:', documentId);
                // Recharger les données pour mettre à jour l'interface
                await loadData();
            }
            else if (isDemoMode) {
                // Mode démo - supprimer localement en mémoire
                const updatedDocuments = documents.filter(d => d.id !== documentId);
                setDocuments(updatedDocuments);
                // Mettre à jour les statistiques
                setStats(prev => ({
                    ...prev,
                    totalDocuments: updatedDocuments.length,
                    availableDocuments: updatedDocuments.length - prev.borrowedDocuments
                }));
                console.log('Document supprimé en mode démo:', documentId);
            }
            else {
                // Mode online - utiliser Supabase
                await supabaseService.deleteDocument(documentId.toString());
                await loadData();
            }
        }
        catch (error) {
            console.error('Erreur lors de la suppression:', error);
            throw error;
        }
    };
    const handleEditDocument = (document) => {
        setEditingDocument(document);
        setCurrentView('add-document');
    };
    const handleBorrowDocument = (document) => {
        setSelectedDocumentForBorrow(document);
        setShowBorrowModal(true);
    };
    const closeBorrowModal = () => {
        setSelectedDocumentForBorrow(null);
        setShowBorrowModal(false);
    };
    const handleBorrow = async (documentId, borrowerId, returnDate) => {
        try {
            if (appMode === 'offline') {
                // Mode offline - utiliser l'API électron pour SQLite
                await window.electronAPI.borrowDocument(documentId, borrowerId, returnDate);
                console.log('Document emprunté en mode offline:', { documentId, borrowerId, returnDate });
            }
            else if (isDemoMode) {
                // Mode démo - simuler l'emprunt
                const updatedDocuments = documents.map(doc => doc.id === documentId
                    ? { ...doc, estEmprunte: true, syncStatus: 'synced' }
                    : doc);
                setDocuments(updatedDocuments);
                // Créer l'entrée d'historique d'emprunt
                const borrower = borrowers.find(b => b.id === borrowerId);
                const document = documents.find(d => d.id === documentId);
                if (borrower && document) {
                    const newBorrowHistory = {
                        id: Math.max(...borrowedDocuments.map(b => b.id || 0)) + 1,
                        documentId: documentId,
                        borrowerId,
                        borrowDate: new Date().toISOString(),
                        expectedReturnDate: returnDate,
                        actualReturnDate: undefined,
                        status: 'active',
                        document: document,
                        borrower,
                        syncStatus: 'synced',
                        lastModified: new Date().toISOString(),
                        version: 1,
                        createdAt: new Date().toISOString()
                    };
                    setBorrowedDocuments(prev => [...prev, newBorrowHistory]);
                    // Mettre à jour les statistiques
                    setStats(prev => ({
                        ...prev,
                        borrowedDocuments: prev.borrowedDocuments + 1,
                        availableDocuments: prev.availableDocuments - 1
                    }));
                }
            }
            else {
                // Mode online - utiliser Supabase
                await supabaseService.borrowDocument({
                    documentId: documentId.toString(),
                    borrowerId: borrowerId.toString(),
                    expectedReturnDate: returnDate
                });
            }
            // Recharger les données après l'opération
            await loadData();
            closeBorrowModal();
        }
        catch (error) {
            console.error('Erreur lors de l\'emprunt:', error);
            throw error;
        }
    };
    const handleReturn = async (documentId) => {
        try {
            if (appMode === 'offline') {
                // Mode offline - trouver l'emprunt actif et le retourner
                const activeBorrow = borrowedDocuments.find(bh => bh.documentId === documentId && bh.status === 'active');
                if (activeBorrow && activeBorrow.id) {
                    await window.electronAPI.returnBook(activeBorrow.id);
                    console.log('Document retourné en mode offline:', documentId);
                }
                else {
                    console.error('Aucun emprunt actif trouvé pour le document:', documentId);
                    return;
                }
            }
            else if (isDemoMode) {
                // Mode démo - simuler le retour
                const updatedDocuments = documents.map(doc => doc.id === documentId
                    ? { ...doc, estEmprunte: false, syncStatus: 'synced' }
                    : doc);
                setDocuments(updatedDocuments);
                // Marquer comme retourné dans l'historique
                const updatedBorrowHistory = borrowedDocuments.map(bh => bh.documentId === documentId && bh.status === 'active'
                    ? { ...bh, actualReturnDate: new Date().toISOString(), status: 'returned' }
                    : bh);
                setBorrowedDocuments(updatedBorrowHistory);
                // Mettre à jour les statistiques
                setStats(prev => ({
                    ...prev,
                    borrowedDocuments: prev.borrowedDocuments - 1,
                    availableDocuments: prev.availableDocuments + 1
                }));
            }
            else {
                // Mode online - utiliser Supabase
                await supabaseService.returnDocument(documentId.toString());
            }
            // Recharger les données après l'opération
            await loadData();
            closeBorrowModal();
        }
        catch (error) {
            console.error('Erreur lors du retour:', error);
            throw error;
        }
    };
    const refreshData = async () => {
        if (isDemoMode) {
            await loadDemoData();
        }
        else {
            await loadData();
        }
    };
    // Gérer l'affichage avec TitleBar toujours visible
    const renderAuthenticatedContent = () => {
        // Écran de configuration initiale
        if (currentView === 'initial_setup') {
            return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_InitialSetup__WEBPACK_IMPORTED_MODULE_16__.InitialSetup, { onComplete: handleInitialSetup });
        }
        if (!isAuthenticated) {
            if (currentView === 'institution_setup') {
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_InstitutionSetup__WEBPACK_IMPORTED_MODULE_15__.InstitutionSetup, { institutionCode: institutionCode, institution: currentInstitution, onComplete: () => {
                        setCurrentView('auth');
                        alert('Votre établissement a été créé avec succès ! Vous pouvez maintenant vous connecter.');
                    } }));
            }
            return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_EnhancedAuthentication__WEBPACK_IMPORTED_MODULE_14__.EnhancedAuthentication, { onLogin: handleAuthentication });
        }
        return renderCurrentView();
    };
    const renderCurrentView = () => {
        switch (currentView) {
            case 'dashboard':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Dashboard__WEBPACK_IMPORTED_MODULE_4__.Dashboard, { stats: stats, onNavigate: setCurrentView, documents: documents, categories: categories }));
            case 'documents':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_DocumentList__WEBPACK_IMPORTED_MODULE_5__.DocumentList, { documents: documents, onAdd: () => setCurrentView('add-document'), onEdit: handleEditDocument, onBorrow: handleBorrowDocument, onDelete: handleDeleteDocument, onRefresh: refreshData, syncStatus: {}, networkStatus: {} }));
            case 'borrowed':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_BorrowedDocuments__WEBPACK_IMPORTED_MODULE_6__.BorrowedDocuments, { documents: borrowedDocuments
                        .filter(bh => bh.status === 'active') // Seulement les emprunts actifs
                        .map(bh => ({
                        ...bh.document,
                        nomEmprunteur: `${bh.borrower?.firstName} ${bh.borrower?.lastName}`,
                        dateEmprunt: bh.borrowDate,
                        dateRetourPrevu: bh.expectedReturnDate
                    })), onReturn: (documentId) => {
                        const borrowHistory = borrowedDocuments.find(bh => bh.documentId === documentId && bh.status === 'active');
                        if (borrowHistory) {
                            handleReturnDocument(borrowHistory.id, undefined);
                        }
                    } }));
            case 'add-document':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_AddDocument__WEBPACK_IMPORTED_MODULE_7__.AddDocument, { onAdd: handleAddDocument, onCancel: () => {
                        setEditingDocument(null);
                        setCurrentView('documents');
                    }, editingDocument: editingDocument || undefined }));
            case 'borrowers':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Borrowers__WEBPACK_IMPORTED_MODULE_9__["default"], { onClose: () => setCurrentView('dashboard'), onRefreshData: refreshData }));
            case 'history':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_BorrowHistory__WEBPACK_IMPORTED_MODULE_10__.BorrowHistory, { onClose: () => setCurrentView('dashboard'), supabaseService: supabaseService }));
            case 'settings':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Settings__WEBPACK_IMPORTED_MODULE_11__.Settings, { onClose: () => setCurrentView('dashboard'), onLogout: handleLogout, currentUser: currentUser, currentInstitution: currentInstitution, supabaseService: supabaseService }));
            case 'donation':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Donation__WEBPACK_IMPORTED_MODULE_12__.Donation, { onClose: () => setCurrentView('dashboard') }));
            case 'about':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_About__WEBPACK_IMPORTED_MODULE_13__.About, { onClose: () => setCurrentView('dashboard') }));
            case 'app-settings':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_AppSettings__WEBPACK_IMPORTED_MODULE_21__.AppSettings, { onClose: () => setCurrentView('dashboard') }));
            case 'user-profile':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_UserProfile__WEBPACK_IMPORTED_MODULE_22__.UserProfile, { currentUser: unifiedUser, currentInstitution: unifiedInstitution, appMode: appMode, onClose: () => setCurrentView('dashboard'), onUserUpdate: handleUserUpdate }));
            case 'backup-manager':
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_BackupManager__WEBPACK_IMPORTED_MODULE_23__.BackupManager, { onClose: () => setCurrentView('dashboard') }));
            default:
                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Dashboard__WEBPACK_IMPORTED_MODULE_4__.Dashboard, { stats: stats, onNavigate: setCurrentView, documents: documents, categories: categories }));
        }
    };
    // Rendu des écrans de sécurité
    if (isAppLocked || needsPasswordSetup) {
        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_AppPasswordScreen__WEBPACK_IMPORTED_MODULE_17__.AppPasswordScreen, { onUnlock: handleAppUnlock, onSkip: needsPasswordSetup ? handlePasswordSetup : undefined, isSetup: needsPasswordSetup }));
    }
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ToastSystem__WEBPACK_IMPORTED_MODULE_24__.ToastProvider, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_KeyboardShortcuts__WEBPACK_IMPORTED_MODULE_25__.KeyboardShortcutsProvider, { onNavigate: setCurrentView, onOpenAddDocument: () => setCurrentView('add-document'), onOpenSettings: () => setCurrentView('settings'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "app", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_TitleBar__WEBPACK_IMPORTED_MODULE_2__.TitleBar, { onRefresh: refreshData, isAuthenticated: isAuthenticated }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "app-container", children: isAuthenticated ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AppContent, { isDemoMode: isDemoMode, currentView: currentView, setCurrentView: setCurrentView, isLoading: isLoading, error: error, setError: setError, renderCurrentView: renderCurrentView, showBorrowModal: showBorrowModal, selectedDocumentForBorrow: selectedDocumentForBorrow, closeBorrowModal: closeBorrowModal, handleBorrow: handleBorrow, handleReturn: handleReturn, refreshData: refreshData, supabaseService: supabaseService, borrowers: borrowers, stats: stats, currentUser: currentUser, currentInstitution: currentInstitution, unifiedUser: unifiedUser, unifiedInstitution: unifiedInstitution, isAuthenticated: isAuthenticated })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "auth-container", children: renderAuthenticatedContent() })) })] }) }) }));
};
const AppContent = ({ isDemoMode, currentView, setCurrentView, isLoading, error, setError, renderCurrentView, showBorrowModal, selectedDocumentForBorrow, closeBorrowModal, handleBorrow, handleReturn, refreshData, supabaseService, borrowers, stats, currentUser, currentInstitution, unifiedUser, unifiedInstitution, isAuthenticated }) => {
    const { info } = (0,_components_ToastSystem__WEBPACK_IMPORTED_MODULE_24__.useQuickToast)();
    const [demoNotificationShown, setDemoNotificationShown] = react__WEBPACK_IMPORTED_MODULE_1___default().useState(false);
    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(() => {
        if (isDemoMode && !demoNotificationShown) {
            // Afficher une notification pour informer que c'est le mode démo
            setTimeout(() => {
                info("Mode Démonstration", "Vous êtes en mode démo. Toutes les modifications sont temporaires et ne seront pas sauvegardées.");
                setDemoNotificationShown(true);
            }, 1000);
        }
    }, [isDemoMode, demoNotificationShown, info]);
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Sidebar__WEBPACK_IMPORTED_MODULE_3__.Sidebar, { currentView: currentView, onNavigate: setCurrentView, stats: stats, currentUser: unifiedUser, currentInstitution: unifiedInstitution }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("main", { className: "main-content", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "content-wrapper", children: [isLoading && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "loading-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "loading-spinner" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Chargement..." })] })), error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "error-banner", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: error }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => setError(''), children: "\u00D7" })] })), renderCurrentView()] }) }), showBorrowModal && selectedDocumentForBorrow && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_BorrowDocument__WEBPACK_IMPORTED_MODULE_8__.BorrowDocument, { document: selectedDocumentForBorrow, borrowers: borrowers, onBorrow: handleBorrow, onReturn: handleReturn, onCancel: closeBorrowModal })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .app {
          height: 100vh;
          display: flex;
          flex-direction: column;
          background: #FAF9F6;
          overflow: hidden;
        }
        
        .app-container {
          flex: 1;
          display: flex;
          overflow: hidden;
        }
        
        .main-content {
          flex: 1;
          display: flex;
          flex-direction: column;
          background: #FAF9F6;
          overflow: hidden;
          position: relative;
        }
        
        .content-wrapper {
          flex: 1;
          overflow: hidden;
          border-radius: 12px 0 0 0;
          background: #FAF9F6;
          box-shadow: -2px 0 8px rgba(0, 0, 0, 0.08);
        }

        .loading-overlay {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(255, 255, 255, 0.9);
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          gap: 16px;
        }

        .loading-spinner {
          width: 40px;
          height: 40px;
          border: 4px solid #E5DCC2;
          border-top: 4px solid #3E5C49;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        .error-banner {
          background: #FEF2F2;
          border: 1px solid #FECACA;
          color: #DC2626;
          padding: 12px 16px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          font-size: 14px;
          font-weight: 500;
        }

        .error-banner button {
          background: none;
          border: none;
          color: #DC2626;
          cursor: pointer;
          font-size: 18px;
          padding: 0;
          margin-left: 12px;
        }

        /* Enhanced Borrow Modal */
        .borrow-modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(46, 46, 46, 0.75);
          backdrop-filter: blur(12px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
          animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
          from { opacity: 0; backdrop-filter: blur(0px); }
          to { opacity: 1; backdrop-filter: blur(12px); }
        }
        
        .borrow-modal {
          background: #FFFFFF;
          border-radius: 24px;
          width: 100%;
          max-width: 700px;
          max-height: 90vh;
          overflow-y: auto;
          box-shadow: 
            0 32px 64px rgba(62, 92, 73, 0.25),
            0 16px 32px rgba(62, 92, 73, 0.15);
          border: 1px solid rgba(229, 220, 194, 0.3);
          animation: slideUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        @keyframes slideUp {
          from { 
            opacity: 0;
            transform: translateY(32px) scale(0.95);
          }
          to { 
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
        
        .modal-header {
          display: flex;
          align-items: flex-start;
          justify-content: space-between;
          padding: 32px 32px 24px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          position: relative;
          overflow: hidden;
        }
        
        .modal-header::before {
          content: '';
          position: absolute;
          top: 0;
          right: 0;
          width: 200px;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.1));
          transform: skewX(-15deg);
          transform-origin: top;
        }
        
        .header-content {
          display: flex;
          align-items: flex-start;
          gap: 20px;
          position: relative;
          z-index: 1;
        }
        
        .header-icon {
          width: 48px;
          height: 48px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 14px;
          display: flex;
          align-items: center;
          justify-content: center;
          backdrop-filter: blur(10px);
          border: 1px solid rgba(243, 238, 217, 0.3);
        }
        
        .header-text h3 {
          font-size: 22px;
          font-weight: 700;
          color: #F3EED9;
          margin: 0 0 6px 0;
          letter-spacing: -0.3px;
        }
        
        .header-text p {
          font-size: 14px;
          color: rgba(243, 238, 217, 0.9);
          margin: 0;
          line-height: 1.4;
        }
        
        .modal-close {
          background: rgba(243, 238, 217, 0.1);
          border: 1px solid rgba(243, 238, 217, 0.2);
          cursor: pointer;
          padding: 12px;
          border-radius: 12px;
          color: #F3EED9;
          font-size: 24px;
          width: 44px;
          height: 44px;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          position: relative;
          z-index: 1;
        }
        
        .modal-close:hover {
          background: rgba(243, 238, 217, 0.2);
          transform: scale(1.05);
        }
        
        .modal-close:active {
          transform: scale(0.95);
        }
        
        /* Responsive enhancements */
        @media (max-width: 768px) {
          .app-container {
            flex-direction: column;
          }
          
          .content-wrapper {
            border-radius: 0;
            box-shadow: none;
          }
          
          .borrow-modal {
            margin: 12px;
            border-radius: 20px;
            max-height: calc(100vh - 24px);
          }
          
          .modal-header {
            padding: 24px 20px 20px;
          }
          
          .header-content {
            flex-direction: column;
            gap: 16px;
          }
          
          .header-icon {
            align-self: center;
          }
          
         .header-text {
            text-align: center;
          }
        }
        
        @media (max-width: 480px) {
          .borrow-modal-overlay {
            padding: 8px;
          }
          
          .borrow-modal {
            border-radius: 16px;
          }
          
          .modal-header {
            padding: 20px 16px 16px;
          }
          
          .header-text h3 {
            font-size: 20px;
          }
        }
      ` })] }));
};
const EnhancedBorrowForm = ({ document, borrowers, onSubmit, onCancel, onRefreshBorrowers, supabaseService }) => {
    const [selectedBorrower, setSelectedBorrower] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [expectedReturnDate, setExpectedReturnDate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [filterType, setFilterType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('all');
    const [borrowDuration, setBorrowDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('2weeks');
    const [showAddBorrower, setShowAddBorrower] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [newBorrowerData, setNewBorrowerData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        type: 'student',
        firstName: '',
        lastName: '',
        matricule: '',
        classe: '',
        cniNumber: '',
        position: '',
        email: '',
        phone: ''
    });
    // Calculate default date (in 2 weeks)
    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(() => {
        updateDateFromDuration(borrowDuration);
    }, [borrowDuration]);
    const updateDateFromDuration = (duration) => {
        const today = new Date();
        let targetDate = new Date(today);
        switch (duration) {
            case '1week':
                targetDate.setDate(today.getDate() + 7);
                break;
            case '2weeks':
                targetDate.setDate(today.getDate() + 14);
                break;
            case '1month':
                targetDate.setMonth(today.getMonth() + 1);
                break;
            default:
                return; // For 'custom', don't change
        }
        setExpectedReturnDate(targetDate.toISOString().split('T')[0]);
    };
    const handleAddBorrower = async () => {
        try {
            setIsLoading(true);
            const newId = await supabaseService.addBorrower({
                ...newBorrowerData,
                syncStatus: 'pending',
                lastModified: new Date().toISOString(),
                version: 1,
                createdAt: new Date().toISOString()
            });
            setSelectedBorrower(newId);
            setShowAddBorrower(false);
            await onRefreshBorrowers(); // Refresh the borrowers list
            setNewBorrowerData({
                type: 'student',
                firstName: '',
                lastName: '',
                matricule: '',
                classe: '',
                cniNumber: '',
                position: '',
                email: '',
                phone: ''
            });
        }
        catch (error) {
            alert(error.message || 'Erreur lors de l\'ajout de l\'emprunteur');
        }
        finally {
            setIsLoading(false);
        }
    };
    const filteredBorrowers = borrowers.filter(borrower => {
        // Filter by type
        if (filterType !== 'all' && borrower.type !== filterType)
            return false;
        // Filter by search
        if (searchQuery) {
            const query = searchQuery.toLowerCase();
            return (borrower.firstName.toLowerCase().includes(query) ||
                borrower.lastName.toLowerCase().includes(query) ||
                borrower.matricule.toLowerCase().includes(query) ||
                (borrower.classe && borrower.classe.toLowerCase().includes(query)) ||
                (borrower.position && borrower.position.toLowerCase().includes(query)));
        }
        return true;
    });
    const handleSubmit = async (e) => {
        e.preventDefault();
        if (!selectedBorrower || !expectedReturnDate)
            return;
        setIsLoading(true);
        try {
            await onSubmit(document.id, selectedBorrower, expectedReturnDate);
        }
        catch (error) {
            console.error('Erreur:', error);
        }
        finally {
            setIsLoading(false);
        }
    };
    const selectedBorrowerData = borrowers.find(b => b.id === selectedBorrower);
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "enhanced-borrow-form", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-info-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "document-cover", children: document.couverture ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img", { src: document.couverture, alt: document.titre })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "document-placeholder", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg", { viewBox: "0 0 24 24", width: "32", height: "32", fill: "currentColor", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M18 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V4C20 2.9 19.1 2 18 2ZM18 20H6V4H18V20Z" }) }) })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h4", { className: "document-title", children: ["\"", document.titre, "\""] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "document-author", children: ["par ", document.auteur] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-meta", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "document-category", children: document.descripteurs }), document.annee && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "document-year", children: document.annee })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Dur\u00E9e d'emprunt" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "duration-selector", children: [
                            { id: '1week', label: '1 semaine', recommended: false },
                            { id: '2weeks', label: '2 semaines', recommended: true },
                            { id: '1month', label: '1 mois', recommended: false },
                            { id: 'custom', label: 'Personnalisé', recommended: false }
                        ].map((duration) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { type: "button", className: `duration-button ${borrowDuration === duration.id ? 'selected' : ''} ${duration.recommended ? 'recommended' : ''}`, onClick: () => setBorrowDuration(duration.id), children: [duration.label, duration.recommended && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "recommended-badge", children: "Recommand\u00E9" })] }, duration.id))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Date de retour pr\u00E9vue *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "date", value: expectedReturnDate, onChange: (e) => {
                            setExpectedReturnDate(e.target.value);
                            setBorrowDuration('custom');
                        }, className: "date-input", min: new Date().toISOString().split('T')[0], required: true }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("small", { className: "form-hint", children: borrowDuration !== 'custom' && `Durée sélectionnée : ${borrowDuration === '1week' ? '7 jours' :
                            borrowDuration === '2weeks' ? '14 jours' : '1 mois'}` })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Emprunteur *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { type: "button", className: "add-borrower-button", onClick: () => setShowAddBorrower(true), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg", { viewBox: "0 0 24 24", width: "16", height: "16", fill: "currentColor", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" }) }), "Ajouter emprunteur"] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-filters", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "search-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", placeholder: "Rechercher un emprunteur...", value: searchQuery, onChange: (e) => setSearchQuery(e.target.value), className: "search-input" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg", { className: "search-icon", viewBox: "0 0 24 24", width: "20", height: "20", fill: "currentColor", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3S3 5.91 3 9.5S5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14ZM9.5 14C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14Z" }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "type-filter", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: filterType, onChange: (e) => setFilterType(e.target.value), className: "filter-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tous" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "student", children: "\u00C9tudiants" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "staff", children: "Personnel" })] }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrowers-list", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "list-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Nom" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Type" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Matricule" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Classe/Poste" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "list-content", children: filteredBorrowers.length > 0 ? (filteredBorrowers.map((borrower) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `borrower-row ${selectedBorrower === borrower.id ? 'selected' : ''}`, onClick: () => setSelectedBorrower(borrower.id), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-name", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "name-main", children: [borrower.firstName, " ", borrower.lastName] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "name-sub", children: borrower.email })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "borrower-type", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: `type-badge ${borrower.type}`, children: borrower.type === 'student' ? 'Étudiant' : 'Personnel' }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "borrower-matricule", children: borrower.matricule }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "borrower-extra", children: borrower.type === 'student' ? borrower.classe : borrower.position }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "selection-indicator", children: selectedBorrower === borrower.id && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg", { viewBox: "0 0 24 24", width: "20", height: "20", fill: "currentColor", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z" }) })) })] }, borrower.id)))) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "no-borrowers", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg", { viewBox: "0 0 24 24", width: "48", height: "48", fill: "currentColor", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.1 3.89 23 5 23H19C20.1 23 21 22.1 21 21V9Z" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Aucun emprunteur trouv\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("small", { children: searchQuery ? `pour "${searchQuery}"` : 'Essayez de modifier les filtres' })] })) })] })] }), selectedBorrowerData && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "selected-summary", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "R\u00E9capitulatif de l'emprunt" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "summary-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "summary-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "summary-icon book-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg", { viewBox: "0 0 24 24", width: "20", height: "20", fill: "currentColor", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M18 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V4C20 2.9 19.1 2 18 2Z" }) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "summary-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "summary-label", children: "Document" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "summary-value", children: document.titre }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "summary-sub", children: ["par ", document.auteur] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "summary-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "summary-icon user-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg", { viewBox: "0 0 24 24", width: "20", height: "20", fill: "currentColor", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z" }) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "summary-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "summary-label", children: "Emprunteur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "summary-value", children: [selectedBorrowerData.firstName, " ", selectedBorrowerData.lastName] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "summary-sub", children: [selectedBorrowerData.matricule, " \u2022 ", selectedBorrowerData.type === 'student' ? 'Étudiant' : 'Personnel'] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "summary-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "summary-icon date-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg", { viewBox: "0 0 24 24", width: "20", height: "20", fill: "currentColor", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M19 3H18V1H16V3H8V1H6V3H5C3.89 3 3.01 3.9 3.01 5L3 19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V8H19V19ZM7 10H12V15H7V10Z" }) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "summary-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "summary-label", children: "Retour pr\u00E9vu" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "summary-value", children: new Date(expectedReturnDate).toLocaleDateString('fr-FR', {
                                                    weekday: 'long',
                                                    year: 'numeric',
                                                    month: 'long',
                                                    day: 'numeric'
                                                }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "summary-sub", children: ["Dans ", Math.ceil((new Date(expectedReturnDate).getTime() - new Date().getTime()) / (1000 * 60 * 60 * 24)), " jour(s)"] })] })] })] })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { type: "button", className: "btn-secondary", onClick: onCancel, disabled: isLoading, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg", { viewBox: "0 0 24 24", width: "18", height: "18", fill: "currentColor", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z" }) }), "Annuler"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "submit", className: "btn-primary", disabled: !selectedBorrower || !expectedReturnDate || isLoading, onClick: handleSubmit, children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "loading-spinner" }), "Traitement..."] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg", { viewBox: "0 0 24 24", width: "18", height: "18", fill: "currentColor", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M9 16.17L4.83 12L3.41 13.41L9 19L21 7L19.59 5.58L9 16.17Z" }) }), "Confirmer l'emprunt"] })) })] }), showAddBorrower && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "add-borrower-overlay", onClick: () => setShowAddBorrower(false), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "add-borrower-modal", onClick: (e) => e.stopPropagation(), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "add-borrower-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Ajouter un emprunteur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "modal-close-small", onClick: () => setShowAddBorrower(false), children: "\u00D7" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "add-borrower-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "type-selector", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", className: `type-button ${newBorrowerData.type === 'student' ? 'active' : ''}`, onClick: () => setNewBorrowerData(prev => ({ ...prev, type: 'student' })), children: "\uD83C\uDF93 \u00C9tudiant" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", className: `type-button ${newBorrowerData.type === 'staff' ? 'active' : ''}`, onClick: () => setNewBorrowerData(prev => ({ ...prev, type: 'staff' })), children: "\uD83D\uDC54 Personnel" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-grid-compact", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group-compact", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Pr\u00E9nom *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: newBorrowerData.firstName, onChange: (e) => setNewBorrowerData(prev => ({ ...prev, firstName: e.target.value })), className: "form-input-compact", required: true })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group-compact", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Nom *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: newBorrowerData.lastName, onChange: (e) => setNewBorrowerData(prev => ({ ...prev, lastName: e.target.value })), className: "form-input-compact", required: true })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group-compact", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Matricule *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: newBorrowerData.matricule, onChange: (e) => setNewBorrowerData(prev => ({ ...prev, matricule: e.target.value })), className: "form-input-compact", required: true })] }), newBorrowerData.type === 'student' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group-compact", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Classe" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: newBorrowerData.classe, onChange: (e) => setNewBorrowerData(prev => ({ ...prev, classe: e.target.value })), className: "form-input-compact", placeholder: "ex: Terminale C" })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group-compact", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Poste" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: newBorrowerData.position, onChange: (e) => setNewBorrowerData(prev => ({ ...prev, position: e.target.value })), className: "form-input-compact", placeholder: "ex: Professeur" })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group-compact span-full", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Email" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "email", value: newBorrowerData.email, onChange: (e) => setNewBorrowerData(prev => ({ ...prev, email: e.target.value })), className: "form-input-compact" })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "add-borrower-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", className: "btn-secondary-small", onClick: () => setShowAddBorrower(false), children: "Annuler" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", className: "btn-primary-small", onClick: handleAddBorrower, disabled: !newBorrowerData.firstName || !newBorrowerData.lastName || !newBorrowerData.matricule || isLoading, children: isLoading ? 'Ajout...' : 'Ajouter' })] })] }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        /* Tous les styles CSS du formulaire d'emprunt ici */
        /* Le CSS est identique à celui du fichier précédent */
        /* ... (insérer ici tous les styles CSS de EnhancedBorrowForm) */
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/About.tsx":
/*!*******************************************!*\
  !*** ./src/renderer/components/About.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   About: () => (/* binding */ About)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/zap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/heart.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trophy.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/award.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/star.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/code.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/arrow-left.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/info.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/sparkles.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/map-pin.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/briefcase.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/mail.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/external-link.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/phone.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/graduation-cap.mjs");



const About = ({ onClose }) => {
    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('developer');
    const developerInfo = {
        name: 'CHEUDJEU TEFOYE CÉDRIC BASILIO',
        title: 'Expert en Développement Informatique & Intelligence Artificielle',
        location: 'Douala, Cameroun',
        phone: '+237 652 761 931',
        email: 'cedrictefoye@gmail.com',
        currentPosition: 'Responsable Cellule Informatique - Faculté de Médecine, Université de Douala',
        experience: '4+ ans d\'expérience',
        avatar: '👨‍💻'
    };
    const education = [
        {
            degree: 'Master en Intelligence Artificielle',
            institution: 'Université de Dschang, Faculté des Sciences',
            year: '2022-2023',
            mention: 'Mention obtenue',
            specialization: 'Machine Learning, NLP, Computer Vision'
        },
        {
            degree: 'Licence en Informatique Fondamentale',
            institution: 'Université de Dschang, Faculté des Sciences',
            year: '2020-2021',
            specialization: 'Génie Logiciel et Systèmes d\'Information'
        }
    ];
    const experience = [
        {
            title: 'Responsable Cellule Informatique',
            company: 'Faculté de Médecine - Université de Douala',
            period: 'Jan. 2024 - Présent',
            description: 'Administration des systèmes, développement d\'applications de gestion académique, implémentation de solutions d\'IA'
        },
        {
            title: 'Co-fondateur',
            company: 'OVERBRAND',
            period: 'Août 2021 - Présent',
            description: 'Direction stratégique et technique, supervision de projets web/mobile'
        },
        {
            title: 'Designer - Projet Help to Win',
            company: 'VISIBILITY CAM SARL',
            period: 'Mars 2023 - Présent',
            description: 'Conception UI/UX d\'application mobile éducative'
        }
    ];
    const technologies = {
        frontend: ['React.js', 'Vue.js', 'HTML5/CSS3', 'JavaScript', 'TypeScript'],
        backend: ['Node.js', 'PHP/Laravel', 'Python', 'Express.js'],
        mobile: ['React Native', 'Flutter'],
        ai: ['TensorFlow', 'PyTorch', 'Scikit-Learn', 'Machine Learning', 'NLP'],
        design: ['Figma', 'Adobe XD', 'Photoshop', 'Illustrator'],
        database: ['MySQL', 'PostgreSQL', 'MongoDB', 'Firebase'],
        tools: ['Git/GitHub', 'Docker', 'AWS']
    };
    const projectFeatures = [
        {
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"],
            title: 'Gestion complète',
            description: 'Système complet de gestion de bibliothèque avec emprunteurs, livres et historique'
        },
        {
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"],
            title: 'Multi-utilisateurs',
            description: 'Support pour étudiants et personnel avec différents types d\'accès'
        },
        {
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"],
            title: 'Interface moderne',
            description: 'Design contemporain avec animations fluides et expérience utilisateur optimisée'
        },
        {
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"],
            title: 'Open Source',
            description: 'Code source libre et gratuit pour toute la communauté éducative'
        }
    ];
    const achievements = [
        {
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"],
            title: 'Halkaton 2022',
            description: 'Hackathon de 24 heures'
        },
        {
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"],
            title: 'MountainHack 2020',
            description: 'Hackathon de 24 heures, Dschang'
        },
        {
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"],
            title: 'Master avec mention',
            description: 'Intelligence Artificielle - 2023'
        }
    ];
    const tabs = [
        { id: 'developer', label: 'Développeur', icon: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"] },
        { id: 'project', label: 'Le Projet', icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"] },
        { id: 'technologies', label: 'Technologies', icon: lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"] }
    ];
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "about-page", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hero-background", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hero-pattern" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "back-button", onClick: onClose, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Retour" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-main", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hero-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 48 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { className: "hero-title", children: "\u00C0 propos du projet" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "hero-subtitle", children: "D\u00E9couvrez l'histoire, les technologies et l'\u00E9quipe derri\u00E8re ce syst\u00E8me de gestion de biblioth\u00E8que" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "project-stats", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-number", children: "2024" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Ann\u00E9e de cr\u00E9ation" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-number", children: "100%" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "TypeScript" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-number", children: "MIT" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Licence libre" })] })] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "about-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tabs-navigation", children: tabs.map((tab) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `tab-button ${activeTab === tab.id ? 'active' : ''}`, onClick: () => setActiveTab(tab.id), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(tab.icon, { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: tab.label })] }, tab.id))) }), activeTab === 'developer' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "developer-hero", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "developer-avatar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "avatar-emoji", children: developerInfo.avatar }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "developer-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "developer-name", children: developerInfo.name }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "developer-title", children: developerInfo.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "developer-meta", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "meta-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: developerInfo.location })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "meta-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: developerInfo.experience })] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "content-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "card-title", children: "Contact" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "contact-list", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("a", { href: `mailto:${developerInfo.email}`, className: "contact-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: developerInfo.email }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 16 })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("a", { href: `tel:${developerInfo.phone}`, className: "contact-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: developerInfo.phone }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 16 })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "card-title", children: "Poste actuel" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "position-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "position-title", children: developerInfo.currentPosition }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "position-description", children: "Administration des syst\u00E8mes informatiques, d\u00E9veloppement d'applications de gestion acad\u00E9mique et impl\u00E9mentation de solutions d'IA pour l'optimisation des processus." })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", { className: "section-title", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 24 }), "Formation"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "timeline", children: education.map((edu, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "timeline-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "timeline-marker" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "timeline-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "timeline-title", children: edu.degree }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "timeline-subtitle", children: edu.institution }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "timeline-meta", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "timeline-year", children: edu.year }), edu.mention && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "timeline-mention", children: edu.mention })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "timeline-description", children: edu.specialization })] })] }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", { className: "section-title", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 24 }), "Exp\u00E9rience professionnelle"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "experience-grid", children: experience.map((exp, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "experience-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "experience-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "experience-title", children: exp.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "experience-period", children: exp.period })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "experience-company", children: exp.company }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "experience-description", children: exp.description })] }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", { className: "section-title", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 24 }), "R\u00E9alisations"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "achievements-grid", children: achievements.map((achievement, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "achievement-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "achievement-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(achievement.icon, { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "achievement-title", children: achievement.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "achievement-description", children: achievement.description })] }, index))) })] })] })), activeTab === 'project' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "project-intro", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "intro-title", children: "Syst\u00E8me de Gestion de Biblioth\u00E8que" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "intro-description", children: "Une solution moderne et compl\u00E8te pour la gestion des biblioth\u00E8ques, d\u00E9velopp\u00E9e avec les derni\u00E8res technologies web. Ce projet vise \u00E0 simplifier et moderniser la gestion des collections de livres, des emprunteurs et des transactions dans les \u00E9tablissements \u00E9ducatifs." })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "features-grid", children: projectFeatures.map((feature, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "feature-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(feature.icon, { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "feature-title", children: feature.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "feature-description", children: feature.description })] }, index))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "project-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "detail-title", children: "Objectifs du projet" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ul", { className: "detail-list", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Moderniser la gestion des biblioth\u00E8ques scolaires et universitaires" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Simplifier les processus d'emprunt et de retour de livres" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Fournir des statistiques et analyses en temps r\u00E9el" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Offrir une interface intuitive et accessible" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Garantir la gratuit\u00E9 et l'open source pour l'\u00E9ducation" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "detail-title", children: "Fonctionnalit\u00E9s principales" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ul", { className: "detail-list", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Gestion compl\u00E8te des livres (ajout, modification, suppression)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Syst\u00E8me d'emprunteurs avec diff\u00E9rents types (\u00E9tudiants, personnel)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Processus d'emprunt et de retour simplifi\u00E9s" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Historique d\u00E9taill\u00E9 des transactions" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "G\u00E9n\u00E9ration de rapports et exports CSV" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Interface responsive adapt\u00E9e \u00E0 tous les appareils" })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "project-mission", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mission-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 32 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mission-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "mission-title", children: "Notre mission" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "mission-description", children: "D\u00E9mocratiser l'acc\u00E8s aux outils de gestion modernes pour les biblioth\u00E8ques, en particulier dans les \u00E9tablissements \u00E9ducatifs. Nous croyons que chaque institution, quelle que soit sa taille ou ses ressources, devrait avoir acc\u00E8s \u00E0 des solutions technologiques de qualit\u00E9 pour am\u00E9liorer l'exp\u00E9rience de ses utilisateurs." })] })] })] })), activeTab === 'technologies' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tech-intro", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "intro-title", children: "Stack Technologique" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "intro-description", children: "Ce projet utilise des technologies modernes et \u00E9prouv\u00E9es pour garantir performance, s\u00E9curit\u00E9 et maintenabilit\u00E9. Voici un aper\u00E7u des outils et frameworks utilis\u00E9s." })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tech-categories", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tech-category", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "tech-title", children: "Frontend" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tech-tags", children: technologies.frontend.map((tech, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tech-tag frontend", children: tech }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tech-category", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "tech-title", children: "Backend" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tech-tags", children: technologies.backend.map((tech, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tech-tag backend", children: tech }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tech-category", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "tech-title", children: "Mobile" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tech-tags", children: technologies.mobile.map((tech, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tech-tag mobile", children: tech }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tech-category", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "tech-title", children: "Intelligence Artificielle" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tech-tags", children: technologies.ai.map((tech, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tech-tag ai", children: tech }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tech-category", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "tech-title", children: "Design" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tech-tags", children: technologies.design.map((tech, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tech-tag design", children: tech }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tech-category", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "tech-title", children: "Base de donn\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tech-tags", children: technologies.database.map((tech, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tech-tag database", children: tech }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tech-category", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "tech-title", children: "Outils & DevOps" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tech-tags", children: technologies.tools.map((tech, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tech-tag tools", children: tech }, index))) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "architecture-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "architecture-title", children: "Architecture" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "architecture-description", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Le syst\u00E8me est construit avec une architecture moderne s\u00E9parant clairement les couches de pr\u00E9sentation, logique m\u00E9tier et donn\u00E9es. L'interface utilisateur est d\u00E9velopp\u00E9e en React avec TypeScript pour une meilleure maintenabilit\u00E9." }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "L'application utilise Electron pour offrir une exp\u00E9rience desktop native tout en conservant la flexibilit\u00E9 du web. La base de donn\u00E9es SQLite garantit une installation simple et une portabilit\u00E9 maximale." })] })] })] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .about-page {
          height: 100%;
          overflow-y: auto;
          background: #FAF9F6;
        }
        
        .hero-section {
          position: relative;
          background: linear-gradient(135deg, #607D8B 0%, #455A64 100%);
          color: #F3EED9;
          padding: 48px 32px;
          overflow: hidden;
        }
        
        .hero-background {
          position: absolute;
          inset: 0;
          overflow: hidden;
        }
        
        .hero-pattern {
          position: absolute;
          inset: 0;
          background-image: 
            radial-gradient(circle at 25% 25%, rgba(243, 238, 217, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
          animation: drift 20s ease-in-out infinite;
        }
        
        @keyframes drift {
          0%, 100% { transform: translate(0, 0) rotate(0deg); }
          33% { transform: translate(30px, -30px) rotate(1deg); }
          66% { transform: translate(-20px, 20px) rotate(-1deg); }
        }
        
        .hero-content {
          position: relative;
          z-index: 1;
          max-width: 1200px;
          margin: 0 auto;
        }
        
        .back-button {
          display: flex;
          align-items: center;
          gap: 8px;
          background: rgba(243, 238, 217, 0.15);
          border: 1px solid rgba(243, 238, 217, 0.3);
          color: #F3EED9;
          padding: 12px 20px;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.3s ease;
          font-size: 14px;
          font-weight: 500;
          margin-bottom: 32px;
          width: fit-content;
        }
        
        .back-button:hover {
          background: rgba(243, 238, 217, 0.25);
          transform: translateX(-4px);
        }
        
        .hero-main {
          display: flex;
          align-items: center;
          gap: 24px;
          margin-bottom: 40px;
          text-align: center;
          flex-direction: column;
        }
        
        .hero-icon {
          width: 96px;
          height: 96px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
        }
        
        .hero-title {
          font-size: 42px;
          font-weight: 800;
          margin: 0 0 16px 0;
          line-height: 1.2;
          letter-spacing: -0.5px;
        }
        
        .hero-subtitle {
          font-size: 20px;
          opacity: 0.9;
          margin: 0;
          line-height: 1.5;
          max-width: 600px;
        }
        
        .project-stats {
          display: flex;
          justify-content: center;
          gap: 40px;
          flex-wrap: wrap;
        }
        
        .stat-item {
          display: flex;
          align-items: center;
          gap: 16px;
          background: rgba(243, 238, 217, 0.1);
          padding: 20px 24px;
          border-radius: 16px;
          backdrop-filter: blur(10px);
          border: 1px solid rgba(243, 238, 217, 0.2);
        }
        
        .stat-number {
          font-size: 24px;
          font-weight: 800;
          color: #F3EED9;
          display: block;
          line-height: 1;
        }
        
        .stat-label {
          font-size: 14px;
          color: rgba(243, 238, 217, 0.9);
          margin-top: 4px;
        }
        
        .about-content {
          padding: 0 32px 48px;
          max-width: 1200px;
          margin: 0 auto;
        }
        
        .tabs-navigation {
          display: flex;
          background: #FFFFFF;
          border-radius: 16px;
          padding: 8px;
          margin-bottom: 32px;
          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);
          border: 1px solid #E5DCC2;
          position: sticky;
          top: 20px;
          z-index: 10;
        }
        
        .tab-button {
          flex: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          padding: 16px 20px;
          border: none;
          background: transparent;
          color: #6E6E6E;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.3s ease;
          font-size: 14px;
          font-weight: 600;
        }
        
        .tab-button:hover {
          background: rgba(96, 125, 139, 0.1);
          color: #607D8B;
        }
        
        .tab-button.active {
          background: linear-gradient(135deg, #607D8B 0%, #455A64 100%);
          color: #F3EED9;
          box-shadow: 0 4px 12px rgba(96, 125, 139, 0.3);
        }
        
        .tab-content {
          animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        .developer-hero {
          display: flex;
          align-items: center;
          gap: 24px;
          background: #FFFFFF;
          border-radius: 20px;
          padding: 32px;
          margin-bottom: 32px;
          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);
          border: 1px solid #E5DCC2;
        }
        
        .developer-avatar {
          width: 80px;
          height: 80px;
          background: linear-gradient(135deg, #607D8B 0%, #455A64 100%);
          border-radius: 20px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 32px;
          flex-shrink: 0;
        }
        
        .developer-name {
          font-size: 28px;
          font-weight: 800;
          color: #2E2E2E;
          margin: 0 0 8px 0;
          letter-spacing: -0.3px;
        }
        
        .developer-title {
          font-size: 16px;
          color: #607D8B;
          margin: 0 0 16px 0;
          font-weight: 600;
        }
        
        .developer-meta {
          display: flex;
          gap: 24px;
          flex-wrap: wrap;
        }
        
        .meta-item {
          display: flex;
          align-items: center;
          gap: 8px;
          color: #6E6E6E;
          font-size: 14px;
        }
        
        .content-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 24px;
          margin-bottom: 48px;
        }
        
        .info-card {
          background: #FFFFFF;
          border-radius: 16px;
          padding: 24px;
          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);
          border: 1px solid #E5DCC2;
        }
        
        .card-title {
          font-size: 20px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 20px 0;
        }
        
        .contact-list {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }
        
        .contact-item {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px 16px;
          background: rgba(96, 125, 139, 0.05);
          border-radius: 12px;
          color: #2E2E2E;
          text-decoration: none;
          transition: all 0.2s ease;
        }
        
        .contact-item:hover {
          background: rgba(96, 125, 139, 0.1);
          transform: translateY(-1px);
        }
        
        .position-title {
          font-size: 16px;
          font-weight: 700;
          color: #607D8B;
          margin-bottom: 8px;
        }
        
        .position-description {
          font-size: 14px;
          color: #6E6E6E;
          line-height: 1.6;
          margin: 0;
        }
        
        .section {
          margin-bottom: 48px;
        }
        
        .section-title {
          display: flex;
          align-items: center;
          gap: 12px;
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 24px 0;
        }
        
        .timeline {
          position: relative;
          padding-left: 32px;
        }
        
        .timeline::before {
          content: '';
          position: absolute;
          left: 16px;
          top: 0;
          bottom: 0;
          width: 2px;
          background: linear-gradient(to bottom, #607D8B, #455A64);
        }
        
        .timeline-item {
          position: relative;
          margin-bottom: 32px;
          background: #FFFFFF;
          border-radius: 16px;
          padding: 24px;
          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);
          border: 1px solid #E5DCC2;
        }
        
        .timeline-marker {
          position: absolute;
          left: -40px;
          top: 24px;
          width: 12px;
          height: 12px;
          background: #607D8B;
          border-radius: 50%;
          border: 3px solid #FFFFFF;
          box-shadow: 0 0 0 2px #607D8B;
        }
        
        .timeline-title {
          font-size: 18px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 4px 0;
        }
        
        .timeline-subtitle {
          font-size: 14px;
          color: #607D8B;
          margin: 0 0 8px 0;
          font-weight: 600;
        }
        
        .timeline-meta {
          display: flex;
          gap: 16px;
          margin-bottom: 8px;
        }
        
        .timeline-year {
          background: rgba(96, 125, 139, 0.1);
          color: #607D8B;
          padding: 4px 8px;
          border-radius: 8px;
          font-size: 12px;
          font-weight: 600;
        }
        
        .timeline-mention {
          background: #4CAF50;
          color: #FFFFFF;
          padding: 4px 8px;
          border-radius: 8px;
          font-size: 12px;
          font-weight: 600;
        }
        
        .timeline-description {
          font-size: 14px;
          color: #6E6E6E;
          line-height: 1.6;
          margin: 0;
        }
        
        .experience-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 24px;
        }
        
        .experience-card {
          background: #FFFFFF;
          border-radius: 16px;
          padding: 24px;
          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);
          border: 1px solid #E5DCC2;
          transition: all 0.3s ease;
        }
        
        .experience-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 24px rgba(96, 125, 139, 0.15);
        }
        
        .experience-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 8px;
        }
        
        .experience-title {
          font-size: 16px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0;
          flex: 1;
        }
        
        .experience-period {
          background: rgba(96, 125, 139, 0.1);
          color: #607D8B;
          padding: 4px 8px;
          border-radius: 8px;
          font-size: 11px;
          font-weight: 600;
          white-space: nowrap;
        }
        
        .experience-company {
          font-size: 14px;
          color: #607D8B;
          font-weight: 600;
          margin: 0 0 12px 0;
        }
        
        .experience-description {
          font-size: 14px;
          color: #6E6E6E;
          line-height: 1.6;
          margin: 0;
        }
        
        .achievements-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 20px;
        }
        
        .achievement-card {
          background: #FFFFFF;
          border-radius: 16px;
          padding: 20px;
          text-align: center;
          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);
          border: 1px solid #E5DCC2;
          transition: all 0.3s ease;
        }
        
        .achievement-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 24px rgba(96, 125, 139, 0.15);
        }
        
        .achievement-icon {
          width: 48px;
          height: 48px;
          background: rgba(96, 125, 139, 0.1);
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #607D8B;
          margin: 0 auto 16px;
        }
        
        .achievement-title {
          font-size: 16px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 8px 0;
        }
        
        .achievement-description {
          font-size: 14px;
          color: #6E6E6E;
          margin: 0;
        }
        
        .project-intro {
          background: #FFFFFF;
          border-radius: 20px;
          padding: 32px;
          margin-bottom: 32px;
          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);
          border: 1px solid #E5DCC2;
          text-align: center;
        }
        
        .intro-title {
          font-size: 32px;
          font-weight: 800;
          color: #2E2E2E;
          margin: 0 0 16px 0;
          letter-spacing: -0.3px;
        }
        
        .intro-description {
          font-size: 16px;
          color: #6E6E6E;
          line-height: 1.6;
          margin: 0;
          max-width: 800px;
          margin: 0 auto;
        }
        
        .features-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 24px;
          margin-bottom: 48px;
        }
        
        .feature-card {
          background: #FFFFFF;
          border-radius: 20px;
          padding: 28px;
          text-align: center;
          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);
          border: 1px solid #E5DCC2;
          transition: all 0.3s ease;
        }
        
        .feature-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 24px rgba(96, 125, 139, 0.15);
        }
        
        .feature-icon {
          width: 56px;
          height: 56px;
          background: rgba(96, 125, 139, 0.1);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #607D8B;
          margin: 0 auto 20px;
        }
        
        .feature-title {
          font-size: 20px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 12px 0;
        }
        
        .feature-description {
          font-size: 14px;
          color: #6E6E6E;
          line-height: 1.6;
          margin: 0;
        }
        
        .project-details {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 24px;
          margin-bottom: 48px;
        }
        
        .detail-card {
          background: #FFFFFF;
          border-radius: 16px;
          padding: 24px;
          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);
          border: 1px solid #E5DCC2;
        }
        
        .detail-title {
          font-size: 20px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 16px 0;
        }
        
        .detail-list {
          list-style: none;
          padding: 0;
          margin: 0;
        }
        
        .detail-list li {
          padding: 8px 0;
          border-bottom: 1px solid #F3EED9;
          font-size: 14px;
          color: #6E6E6E;
          line-height: 1.6;
          position: relative;
          padding-left: 20px;
        }
        
        .detail-list li::before {
          content: '•';
          color: #607D8B;
          position: absolute;
          left: 0;
          font-weight: bold;
        }
        
        .detail-list li:last-child {
          border-bottom: none;
        }
        
        .project-mission {
          display: flex;
          gap: 24px;
          background: linear-gradient(135deg, rgba(96, 125, 139, 0.05) 0%, rgba(69, 90, 100, 0.05) 100%);
          border: 1px solid rgba(96, 125, 139, 0.2);
          border-radius: 20px;
          padding: 32px;
        }
        
        .mission-icon {
          width: 64px;
          height: 64px;
          background: #607D8B;
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #FFFFFF;
          flex-shrink: 0;
        }
        
        .mission-title {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 12px 0;
        }
        
        .mission-description {
          font-size: 16px;
          color: #6E6E6E;
          line-height: 1.6;
          margin: 0;
        }
        
        .tech-intro {
          background: #FFFFFF;
          border-radius: 20px;
          padding: 32px;
          margin-bottom: 32px;
          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);
          border: 1px solid #E5DCC2;
          text-align: center;
        }
        
        .tech-categories {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 24px;
          margin-bottom: 48px;
        }
        
        .tech-category {
          background: #FFFFFF;
          border-radius: 16px;
          padding: 24px;
          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);
          border: 1px solid #E5DCC2;
        }
        
        .tech-title {
          font-size: 18px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 16px 0;
        }
        
        .tech-tags {
          display: flex;
          flex-wrap: wrap;
          gap: 8px;
        }
        
        .tech-tag {
          padding: 6px 12px;
          border-radius: 12px;
          font-size: 12px;
          font-weight: 600;
          color: #FFFFFF;
        }
        
        .tech-tag.frontend { background: #3E5C49; }
        .tech-tag.backend { background: #C2571B; }
        .tech-tag.mobile { background: #E91E63; }
        .tech-tag.ai { background: #9C27B0; }
        .tech-tag.design { background: #FF9800; }
        .tech-tag.database { background: #607D8B; }
        .tech-tag.tools { background: #6E6E6E; }
        
        .architecture-info {
          background: #FFFFFF;
          border-radius: 16px;
          padding: 24px;
          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);
          border: 1px solid #E5DCC2;
        }
        
        .architecture-title {
          font-size: 20px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 16px 0;
        }
        
        .architecture-description p {
          font-size: 14px;
          color: #6E6E6E;
          line-height: 1.6;
          margin: 0 0 16px 0;
        }
        
        .architecture-description p:last-child {
          margin-bottom: 0;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
          .hero-section {
            padding: 32px 16px;
          }
          
          .hero-title {
            font-size: 32px;
          }
          
          .hero-subtitle {
            font-size: 18px;
          }
          
          .project-stats {
            flex-direction: column;
            gap: 16px;
          }
          
          .stat-item {
            justify-content: center;
          }
          
          .about-content {
            padding: 0 16px 32px;
          }
          
          .tabs-navigation {
            flex-direction: column;
            gap: 8px;
          }
          
          .tab-button {
            justify-content: flex-start;
          }
          
          .developer-hero {
            flex-direction: column;
            text-align: center;
            gap: 20px;
          }
          
          .developer-meta {
            justify-content: center;
          }
          
          .content-grid {
            grid-template-columns: 1fr;
          }
          
          .timeline {
            padding-left: 24px;
          }
          
          .timeline-marker {
            left: -32px;
          }
          
          .experience-grid {
            grid-template-columns: 1fr;
          }
          
          .achievements-grid {
            grid-template-columns: 1fr;
          }
          
          .features-grid {
            grid-template-columns: 1fr;
          }
          
          .project-details {
            grid-template-columns: 1fr;
          }
          
          .project-mission {
            flex-direction: column;
            text-align: center;
          }
          
          .tech-categories {
            grid-template-columns: 1fr;
          }
        }
        
        @media (max-width: 480px) {
          .hero-main {
            gap: 16px;
          }
          
          .hero-icon {
            width: 72px;
            height: 72px;
          }
          
          .hero-title {
            font-size: 28px;
          }
          
          .intro-title {
            font-size: 28px;
          }
          
          .developer-name {
            font-size: 24px;
          }
          
          .experience-header {
            flex-direction: column;
            gap: 8px;
          }
          
          .experience-period {
            align-self: flex-start;
          }
          
          .timeline-item {
            padding: 20px;
          }
          
          .feature-card,
          .achievement-card {
            padding: 20px;
          }
          
          .project-mission {
            padding: 24px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/AddDocument.tsx":
/*!*************************************************!*\
  !*** ./src/renderer/components/AddDocument.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AddDocument: () => (/* binding */ AddDocument)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/plus.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/file-text.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/building.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/map-pin.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/calendar.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/hash.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/tag.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/image.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/save.mjs");
/* harmony import */ var _MicroInteractions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MicroInteractions */ "./src/renderer/components/MicroInteractions.tsx");
/* harmony import */ var _ToastSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ToastSystem */ "./src/renderer/components/ToastSystem.tsx");





const AddDocument = ({ onAdd, onCancel, editingDocument }) => {
    const { success, error } = (0,_ToastSystem__WEBPACK_IMPORTED_MODULE_3__.useQuickToast)();
    const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        auteur: '',
        titre: '',
        editeur: '',
        lieuEdition: '',
        annee: new Date().getFullYear().toString(),
        descripteurs: '',
        cote: '',
        isbn: '',
        description: '',
        couverture: ''
    });
    const [authors, setAuthors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [categories, setCategories] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [errors, setErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        loadAuthors();
        loadCategories();
        if (editingDocument) {
            setFormData({
                auteur: editingDocument.auteur,
                titre: editingDocument.titre,
                editeur: editingDocument.editeur,
                lieuEdition: editingDocument.lieuEdition,
                annee: editingDocument.annee,
                descripteurs: editingDocument.descripteurs,
                cote: editingDocument.cote,
                isbn: editingDocument.isbn || '',
                description: editingDocument.description || '',
                couverture: editingDocument.couverture || ''
            });
        }
    }, [editingDocument]);
    const loadAuthors = async () => {
        try {
            const authorsList = await window.electronAPI.getAuthors();
            setAuthors(authorsList);
        }
        catch (error) {
            console.error('Erreur lors du chargement des auteurs:', error);
        }
    };
    const loadCategories = async () => {
        try {
            const categoriesList = await window.electronAPI.getCategories();
            setCategories(categoriesList);
        }
        catch (error) {
            console.error('Erreur lors du chargement des catégories:', error);
        }
    };
    const generateCote = () => {
        if (formData.descripteurs && formData.auteur && formData.annee) {
            const category = formData.descripteurs.split(',')[0].trim().toUpperCase();
            const authorCode = formData.auteur.split(' ').map(name => name.substring(0, 3).toUpperCase()).join('-');
            const yearCode = formData.annee.substring(-2);
            const randomNum = Math.floor(Math.random() * 999).toString().padStart(3, '0');
            const generatedCote = `${category.substring(0, 3)}-${authorCode}-${yearCode}${randomNum}`;
            setFormData(prev => ({ ...prev, cote: generatedCote }));
        }
    };
    const validateForm = () => {
        const newErrors = {};
        // Champs obligatoires
        if (!formData.auteur.trim())
            newErrors.auteur = 'L\'auteur est obligatoire';
        if (!formData.titre.trim())
            newErrors.titre = 'Le titre est obligatoire';
        if (!formData.editeur.trim())
            newErrors.editeur = 'L\'éditeur est obligatoire';
        if (!formData.lieuEdition.trim())
            newErrors.lieuEdition = 'Le lieu d\'édition est obligatoire';
        if (!formData.annee.trim())
            newErrors.annee = 'L\'année est obligatoire';
        if (!formData.descripteurs.trim())
            newErrors.descripteurs = 'Les descripteurs sont obligatoires';
        if (!formData.cote.trim())
            newErrors.cote = 'La cote est obligatoire';
        // Validation de l'année
        const year = parseInt(formData.annee);
        if (isNaN(year) || year < 1000 || year > new Date().getFullYear() + 10) {
            newErrors.annee = 'Année invalide';
        }
        // Validation ISBN (optionnel mais si fourni, doit être valide)
        if (formData.isbn && !/^(978|979)?[0-9]{9}[0-9X]$/.test(formData.isbn.replace(/-/g, ''))) {
            newErrors.isbn = 'Format ISBN invalide';
        }
        setErrors(newErrors);
        return Object.keys(newErrors).length === 0;
    };
    const handleSubmit = async (e) => {
        e?.preventDefault();
        if (!validateForm()) {
            return;
        }
        setIsLoading(true);
        try {
            const documentData = {
                ...formData,
                estEmprunte: false,
                syncStatus: 'pending',
                lastModified: new Date().toISOString(),
                version: editingDocument ? editingDocument.version + 1 : 1
            };
            await onAdd(documentData);
            // Reset form si ce n'est pas une édition
            if (!editingDocument) {
                setFormData({
                    auteur: '',
                    titre: '',
                    editeur: '',
                    lieuEdition: '',
                    annee: new Date().getFullYear().toString(),
                    descripteurs: '',
                    cote: '',
                    isbn: '',
                    description: '',
                    couverture: ''
                });
            }
        }
        catch (error) {
            console.error('Erreur lors de l\'ajout du document:', error);
            setErrors({ submit: 'Erreur lors de l\'enregistrement du document' });
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleInputChange = (field, value) => {
        setFormData(prev => ({ ...prev, [field]: value }));
        // Effacer l'erreur pour ce champ
        if (errors[field]) {
            setErrors(prev => ({ ...prev, [field]: '' }));
        }
    };
    const selectCoverImage = async () => {
        try {
            const filePath = await window.electronAPI.selectFile({
                filters: [
                    { name: 'Images', extensions: ['jpg', 'jpeg', 'png', 'gif', 'webp'] }
                ]
            });
            if (filePath) {
                setFormData(prev => ({ ...prev, couverture: filePath }));
            }
        }
        catch (error) {
            console.error('Erreur lors de la sélection de l\'image:', error);
        }
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "add-document-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "add-document-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "modal-title", children: editingDocument ? 'Modifier le document' : 'Ajouter un nouveau document' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "modal-subtitle", children: "Enrichissez votre collection biblioth\u00E8que" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: onCancel, className: "close-button", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form", { onSubmit: handleSubmit, className: "modal-content", children: [errors.submit && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "error-alert", children: errors.submit })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Informations principales" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-field", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "field-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 16 }), "Auteur *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.auteur, onChange: (e) => handleInputChange('auteur', e.target.value), className: `form-input ${errors.auteur ? 'error' : ''}`, placeholder: "Nom de l'auteur", list: "authors-list" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("datalist", { id: "authors-list", children: authors.map(author => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: author.name }, author.id))) }), errors.auteur && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "field-error", children: errors.auteur })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-field", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "field-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }), "Titre *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.titre, onChange: (e) => handleInputChange('titre', e.target.value), className: `form-input ${errors.titre ? 'error' : ''}`, placeholder: "Titre du document" }), errors.titre && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "field-error", children: errors.titre })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-field", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "field-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), "\u00C9diteur *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.editeur, onChange: (e) => handleInputChange('editeur', e.target.value), className: `form-input ${errors.editeur ? 'error' : ''}`, placeholder: "Nom de l'\u00E9diteur" }), errors.editeur && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "field-error", children: errors.editeur })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-field", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "field-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16 }), "Lieu d'\u00E9dition *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.lieuEdition, onChange: (e) => handleInputChange('lieuEdition', e.target.value), className: `form-input ${errors.lieuEdition ? 'error' : ''}`, placeholder: "Ville d'\u00E9dition" }), errors.lieuEdition && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "field-error", children: errors.lieuEdition })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-field", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "field-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 16 }), "Ann\u00E9e *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "number", value: formData.annee, onChange: (e) => handleInputChange('annee', e.target.value), className: `form-input ${errors.annee ? 'error' : ''}`, placeholder: "Ann\u00E9e de publication", min: "1000", max: new Date().getFullYear() + 10 }), errors.annee && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "field-error", children: errors.annee })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-field", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "field-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 16 }), "Cote *"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-with-button", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.cote, onChange: (e) => handleInputChange('cote', e.target.value), className: `form-input flex-1 ${errors.cote ? 'error' : ''}`, placeholder: "Code de classification" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", onClick: generateCote, className: "generate-button", title: "G\u00E9n\u00E9rer automatiquement", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 16 }) })] }), errors.cote && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "field-error", children: errors.cote })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "M\u00E9tadonn\u00E9es et classification" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-field full-width", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "field-label", children: "Descripteurs / Mots-cl\u00E9s *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.descripteurs, onChange: (e) => handleInputChange('descripteurs', e.target.value), className: `form-input ${errors.descripteurs ? 'error' : ''}`, placeholder: "ex: Fiction, Roman historique, XIXe si\u00E8cle (s\u00E9par\u00E9s par des virgules)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "field-help", children: "S\u00E9parez les mots-cl\u00E9s par des virgules. Ces descripteurs aideront \u00E0 la recherche et au classement." }), errors.descripteurs && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "field-error", children: errors.descripteurs })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-field", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "field-label", children: "ISBN (optionnel)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.isbn, onChange: (e) => handleInputChange('isbn', e.target.value), className: `form-input ${errors.isbn ? 'error' : ''}`, placeholder: "978-2-123456-78-9" }), errors.isbn && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "field-error", children: errors.isbn })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-field", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "field-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16 }), "Couverture (optionnel)"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-with-button", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.couverture, onChange: (e) => handleInputChange('couverture', e.target.value), className: "form-input flex-1", placeholder: "Chemin vers l'image", readOnly: true }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", onClick: selectCoverImage, className: "browse-button", children: "Parcourir" })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-field full-width", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "field-label", children: "Description (optionnel)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea", { value: formData.description, onChange: (e) => handleInputChange('description', e.target.value), className: "form-textarea", rows: 4, placeholder: "Description d\u00E9taill\u00E9e du document..." })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", onClick: onCancel, icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], children: "Annuler" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "success", onClick: () => handleSubmit(), disabled: isLoading, icon: lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroLoader, { size: 16, color: "white" }), "Enregistrement..."] })) : (editingDocument ? 'Modifier' : 'Ajouter') })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .add-document-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.6);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 50;
          padding: 16px;
          backdrop-filter: blur(8px);
        }
        
        .add-document-modal {
          background: #FFFFFF;
          border-radius: 20px;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
          width: 100%;
          max-width: 900px;
          max-height: 95vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          border: 1px solid rgba(229, 220, 194, 0.3);
        }
        
        .modal-header {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          padding: 32px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          position: relative;
        }
        
        .modal-header::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: radial-gradient(circle at 20% 80%, rgba(243, 238, 217, 0.1) 0%, transparent 50%);
          pointer-events: none;
        }
        
        .header-content {
          display: flex;
          align-items: center;
          gap: 20px;
          position: relative;
          z-index: 1;
        }
        
        .header-icon {
          width: 56px;
          height: 56px;
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);
        }
        
        .header-text {
          flex: 1;
        }
        
        .modal-title {
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 4px 0;
          line-height: 1.2;
          letter-spacing: -0.3px;
        }
        
        .modal-subtitle {
          font-size: 14px;
          opacity: 0.8;
          margin: 0;
        }
        
        .close-button {
          width: 44px;
          height: 44px;
          border: none;
          background: rgba(243, 238, 217, 0.1);
          color: #F3EED9;
          border-radius: 12px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          position: relative;
          z-index: 1;
        }
        
        .close-button:hover {
          background: rgba(243, 238, 217, 0.2);
          transform: scale(1.05);
        }
        
        .modal-content {
          padding: 32px;
          overflow-y: auto;
          display: flex;
          flex-direction: column;
          gap: 32px;
        }
        
        .error-alert {
          background: linear-gradient(135deg, #FEF2F2 0%, #FFFFFF 100%);
          border: 1px solid #FCA5A5;
          color: #DC2626;
          padding: 16px 20px;
          border-radius: 12px;
          font-size: 14px;
          font-weight: 500;
        }
        
        .form-section {
          background: rgba(243, 238, 217, 0.1);
          border-radius: 16px;
          padding: 24px;
          border: 1px solid rgba(243, 238, 217, 0.2);
        }
        
        .section-header {
          display: flex;
          align-items: center;
          gap: 16px;
          margin-bottom: 24px;
        }
        
        .section-icon {
          width: 40px;
          height: 40px;
          background: rgba(62, 92, 73, 0.1);
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #3E5C49;
        }
        
        .section-title {
          font-size: 18px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0;
        }
        
        .form-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: 20px;
        }
          .form-grid .form-field {
          min-width: 0; /* Évite que les flex/grid items dépassent leur conteneur */
        }
        
        .section-content {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }
        
        .form-field {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }
        
        .form-field.full-width {
          grid-column: 1 / -1;
        }
        
        .field-label {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          font-weight: 600;
          color: #1A1A1A;
          margin: 0;
        }
        
        .form-input, .form-textarea {
          width: 100%;
          padding: 12px 16px;
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          font-size: 14px;
          background: #FFFFFF;
          color: #2E2E2E;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          box-sizing: border-box;
          min-width: 0;
          
          /* Amélioration du contraste pour accessibilité */
          border-color: #B8A678;
        }
        
        .form-input:focus, .form-textarea:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.25);
          background: #FEFEFE;
        }
        
        .form-input.error {
          border-color: #DC2626;
          background: #FEF2F2;
        }
        
        .form-input.error:focus {
          border-color: #DC2626;
          box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
        }
        
        .form-textarea {
          resize: vertical;
          min-height: 100px;
        }
        
        .input-with-button {
          display: flex;
          gap: 8px;
          width: 100%;
        }
        .input-with-button .form-input {
  flex: 1;
  min-width: 0; /* Permet à l'input de se rétrécir si nécessaire */
}
        .generate-button, .browse-button {
          padding: 12px 16px;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }
        
        .generate-button {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
        }
        
        .generate-button:hover {
          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.3);
        }
        
        .browse-button {
          background: linear-gradient(135deg, #6E6E6E 0%, #5A5A5A 100%);
          color: #F3EED9;
        }
        
        .browse-button:hover {
          background: linear-gradient(135deg, #5A5A5A 0%, #4A4A4A 100%);
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(110, 110, 110, 0.3);
        }
        
        .field-help {
          font-size: 12px;
          color: #4A4A4A;
          margin: 0;
          line-height: 1.4;
          background: #F8F6F0;
          padding: 6px 10px;
          border-radius: 4px;
          border-left: 3px solid #E5DCC2;
        }
        
        .field-error {
          color: #B91C1C;
          font-size: 12px;
          font-weight: 600;
          margin: 0;
          background: #FEF2F2;
          padding: 4px 8px;
          border-radius: 4px;
          border-left: 3px solid #DC2626;
        }
        
        .modal-actions {
          display: flex;
          justify-content: flex-end;
          gap: 16px;
          padding-top: 24px;
          border-top: 1px solid rgba(243, 238, 217, 0.3);
        }
        
        .cancel-button {
          padding: 12px 24px;
          background: rgba(110, 110, 110, 0.1);
          color: #6E6E6E;
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .cancel-button:hover {
          background: rgba(110, 110, 110, 0.2);
          border-color: #6E6E6E;
          transform: translateY(-1px);
        }
        
        .submit-button {
          padding: 12px 24px;
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          color: #F3EED9;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          display: flex;
          align-items: center;
          gap: 8px;
        }
        
        .submit-button:hover {
          background: linear-gradient(135deg, #A8481A 0%, #8A3C18 100%);
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);
        }
        
        .submit-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }
        
        @media (max-width: 768px) {
          .add-document-overlay {
            padding: 8px;
          }
          
          .modal-header {
            padding: 20px;
          }
          
          .header-content {
            flex-direction: column;
            text-align: center;
            gap: 12px;
          }
          
          .modal-title {
            font-size: 20px;
          }
          
          .modal-content {
            padding: 20px;
            gap: 24px;
          }
          
          .form-section {
            padding: 16px;
          }
          
          .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            width: 100%; /* Assure que la grille prend toute la largeur disponible */
          }
          
          .modal-actions {
            flex-direction: column;
            gap: 12px;
          }
          
          .cancel-button,
          .submit-button {
            width: 100%;
            justify-content: center;
          }
        }
          @media (max-width: 768px) {
  .form-grid {
    grid-template-columns: 1fr;
    gap: 16px;
  }
}

@media (max-width: 480px) {
  .form-grid {
    grid-template-columns: 1fr;
    gap: 12px;
  }
  
  .input-with-button {
    flex-direction: column;
    gap: 8px;
  }
  
  .input-with-button .form-input {
    flex: none;
  }
}
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/AnimatedBackground.tsx":
/*!********************************************************!*\
  !*** ./src/renderer/components/AnimatedBackground.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AnimatedBackground: () => (/* binding */ AnimatedBackground)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


const AnimatedBackground = ({ variant = 'books', intensity = 'medium' }) => {
    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        const canvas = canvasRef.current;
        if (!canvas)
            return;
        const ctx = canvas.getContext('2d');
        if (!ctx)
            return;
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        // Floating books animation
        if (variant === 'books') {
            const books = [];
            const bookCount = intensity === 'low' ? 8 : intensity === 'medium' ? 15 : 25;
            // Initialize books
            for (let i = 0; i < bookCount; i++) {
                books.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    size: Math.random() * 20 + 15,
                    speed: Math.random() * 0.5 + 0.2,
                    opacity: Math.random() * 0.3 + 0.1,
                    rotation: Math.random() * Math.PI * 2,
                    rotationSpeed: (Math.random() - 0.5) * 0.02
                });
            }
            const animate = () => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                books.forEach(book => {
                    ctx.save();
                    ctx.translate(book.x, book.y);
                    ctx.rotate(book.rotation);
                    ctx.globalAlpha = book.opacity;
                    // Draw book shape
                    const gradient = ctx.createLinearGradient(-book.size / 2, -book.size / 2, book.size / 2, book.size / 2);
                    gradient.addColorStop(0, '#3E5C49');
                    gradient.addColorStop(0.5, '#4A6A55');
                    gradient.addColorStop(1, '#2E453A');
                    ctx.fillStyle = gradient;
                    ctx.fillRect(-book.size / 2, -book.size / 1.5, book.size, book.size * 1.3);
                    // Book spine
                    ctx.fillStyle = '#2E453A';
                    ctx.fillRect(-book.size / 2, -book.size / 1.5, book.size * 0.1, book.size * 1.3);
                    // Book pages
                    ctx.fillStyle = 'rgba(243, 238, 217, 0.8)';
                    ctx.fillRect(-book.size / 2 + book.size * 0.1, -book.size / 1.5 + 2, book.size * 0.8, book.size * 1.2);
                    ctx.restore();
                    // Update position
                    book.y -= book.speed;
                    book.rotation += book.rotationSpeed;
                    if (book.y < -book.size) {
                        book.y = canvas.height + book.size;
                        book.x = Math.random() * canvas.width;
                    }
                });
                requestAnimationFrame(animate);
            };
            animate();
        }
        // Particle system
        if (variant === 'particles') {
            const particles = [];
            const particleCount = intensity === 'low' ? 30 : intensity === 'medium' ? 60 : 100;
            const addParticle = () => {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: canvas.height + 10,
                    vx: (Math.random() - 0.5) * 2,
                    vy: -Math.random() * 3 - 1,
                    size: Math.random() * 3 + 1,
                    life: 0,
                    maxLife: Math.random() * 200 + 100
                });
            };
            // Initialize particles
            for (let i = 0; i < particleCount; i++) {
                addParticle();
            }
            const animate = () => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                particles.forEach((particle, index) => {
                    particle.x += particle.vx;
                    particle.y += particle.vy;
                    particle.life++;
                    const alpha = 1 - (particle.life / particle.maxLife);
                    ctx.globalAlpha = alpha * 0.6;
                    const gradient = ctx.createRadialGradient(particle.x, particle.y, 0, particle.x, particle.y, particle.size);
                    gradient.addColorStop(0, '#3E5C49');
                    gradient.addColorStop(1, 'transparent');
                    ctx.fillStyle = gradient;
                    ctx.beginPath();
                    ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
                    ctx.fill();
                    if (particle.life >= particle.maxLife || particle.y < -10) {
                        particles.splice(index, 1);
                        addParticle();
                    }
                });
                requestAnimationFrame(animate);
            };
            animate();
        }
        // Dynamic gradient
        if (variant === 'gradient') {
            let time = 0;
            const animate = () => {
                time += 0.005;
                const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
                const hue1 = Math.sin(time) * 30 + 210; // Blue-green range
                const hue2 = Math.sin(time + Math.PI / 3) * 30 + 150; // Green range
                const hue3 = Math.sin(time + Math.PI) * 30 + 45; // Yellow-orange range
                gradient.addColorStop(0, `hsla(${hue1}, 40%, 25%, 0.1)`);
                gradient.addColorStop(0.5, `hsla(${hue2}, 35%, 30%, 0.05)`);
                gradient.addColorStop(1, `hsla(${hue3}, 45%, 35%, 0.1)`);
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                requestAnimationFrame(animate);
            };
            animate();
        }
        const handleResize = () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        };
        window.addEventListener('resize', handleResize);
        return () => {
            window.removeEventListener('resize', handleResize);
        };
    }, [variant, intensity]);
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("canvas", { ref: canvasRef, style: {
            position: 'fixed',
            top: 0,
            left: 0,
            width: '100%',
            height: '100%',
            pointerEvents: 'none',
            zIndex: -1,
            opacity: 0.6
        } }));
};


/***/ }),

/***/ "./src/renderer/components/AppPasswordScreen.tsx":
/*!*******************************************************!*\
  !*** ./src/renderer/components/AppPasswordScreen.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AppPasswordScreen: () => (/* binding */ AppPasswordScreen)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/lock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/shield.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/key-round.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye-off.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-circle.mjs");

// src/renderer/components/AppPasswordScreen.tsx


const AppPasswordScreen = ({ onUnlock, onSkip, isSetup = false }) => {
    const [password, setPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [confirmPassword, setConfirmPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [showPassword, setShowPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const handleSubmit = async (e) => {
        e.preventDefault();
        setError('');
        setIsLoading(true);
        try {
            if (isSetup) {
                // Configuration d'un nouveau mot de passe
                if (password.length < 4) {
                    throw new Error('Le mot de passe doit contenir au moins 4 caractères');
                }
                if (password !== confirmPassword) {
                    throw new Error('Les mots de passe ne correspondent pas');
                }
                // Sauvegarder le mot de passe (via le service LocalAuthService)
                const { LocalAuthService } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../services/LocalAuthService */ "./src/renderer/services/LocalAuthService.ts"));
                LocalAuthService.setAppPassword(password);
                onUnlock();
            }
            else {
                // Vérification du mot de passe existant
                const { LocalAuthService } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../services/LocalAuthService */ "./src/renderer/services/LocalAuthService.ts"));
                if (LocalAuthService.verifyAppPassword(password)) {
                    onUnlock();
                }
                else {
                    throw new Error('Mot de passe incorrect');
                }
            }
        }
        catch (err) {
            setError(err.message);
        }
        finally {
            setIsLoading(false);
        }
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "app-password-screen", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "password-background", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "pattern-overlay" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "floating-locks", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-lock", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-lock", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 32 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-lock", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 28 }) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "password-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "password-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "lock-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 48 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { children: isSetup ? 'Sécuriser l\'Application' : 'Application Verrouillée' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: isSetup
                                    ? 'Définissez un mot de passe pour sécuriser l\'accès à l\'application'
                                    : 'Entrez le mot de passe pour déverrouiller l\'application' })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form", { onSubmit: handleSubmit, className: "password-form", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: isSetup ? 'Nouveau mot de passe' : 'Mot de passe' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: showPassword ? 'text' : 'password', value: password, onChange: (e) => setPassword(e.target.value), placeholder: isSetup ? 'Créez un mot de passe' : 'Entrez votre mot de passe', required: true, disabled: isLoading, autoFocus: true }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", className: "toggle-password", onClick: () => setShowPassword(!showPassword), children: showPassword ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 18 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 18 }) })] })] }), isSetup && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Confirmer le mot de passe" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: showPassword ? 'text' : 'password', value: confirmPassword, onChange: (e) => setConfirmPassword(e.target.value), placeholder: "Confirmez votre mot de passe", required: true, disabled: isLoading })] })] })), error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "error-message", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: error })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "password-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "submit", className: "unlock-btn", disabled: !password || isLoading || (isSetup && !confirmPassword), children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "spinner" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Traitement..." })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: isSetup ? 'Définir le mot de passe' : 'Déverrouiller' })] })) }), (isSetup || onSkip) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", className: "skip-btn", onClick: onSkip, disabled: isLoading, children: isSetup ? 'Ignorer (non sécurisé)' : 'Réinitialiser' }))] }), isSetup && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "security-notice", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "notice-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "notice-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Conseil de s\u00E9curit\u00E9 :" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ul", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Utilisez un mot de passe unique" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Conservez-le en lieu s\u00FBr" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Ne le partagez pas" })] })] })] }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .app-password-screen {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, #3E5C49 0%, #399b5dff 100%);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 9999;
        }

        .password-background {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          opacity: 0.1;
        }

        .pattern-overlay {
          width: 100%;
          height: 100%;
          background-image: 
            radial-gradient(circle at 25% 25%, white 2px, transparent 2px),
            radial-gradient(circle at 75% 75%, white 2px, transparent 2px);
          background-size: 60px 60px;
          animation: patternMove 25s linear infinite;
        }

        .floating-locks {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
        }

        .floating-lock {
          position: absolute;
          color: rgba(255, 255, 255, 0.15);
          animation: float 8s ease-in-out infinite;
        }

        .floating-lock:nth-child(1) {
          top: 15%;
          left: 15%;
          animation-delay: 0s;
        }

        .floating-lock:nth-child(2) {
          top: 25%;
          right: 15%;
          animation-delay: 3s;
        }

        .floating-lock:nth-child(3) {
          bottom: 25%;
          left: 25%;
          animation-delay: 6s;
        }

        .password-container {
          background: white;
          border-radius: 20px;
          padding: 40px;
          max-width: 450px;
          width: 90%;
          box-shadow: 0 25px 80px rgba(0, 0, 0, 0.3);
          position: relative;
          z-index: 1;
        }

        .password-header {
          text-align: center;
          margin-bottom: 32px;
        }

        .lock-icon {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          width: 80px;
          height: 80px;
          background: linear-gradient(135deg, #3E5C49, #399b5dff);
          border-radius: 20px;
          color: white;
          margin-bottom: 20px;
        }

        .password-header h1 {
          font-size: 2rem;
          font-weight: 800;
          color: #1f2937;
          margin: 0 0 12px 0;
        }

        .password-header p {
          color: #6b7280;
          margin: 0;
          line-height: 1.5;
        }

        .password-form {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          font-weight: 600;
          color: #374151;
          font-size: 0.9rem;
        }

        .input-group {
          position: relative;
          display: flex;
          align-items: center;
          border: 2px solid #e5e7eb;
          border-radius: 12px;
          padding: 0 16px;
          transition: border-color 0.3s ease;
        }

        .input-group:focus-within {
          border-color: #399b5dff;
          box-shadow: 0 0 0 3px rgba(55, 48, 163, 0.1);
        }

        .input-group svg {
          color: #9ca3af;
          margin-right: 12px;
          flex-shrink: 0;
        }

        .input-group input {
          flex: 1;
          border: none;
          padding: 16px 0;
          font-size: 1rem;
          outline: none;
          background: transparent;
        }

        .toggle-password {
          background: none;
          border: none;
          color: #9ca3af;
          cursor: pointer;
          padding: 4px;
          margin-left: 8px;
          border-radius: 4px;
          transition: color 0.3s ease;
        }

        .toggle-password:hover {
          color: #6b7280;
        }

        .error-message {
          display: flex;
          align-items: center;
          gap: 8px;
          color: #dc2626;
          background: #fef2f2;
          padding: 12px 16px;
          border-radius: 8px;
          font-size: 0.9rem;
          border: 1px solid #fecaca;
        }

        .password-actions {
          display: flex;
          flex-direction: column;
          gap: 12px;
          margin-top: 8px;
        }

        .unlock-btn {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          background: linear-gradient(135deg, #3E5C49, #399b5dff);
          color: white;
          border: none;
          padding: 16px 24px;
          border-radius: 12px;
          font-size: 1.1rem;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .unlock-btn:not(:disabled):hover {
          transform: translateY(-2px);
          box-shadow: 0 10px 30px rgba(30, 138, 100, 0.3);
        }

        .unlock-btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }

        .skip-btn {
          background: none;
          border: 2px solid #e5e7eb;
          color: #6b7280;
          padding: 12px 24px;
          border-radius: 12px;
          font-size: 0.9rem;
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .skip-btn:hover {
          border-color: #d1d5db;
          background: #f9fafb;
        }

        .security-notice {
          background: #f0f9ff;
          border: 1px solid #bae6fd;
          border-radius: 12px;
          padding: 16px;
          margin-top: 8px;
        }

        .notice-icon {
          color: #02c78fff;
          margin-bottom: 8px;
        }

        .notice-content p {
          font-weight: 600;
          color: #0c6e52ff;
          margin: 0 0 8px 0;
          font-size: 0.9rem;
        }

        .notice-content ul {
          margin: 0;
          padding-left: 20px;
          color: #078561ff;
          font-size: 0.85rem;
        }

        .notice-content li {
          margin-bottom: 4px;
        }

        .spinner {
          width: 16px;
          height: 16px;
          border: 2px solid transparent;
          border-top: 2px solid currentColor;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes patternMove {
          0% { transform: translateX(0) translateY(0); }
          100% { transform: translateX(60px) translateY(60px); }
        }

        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-30px); }
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }

        @media (max-width: 500px) {
          .password-container {
            padding: 24px;
            width: 95%;
          }

          .password-header h1 {
            font-size: 1.6rem;
          }

          .lock-icon {
            width: 60px;
            height: 60px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/AppSettings.tsx":
/*!*************************************************!*\
  !*** ./src/renderer/components/AppSettings.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AppSettings: () => (/* binding */ AppSettings)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/settings.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/database.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/shield.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/building.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/info.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/upload.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/wifi-off.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/wifi.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/rotate-ccw.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/save.mjs");
/* harmony import */ var _MicroInteractions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MicroInteractions */ "./src/renderer/components/MicroInteractions.tsx");
/* harmony import */ var _ToastSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ToastSystem */ "./src/renderer/components/ToastSystem.tsx");





const AppSettings = ({ onClose }) => {
    const { success, error } = (0,_ToastSystem__WEBPACK_IMPORTED_MODULE_3__.useQuickToast)();
    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('general');
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [isAdmin, setIsAdmin] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [config, setConfig] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        mode: 'offline',
        autoBackup: false,
        backupFrequency: 'weekly',
        requireAppPassword: false,
        sessionTimeout: 30,
        theme: 'light'
    });
    const [appPassword, setAppPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [showPasswordSection, setShowPasswordSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [institutionSettings, setInstitutionSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        name: 'Bibliothèque Numérique',
        address: '',
        city: '',
        country: '',
        phone: '',
        email: '',
        website: '',
        logo: '',
        description: 'Système de gestion de bibliothèque moderne'
    });
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        loadConfig();
        checkAdminStatus();
        loadAppPasswordSettings();
    }, []);
    const loadConfig = () => {
        // Charger la configuration depuis localStorage
        const storedMode = localStorage.getItem('appMode') || 'offline';
        const storedConfig = localStorage.getItem('appConfig');
        if (storedConfig) {
            try {
                const parsed = JSON.parse(storedConfig);
                setConfig({ ...config, mode: storedMode, ...parsed });
            }
            catch (e) {
                console.warn('Could not parse stored config:', e);
            }
        }
        else {
            setConfig(prev => ({ ...prev, mode: storedMode }));
        }
        // Charger les paramètres d'institution
        const storedInstitution = localStorage.getItem('institutionSettings');
        if (storedInstitution) {
            try {
                const parsed = JSON.parse(storedInstitution);
                setInstitutionSettings(prev => ({ ...prev, ...parsed }));
            }
            catch (e) {
                console.warn('Could not parse institution settings:', e);
            }
        }
    };
    const loadAppPasswordSettings = () => {
        try {
            const appSettings = localStorage.getItem('app_settings');
            if (appSettings) {
                const parsed = JSON.parse(appSettings);
                setConfig(prev => ({
                    ...prev,
                    requireAppPassword: parsed.requireAppPassword || false
                }));
                setShowPasswordSection(parsed.requireAppPassword || false);
            }
        }
        catch (error) {
            console.error('Erreur lors du chargement des paramètres de mot de passe:', error);
        }
    };
    const checkAdminStatus = () => {
        // Vérifier si l'utilisateur connecté est un admin
        const currentUser = localStorage.getItem('currentUser');
        const appMode = localStorage.getItem('appMode');
        // En mode offline, permettre l'accès admin par défaut si aucun utilisateur spécifique n'est défini
        if (appMode === 'offline') {
            if (currentUser) {
                try {
                    const user = JSON.parse(currentUser);
                    setIsAdmin(user.role === 'admin' || user.isAdmin === true);
                }
                catch (e) {
                    console.warn('Could not parse current user:', e);
                    // En mode offline, donner accès admin par défaut
                    setIsAdmin(true);
                }
            }
            else {
                // Pas d'utilisateur défini en mode offline, donner accès admin
                setIsAdmin(true);
            }
        }
        else {
            // Mode online, vérification stricte
            if (currentUser) {
                try {
                    const user = JSON.parse(currentUser);
                    setIsAdmin(user.role === 'admin' || user.isAdmin === true);
                }
                catch (e) {
                    console.warn('Could not parse current user:', e);
                    setIsAdmin(false);
                }
            }
            else {
                setIsAdmin(false);
            }
        }
    };
    const saveConfig = async () => {
        setIsLoading(true);
        try {
            // Sauvegarder la configuration
            localStorage.setItem('appMode', config.mode);
            localStorage.setItem('appConfig', JSON.stringify({
                autoBackup: config.autoBackup,
                backupFrequency: config.backupFrequency,
                requireAppPassword: config.requireAppPassword,
                sessionTimeout: config.sessionTimeout,
                theme: config.theme
            }));
            // Sauvegarder les paramètres de mot de passe d'application via LocalAuthService
            if (config.requireAppPassword && appPassword.trim()) {
                const appSettings = JSON.parse(localStorage.getItem('app_settings') || '{}');
                appSettings.requireAppPassword = true;
                appSettings.appPassword = appPassword; // En production, il faudrait hasher
                localStorage.setItem('app_settings', JSON.stringify(appSettings));
            }
            else if (!config.requireAppPassword) {
                const appSettings = JSON.parse(localStorage.getItem('app_settings') || '{}');
                appSettings.requireAppPassword = false;
                delete appSettings.appPassword;
                localStorage.setItem('app_settings', JSON.stringify(appSettings));
            }
            // Sauvegarder les paramètres d'institution si admin
            if (isAdmin) {
                localStorage.setItem('institutionSettings', JSON.stringify(institutionSettings));
            }
            success('Configuration sauvegardée', 'Les paramètres ont été enregistrés avec succès');
            // Redémarrer l'application si le mode a changé
            if (config.mode !== localStorage.getItem('appMode')) {
                setTimeout(() => {
                    window.location.reload();
                }, 1000);
            }
        }
        catch (err) {
            error('Erreur de sauvegarde', 'Impossible de sauvegarder la configuration');
        }
        finally {
            setIsLoading(false);
        }
    };
    const resetToDefaults = () => {
        if (window.confirm('Êtes-vous sûr de vouloir réinitialiser tous les paramètres ?')) {
            setConfig({
                mode: 'offline',
                autoBackup: false,
                backupFrequency: 'weekly',
                requireAppPassword: false,
                sessionTimeout: 30,
                theme: 'light'
            });
        }
    };
    const resetDatabase = async () => {
        if (window.confirm('🔧 Réinitialiser la base de données ?\n\nCela va corriger les problèmes de schéma mais supprimera toutes les données.')) {
            try {
                // Supprimer toutes les données
                await window.electronAPI?.clearAllData();
                success('Base de données réinitialisée', 'Le schéma de la base de données a été corrigé. L\'application va redémarrer.');
                setTimeout(() => {
                    window.location.reload();
                }, 2000);
            }
            catch (err) {
                error('Erreur', 'Impossible de réinitialiser la base de données');
                console.error('Erreur de réinitialisation:', err);
            }
        }
    };
    const clearAllData = async () => {
        if (window.confirm('⚠️ ATTENTION: Cette action supprimera TOUTES les données de l\'application. Êtes-vous absolument sûr ?')) {
            if (window.confirm('Cette action est IRRÉVERSIBLE. Tapez "CONFIRMER" dans la prochaine boîte pour continuer.')) {
                const confirmation = window.prompt('Tapez "CONFIRMER" pour supprimer toutes les données:');
                if (confirmation === 'CONFIRMER') {
                    try {
                        // Nettoyer la base de données
                        await window.electronAPI?.clearAllData();
                        // Nettoyer le localStorage
                        localStorage.clear();
                        success('Données supprimées', 'Toutes les données ont été supprimées. L\'application va redémarrer.');
                        setTimeout(() => {
                            window.location.reload();
                        }, 2000);
                    }
                    catch (err) {
                        error('Erreur', 'Impossible de supprimer les données');
                    }
                }
            }
        }
    };
    const handleInputChange = (field, value) => {
        setConfig(prev => ({ ...prev, [field]: value }));
    };
    const handleInstitutionChange = (field, value) => {
        setInstitutionSettings(prev => ({ ...prev, [field]: value }));
    };
    const handleLogoUpload = (event) => {
        const file = event.target.files?.[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                const result = e.target?.result;
                setInstitutionSettings(prev => ({ ...prev, logo: result }));
            };
            reader.readAsDataURL(file);
        }
    };
    const tabs = [
        { id: 'general', label: 'Général', icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"] },
        { id: 'database', label: 'Base de données', icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"] },
        { id: 'security', label: 'Sécurité', icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"] },
        ...(isAdmin ? [{ id: 'institution', label: 'Institution', icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"] }] : []),
        { id: 'about', label: 'À propos', icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"] }
    ];
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 28 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "modal-title", children: "Param\u00E8tres de l'application" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "modal-subtitle", children: "Configurez votre biblioth\u00E8que num\u00E9rique" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: onClose, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tabs-container", children: tabs.map(tab => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `tab-button ${activeTab === tab.id ? 'active' : ''}`, onClick: () => setActiveTab(tab.id), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(tab.icon, { size: 18 }), tab.label] }, tab.id))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-content", children: [activeTab === 'general' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-panel", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "group-title", children: "Mode de fonctionnement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Mode de l'application" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Choisissez entre le mode hors ligne (SQLite local) ou en ligne (Supabase)" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: config.mode, onChange: (e) => handleInputChange('mode', e.target.value), className: "setting-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "offline", children: "\uD83D\uDD12 Hors ligne (SQLite)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "online", children: "\uD83C\uDF10 En ligne (Supabase)" })] }) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "group-title", children: "Th\u00E8me" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Apparence" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Choisissez le th\u00E8me de l'interface" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: config.theme, onChange: (e) => handleInputChange('theme', e.target.value), className: "setting-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "light", children: "\u2600\uFE0F Clair" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "dark", children: "\uD83C\uDF19 Sombre" })] }) })] })] })] })), activeTab === 'database' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-panel", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "group-title", children: "Sauvegarde automatique" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Activer la sauvegarde automatique" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Sauvegarder automatiquement la base de donn\u00E9es" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "toggle", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: config.autoBackup, onChange: (e) => handleInputChange('autoBackup', e.target.checked) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "slider" })] }) })] }), config.autoBackup && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Fr\u00E9quence de sauvegarde" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "\u00C0 quelle fr\u00E9quence sauvegarder" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: config.backupFrequency, onChange: (e) => handleInputChange('backupFrequency', e.target.value), className: "setting-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "daily", children: "Quotidienne" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "weekly", children: "Hebdomadaire" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "monthly", children: "Mensuelle" })] }) })] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group danger", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "group-title", children: "Zone de danger" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "R\u00E9initialiser la base de donn\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "\uD83D\uDD27 Corrige les probl\u00E8mes de sch\u00E9ma de base de donn\u00E9es en recr\u00E9ant les tables" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "btn-warning", onClick: resetDatabase, children: "R\u00E9initialiser DB" }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Supprimer toutes les donn\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "\u26A0\uFE0F Supprime d\u00E9finitivement tous les documents, emprunteurs et historiques" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "btn-danger", onClick: clearAllData, children: "Supprimer tout" }) })] })] })] })), activeTab === 'security' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tab-panel", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "group-title", children: "Mot de passe d'application" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Exiger un mot de passe au d\u00E9marrage" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Prot\u00E9gez l'acc\u00E8s \u00E0 l'application avec un mot de passe" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "toggle", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: config.requireAppPassword, onChange: (e) => {
                                                                            handleInputChange('requireAppPassword', e.target.checked);
                                                                            setShowPasswordSection(e.target.checked);
                                                                        } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "slider" })] }) })] }), showPasswordSection && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Mot de passe de l'application" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "D\u00E9finissez le mot de passe requis au d\u00E9marrage de l'application" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "password", value: appPassword, onChange: (e) => setAppPassword(e.target.value), className: "setting-input password-input", placeholder: "Mot de passe", required: config.requireAppPassword }) })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "D\u00E9lai d'expiration de session (minutes)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Dur\u00E9e avant verrouillage automatique de l'application" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "number", min: "5", max: "120", value: config.sessionTimeout, onChange: (e) => handleInputChange('sessionTimeout', parseInt(e.target.value)), className: "setting-input" }) })] })] }) })), activeTab === 'institution' && isAdmin && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tab-panel", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "group-title", children: "Informations g\u00E9n\u00E9rales" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Logo de l'institution" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Logo qui appara\u00EEtra sur les rapports et documents officiels" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "logo-upload-container", children: [institutionSettings.logo && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "logo-preview", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img", { src: institutionSettings.logo, alt: "Logo" }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "upload-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "file", id: "logo-upload", accept: "image/*", onChange: handleLogoUpload, style: { display: 'none' } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { htmlFor: "logo-upload", className: "upload-button", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16 }), institutionSettings.logo ? 'Changer' : 'Ajouter'] }), institutionSettings.logo && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", onClick: () => setInstitutionSettings(prev => ({ ...prev, logo: '' })), className: "remove-button", children: "Supprimer" }))] })] }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Nom de l'institution" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Nom officiel de votre \u00E9tablissement" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionSettings.name, onChange: (e) => handleInstitutionChange('name', e.target.value), className: "setting-input", placeholder: "Nom de l'institution" }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Description" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Br\u00E8ve description de l'institution" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea", { value: institutionSettings.description, onChange: (e) => handleInstitutionChange('description', e.target.value), className: "setting-textarea", placeholder: "Description de l'institution" }) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "group-title", children: "Coordonn\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Adresse" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Adresse postale compl\u00E8te" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionSettings.address, onChange: (e) => handleInstitutionChange('address', e.target.value), className: "setting-input", placeholder: "Adresse" }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Ville" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Ville et code postal" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionSettings.city, onChange: (e) => handleInstitutionChange('city', e.target.value), className: "setting-input", placeholder: "Ville" }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Pays" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Pays de l'institution" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionSettings.country, onChange: (e) => handleInstitutionChange('country', e.target.value), className: "setting-input", placeholder: "Pays" }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "T\u00E9l\u00E9phone" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Num\u00E9ro de t\u00E9l\u00E9phone principal" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "tel", value: institutionSettings.phone, onChange: (e) => handleInstitutionChange('phone', e.target.value), className: "setting-input", placeholder: "T\u00E9l\u00E9phone" }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Email" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "Adresse email officielle" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "email", value: institutionSettings.email, onChange: (e) => handleInstitutionChange('email', e.target.value), className: "setting-input", placeholder: "Email" }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "setting-label", children: "Site web" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setting-description", children: "URL du site web institutionnel" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setting-control", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "url", value: institutionSettings.website, onChange: (e) => handleInstitutionChange('website', e.target.value), className: "setting-input", placeholder: "https://www.example.com" }) })] })] })] })), activeTab === 'about' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "tab-panel", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "about-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "app-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "app-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 48 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Biblioth\u00E8que Num\u00E9rique" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "version", children: "Version 1.0.0" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "description", children: "Syst\u00E8me de gestion de biblioth\u00E8que moderne pour \u00E9tablissements scolaires" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Mode actuel:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: `mode-badge ${config.mode}`, children: config.mode === 'offline' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 14 }), "Hors ligne"] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 14 }), "En ligne"] })) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Base de donn\u00E9es:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: config.mode === 'offline' ? 'SQLite locale' : 'Supabase cloud' })] })] })] }) }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", onClick: resetToDefaults, icon: lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], children: "R\u00E9initialiser" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "success", onClick: saveConfig, disabled: isLoading, icon: lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], children: isLoading ? 'Sauvegarde...' : 'Sauvegarder' })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .settings-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.6);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
          backdrop-filter: blur(8px);
        }

        .settings-modal {
          background: #FFFFFF;
          border-radius: 20px;
          width: 100%;
          max-width: 800px;
          max-height: 90vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
          border: 1px solid rgba(229, 220, 194, 0.3);
        }

        .modal-header {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          padding: 32px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          position: relative;
        }

        .header-content {
          display: flex;
          align-items: center;
          gap: 20px;
        }

        .header-icon {
          width: 56px;
          height: 56px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .modal-title {
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 4px 0;
        }

        .modal-subtitle {
          font-size: 14px;
          opacity: 0.8;
          margin: 0;
        }

        .close-button {
          width: 44px;
          height: 44px;
          border: none;
          background: rgba(243, 238, 217, 0.1);
          color: #F3EED9;
          border-radius: 12px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          position: absolute;
          top: 32px;
          right: 32px;
          z-index: 1001;
        }

        .close-button:hover {
          background: rgba(243, 238, 217, 0.2);
        }

        .settings-content {
          flex: 1;
          display: flex;
          overflow: hidden;
        }

        .tabs-container {
          width: 200px;
          background: #F3EED9;
          border-right: 1px solid #E5DCC2;
          padding: 24px 0;
        }

        .tab-button {
          width: 100%;
          padding: 16px 24px;
          border: none;
          background: transparent;
          color: #6E6E6E;
          text-align: left;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 12px;
          font-size: 14px;
          font-weight: 500;
          transition: all 0.2s ease;
        }

        .tab-button:hover {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }

        .tab-button.active {
          background: #3E5C49;
          color: #F3EED9;
          font-weight: 600;
        }

        .tab-content {
          flex: 1;
          overflow-y: auto;
          padding: 32px;
        }

        .tab-panel {
          max-width: 600px;
        }

        .setting-group {
          margin-bottom: 32px;
          padding: 24px;
          background: rgba(243, 238, 217, 0.1);
          border-radius: 12px;
          border: 1px solid rgba(243, 238, 217, 0.3);
        }

        .setting-group.danger {
          background: rgba(220, 38, 38, 0.05);
          border-color: rgba(220, 38, 38, 0.2);
        }

        .group-title {
          font-size: 18px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 20px 0;
        }

        .setting-item {
          display: flex;
          align-items: flex-start;
          justify-content: space-between;
          gap: 24px;
          margin-bottom: 20px;
        }

        .setting-item:last-child {
          margin-bottom: 0;
        }

        .setting-info {
          flex: 1;
        }

        .setting-label {
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 4px 0;
          display: block;
        }

        .setting-description {
          font-size: 12px;
          color: #6E6E6E;
          margin: 0;
          line-height: 1.4;
        }

        .setting-control {
          flex-shrink: 0;
        }

        .setting-select, .setting-input {
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          padding: 8px 12px;
          background: #FFFFFF;
          color: #2E2E2E;
          font-size: 14px;
        }

        .setting-input {
          width: 80px;
          text-align: center;
        }

        .password-input {
          width: 200px;
          text-align: left;
        }

        .setting-textarea {
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          padding: 8px 12px;
          background: #FFFFFF;
          color: #2E2E2E;
          font-size: 14px;
          width: 200px;
          min-height: 60px;
          resize: vertical;
          font-family: inherit;
        }

        .logo-upload-container {
          display: flex;
          flex-direction: column;
          gap: 12px;
          align-items: flex-start;
        }

        .logo-preview {
          width: 80px;
          height: 80px;
          border-radius: 12px;
          overflow: hidden;
          border: 2px solid #E5DCC2;
          background: #F3EED9;
        }

        .logo-preview img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .upload-actions {
          display: flex;
          gap: 8px;
        }

        .upload-button {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 8px 12px;
          background: #3E5C49;
          color: #F3EED9;
          border: none;
          border-radius: 6px;
          font-size: 12px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .upload-button:hover {
          background: #2E453A;
        }

        .remove-button {
          padding: 8px 12px;
          background: #DC2626;
          color: white;
          border: none;
          border-radius: 6px;
          font-size: 12px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .remove-button:hover {
          background: #B91C1C;
        }

        .toggle {
          position: relative;
          display: inline-block;
          width: 50px;
          height: 24px;
        }

        .toggle input {
          opacity: 0;
          width: 0;
          height: 0;
        }

        .slider {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: #ccc;
          transition: 0.4s;
          border-radius: 24px;
        }

        .slider:before {
          position: absolute;
          content: "";
          height: 18px;
          width: 18px;
          left: 3px;
          bottom: 3px;
          background-color: white;
          transition: 0.4s;
          border-radius: 50%;
        }

        input:checked + .slider {
          background-color: #3E5C49;
        }

        input:checked + .slider:before {
          transform: translateX(26px);
        }

        .btn-warning {
          background: #F59E0B;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .btn-warning:hover {
          background: #D97706;
        }

        .btn-danger {
          background: #DC2626;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .btn-danger:hover {
          background: #B91C1C;
        }

        .about-content {
          text-align: center;
        }

        .app-info {
          margin-bottom: 32px;
        }

        .app-icon {
          width: 80px;
          height: 80px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          border-radius: 20px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          margin: 0 auto 16px;
        }

        .app-info h3 {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 8px 0;
        }

        .version {
          font-size: 14px;
          color: #6E6E6E;
          margin: 0 0 16px 0;
        }

        .description {
          font-size: 14px;
          color: #4A4A4A;
          margin: 0;
          line-height: 1.5;
        }

        .info-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
          text-align: left;
        }

        .info-item {
          background: rgba(243, 238, 217, 0.1);
          padding: 16px;
          border-radius: 8px;
        }

        .info-item strong {
          display: block;
          font-size: 12px;
          color: #6E6E6E;
          margin-bottom: 4px;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .mode-badge {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 14px;
          font-weight: 500;
        }

        .mode-badge.offline {
          color: #3E5C49;
        }

        .mode-badge.online {
          color: #2563EB;
        }

        .modal-actions {
          padding: 24px 32px;
          border-top: 1px solid #E5DCC2;
          display: flex;
          justify-content: flex-end;
          gap: 16px;
        }

        @media (max-width: 768px) {
          .settings-modal {
            margin: 12px;
          }

          .settings-content {
            flex-direction: column;
          }

          .tabs-container {
            width: 100%;
            display: flex;
            overflow-x: auto;
            padding: 16px 24px;
          }

          .tab-button {
            white-space: nowrap;
            padding: 12px 16px;
          }

          .setting-item {
            flex-direction: column;
            align-items: stretch;
            gap: 12px;
          }

          .info-grid {
            grid-template-columns: 1fr;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/BackupManager.tsx":
/*!***************************************************!*\
  !*** ./src/renderer/components/BackupManager.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BackupManager: () => (/* binding */ BackupManager)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/hard-drive.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/database.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/calendar.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/plus.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/upload.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/download.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/refresh-cw.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trash-2.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/file-text.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/rotate-ccw.mjs");
/* harmony import */ var _MicroInteractions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MicroInteractions */ "./src/renderer/components/MicroInteractions.tsx");
/* harmony import */ var _ToastSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ToastSystem */ "./src/renderer/components/ToastSystem.tsx");





const BackupManager = ({ onClose }) => {
    const { success, error, info, warning } = (0,_ToastSystem__WEBPACK_IMPORTED_MODULE_3__.useQuickToast)();
    const [backups, setBackups] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [stats, setStats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [selectedBackup, setSelectedBackup] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [showCreateModal, setShowCreateModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [createBackupName, setCreateBackupName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [createBackupDescription, setCreateBackupDescription] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    // Charger les données initiales
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        loadBackupData();
    }, []);
    const loadBackupData = async () => {
        setIsLoading(true);
        try {
            const [backupResult, statsResult] = await Promise.all([
                window.electronAPI.getBackupList(),
                window.electronAPI.getBackupStats()
            ]);
            if (backupResult.success) {
                setBackups(backupResult.backups);
            }
            else {
                error('Erreur', 'Impossible de charger la liste des sauvegardes');
            }
            if (statsResult.success) {
                setStats(statsResult.stats);
            }
        }
        catch (err) {
            error('Erreur', 'Erreur lors du chargement des données de sauvegarde');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleCreateBackup = async () => {
        if (!createBackupName.trim()) {
            warning('Attention', 'Veuillez saisir un nom pour la sauvegarde');
            return;
        }
        setIsLoading(true);
        try {
            const result = await window.electronAPI.createBackup(createBackupName.trim(), createBackupDescription.trim() || undefined);
            if (result.success) {
                success('Succès', 'Sauvegarde créée avec succès');
                setShowCreateModal(false);
                setCreateBackupName('');
                setCreateBackupDescription('');
                await loadBackupData();
            }
            else {
                error('Erreur', result.error || 'Échec de la création de la sauvegarde');
            }
        }
        catch (err) {
            error('Erreur', 'Erreur lors de la création de la sauvegarde');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleRestoreBackup = async (backup) => {
        const confirmRestore = window.confirm(`Êtes-vous sûr de vouloir restaurer la sauvegarde "${backup.fileName}" ?\n\n` +
            `Cette action remplacera toutes les données actuelles de l'application.\n` +
            `Une sauvegarde automatique sera créée avant la restauration.`);
        if (!confirmRestore)
            return;
        setIsLoading(true);
        try {
            const result = await window.electronAPI.restoreBackup(backup.filePath);
            if (result.success) {
                success('Succès', 'Sauvegarde restaurée avec succès. L\'application va se recharger.');
                // Recharger l'application pour refléter les changements
                setTimeout(() => {
                    window.location.reload();
                }, 2000);
            }
            else {
                error('Erreur', result.error || 'Échec de la restauration');
            }
        }
        catch (err) {
            error('Erreur', 'Erreur lors de la restauration de la sauvegarde');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleDeleteBackup = async (backup) => {
        const confirmDelete = window.confirm(`Êtes-vous sûr de vouloir supprimer la sauvegarde "${backup.fileName}" ?\n\n` +
            `Cette action est irréversible.`);
        if (!confirmDelete)
            return;
        setIsLoading(true);
        try {
            const result = await window.electronAPI.deleteBackup(backup.filePath);
            if (result.success) {
                success('Succès', 'Sauvegarde supprimée avec succès');
                await loadBackupData();
            }
            else {
                error('Erreur', result.error || 'Échec de la suppression');
            }
        }
        catch (err) {
            error('Erreur', 'Erreur lors de la suppression de la sauvegarde');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleRestoreFromFile = async () => {
        try {
            const fileResult = await window.electronAPI.selectBackupFile();
            if (!fileResult.success || !fileResult.filePath) {
                if (fileResult.error !== 'Sélection annulée') {
                    error('Erreur', fileResult.error || 'Impossible de sélectionner le fichier');
                }
                return;
            }
            // Valider le fichier de sauvegarde
            const validationResult = await window.electronAPI.validateBackup(fileResult.filePath);
            if (!validationResult.success || !validationResult.isValid) {
                error('Erreur', 'Le fichier sélectionné n\'est pas une sauvegarde valide');
                return;
            }
            // Confirmer la restauration
            const confirmRestore = window.confirm(`Êtes-vous sûr de vouloir restaurer cette sauvegarde ?\n\n` +
                `Cette action remplacera toutes les données actuelles de l'application.\n` +
                `Une sauvegarde automatique sera créée avant la restauration.`);
            if (!confirmRestore)
                return;
            setIsLoading(true);
            const result = await window.electronAPI.restoreBackup(fileResult.filePath);
            if (result.success) {
                success('Succès', 'Sauvegarde restaurée avec succès. L\'application va se recharger.');
                setTimeout(() => {
                    window.location.reload();
                }, 2000);
            }
            else {
                error('Erreur', result.error || 'Échec de la restauration');
            }
        }
        catch (err) {
            error('Erreur', 'Erreur lors de la restauration depuis fichier');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleExportDatabase = async () => {
        setIsLoading(true);
        try {
            const result = await window.electronAPI.exportDatabase();
            if (result.success) {
                success('Succès', `Base de données exportée vers: ${result.path}`);
            }
            else {
                if (result.error !== 'Export annulé') {
                    error('Erreur', result.error || 'Échec de l\'export');
                }
            }
        }
        catch (err) {
            error('Erreur', 'Erreur lors de l\'export de la base de données');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleImportDatabase = async () => {
        const confirmImport = window.confirm('Êtes-vous sûr de vouloir importer une base de données ?\n\n' +
            'Cette action remplacera la base de données actuelle.\n' +
            'Une sauvegarde automatique sera créée avant l\'import.');
        if (!confirmImport)
            return;
        setIsLoading(true);
        try {
            const result = await window.electronAPI.importDatabase();
            if (result.success) {
                success('Succès', 'Base de données importée avec succès. L\'application va se recharger.');
                setTimeout(() => {
                    window.location.reload();
                }, 2000);
            }
            else {
                if (result.error !== 'Import annulé') {
                    error('Erreur', result.error || 'Échec de l\'import');
                }
            }
        }
        catch (err) {
            error('Erreur', 'Erreur lors de l\'import de la base de données');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleCleanOldBackups = async () => {
        const keepCount = window.prompt('Combien de sauvegardes récentes souhaitez-vous conserver ?', '10');
        if (!keepCount || isNaN(parseInt(keepCount)))
            return;
        const count = parseInt(keepCount);
        if (count < 1) {
            warning('Attention', 'Le nombre doit être supérieur à 0');
            return;
        }
        setIsLoading(true);
        try {
            const result = await window.electronAPI.cleanOldBackups(count);
            if (result.success) {
                success('Succès', `${result.deletedCount} anciennes sauvegardes supprimées`);
                await loadBackupData();
            }
            else {
                error('Erreur', result.error || 'Échec du nettoyage');
            }
        }
        catch (err) {
            error('Erreur', 'Erreur lors du nettoyage des sauvegardes');
        }
        finally {
            setIsLoading(false);
        }
    };
    const formatFileSize = (bytes) => {
        const units = ['B', 'KB', 'MB', 'GB'];
        let size = bytes;
        let unitIndex = 0;
        while (size >= 1024 && unitIndex < units.length - 1) {
            size /= 1024;
            unitIndex++;
        }
        return `${size.toFixed(1)} ${units[unitIndex]}`;
    };
    const formatDate = (dateString) => {
        return new Date(dateString).toLocaleString('fr-FR', {
            year: 'numeric',
            month: 'short',
            day: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
        });
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "backup-manager-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "backup-manager-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 28 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "modal-title", children: "Gestionnaire de Sauvegardes" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "modal-subtitle", children: "Cr\u00E9ez et g\u00E9rez vos sauvegardes de donn\u00E9es" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: onClose, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-content", children: [stats && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stats-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stats-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-value", children: stats.totalBackups }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-label", children: "Sauvegardes" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-value", children: stats.formattedSize }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-label", children: "Espace utilis\u00E9" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-value", children: stats.newestBackup ? formatDate(stats.newestBackup.createdAt).split(' ')[0] : 'N/A' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-label", children: "Derni\u00E8re sauvegarde" })] })] })] }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "actions-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "actions-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "success", icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], onClick: () => setShowCreateModal(true), disabled: isLoading, children: "Nouvelle Sauvegarde" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", icon: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], onClick: handleRestoreFromFile, disabled: isLoading, children: "Restaurer depuis Fichier" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", icon: lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], onClick: handleExportDatabase, disabled: isLoading, children: "Exporter Base de Donn\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], onClick: handleImportDatabase, disabled: isLoading, children: "Importer Base de Donn\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", icon: lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], onClick: loadBackupData, disabled: isLoading, children: "Actualiser" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "danger", icon: lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], onClick: handleCleanOldBackups, disabled: isLoading, children: "Nettoyer Anciennes" })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "backups-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Sauvegardes Disponibles" }), isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "loading-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { className: "loading-spinner", size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Chargement des sauvegardes..." })] })) : backups.length === 0 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "empty-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 48 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Aucune sauvegarde trouv\u00E9e" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("small", { children: "Cr\u00E9ez votre premi\u00E8re sauvegarde pour commencer" })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "backups-list", children: backups.map((backup, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "backup-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "backup-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "backup-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "backup-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "backup-name", children: backup.fileName }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "backup-date", children: formatDate(backup.createdAt) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "backup-size", children: formatFileSize(backup.size) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "backup-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", size: "small", icon: lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], onClick: () => handleRestoreBackup(backup), disabled: isLoading, children: "Restaurer" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "danger", size: "small", icon: lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], onClick: () => handleDeleteBackup(backup), disabled: isLoading, children: "Supprimer" })] })] }), backup.metadata && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "backup-metadata", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "metadata-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "metadata-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "metadata-label", children: "Documents:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "metadata-value", children: backup.metadata.stats.totalDocuments })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "metadata-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "metadata-label", children: "Emprunteurs:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "metadata-value", children: backup.metadata.stats.totalBorrowers })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "metadata-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "metadata-label", children: "Historique:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "metadata-value", children: backup.metadata.stats.totalBorrowHistory })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "metadata-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "metadata-label", children: "Version:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "metadata-value", children: backup.metadata.appVersion })] })] }) }))] }, backup.filePath))) }))] })] }), showCreateModal && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "create-modal-overlay", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "create-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "create-modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Cr\u00E9er une Nouvelle Sauvegarde" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: () => setShowCreateModal(false), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 16 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "create-modal-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Nom de la sauvegarde *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: createBackupName, onChange: (e) => setCreateBackupName(e.target.value), placeholder: "Ex: Sauvegarde mensuelle janvier 2024", className: "form-input", maxLength: 100 })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Description (optionnel)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea", { value: createBackupDescription, onChange: (e) => setCreateBackupDescription(e.target.value), placeholder: "Description de cette sauvegarde...", className: "form-textarea", rows: 3, maxLength: 500 })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "create-modal-footer", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", onClick: () => setShowCreateModal(false), children: "Annuler" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "success", onClick: handleCreateBackup, disabled: isLoading || !createBackupName.trim(), icon: isLoading ? lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"] : lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], children: isLoading ? 'Création...' : 'Créer Sauvegarde' })] })] }) }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .backup-manager-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.6);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
          backdrop-filter: blur(8px);
        }

        .backup-manager-modal {
          background: #FFFFFF;
          border-radius: 20px;
          width: 100%;
          max-width: 900px;
          max-height: 90vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
          border: 1px solid rgba(229, 220, 194, 0.3);
        }

        .modal-header {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          padding: 32px;
          display: flex;
          align-items: center;
          justify-content: space-between;
        }

        .header-content {
          display: flex;
          align-items: center;
          gap: 20px;
        }

        .header-icon {
          width: 56px;
          height: 56px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .modal-title {
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 4px 0;
        }

        .modal-subtitle {
          font-size: 14px;
          opacity: 0.8;
          margin: 0;
        }

        .close-button {
          width: 44px;
          height: 44px;
          border: none;
          background: rgba(243, 238, 217, 0.1);
          color: #F3EED9;
          border-radius: 12px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          z-index: 1001;
        }

        .close-button:hover {
          background: rgba(243, 238, 217, 0.2);
        }

        .modal-content {
          flex: 1;
          overflow-y: auto;
          padding: 32px;
        }

        .stats-section {
          margin-bottom: 32px;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 20px;
        }

        .stat-card {
          background: rgba(243, 238, 217, 0.1);
          border: 1px solid rgba(243, 238, 217, 0.2);
          border-radius: 12px;
          padding: 20px;
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .stat-icon {
          width: 44px;
          height: 44px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .stat-value {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin-bottom: 4px;
        }

        .stat-label {
          font-size: 14px;
          color: #6E6E6E;
        }

        .actions-section {
          margin-bottom: 32px;
        }

        .actions-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
          gap: 16px;
        }

        .section-title {
          font-size: 18px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 20px 0;
        }

        .loading-state, .empty-state {
          text-align: center;
          padding: 60px 20px;
          color: #6E6E6E;
        }

        .loading-spinner {
          animation: spin 1s linear infinite;
          margin-bottom: 16px;
        }

        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        .empty-state svg {
          color: #C2C2C2;
          margin-bottom: 16px;
        }

        .backups-list {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .backup-card {
          background: #FFFFFF;
          border: 1px solid #E5DCC2;
          border-radius: 12px;
          padding: 20px;
          transition: all 0.2s ease;
        }

        .backup-card:hover {
          border-color: #3E5C49;
          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.1);
        }

        .backup-header {
          display: flex;
          align-items: flex-start;
          gap: 16px;
        }

        .backup-icon {
          width: 40px;
          height: 40px;
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }

        .backup-info {
          flex: 1;
        }

        .backup-name {
          font-size: 16px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 4px 0;
        }

        .backup-date, .backup-size {
          font-size: 14px;
          color: #6E6E6E;
          margin: 2px 0;
        }

        .backup-actions {
          display: flex;
          gap: 8px;
          flex-shrink: 0;
        }

        .backup-metadata {
          margin-top: 16px;
          padding-top: 16px;
          border-top: 1px solid rgba(229, 220, 194, 0.3);
        }

        .metadata-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
          gap: 16px;
        }

        .metadata-item {
          display: flex;
          flex-direction: column;
          gap: 4px;
        }

        .metadata-label {
          font-size: 12px;
          color: #6E6E6E;
          font-weight: 500;
        }

        .metadata-value {
          font-size: 14px;
          color: #2E2E2E;
          font-weight: 600;
        }

        .create-modal-overlay {
          position: absolute;
          inset: 0;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1001;
        }

        .create-modal {
          background: #FFFFFF;
          border-radius: 16px;
          width: 100%;
          max-width: 500px;
          max-height: 80vh;
          overflow: hidden;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .create-modal-header {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          padding: 24px;
          display: flex;
          align-items: center;
          justify-content: space-between;
        }

        .create-modal-header h3 {
          margin: 0;
          font-size: 18px;
          font-weight: 600;
        }

        .create-modal-content {
          padding: 24px;
        }

        .form-group {
          margin-bottom: 20px;
        }

        .form-label {
          display: block;
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
          margin-bottom: 8px;
        }

        .form-input, .form-textarea {
          width: 100%;
          padding: 12px 16px;
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          font-size: 14px;
          background: #FFFFFF;
          color: #2E2E2E;
          transition: all 0.3s ease;
          resize: vertical;
        }

        .form-input:focus, .form-textarea:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }

        .create-modal-footer {
          padding: 24px;
          border-top: 1px solid #E5DCC2;
          display: flex;
          justify-content: flex-end;
          gap: 16px;
        }

        @media (max-width: 768px) {
          .backup-manager-modal {
            margin: 12px;
          }

          .stats-grid, .actions-grid {
            grid-template-columns: 1fr;
          }

          .backup-header {
            flex-direction: column;
            align-items: flex-start;
          }

          .backup-actions {
            align-self: flex-end;
          }

          .metadata-grid {
            grid-template-columns: repeat(2, 1fr);
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/BorrowDocument.tsx":
/*!****************************************************!*\
  !*** ./src/renderer/components/BorrowDocument.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BorrowDocument: () => (/* binding */ BorrowDocument)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/heart.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/sparkles.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/building.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/calendar.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/tag.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-triangle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/search.mjs");
/* harmony import */ var _MicroInteractions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MicroInteractions */ "./src/renderer/components/MicroInteractions.tsx");
/* harmony import */ var _ToastSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ToastSystem */ "./src/renderer/components/ToastSystem.tsx");





const BorrowDocument = ({ document, borrowers, onBorrow, onReturn, onCancel }) => {
    const { success, error, info } = (0,_ToastSystem__WEBPACK_IMPORTED_MODULE_3__.useQuickToast)();
    const [selectedBorrowerId, setSelectedBorrowerId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [returnDate, setReturnDate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [filteredBorrowers, setFilteredBorrowers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        // Set default return date to 2 weeks from today
        const defaultDate = new Date();
        defaultDate.setDate(defaultDate.getDate() + 14);
        setReturnDate(defaultDate.toISOString().split('T')[0]);
    }, []);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        filterBorrowers();
    }, [borrowers, searchTerm]);
    const filterBorrowers = () => {
        if (!searchTerm) {
            setFilteredBorrowers(borrowers);
            return;
        }
        const filtered = borrowers.filter(borrower => `${borrower.firstName} ${borrower.lastName}`.toLowerCase().includes(searchTerm.toLowerCase()) ||
            borrower.matricule.toLowerCase().includes(searchTerm.toLowerCase()) ||
            borrower.email?.toLowerCase().includes(searchTerm.toLowerCase()) ||
            (borrower.classe && borrower.classe.toLowerCase().includes(searchTerm.toLowerCase())) ||
            (borrower.position && borrower.position.toLowerCase().includes(searchTerm.toLowerCase())));
        setFilteredBorrowers(filtered);
    };
    const handleBorrow = async () => {
        if (!selectedBorrowerId || !returnDate) {
            error('Informations manquantes', 'Veuillez sélectionner un emprunteur et une date de retour');
            return;
        }
        if (!document.id) {
            error('Erreur document', 'ID du document manquant');
            return;
        }
        setIsLoading(true);
        try {
            await onBorrow(document.id, selectedBorrowerId, returnDate);
            const borrower = borrowers.find(b => b.id === selectedBorrowerId);
            success('Emprunt enregistré', `"${document.titre}" emprunté par ${borrower?.firstName} ${borrower?.lastName}`);
        }
        catch (err) {
            console.error('Erreur d\'emprunt:', err);
            error('Erreur d\'emprunt', `Impossible d'enregistrer l'emprunt: ${err instanceof Error ? err.message : 'Erreur inconnue'}`);
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleReturn = async () => {
        setIsLoading(true);
        try {
            await onReturn(document.id);
            success('Retour enregistré', `"${document.titre}" a été retourné avec succès`);
        }
        catch (err) {
            error('Erreur de retour', 'Impossible d\'enregistrer le retour');
        }
        finally {
            setIsLoading(false);
        }
    };
    const getBorrowerTypeIcon = (type) => {
        return type === 'student' ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 16 });
    };
    const getBorrowerTypeLabel = (type) => {
        return type === 'student' ? 'Étudiant' : 'Personnel';
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrow-document-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrow-document-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-icon", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 28 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "icon-sparkle", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 14 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "modal-title", children: document.estEmprunte ? 'Retourner le document' : 'Nouvel emprunt' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "modal-subtitle", children: document.estEmprunte
                                                    ? 'Finalisez le retour de ce document'
                                                    : 'Prêtez ce document à un membre de votre institution' })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: onCancel, className: "close-button", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroCard, { className: "document-info-card", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-preview", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "document-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "document-title", children: document.titre }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "document-author", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 14 }), document.auteur] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-meta", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "meta-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 12 }), document.editeur] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "meta-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 12 }), document.annee] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "meta-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 12 }), document.cote] })] }), document.estEmprunte && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrowed-status", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 14 }), "Actuellement emprunt\u00E9"] }))] })] }) }), document.estEmprunte ? (
                            // Return form
                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroCard, { className: "return-form-card", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-icon return-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Confirmer le retour" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "return-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "return-message", children: "Ce document sera marqu\u00E9 comme disponible et pourra \u00EAtre emprunt\u00E9 \u00E0 nouveau." }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "return-date-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: ["Retour effectu\u00E9 le ", new Date().toLocaleDateString('fr-FR')] })] })] })] }) })) : (
                            // Borrow form
                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroCard, { className: "borrower-selection-card", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "S\u00E9lectionner l'emprunteur" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "search-field", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "search-input-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: searchTerm, onChange: (e) => setSearchTerm(e.target.value), className: "search-input", placeholder: "Rechercher par nom, matricule, email..." })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrowers-list", children: [filteredBorrowers.slice(0, 6).map((borrower) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `borrower-item ${selectedBorrowerId === borrower.id ? 'selected' : ''}`, onClick: () => setSelectedBorrowerId(borrower.id), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "borrower-avatar", children: getBorrowerTypeIcon(borrower.type) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-name", children: [borrower.firstName, " ", borrower.lastName] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "borrower-type", children: getBorrowerTypeLabel(borrower.type) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "borrower-matricule", children: borrower.matricule }), (borrower.classe || borrower.position) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "borrower-class", children: borrower.classe || borrower.position }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "selection-indicator", children: selectedBorrowerId === borrower.id && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 20 })) })] }, borrower.id))), filteredBorrowers.length === 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "no-borrowers", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 32 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Aucun emprunteur trouv\u00E9" })] }))] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroCard, { className: "date-selection-card", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Date de retour pr\u00E9vue" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "date-field", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "date", value: returnDate, onChange: (e) => setReturnDate(e.target.value), className: "date-input", min: new Date().toISOString().split('T')[0] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "date-help", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Dur\u00E9e d'emprunt recommand\u00E9e: 14 jours" })] })] })] }) })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", onClick: onCancel, icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], children: "Annuler" }), document.estEmprunte ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "success", onClick: handleReturn, disabled: isLoading, icon: lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroLoader, { size: 16, color: "white" }), "Traitement..."] })) : ('Confirmer le retour') })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "primary", onClick: handleBorrow, disabled: isLoading || !selectedBorrowerId || !returnDate, icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroLoader, { size: 16, color: "white" }), "Enregistrement..."] })) : ('Confirmer l\'emprunt') }))] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .borrow-document-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.7);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 60;
          padding: 16px;
          backdrop-filter: blur(12px);
        }
        
        .borrow-document-modal {
          background: linear-gradient(135deg, #FFFFFF 0%, #F8F6F0 100%);
          border-radius: 24px;
          box-shadow: 
            0 32px 64px rgba(0, 0, 0, 0.2),
            0 0 0 1px rgba(255, 255, 255, 0.1);
          width: 100%;
          max-width: 800px;
          max-height: 95vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          position: relative;
        }
        
        .modal-header {
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          color: #F3EED9;
          padding: 40px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          position: relative;
          overflow: hidden;
        }
        
        .modal-header::before {
          content: '';
          position: absolute;
          top: -50%;
          right: -50%;
          width: 200%;
          height: 200%;
          background: radial-gradient(circle, rgba(243, 238, 217, 0.15) 0%, transparent 70%);
          animation: headerGlow 8s ease-in-out infinite;
        }
        
        @keyframes headerGlow {
          0%, 100% { transform: rotate(0deg) scale(1); }
          50% { transform: rotate(180deg) scale(1.1); }
        }
        
        .header-content {
          display: flex;
          align-items: center;
          gap: 24px;
          position: relative;
          z-index: 1;
        }
        
        .header-icon {
          width: 72px;
          height: 72px;
          background: linear-gradient(135deg, rgba(243, 238, 217, 0.2) 0%, rgba(243, 238, 217, 0.1) 100%);
          border-radius: 20px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          position: relative;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }
        
        .icon-sparkle {
          position: absolute;
          top: -4px;
          right: -4px;
          background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
          border-radius: 50%;
          width: 24px;
          height: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          animation: sparkle 2s ease-in-out infinite;
        }
        
        @keyframes sparkle {
          0%, 100% { transform: scale(1) rotate(0deg); opacity: 1; }
          50% { transform: scale(1.2) rotate(180deg); opacity: 0.8; }
        }
        
        .header-text {
          flex: 1;
        }
        
        .modal-title {
          font-size: 28px;
          font-weight: 700;
          margin: 0 0 8px 0;
          line-height: 1.2;
          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .modal-subtitle {
          font-size: 16px;
          opacity: 0.9;
          margin: 0;
          line-height: 1.4;
        }
        
        .close-button {
          width: 48px;
          height: 48px;
          border: none;
          background: rgba(243, 238, 217, 0.1);
          color: #F3EED9;
          border-radius: 12px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          position: relative;
          z-index: 1;
        }
        
        .close-button:hover {
          background: rgba(243, 238, 217, 0.2);
          transform: scale(1.1);
        }
        
        .modal-content {
          padding: 32px;
          overflow-y: auto;
          display: flex;
          flex-direction: column;
          gap: 24px;
          flex: 1;
        }
        
        .document-info-card {
          border: 2px solid rgba(194, 87, 27, 0.1);
          background: linear-gradient(135deg, #FFF9F0 0%, #FFFFFF 100%);
        }
        
        .document-preview {
          padding: 24px;
          display: flex;
          align-items: center;
          gap: 20px;
        }
        
        .document-icon {
          width: 64px;
          height: 64px;
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          box-shadow: 0 8px 32px rgba(194, 87, 27, 0.3);
        }
        
        .document-details {
          flex: 1;
        }
        
        .document-title {
          font-size: 20px;
          font-weight: 700;
          color: #1A1A1A;
          margin: 0 0 8px 0;
          line-height: 1.3;
        }
        
        .document-author {
          font-size: 16px;
          color: #4A4A4A;
          margin: 0 0 12px 0;
          display: flex;
          align-items: center;
          gap: 8px;
        }
        
        .document-meta {
          display: flex;
          flex-wrap: wrap;
          gap: 16px;
        }
        
        .meta-item {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 14px;
          color: #6B7280;
          background: rgba(62, 92, 73, 0.1);
          padding: 4px 12px;
          border-radius: 20px;
        }
        
        .borrowed-status {
          display: flex;
          align-items: center;
          gap: 8px;
          color: #F97316;
          background: rgba(249, 115, 22, 0.1);
          padding: 8px 16px;
          border-radius: 12px;
          font-weight: 600;
          margin-top: 12px;
          width: fit-content;
        }
        
        .form-section {
          padding: 24px;
        }
        
        .section-header {
          display: flex;
          align-items: center;
          gap: 16px;
          margin-bottom: 24px;
        }
        
        .section-icon {
          width: 48px;
          height: 48px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          border-radius: 14px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          box-shadow: 0 6px 20px rgba(62, 92, 73, 0.3);
        }
        
        .section-icon.return-icon {
          background: linear-gradient(135deg, #10B981 0%, #059669 100%);
          box-shadow: 0 6px 20px rgba(16, 185, 129, 0.3);
        }
        
        .section-title {
          font-size: 20px;
          font-weight: 600;
          color: #1A1A1A;
          margin: 0;
        }
        
        .search-input-container {
          position: relative;
          display: flex;
          align-items: center;
          gap: 12px;
          background: white;
          border: 2px solid #E5DCC2;
          border-radius: 12px;
          padding: 16px 20px;
          transition: all 0.3s ease;
        }
        
        .search-input-container:focus-within {
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.15);
        }
        
        .search-input {
          flex: 1;
          border: none;
          outline: none;
          font-size: 16px;
          color: #1A1A1A;
          background: transparent;
        }
        
        .search-input::placeholder {
          color: #9CA3AF;
        }
        
        .borrowers-list {
          max-height: 300px;
          overflow-y: auto;
          display: flex;
          flex-direction: column;
          gap: 8px;
          margin-top: 16px;
        }
        
        .borrower-item {
          display: flex;
          align-items: center;
          gap: 16px;
          padding: 16px 20px;
          background: white;
          border: 2px solid transparent;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .borrower-item:hover {
          border-color: rgba(62, 92, 73, 0.2);
          transform: translateY(-2px);
          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .borrower-item.selected {
          border-color: #3E5C49;
          background: linear-gradient(135deg, rgba(62, 92, 73, 0.05) 0%, rgba(62, 92, 73, 0.1) 100%);
          transform: translateY(-2px);
          box-shadow: 0 8px 25px rgba(62, 92, 73, 0.2);
        }
        
        .borrower-avatar {
          width: 48px;
          height: 48px;
          background: linear-gradient(135deg, #F3F4F6 0%, #E5E7EB 100%);
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #6B7280;
        }
        
        .borrower-item.selected .borrower-avatar {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: white;
        }
        
        .borrower-info {
          flex: 1;
          min-width: 0;
        }
        
        .borrower-name {
          font-size: 16px;
          font-weight: 600;
          color: #1A1A1A;
          margin-bottom: 4px;
        }
        
        .borrower-details {
          display: flex;
          flex-wrap: wrap;
          gap: 12px;
          font-size: 14px;
        }
        
        .borrower-type,
        .borrower-matricule,
        .borrower-class {
          color: #6B7280;
          background: rgba(107, 114, 128, 0.1);
          padding: 2px 8px;
          border-radius: 6px;
          font-size: 12px;
        }
        
        .selection-indicator {
          color: #3E5C49;
          opacity: 0;
          transition: opacity 0.3s ease;
        }
        
        .borrower-item.selected .selection-indicator {
          opacity: 1;
        }
        
        .no-borrowers {
          text-align: center;
          padding: 40px 20px;
          color: #9CA3AF;
        }
        
        .no-borrowers svg {
          margin: 0 auto 16px;
          opacity: 0.5;
        }
        
        .date-field {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }
        
        .date-input {
          padding: 16px 20px;
          border: 2px solid #E5DCC2;
          border-radius: 12px;
          font-size: 16px;
          color: #1A1A1A;
          background: white;
          transition: all 0.3s ease;
        }
        
        .date-input:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.15);
        }
        
        .date-help {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          color: #6B7280;
          background: rgba(62, 92, 73, 0.05);
          padding: 8px 16px;
          border-radius: 8px;
        }
        
        .return-form-card {
          border: 2px solid rgba(16, 185, 129, 0.2);
          background: linear-gradient(135deg, #F0FDF9 0%, #FFFFFF 100%);
        }
        
        .return-info {
          background: rgba(16, 185, 129, 0.05);
          border-radius: 12px;
          padding: 20px;
        }
        
        .return-message {
          font-size: 16px;
          color: #1A1A1A;
          margin: 0 0 16px 0;
          line-height: 1.5;
        }
        
        .return-date-info {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          color: #10B981;
          font-weight: 600;
        }
        
        .modal-actions {
          display: flex;
          justify-content: flex-end;
          gap: 16px;
          padding-top: 24px;
          border-top: 2px solid rgba(229, 220, 194, 0.3);
          margin-top: auto;
        }
        
        @media (max-width: 768px) {
          .borrow-document-modal {
            max-width: 100%;
            margin: 8px;
            border-radius: 20px;
          }
          
          .modal-header {
            padding: 24px;
          }
          
          .header-content {
            flex-direction: column;
            text-align: center;
            gap: 16px;
          }
          
          .modal-title {
            font-size: 24px;
          }
          
          .modal-content {
            padding: 20px;
            gap: 20px;
          }
          
          .document-preview {
            flex-direction: column;
            text-align: center;
            gap: 16px;
          }
          
          .document-meta {
            justify-content: center;
          }
          
          .modal-actions {
            flex-direction: column;
            gap: 12px;
          }
          
          .borrowers-list {
            max-height: 200px;
          }
          
          .borrower-item {
            padding: 12px 16px;
          }
          
          .borrower-details {
            flex-direction: column;
            gap: 4px;
          }
        }
        
        /* Animation d'entrée */
        .borrow-document-modal {
          animation: modalSlideIn 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        @keyframes modalSlideIn {
          from {
            opacity: 0;
            transform: translateY(40px) scale(0.95);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
        
        /* Amélioration de l'accessibilité */
        .borrower-item:focus-visible {
          outline: 2px solid #3E5C49;
          outline-offset: 2px;
        }
        
        .close-button:focus-visible {
          outline: 2px solid #F3EED9;
          outline-offset: 2px;
        }
        
        /* Préférences de mouvement réduit */
        @media (prefers-reduced-motion: reduce) {
          .borrow-document-modal,
          .borrower-item,
          .close-button,
          .icon-sparkle,
          .modal-header::before {
            animation: none;
            transition: none;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/BorrowHistory.tsx":
/*!***************************************************!*\
  !*** ./src/renderer/components/BorrowHistory.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BorrowHistory: () => (/* binding */ BorrowHistory)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-triangle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/history.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/search.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/calendar.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/filter.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/download.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/printer.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/graduation-cap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/briefcase.mjs");
/* harmony import */ var _ExportDialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ExportDialog */ "./src/renderer/components/ExportDialog.tsx");




const BorrowHistory = ({ onClose }) => {
    const [history, setHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [filteredHistory, setFilteredHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [filters, setFilters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        startDate: '',
        endDate: '',
        borrowerType: 'all',
        status: 'all'
    });
    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [showExportDialog, setShowExportDialog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        loadHistory();
    }, []);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        applyFilters();
    }, [history, filters, searchQuery]);
    const loadHistory = async () => {
        setIsLoading(true);
        try {
            const data = await window.electronAPI.getBorrowHistory();
            setHistory(data);
        }
        catch (error) {
            console.error('Erreur lors du chargement de l\'historique:', error);
        }
        finally {
            setIsLoading(false);
        }
    };
    const applyFilters = () => {
        let filtered = [...history];
        // Appliquer les filtres de date
        if (filters.startDate) {
            filtered = filtered.filter(item => new Date(item.borrowDate) >= new Date(filters.startDate));
        }
        if (filters.endDate) {
            filtered = filtered.filter(item => new Date(item.borrowDate) <= new Date(filters.endDate + ' 23:59:59'));
        }
        // Filtre par type d'emprunteur
        if (filters.borrowerType !== 'all') {
            filtered = filtered.filter(item => item.borrower?.type === filters.borrowerType);
        }
        // Filtre par statut
        if (filters.status !== 'all') {
            filtered = filtered.filter(item => item.status === filters.status);
        }
        // Recherche textuelle
        if (searchQuery.trim()) {
            const query = searchQuery.toLowerCase();
            filtered = filtered.filter(item => item.document?.titre.toLowerCase().includes(query) ||
                item.document?.auteur.toLowerCase().includes(query) ||
                `${item.borrower?.firstName} ${item.borrower?.lastName}`.toLowerCase().includes(query) ||
                item.borrower?.matricule.toLowerCase().includes(query));
        }
        setFilteredHistory(filtered);
    };
    const handleFilterChange = (key, value) => {
        setFilters(prev => ({ ...prev, [key]: value }));
    };
    const resetFilters = () => {
        setFilters({
            startDate: '',
            endDate: '',
            borrowerType: 'all',
            status: 'all'
        });
        setSearchQuery('');
    };
    const handlePrint = async () => {
        try {
            const printData = {
                history: filteredHistory,
                filters,
                stats: getFilteredStats()
            };
            await window.electronAPI.printBorrowHistory(printData);
        }
        catch (error) {
            console.error('Erreur lors de l\'impression:', error);
        }
    };
    const handleExport = async (config) => {
        try {
            const result = await window.electronAPI.exportAdvanced(config);
            if (result.success && result.path) {
                const fileName = result.path.split(/[/\\]/).pop();
                alert(`Fichier exporté avec succès : ${fileName}`);
            }
            else if (result.cancelled) {
                // User cancelled the export
                return;
            }
            else {
                alert(`Erreur lors de l'export : ${result.error || 'Erreur inconnue'}`);
            }
        }
        catch (error) {
            console.error('Erreur lors de l\'export:', error);
            alert('Erreur lors de l\'export des données');
        }
    };
    const getFilteredStats = () => {
        const total = filteredHistory.length;
        const active = filteredHistory.filter(h => h.status === 'active').length;
        const returned = filteredHistory.filter(h => h.status === 'returned').length;
        const overdue = filteredHistory.filter(h => h.status === 'overdue').length;
        const students = filteredHistory.filter(h => h.borrower?.type === 'student').length;
        const staff = filteredHistory.filter(h => h.borrower?.type === 'staff').length;
        return { total, active, returned, overdue, students, staff };
    };
    const getStatusIcon = (status) => {
        switch (status) {
            case 'active':
                return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 16, className: "text-blue-500" });
            case 'returned':
                return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 16, className: "text-green-500" });
            case 'overdue':
                return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 16, className: "text-red-500" });
            default:
                return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 16 });
        }
    };
    const getStatusLabel = (status) => {
        switch (status) {
            case 'active':
                return 'En cours';
            case 'returned':
                return 'Rendu';
            case 'overdue':
                return 'En retard';
            default:
                return status;
        }
    };
    const stats = getFilteredStats();
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "history-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "history-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 28 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "modal-title", children: "Historique des Emprunts" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "modal-subtitle", children: [stats.total, " emprunt(s) \u2022 ", stats.active, " actif(s) \u2022 ", stats.returned, " rendu(s)"] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: onClose, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stats-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon total", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-value", children: stats.total }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Total" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon active", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-value", children: stats.active }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "En cours" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon returned", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-value", children: stats.returned }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Rendus" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon overdue", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-value", children: stats.overdue }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "En retard" })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filters-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filters-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "search-container", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "search-input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { className: "search-icon", size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", placeholder: "Rechercher par document, auteur, emprunteur...", value: searchQuery, onChange: (e) => setSearchQuery(e.target.value), className: "search-input" }), searchQuery && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "clear-search", onClick: () => setSearchQuery(''), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 16 }) }))] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-controls", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "date", value: filters.startDate, onChange: (e) => handleFilterChange('startDate', e.target.value), className: "date-input", placeholder: "Date d\u00E9but" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "filter-separator", children: "\u00E0" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "date", value: filters.endDate, onChange: (e) => handleFilterChange('endDate', e.target.value), className: "date-input", placeholder: "Date fin" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: filters.borrowerType, onChange: (e) => handleFilterChange('borrowerType', e.target.value), className: "filter-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tous les emprunteurs" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "student", children: "\u00C9tudiants" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "staff", children: "Personnel" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "filter-group", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: filters.status, onChange: (e) => handleFilterChange('status', e.target.value), className: "filter-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tous les statuts" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "active", children: "En cours" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "returned", children: "Rendus" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "overdue", children: "En retard" })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "reset-filters-btn", onClick: resetFilters, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 16 }), "R\u00E9initialiser"] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "actions-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "results-info", children: [filteredHistory.length, " r\u00E9sultat(s) affich\u00E9(s)"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "export-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "btn-secondary", onClick: () => setShowExportDialog(true), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 16 }), "Exporter Donn\u00E9es"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "btn-primary", onClick: handlePrint, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 16 }), "Imprimer"] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "history-content", children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "loading-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "loading-spinner" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Chargement de l'historique..." })] })) : filteredHistory.length > 0 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "history-list", children: filteredHistory.map((item) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `history-item ${item.status}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "item-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "status-section", children: [getStatusIcon(item.status), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "status-label", children: getStatusLabel(item.status) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "dates-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "borrow-date", children: ["Emprunt\u00E9 le ", new Date(item.borrowDate).toLocaleDateString('fr-FR')] }), item.actualReturnDate && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "return-date", children: ["Rendu le ", new Date(item.actualReturnDate).toLocaleDateString('fr-FR')] }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "item-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "book-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "book-cover", children: item.document?.couverture ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img", { src: item.document?.couverture, alt: item.document?.titre })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 24 })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "book-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "book-title", children: item.document?.titre }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "book-author", children: ["par ", item.document?.auteur] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "book-category", children: item.document?.descripteurs })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-type", children: [item.borrower?.type === 'student' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16 })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 16 })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: item.borrower?.type === 'student' ? 'Étudiant' : 'Personnel' })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h4", { className: "borrower-name", children: [item.borrower?.firstName, " ", item.borrower?.lastName] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "borrower-details", children: [item.borrower?.matricule, item.borrower?.type === 'student' && item.borrower.classe &&
                                                                        ` • ${item.borrower.classe}`, item.borrower?.type === 'staff' && item.borrower.position &&
                                                                        ` • ${item.borrower.position}`] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "timeline-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "timeline-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "timeline-dot borrow" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "timeline-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "timeline-label", children: "Emprunt" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "timeline-date", children: [new Date(item.borrowDate).toLocaleDateString('fr-FR'), " \u00E0", ' ', new Date(item.borrowDate).toLocaleTimeString('fr-FR', {
                                                                                hour: '2-digit', minute: '2-digit'
                                                                            })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "timeline-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "timeline-dot expected" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "timeline-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "timeline-label", children: "Retour pr\u00E9vu" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "timeline-date", children: new Date(item.expectedReturnDate).toLocaleDateString('fr-FR') })] })] }), item.actualReturnDate && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "timeline-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "timeline-dot return" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "timeline-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "timeline-label", children: "Retour effectu\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "timeline-date", children: [new Date(item.actualReturnDate).toLocaleDateString('fr-FR'), " \u00E0", ' ', new Date(item.actualReturnDate).toLocaleTimeString('fr-FR', {
                                                                                hour: '2-digit', minute: '2-digit'
                                                                            })] })] })] }))] })] }), item.notes && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "item-notes", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Notes :" }), " ", item.notes] }))] }, item.id))) })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "empty-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 64 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Aucun historique trouv\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: Object.values(filters).some(f => f && f !== 'all') || searchQuery
                                        ? 'Aucun résultat pour les critères sélectionnés'
                                        : 'L\'historique des emprunts apparaîtra ici' }), (Object.values(filters).some(f => f && f !== 'all') || searchQuery) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "btn-secondary", onClick: resetFilters, children: "Effacer les filtres" }))] })) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .history-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(46, 46, 46, 0.7);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }
        
        .history-modal {
          background: #FFFFFF;
          border-radius: 20px;
          width: 100%;
          max-width: 1200px;
          max-height: 90vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
          border: 1px solid rgba(229, 220, 194, 0.3);
        }
        
        .modal-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 32px;
          background: linear-gradient(135deg, #6E6E6E 0%, #5A5A5A 100%);
          color: #F3EED9;
        }
        
        .header-content {
          display: flex;
          align-items: center;
          gap: 20px;
        }
        
        .header-icon {
          width: 56px;
          height: 56px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        
        .modal-title {
          font-size: 24px;
          font-weight: 800;
          margin: 0 0 4px 0;
        }
        
        .modal-subtitle {
          font-size: 14px;
          opacity: 0.9;
          margin: 0;
        }
        
        .close-button {
          background: rgba(243, 238, 217, 0.15);
          border: 1px solid rgba(243, 238, 217, 0.3);
          color: #F3EED9;
          padding: 12px;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.3s ease;
          z-index: 1001;
        }
        
        .close-button:hover {
          background: rgba(243, 238, 217, 0.25);
        }
        
        .stats-section {
          display: flex;
          gap: 20px;
          padding: 24px 32px;
          background: rgba(248, 246, 240, 0.5);
          border-bottom: 1px solid rgba(229, 220, 194, 0.3);
        }
        
        .stat-card {
          display: flex;
          align-items: center;
          gap: 12px;
          background: #FFFFFF;
          padding: 16px 20px;
          border-radius: 12px;
          box-shadow: 0 2px 8px rgba(62, 92, 73, 0.08);
          flex: 1;
        }
        
        .stat-icon {
          width: 40px;
          height: 40px;
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
        }
        
        .stat-icon.total { background: #6E6E6E; }
        .stat-icon.active { background: #3B82F6; }
        .stat-icon.returned { background: #3E5C49; }
        .stat-icon.overdue { background: #DC2626; }
        
        .stat-value {
          font-size: 20px;
          font-weight: 700;
          color: #2E2E2E;
          display: block;
        }
        
        .stat-label {
          font-size: 12px;
          color: #6E6E6E;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        
        .filters-section {
          padding: 24px 32px;
          background: #FFFFFF;
          border-bottom: 1px solid #E5DCC2;
        }
        
        .filters-row {
          display: flex;
          align-items: center;
          gap: 24px;
          margin-bottom: 16px;
        }
        
        .search-container {
          flex: 1;
          max-width: 400px;
        }
        
        .search-input-wrapper {
          position: relative;
          display: flex;
          align-items: center;
        }
        
        .search-icon {
          position: absolute;
          left: 16px;
          color: #6E6E6E;
          z-index: 2;
        }
        
        .search-input {
          width: 100%;
          height: 48px;
          padding: 0 48px 0 48px;
          border: 2px solid #E5DCC2;
          border-radius: 12px;
          font-size: 16px;
          background: #FFFFFF;
          color: #2E2E2E;
          transition: all 0.2s ease;
        }
        
        .search-input:focus {
          outline: none;
          border-color: #6E6E6E;
          box-shadow: 0 0 0 3px rgba(110, 110, 110, 0.1);
        }
        
        .clear-search {
          position: absolute;
          right: 16px;
          background: none;
          border: none;
          cursor: pointer;
          color: #6E6E6E;
          padding: 4px;
          border-radius: 4px;
          transition: all 0.2s ease;
        }
        
        .clear-search:hover {
          color: #2E2E2E;
          background: #F3EED9;
        }
        
        .filter-controls {
          display: flex;
          align-items: center;
          gap: 16px;
          flex-wrap: wrap;
        }
        
        .filter-group {
          display: flex;
          align-items: center;
          gap: 8px;
          color: #6E6E6E;
        }
        
        .date-input, .filter-select {
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          padding: 8px 12px;
          background: #FFFFFF;
          color: #2E2E2E;
          font-size: 14px;
          cursor: pointer;
        }
        
        .filter-separator {
          margin: 0 8px;
          color: #6E6E6E;
          font-size: 14px;
        }
        
        .reset-filters-btn {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 8px 12px;
          background: #F3EED9;
          border: 1px solid #E5DCC2;
          border-radius: 8px;
          color: #6E6E6E;
          font-size: 12px;
          cursor: pointer;
          transition: all 0.2s ease;
        }
        
        .reset-filters-btn:hover {
          background: #EAEADC;
          color: #2E2E2E;
        }
        
        .actions-row {
          display: flex;
          align-items: center;
          justify-content: space-between;
        }
        
        .results-info {
          font-size: 14px;
          color: #6E6E6E;
        }
        
        .export-actions {
          display: flex;
          gap: 12px;
        }
        
        .btn-secondary, .btn-primary {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 8px 16px;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
          border: none;
        }
        
        .btn-secondary {
          background: #F3EED9;
          color: #6E6E6E;
          border: 1px solid #E5DCC2;
        }
        
        .btn-secondary:hover {
          background: #EAEADC;
          color: #2E2E2E;
        }
        
        .btn-primary {
          background: #6E6E6E;
          color: #F3EED9;
        }
        
        .btn-primary:hover {
          background: #5A5A5A;
        }
        
        .history-content {
          flex: 1;
          overflow-y: auto;
          padding: 24px 32px;
        }
        
        .loading-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 80px 32px;
          text-align: center;
          color: #6E6E6E;
        }
        
        .loading-spinner {
          width: 40px;
          height: 40px;
          border: 3px solid #E5DCC2;
          border-top: 3px solid #6E6E6E;
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin-bottom: 16px;
        }
        
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        
        .history-list {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }
        
        .history-item {
          background: #FFFFFF;
          border: 1px solid #E5DCC2;
          border-radius: 16px;
          overflow: hidden;
          transition: all 0.3s ease;
          position: relative;
        }
        
        .history-item::before {
          content: '';
          position: absolute;
          left: 0;
          top: 0;
          bottom: 0;
          width: 4px;
          background: #6E6E6E;
        }
        
        .history-item.active::before { background: #3B82F6; }
        .history-item.returned::before { background: #3E5C49; }
        .history-item.overdue::before { background: #DC2626; }
        
        .history-item:hover {
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.12);
        }
        
        .item-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 16px 20px;
          background: #F9FAFB;
          border-bottom: 1px solid #E5DCC2;
        }
        
        .status-section {
          display: flex;
          align-items: center;
          gap: 8px;
        }
        
        .status-label {
          font-size: 12px;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        
        .dates-section {
          display: flex;
          flex-direction: column;
          align-items: flex-end;
          gap: 4px;
        }
        
        .borrow-date, .return-date {
          font-size: 12px;
          color: #6E6E6E;
        }
        
        .return-date {
          font-weight: 600;
          color: #3E5C49;
        }
        
        .item-content {
          display: grid;
          grid-template-columns: 2fr 1.5fr 1fr;
          gap: 24px;
          padding: 20px;
        }
        
        .book-section {
          display: flex;
          align-items: center;
          gap: 16px;
        }
        
        .book-cover {
          width: 48px;
          height: 64px;
          background: linear-gradient(135deg, #F3EED9 0%, #E5DCC2 100%);
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #6E6E6E;
          flex-shrink: 0;
          overflow: hidden;
        }
        
        .book-cover img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }
        
        .book-title {
          font-size: 16px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 4px 0;
          line-height: 1.3;
        }
        
        .book-author {
          font-size: 14px;
          color: #6E6E6E;
          margin: 0 0 8px 0;
        }
        
        .book-category {
          background: #6E6E6E;
          color: #F3EED9;
          padding: 2px 8px;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 600;
        }
        
        .borrower-section {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }
        
        .borrower-type {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 11px;
          font-weight: 600;
          color: #6E6E6E;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        
        .borrower-name {
          font-size: 16px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 4px 0;
        }
        
        .borrower-details {
          font-size: 13px;
          color: #6E6E6E;
          margin: 0;
        }
        
        .timeline-section {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }
        
        .timeline-item {
          display: flex;
          align-items: center;
          gap: 12px;
        }
        
        .timeline-dot {
          width: 12px;
          height: 12px;
          border-radius: 50%;
          flex-shrink: 0;
        }
        
        .timeline-dot.borrow { background: #3B82F6; }
        .timeline-dot.expected { background: #F59E0B; }
        .timeline-dot.return { background: #3E5C49; }
        
        .timeline-label {
          font-size: 11px;
          font-weight: 600;
          color: #6E6E6E;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        
        .timeline-date {
          font-size: 12px;
          color: #2E2E2E;
          margin-top: 2px;
        }
        
        .item-notes {
          padding: 16px 20px;
          background: #FEF7F0;
          border-top: 1px solid #E5DCC2;
          font-size: 13px;
          color: #6E6E6E;
        }
        
        .empty-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 80px 32px;
          text-align: center;
          color: #6E6E6E;
        }
        
        .empty-state h3 {
          font-size: 20px;
          font-weight: 700;
          margin: 16px 0 8px 0;
          color: #2E2E2E;
        }
        
        .empty-state p {
          margin: 0 0 24px 0;
          font-size: 14px;
        }
        
        .text-blue-500 { color: #3B82F6; }
        .text-green-500 { color: #3E5C49; }
        .text-red-500 { color: #DC2626; }
        
        /* Responsive */
        @media (max-width: 1024px) {
          .item-content {
            grid-template-columns: 1fr;
            gap: 20px;
          }
          
          .filters-row {
            flex-direction: column;
            align-items: stretch;
            gap: 16px;
          }
          
          .filter-controls {
            justify-content: space-between;
          }
        }
        
        @media (max-width: 768px) {
          .history-modal {
            margin: 12px;
            border-radius: 20px;
          }
          
          .modal-header {
            padding: 20px;
            flex-direction: column;
            gap: 16px;
            text-align: center;
          }
          
          .stats-section {
            padding: 16px 20px;
            flex-wrap: wrap;
            gap: 12px;
          }
          
          .stat-card {
            flex: 1;
            min-width: calc(50% - 6px);
          }
          
          .filters-section {
            padding: 16px 20px;
          }
          
          .history-content {
            padding: 16px 20px;
          }
          
          .book-section {
            flex-direction: column;
            text-align: center;
          }
          
          .timeline-section {
            align-items: center;
          }
        }
      ` }), showExportDialog && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ExportDialog__WEBPACK_IMPORTED_MODULE_2__.ExportDialog, { isOpen: showExportDialog, onClose: () => setShowExportDialog(false), onExport: handleExport, availableData: {
                    documents: false,
                    borrowers: false,
                    borrowHistory: true
                } }))] }));
};


/***/ }),

/***/ "./src/renderer/components/BorrowedDocuments.tsx":
/*!*******************************************************!*\
  !*** ./src/renderer/components/BorrowedDocuments.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BorrowedDocuments: () => (/* binding */ BorrowedDocuments)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-triangle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/search.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/calendar.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/rotate-ccw.mjs");



// Utility functions
const getStatusInfo = (document) => {
    const expectedDate = new Date(document.dateRetourPrevu);
    const today = new Date();
    const diffDays = Math.floor((expectedDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24));
    if (diffDays < 0) {
        return {
            status: 'overdue',
            label: `En retard de ${Math.abs(diffDays)} jour(s)`,
            className: 'status-overdue',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"]
        };
    }
    else if (diffDays <= 3) {
        return {
            status: 'warning',
            label: diffDays === 0 ? 'À rendre aujourd\'hui' : `${diffDays} jour(s) restant(s)`,
            className: 'status-warning',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"]
        };
    }
    else {
        return {
            status: 'normal',
            label: `${diffDays} jour(s) restant(s)`,
            className: 'status-normal',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"]
        };
    }
};
const getStatusPriority = (doc) => {
    const expectedDate = new Date(doc.dateRetourPrevu);
    const today = new Date();
    const diffDays = Math.floor((expectedDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24));
    if (diffDays < 0)
        return 3; // overdue
    if (diffDays <= 3)
        return 2; // warning
    return 1; // normal
};
// Sub-components
const SearchBar = ({ searchQuery, onSearchChange }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "search-container", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "search-input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { className: "search-icon", size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", placeholder: "Rechercher par document, auteur, emprunteur...", value: searchQuery, onChange: (e) => onSearchChange(e.target.value), className: "search-input" }), searchQuery && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "clear-search", onClick: () => onSearchChange(''), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 18 }) }))] }) }));
const FilterControls = ({ sortBy, filterStatus, onSortChange, onFilterChange }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-controls", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: sortBy, onChange: (e) => onSortChange(e.target.value), className: "filter-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "date", children: "Trier par date d'emprunt" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "title", children: "Trier par titre" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "borrower", children: "Trier par emprunteur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "status", children: "Trier par statut" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: filterStatus, onChange: (e) => onFilterChange(e.target.value), className: "filter-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tous les statuts" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "overdue", children: "En retard" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "warning", children: "\u00C0 rendre bient\u00F4t" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "normal", children: "Dans les temps" })] })] }));
const DocumentCard = ({ document, onReturn }) => {
    const statusInfo = getStatusInfo(document);
    const StatusIcon = statusInfo.icon;
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `document-card ${statusInfo.className}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "document-title", children: document.titre }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "document-author", children: document.auteur }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "document-details", children: [document.editeur, " \u2022 ", document.annee] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "document-status", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StatusIcon, { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "borrower-info", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-name", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: document.nomEmprunteur })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrow-dates", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "date-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: ["Emprunt\u00E9 le ", new Date(document.dateEmprunt).toLocaleDateString('fr-FR')] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "date-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: ["\u00C0 rendre le ", new Date(document.dateRetourPrevu).toLocaleDateString('fr-FR')] })] })] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "document-status-bar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `status-badge ${statusInfo.className}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StatusIcon, { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: statusInfo.label })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "document-actions", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { onClick: () => onReturn(document), className: "return-button", title: "Marquer comme rendu", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), "Retour"] }) })] }));
};
const EmptyState = ({ hasDocuments, searchQuery, filterStatus, onClearFilters }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "empty-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "empty-icon", children: searchQuery ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 80 })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 80 })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "empty-title", children: !hasDocuments ? 'Aucun document emprunté' : 'Aucun résultat' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "empty-description", children: !hasDocuments
                ? 'Tous les documents sont actuellement disponibles dans la bibliothèque.'
                : searchQuery
                    ? `Aucun résultat pour "${searchQuery}"`
                    : 'Aucun document ne correspond aux filtres sélectionnés.' }), (searchQuery || filterStatus !== 'all') && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "clear-filters", onClick: onClearFilters, children: "Effacer les filtres" }))] }));
// Main Component
const BorrowedDocuments = ({ documents, onReturn }) => {
    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [sortBy, setSortBy] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('date');
    const [filterStatus, setFilterStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('all');
    const handleReturn = (document) => {
        if (window.confirm(`Confirmer le retour de "${document.titre}" emprunté par ${document.nomEmprunteur} ?`)) {
            onReturn(document.id);
        }
    };
    const handleClearFilters = () => {
        setSearchQuery('');
        setFilterStatus('all');
    };
    // Mock data for demonstration
    const mockDocuments = documents.length > 0 ? documents : [
        {
            id: 1,
            titre: "Le Petit Prince",
            auteur: "Antoine de Saint-Exupéry",
            editeur: "Gallimard",
            annee: "1943",
            nomEmprunteur: "Marie Dubois",
            dateEmprunt: "2025-07-15",
            dateRetourPrevu: "2025-07-30"
        },
        {
            id: 2,
            titre: "1984",
            auteur: "George Orwell",
            editeur: "Secker & Warburg",
            annee: "1949",
            nomEmprunteur: "Jean Martin",
            dateEmprunt: "2025-07-20",
            dateRetourPrevu: "2025-07-22"
        },
        {
            id: 3,
            titre: "L'Étranger",
            auteur: "Albert Camus",
            editeur: "Gallimard",
            annee: "1942",
            nomEmprunteur: "Sophie Leroy",
            dateEmprunt: "2025-07-10",
            dateRetourPrevu: "2025-07-20"
        }
    ];
    // Processed documents with memoization for performance
    const processedDocuments = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
        return mockDocuments
            .filter(doc => {
            if (!searchQuery)
                return true;
            const query = searchQuery.toLowerCase();
            return (doc.titre.toLowerCase().includes(query) ||
                doc.auteur.toLowerCase().includes(query) ||
                doc.nomEmprunteur?.toLowerCase().includes(query));
        })
            .filter(doc => {
            if (filterStatus === 'all')
                return true;
            const expectedDate = new Date(doc.dateRetourPrevu);
            const today = new Date();
            const diffDays = Math.floor((expectedDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24));
            switch (filterStatus) {
                case 'overdue': return diffDays < 0;
                case 'warning': return diffDays >= 0 && diffDays <= 3;
                case 'normal': return diffDays > 3;
                default: return true;
            }
        })
            .sort((a, b) => {
            switch (sortBy) {
                case 'title': return a.titre.localeCompare(b.titre);
                case 'borrower': return (a.nomEmprunteur || '').localeCompare(b.nomEmprunteur || '');
                case 'date': return new Date(a.dateEmprunt).getTime() - new Date(b.dateEmprunt).getTime();
                case 'status': return getStatusPriority(b) - getStatusPriority(a);
                default: return 0;
            }
        });
    }, [mockDocuments, searchQuery, filterStatus, sortBy]);
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrowed-documents-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "page-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "page-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-main", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 36 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { className: "page-title", children: "Documents emprunt\u00E9s" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "page-subtitle", children: [mockDocuments.length, " document(s) actuellement en circulation"] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "enhanced-controls", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "controls-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchBar, { searchQuery: searchQuery, onSearchChange: setSearchQuery }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FilterControls, { sortBy: sortBy, filterStatus: filterStatus, onSortChange: setSortBy, onFilterChange: setFilterStatus })] }) })] }), searchQuery && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "results-summary", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "results-count", children: [processedDocuments.length, " r\u00E9sultat(s) pour \"", searchQuery, "\""] }) })), processedDocuments.length > 0 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "documents-grid", children: processedDocuments.map(document => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DocumentCard, { document: document, onReturn: handleReturn }, document.id))) })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(EmptyState, { hasDocuments: mockDocuments.length > 0, searchQuery: searchQuery, filterStatus: filterStatus, onClearFilters: handleClearFilters }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        /* Variables CSS pour la palette de couleurs */
        :root {
          --dark-green: #3E5C49;
          --medium-green: #5A7A65;
          --light-green: #7A9A85;
          --warm-brown: #C2571B;
          --medium-brown: #A04315;
          --dark-brown: #8A3612;
          --cream: #F8F6F0;
          --light-cream: #FEFDFB;
          --beige: #E5DCC2;
          --light-beige: #F3EED9;
          --warm-beige: #C2A678;
          --text-dark: #2A2A2A;
          --text-medium: #4A4A4A;
          --text-light: #6A6A6A;
          --white: #FFFFFF;
          --error: #DC2626;
          --warning: #D97706;
          --success: #059669;
        }

        .borrowed-documents-container {
          height: 100%;
          overflow-y: auto;
          background: linear-gradient(135deg, var(--cream) 0%, var(--light-beige) 100%);
          min-height: 100vh;
        }

        .page-content {
          padding: 32px;
          max-width: 1200px;
          margin: 0 auto;
        }

        /* Header Styles - Fond vert sombre */
        .page-header {
          background: linear-gradient(135deg, var(--dark-green) 0%, var(--medium-green) 100%);
          border-radius: 24px;
          padding: 0;
          margin-bottom: 32px;
          box-shadow: 
            0 20px 60px rgba(62, 92, 73, 0.3),
            0 8px 32px rgba(62, 92, 73, 0.2);
          border: 1px solid rgba(62, 92, 73, 0.3);
          backdrop-filter: blur(20px);
          overflow: hidden;
          position: relative;
        }

        .page-header::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 100%;
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.1) 0%, 
            rgba(255, 255, 255, 0.05) 50%, 
            transparent 100%);
          pointer-events: none;
        }

        .header-main {
          display: flex;
          align-items: center;
          gap: 32px;
          padding: 40px 40px 32px 40px;
          position: relative;
          z-index: 2;
        }

        .header-icon {
          width: 100px;
          height: 100px;
          background: linear-gradient(135deg, var(--warm-brown) 0%, var(--medium-brown) 30%, var(--dark-brown) 100%);
          border-radius: 28px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: var(--cream);
          box-shadow: 
            0 16px 40px rgba(194, 87, 27, 0.4),
            inset 0 2px 4px rgba(255, 255, 255, 0.2);
          position: relative;
          transform: rotate(-2deg);
          transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .header-icon:hover {
          transform: rotate(0deg) scale(1.05);
          box-shadow: 
            0 20px 50px rgba(194, 87, 27, 0.5),
            inset 0 2px 4px rgba(255, 255, 255, 0.3);
        }

        .header-icon::before {
          content: '';
          position: absolute;
          inset: 3px;
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.3) 0%, 
            rgba(255, 255, 255, 0.1) 50%, 
            transparent 100%);
          border-radius: 25px;
        }

        .header-icon::after {
          content: '';
          position: absolute;
          bottom: -2px;
          right: -2px;
          width: 24px;
          height: 24px;
          background: linear-gradient(135deg, var(--success) 0%, #047857 100%);
          border-radius: 50%;
          border: 3px solid var(--white);
          box-shadow: 0 4px 12px rgba(5, 150, 105, 0.4);
        }

        .header-text {
          flex: 1;
        }

        .page-title {
          font-size: 36px;
          font-weight: 900;
          margin: 0 0 12px 0;
          letter-spacing: -1px;
          color: var(--cream);
          position: relative;
          line-height: 1.1;
          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .page-title::after {
          content: '';
          position: absolute;
          bottom: -4px;
          left: 0;
          width: 60px;
          height: 3px;
        }

        .page-subtitle {
          font-size: 18px;
          color: var(--beige);
          margin: 0;
          font-weight: 600;
          opacity: 0.95;
        }

        /* Controls Styles */
        .enhanced-controls {
          border-top: 1px solid rgba(255, 255, 255, 0.15);
          padding: 32px 40px 40px 40px;
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.1) 0%, 
            rgba(255, 255, 255, 0.05) 100%);
          position: relative;
          z-index: 2;
        }

        .enhanced-controls::before {
          content: '';
          position: absolute;
          top: 0;
          left: 40px;
          right: 40px;
          height: 1px;
          background: linear-gradient(90deg, 
            transparent 0%, 
            rgba(255, 255, 255, 0.3) 20%, 
            rgba(194, 87, 27, 0.4) 50%, 
            rgba(255, 255, 255, 0.3) 80%, 
            transparent 100%);
        }

        .controls-row {
          display: flex;
          gap: 24px;
          align-items: center;
          justify-content: space-between;
          flex-wrap: wrap;
        }

        .search-container {
          flex: 1;
          min-width: 320px;
        }

        .search-input-wrapper {
          position: relative;
          display: flex;
          align-items: center;
        }

        .search-icon {
          position: absolute;
          left: 18px;
          color: var(--text-light);
          z-index: 2;
        }

        .search-input {
          width: 100%;
          padding: 18px 18px 18px 52px;
          border: 2px solid var(--beige);
          border-radius: 16px;
          font-size: 15px;
          background: var(--white);
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          color: var(--text-dark);
          font-weight: 500;
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.04);
        }

        .search-input::placeholder {
          color: var(--text-light);
          font-weight: 400;
        }

        .search-input:focus {
          outline: none;
          border-color: var(--warm-brown);
          box-shadow: 0 0 0 4px rgba(194, 87, 27, 0.15), 0 8px 24px rgba(0, 0, 0, 0.08);
          background: var(--light-cream);
          transform: translateY(-1px);
        }

        .clear-search {
          position: absolute;
          right: 14px;
          padding: 6px;
          border: none;
          background: var(--light-beige);
          color: var(--text-medium);
          cursor: pointer;
          border-radius: 8px;
          transition: all 0.2s ease;
        }

        .clear-search:hover {
          background: var(--beige);
          color: var(--text-dark);
          transform: scale(1.05);
        }

        .filter-controls {
          display: flex;
          gap: 16px;
        }

        .filter-select {
          padding: 16px 20px;
          border: 2px solid var(--beige);
          border-radius: 12px;
          background: var(--white);
          font-size: 14px;
          color: var(--text-dark);
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          min-width: 190px;
          font-weight: 500;
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.04);
        }

        .filter-select:focus {
          outline: none;
          border-color: var(--warm-brown);
          box-shadow: 0 0 0 4px rgba(194, 87, 27, 0.15), 0 8px 24px rgba(0, 0, 0, 0.08);
          background: var(--light-cream);
          transform: translateY(-1px);
        }

        /* Results Summary */
        .results-summary {
          background: rgba(255, 255, 255, 0.9);
          border-radius: 16px;
          padding: 18px 26px;
          margin-bottom: 20px;
          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.06);
          border: 1px solid var(--beige);
          backdrop-filter: blur(10px);
        }

        .results-count {
          font-size: 15px;
          color: var(--text-medium);
          font-weight: 600;
        }

        /* Documents Grid */
        .documents-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(420px, 1fr));
          gap: 24px;
        }

        /* Document Card Styles */
        .document-card {
          background: var(--white);
          border-radius: 20px;
          padding: 28px;
          box-shadow: 0 12px 40px rgba(0, 0, 0, 0.08);
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          border-left: 5px solid var(--beige);
          border: 1px solid rgba(229, 220, 194, 0.3);
          position: relative;
          overflow: hidden;
        }

        .document-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 2px;
          background: linear-gradient(90deg, transparent 0%, var(--beige) 50%, transparent 100%);
        }

        .document-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 20px 56px rgba(0, 0, 0, 0.12);
        }

        .document-card.status-overdue {
          border-left-color: var(--error);
          background: linear-gradient(135deg, #FEF2F2 0%, var(--white) 100%);
        }

        .document-card.status-overdue::before {
          background: linear-gradient(90deg, transparent 0%, var(--error) 50%, transparent 100%);
        }

        .document-card.status-warning {
          border-left-color: var(--warning);
          background: linear-gradient(135deg, #FFFBEB 0%, var(--white) 100%);
        }

        .document-card.status-warning::before {
          background: linear-gradient(90deg, transparent 0%, var(--warning) 50%, transparent 100%);
        }

        .document-card.status-normal {
          border-left-color: var(--success);
          background: linear-gradient(135deg, #ECFDF5 0%, var(--white) 100%);
        }

        .document-card.status-normal::before {
          background: linear-gradient(90deg, transparent 0%, var(--success) 50%, transparent 100%);
        }

        .document-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 24px;
        }

        .document-title {
          font-size: 20px;
          font-weight: 700;
          color: var(--text-dark);
          margin: 0 0 10px 0;
          line-height: 1.3;
          letter-spacing: -0.2px;
        }

        .document-author {
          font-size: 15px;
          color: var(--dark-green);
          font-weight: 700;
          margin: 0 0 6px 0;
        }

        .document-details {
          font-size: 13px;
          color: var(--text-light);
          margin: 0;
          font-weight: 500;
        }

        .document-status {
          padding: 10px;
          border-radius: 12px;
          background: var(--light-beige);
          backdrop-filter: blur(4px);
          color: var(--dark-green);
        }

        .borrower-info {
          padding: 20px;
          background: var(--light-beige);
          border-radius: 16px;
          margin-bottom: 20px;
          border: 1px solid var(--beige);
          backdrop-filter: blur(4px);
        }

        .borrower-name {
          display: flex;
          align-items: center;
          gap: 10px;
          font-weight: 700;
          color: var(--text-dark);
          margin-bottom: 14px;
          font-size: 15px;
        }

        .borrower-name svg {
          color: var(--dark-green);
        }

        .borrow-dates {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .date-info {
          display: flex;
          align-items: center;
          gap: 10px;
          font-size: 13px;
          color: var(--text-medium);
          font-weight: 500;
        }

        .date-info svg {
          color: var(--warm-beige);
        }

        .document-status-bar {
          margin-bottom: 20px;
        }

        .status-badge {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          padding: 8px 16px;
          border-radius: 24px;
          font-size: 13px;
          font-weight: 700;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .status-badge.status-overdue {
          background: linear-gradient(135deg, #FEE2E2 0%, #FECACA 100%);
          color: var(--error);
        }

        .status-badge.status-warning {
          background: linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%);
          color: var(--warning);
        }

        .status-badge.status-normal {
          background: linear-gradient(135deg, #D1FAE5 0%, #A7F3D0 100%);
          color: var(--success);
        }

        .document-actions {
          display: flex;
          justify-content: flex-end;
        }

        .return-button {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 14px 24px;
          background: linear-gradient(135deg, var(--dark-green) 0%, var(--medium-green) 100%);
          color: var(--cream);
          border: none;
          border-radius: 12px;
          font-size: 14px;
          font-weight: 700;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          box-shadow: 0 6px 20px rgba(62, 92, 73, 0.25);
        }

        .return-button:hover {
          background: linear-gradient(135deg, var(--medium-green) 0%, var(--light-green) 100%);
          transform: translateY(-2px);
          box-shadow: 0 12px 32px rgba(62, 92, 73, 0.35);
        }

        .return-button:active {
          transform: translateY(0);
          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.3);
        }

        /* Empty State */
        .empty-state {
          text-align: center;
          padding: 80px 40px;
          background: rgba(255, 255, 255, 0.95);
          border-radius: 20px;
          box-shadow: 0 12px 40px rgba(0, 0, 0, 0.08);
          border: 1px solid var(--beige);
          backdrop-filter: blur(10px);
        }

        .empty-icon {
          margin-bottom: 28px;
          color: var(--warm-beige);
        }

        .empty-title {
          font-size: 26px;
          font-weight: 800;
          color: var(--text-dark);
          margin: 0 0 16px 0;
          letter-spacing: -0.4px;
        }

        .empty-description {
          font-size: 16px;
          color: var(--text-medium);
          margin: 0 0 36px 0;
          line-height: 1.6;
          font-weight: 500;
        }

        .clear-filters {
          padding: 14px 28px;
          background: linear-gradient(135deg, var(--warm-brown) 0%, var(--medium-brown) 100%);
          color: var(--cream);
          border: none;
          border-radius: 12px;
          font-size: 14px;
          font-weight: 700;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          box-shadow: 0 6px 20px rgba(194, 87, 27, 0.25);
        }

        .clear-filters:hover {
          background: linear-gradient(135deg, var(--medium-brown) 0%, var(--dark-brown) 100%);
          transform: translateY(-2px);
          box-shadow: 0 12px 32px rgba(194, 87, 27, 0.35);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
          .page-content {
            padding: 20px;
          }

          .page-header {
            padding: 0;
          }

          .header-main {
            flex-direction: column;
            text-align: center;
            gap: 20px;
            padding: 32px 24px;
          }

          .header-icon {
            width: 72px;
            height: 72px;
          }

          .page-title {
            font-size: 28px;
          }

          .enhanced-controls {
            padding: 24px;
          }

          .controls-row {
            flex-direction: column;
            gap: 16px;
          }

          .search-container {
            min-width: unset;
          }

          .filter-controls {
            width: 100%;
            justify-content: space-between;
          }

          .filter-select {
            flex: 1;
            min-width: unset;
          }

          .documents-grid {
            grid-template-columns: 1fr;
          }

          .document-card {
            padding: 24px;
          }
        }

        @media (max-width: 480px) {
          .page-content {
            padding: 16px;
          }

          .header-main {
            padding: 24px 20px;
          }

          .header-icon {
            width: 64px;
            height: 64px;
          }

          .page-title {
            font-size: 24px;
          }

          .enhanced-controls {
            padding: 20px;
          }

          .search-input {
            padding: 16px 16px 16px 48px;
            font-size: 14px;
          }

          .filter-select {
            padding: 14px 16px;
            font-size: 13px;
            min-width: unset;
          }

          .document-card {
            padding: 20px;
          }

          .document-title {
            font-size: 18px;
          }

          .borrower-info {
            padding: 16px;
          }

          .return-button {
            padding: 12px 20px;
            font-size: 13px;
          }

          .empty-state {
            padding: 60px 24px;
          }

          .empty-title {
            font-size: 22px;
          }

          .empty-description {
            font-size: 15px;
          }
        }

        /* Hover animations and micro-interactions */
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .document-card {
          animation: fadeInUp 0.5s ease-out;
        }

        .document-card:nth-child(1) { animation-delay: 0.1s; }
        .document-card:nth-child(2) { animation-delay: 0.2s; }
        .document-card:nth-child(3) { animation-delay: 0.3s; }
        .document-card:nth-child(4) { animation-delay: 0.4s; }
        .document-card:nth-child(5) { animation-delay: 0.5s; }
        .document-card:nth-child(6) { animation-delay: 0.6s; }

        /* Improved accessibility */
        .search-input:focus-visible,
        .filter-select:focus-visible,
        .return-button:focus-visible,
        .clear-filters:focus-visible {
          outline: 3px solid var(--warm-brown);
          outline-offset: 2px;
        }

        /* Glow effects for status indicators */
        .status-badge.status-overdue {
          box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
        }

        .status-badge.status-warning {
          box-shadow: 0 4px 12px rgba(217, 119, 6, 0.3);
        }

        .status-badge.status-normal {
          box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3);
        }

        /* Enhanced button interactions */
        .return-button {
          position: relative;
          overflow: hidden;
        }

        .return-button::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
          transition: left 0.5s;
        }

        .return-button:hover::before {
          left: 100%;
        }

        /* Improved card hover effects */
        .document-card {
          position: relative;
          overflow: hidden;
        }

        .document-card::after {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, 
            rgba(62, 92, 73, 0.02) 0%, 
            rgba(194, 87, 27, 0.02) 100%);
          opacity: 0;
          transition: opacity 0.3s ease;
          pointer-events: none;
        }

        .document-card:hover::after {
          opacity: 1;
        }

        /* Enhanced search input */
        .search-input-wrapper::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          border-radius: 16px;
          background: linear-gradient(135deg, 
            rgba(194, 87, 27, 0.1) 0%, 
            rgba(62, 92, 73, 0.1) 100%);
          opacity: 0;
          transition: opacity 0.3s ease;
          pointer-events: none;
        }

        .search-input:focus + .search-input-wrapper::before {
          opacity: 1;
        }

        /* Subtle animations for status changes */
        .status-badge {
          transition: all 0.3s ease;
        }

        .status-badge:hover {
          transform: scale(1.05);
        }

        /* Enhanced header gradient animation */
        .page-header {
          background-size: 200% 200%;
          animation: gradientShift 8s ease infinite;
        }

        @keyframes gradientShift {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }

        /* Improved filter controls styling */
        .filter-controls {
          position: relative;
        }

        .filter-select {
          background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
          background-position: right 12px center;
          background-repeat: no-repeat;
          background-size: 16px;
          appearance: none;
          padding-right: 40px;
        }

        /* Enhanced color consistency */
        .borrower-name svg,
        .date-info svg,
        .document-status svg {
          transition: color 0.3s ease;
        }

        .document-card:hover .borrower-name svg,
        .document-card:hover .date-info svg,
        .document-card:hover .document-status svg {
          color: var(--warm-brown);
        }

        /* Print optimization */
        @media print {
          .borrowed-documents-container {
            background: white;
          }

          .page-header {
            background: var(--dark-green) !important;
            box-shadow: none;
            -webkit-print-color-adjust: exact;
            color-adjust: exact;
          }

          .enhanced-controls,
          .document-actions {
            display: none;
          }

          .document-card {
            box-shadow: none;
            border: 1px solid #ccc;
            break-inside: avoid;
            margin-bottom: 20px;
          }
        }

        /* High contrast mode enhancements */
        @media (prefers-contrast: high) {
          .document-card {
            border: 2px solid var(--text-dark);
          }

          .search-input,
          .filter-select {
            border: 2px solid var(--text-dark);
          }

          .return-button {
            background: var(--text-dark);
            color: var(--white);
            border: 2px solid var(--text-dark);
          }

          .status-badge {
            border: 1px solid var(--text-dark);
          }
        }

        /* Reduced motion preferences */
        @media (prefers-reduced-motion: reduce) {
          .document-card,
          .return-button,
          .clear-filters,
          .search-input,
          .filter-select {
            animation: none;
            transition: none;
          }

          .document-card:hover {
            transform: none;
          }

          .page-header {
            animation: none;
          }
        }

        /* Focus improvements for better accessibility */
        .search-input:focus,
        .filter-select:focus,
        .return-button:focus,
        .clear-filters:focus {
          position: relative;
          z-index: 10;
        }

        /* Enhanced visual hierarchy */
        .page-title {
          position: relative;
        }

        .page-title::before {
          content: '';
          position: absolute;
          top: -8px;
          left: -8px;
          right: -8px;
          bottom: -8px;
          background: linear-gradient(135deg, 
            rgba(255, 255, 255, 0.1) 0%, 
            rgba(255, 255, 255, 0.05) 100%);
          border-radius: 12px;
          z-index: -1;
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/Borrowers.tsx":
/*!***********************************************!*\
  !*** ./src/renderer/components/Borrowers.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Borrowers)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/graduation-cap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/briefcase.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/search.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/filter.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/plus.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/pen-square.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trash-2.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/hash.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/school.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/building.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/mail.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/save.mjs");



function Borrowers({ onClose, onRefreshData }) {
    const [borrowers, setBorrowers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [filterType, setFilterType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('all');
    const [showAddModal, setShowAddModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [editingBorrower, setEditingBorrower] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [dataLoading, setDataLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);
    const [appMode, setAppMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('offline');
    // Charger les emprunteurs au montage du composant
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        loadBorrowers();
        // Détecter le mode de l'application
        const mode = localStorage.getItem('appMode') || 'offline';
        setAppMode(mode);
    }, []);
    const loadBorrowers = async () => {
        setDataLoading(true);
        try {
            const borrowersList = await window.electronAPI.getBorrowers();
            setBorrowers(borrowersList || []);
        }
        catch (error) {
            console.error('Erreur lors du chargement des emprunteurs:', error);
            setBorrowers([]);
        }
        finally {
            setDataLoading(false);
        }
    };
    const [borrower, setBorrower] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        type: 'student',
        firstName: '',
        lastName: '',
        matricule: '',
        classe: '',
        cniNumber: '',
        position: '',
        email: '',
        phone: '',
        syncStatus: 'pending',
        lastModified: new Date().toISOString(),
        version: 1,
        createdAt: new Date().toISOString()
    });
    const [formErrors, setFormErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});
    const validateForm = () => {
        const errors = {};
        if (!borrower.firstName.trim()) {
            errors.firstName = 'Le prénom est requis';
        }
        if (!borrower.lastName.trim()) {
            errors.lastName = 'Le nom est requis';
        }
        if (!borrower.matricule.trim()) {
            errors.matricule = 'Le matricule est requis';
        }
        if (borrower.email && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(borrower.email)) {
            errors.email = 'Format email invalide';
        }
        if (borrower.phone && !/^[\d\s\+\-\(\)]{6,}$/.test(borrower.phone)) {
            errors.phone = 'Format téléphone invalide';
        }
        setFormErrors(errors);
        return Object.keys(errors).length === 0;
    };
    const handleSearch = (query) => {
        setSearchQuery(query);
        // Logique de recherche mockée
    };
    const resetForm = () => {
        setBorrower({
            type: 'student',
            firstName: '',
            lastName: '',
            matricule: '',
            classe: '',
            cniNumber: '',
            position: '',
            email: '',
            phone: '',
            syncStatus: 'pending',
            lastModified: new Date().toISOString(),
            version: 1,
            createdAt: new Date().toISOString()
        });
        setFormErrors({});
        setEditingBorrower(null);
    };
    const handleAddBorrower = () => {
        resetForm();
        setShowAddModal(true);
    };
    const handleEditBorrower = (editBorrower) => {
        setBorrower({
            type: editBorrower.type,
            firstName: editBorrower.firstName,
            lastName: editBorrower.lastName,
            matricule: editBorrower.matricule,
            classe: editBorrower.classe || '',
            cniNumber: editBorrower.cniNumber || '',
            position: editBorrower.position || '',
            email: editBorrower.email || '',
            phone: editBorrower.phone || '',
            syncStatus: editBorrower.syncStatus,
            lastModified: new Date().toISOString(),
            version: (editBorrower.version || 1) + 1,
            createdAt: editBorrower.createdAt || new Date().toISOString()
        });
        setFormErrors({});
        setEditingBorrower(editBorrower);
        setShowAddModal(true);
    };
    const handleSubmit = async (e) => {
        e.preventDefault();
        if (!validateForm()) {
            return;
        }
        setIsLoading(true);
        try {
            if (editingBorrower) {
                // Modification d'un emprunteur existant
                const updatedBorrower = {
                    ...borrower,
                    id: editingBorrower.id,
                    lastModified: new Date().toISOString(),
                    version: (editingBorrower.version || 1) + 1
                };
                if (appMode === 'offline') {
                    await window.electronAPI.updateBorrower(updatedBorrower);
                }
                setBorrowers(prev => prev.map(b => b.id === editingBorrower.id ? updatedBorrower : b));
            }
            else {
                // Ajout d'un nouvel emprunteur
                const newBorrowerData = {
                    ...borrower,
                    syncStatus: 'pending',
                    lastModified: new Date().toISOString(),
                    version: 1,
                    createdAt: new Date().toISOString()
                };
                if (appMode === 'offline') {
                    const savedBorrowerId = await window.electronAPI.addBorrower(newBorrowerData);
                    const savedBorrower = { ...newBorrowerData, id: savedBorrowerId };
                    setBorrowers(prev => [...prev, savedBorrower]);
                }
                else {
                    const newBorrower = { ...newBorrowerData, id: Date.now() };
                    setBorrowers(prev => [...prev, newBorrower]);
                }
            }
            setShowAddModal(false);
            resetForm();
            // Rafraîchir les données dans le composant parent si nécessaire
            if (onRefreshData) {
                await onRefreshData();
            }
        }
        catch (error) {
            console.error('Erreur:', error);
            alert(error.message || 'Erreur lors de l\'opération');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleDelete = async (borrowerToDelete) => {
        if (window.confirm(`Êtes-vous sûr de vouloir supprimer ${borrowerToDelete.firstName} ${borrowerToDelete.lastName} ?`)) {
            try {
                if (appMode === 'offline' && borrowerToDelete.id) {
                    await window.electronAPI.deleteBorrower(borrowerToDelete.id);
                }
                setBorrowers(prev => prev.filter(b => b.id !== borrowerToDelete.id));
                // Rafraîchir les données dans le composant parent si nécessaire
                if (onRefreshData) {
                    await onRefreshData();
                }
            }
            catch (error) {
                console.error('Erreur lors de la suppression:', error);
                alert(error.message || 'Erreur lors de la suppression');
            }
        }
    };
    const filteredBorrowers = borrowers.filter(borrower => {
        if (filterType !== 'all' && borrower.type !== filterType)
            return false;
        if (searchQuery) {
            const query = searchQuery.toLowerCase();
            return (borrower.firstName.toLowerCase().includes(query) ||
                borrower.lastName.toLowerCase().includes(query) ||
                borrower.matricule.toLowerCase().includes(query));
        }
        return true;
    });
    const studentCount = borrowers.filter(b => b.type === 'student').length;
    const staffCount = borrowers.filter(b => b.type === 'staff').length;
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrowers-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrowers-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 28 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "modal-title", children: "Gestion des Emprunteurs" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "modal-subtitle", children: [borrowers.length, " emprunteur(s) \u2022 ", studentCount, " \u00E9tudiant(s) \u2022 ", staffCount, " personnel(s)"] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: onClose, type: "button", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stats-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon student", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-value", children: studentCount }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "\u00C9tudiants" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon staff", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-value", children: staffCount }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Personnel" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon total", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-value", children: borrowers.length }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Total" })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "controls-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "search-container", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "search-input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { className: "search-icon", size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", placeholder: "Rechercher par nom, pr\u00E9nom, matricule...", value: searchQuery, onChange: (e) => handleSearch(e.target.value), className: "search-input" }), searchQuery && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "clear-search", onClick: () => handleSearch(''), type: "button", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 16 }) }))] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "controls-right", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: filterType, onChange: (e) => setFilterType(e.target.value), className: "filter-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tous" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "student", children: "\u00C9tudiants" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "staff", children: "Personnel" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "btn-primary", onClick: handleAddBorrower, type: "button", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 18 }), "Ajouter"] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "borrowers-content", children: dataLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "loading-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "loading-spinner" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Chargement des emprunteurs..." })] })) : filteredBorrowers.length > 0 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "borrowers-grid", children: filteredBorrowers.map((borrower) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `borrower-card ${borrower.type}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "card-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-type", children: [borrower.type === 'student' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 20 })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 20 })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: borrower.type === 'student' ? 'Étudiant' : 'Personnel' })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "card-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "action-btn view", onClick: () => { }, title: "Voir d\u00E9tails", type: "button", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "action-btn edit", onClick: () => handleEditBorrower(borrower), title: "Modifier", type: "button", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "action-btn delete", onClick: () => handleDelete(borrower), title: "Supprimer", type: "button", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 16 }) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "card-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", { className: "borrower-name", children: [borrower.firstName, " ", borrower.lastName] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "borrower-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: borrower.matricule })] }), borrower.type === 'student' && borrower.classe && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: borrower.classe })] })), borrower.type === 'staff' && borrower.position && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: borrower.position })] })), borrower.email && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: borrower.email })] }))] })] })] }, borrower.id))) })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "empty-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 64 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Aucun emprunteur trouv\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: searchQuery || filterType !== 'all'
                                        ? 'Aucun résultat pour les critères sélectionnés'
                                        : 'Commencez par ajouter des emprunteurs' })] })) }), showAddModal && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "add-modal-overlay", onClick: () => setShowAddModal(false), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "add-modal", onClick: (e) => e.stopPropagation(), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "add-modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", { children: [editingBorrower ? 'Modifier' : 'Ajouter', " un emprunteur"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "modal-close", onClick: () => setShowAddModal(false), type: "button", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form", { onSubmit: handleSubmit, className: "add-form", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Type d'emprunteur *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "type-selector", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { type: "button", className: `type-button ${borrower.type === 'student' ? 'active' : ''}`, onClick: () => setBorrower(prev => ({ ...prev, type: 'student' })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 20 }), "\u00C9tudiant"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { type: "button", className: `type-button ${borrower.type === 'staff' ? 'active' : ''}`, onClick: () => setBorrower(prev => ({ ...prev, type: 'staff' })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 20 }), "Personnel"] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Pr\u00E9nom *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: borrower.firstName, onChange: (e) => {
                                                                setBorrower(prev => ({ ...prev, firstName: e.target.value }));
                                                                if (formErrors.firstName) {
                                                                    setFormErrors(prev => ({ ...prev, firstName: '' }));
                                                                }
                                                            }, className: `form-input ${formErrors.firstName ? 'error' : ''}`, required: true }), formErrors.firstName && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "error-text", children: formErrors.firstName })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Nom *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: borrower.lastName, onChange: (e) => {
                                                                setBorrower(prev => ({ ...prev, lastName: e.target.value }));
                                                                if (formErrors.lastName) {
                                                                    setFormErrors(prev => ({ ...prev, lastName: '' }));
                                                                }
                                                            }, className: `form-input ${formErrors.lastName ? 'error' : ''}`, required: true }), formErrors.lastName && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "error-text", children: formErrors.lastName })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Matricule *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: borrower.matricule, onChange: (e) => {
                                                                setBorrower(prev => ({ ...prev, matricule: e.target.value }));
                                                                if (formErrors.matricule) {
                                                                    setFormErrors(prev => ({ ...prev, matricule: '' }));
                                                                }
                                                            }, className: `form-input ${formErrors.matricule ? 'error' : ''}`, required: true }), formErrors.matricule && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "error-text", children: formErrors.matricule })] }), borrower.type === 'student' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Classe" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: borrower.classe, onChange: (e) => setBorrower(prev => ({ ...prev, classe: e.target.value })), className: "form-input", placeholder: "ex: Terminale C" })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "N\u00B0 CNI" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: borrower.cniNumber, onChange: (e) => setBorrower(prev => ({ ...prev, cniNumber: e.target.value })), className: "form-input" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group span-full", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Poste" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: borrower.position, onChange: (e) => setBorrower(prev => ({ ...prev, position: e.target.value })), className: "form-input", placeholder: "ex: Professeur de Math\u00E9matiques" })] })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Email" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "email", value: borrower.email, onChange: (e) => {
                                                                setBorrower(prev => ({ ...prev, email: e.target.value }));
                                                                if (formErrors.email) {
                                                                    setFormErrors(prev => ({ ...prev, email: '' }));
                                                                }
                                                            }, className: `form-input ${formErrors.email ? 'error' : ''}` }), formErrors.email && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "error-text", children: formErrors.email })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "T\u00E9l\u00E9phone" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "tel", value: borrower.phone, onChange: (e) => {
                                                                setBorrower(prev => ({ ...prev, phone: e.target.value }));
                                                                if (formErrors.phone) {
                                                                    setFormErrors(prev => ({ ...prev, phone: '' }));
                                                                }
                                                            }, className: `form-input ${formErrors.phone ? 'error' : ''}` }), formErrors.phone && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "error-text", children: formErrors.phone })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", className: "btn-secondary", onClick: () => setShowAddModal(false), disabled: isLoading, children: "Annuler" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { type: "submit", className: "btn-primary", disabled: isLoading, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 16 }), isLoading ? 'Enregistrement...' : editingBorrower ? 'Modifier' : 'Ajouter'] })] })] })] }) }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .borrowers-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.75);
          backdrop-filter: blur(12px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
          animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes slideUp {
          from { 
            opacity: 0;
            transform: translateY(30px) scale(0.95);
          }
          to { 
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
        
        .borrowers-modal {
          background: #FFFFFF;
          border-radius: 20px;
          width: 100%;
          max-width: 1200px;
          max-height: 90vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
          border: 1px solid rgba(229, 220, 194, 0.3);
          animation: slideUp 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        .modal-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 32px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          position: relative;
          overflow: hidden;
        }
        
        .modal-header::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
          backdrop-filter: blur(10px);
        }
        
        .header-content {
          display: flex;
          align-items: center;
          gap: 20px;
          position: relative;
          z-index: 1;
        }
        
        .header-icon {
          width: 56px;
          height: 56px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        
        .modal-title {
          font-size: 28px;
          font-weight: 800;
          margin: 0 0 8px 0;
          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .modal-subtitle {
          font-size: 16px;
          opacity: 0.9;
          margin: 0;
          font-weight: 500;
        }
        
        .close-button {
          width: 44px;
          height: 44px;
          border: none;
          background: rgba(243, 238, 217, 0.1);
          color: #F3EED9;
          border-radius: 12px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
        }
        
        .close-button:hover {
          background: rgba(243, 238, 217, 0.2);
        }
        
        .stats-section {
          display: flex;
          gap: 24px;
          padding: 32px;
          background: rgba(248, 246, 240, 0.5);
          border-bottom: 1px solid rgba(229, 220, 194, 0.3);
        }
        
        .stat-card {
          display: flex;
          align-items: center;
          gap: 16px;
          background: #FFFFFF;
          padding: 24px;
          border-radius: 12px;
          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.1);
          border: 1px solid rgba(229, 220, 194, 0.3);
          flex: 1;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .stat-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 8px 25px rgba(62, 92, 73, 0.15);
          border-color: rgba(62, 92, 73, 0.2);
        }
        
        .stat-icon {
          width: 48px;
          height: 48px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
        }
        
        .stat-icon.student {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
        }
        
        .stat-icon.staff {
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
        }
        
        .stat-icon.total {
          background: linear-gradient(135deg, #6B7280 0%, #4B5563 100%);
        }
        
        .stat-content {
          display: flex;
          flex-direction: column;
        }
        
        .stat-value {
          font-size: 28px;
          font-weight: 800;
          color: #2E2E2E;
          display: block;
          line-height: 1;
        }
        
        .stat-label {
          font-size: 14px;
          color: #6E6E6E;
          text-transform: uppercase;
          letter-spacing: 1px;
          font-weight: 600;
          margin-top: 4px;
        }
        
        .controls-section {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 24px 32px;
          border-bottom: 1px solid rgba(0, 0, 0, 0.1);
          background: #FFFFFF;
        }
        
        .search-container {
          flex: 1;
          max-width: 400px;
        }
        
        .search-input-wrapper {
          position: relative;
          display: flex;
          align-items: center;
        }
        
        .search-icon {
          position: absolute;
          left: 16px;
          color: #7f8c8d;
          z-index: 2;
        }
        
        .search-input {
          width: 100%;
          height: 52px;
          padding: 0 48px 0 48px;
          border: 2px solid #e9ecef;
          border-radius: 16px;
          font-size: 16px;
          background: #FFFFFF;
          color: #2c3e50;
          transition: all 0.3s ease;
          font-weight: 500;
        }
        
        .search-input:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
          transform: translateY(-1px);
        }
        
        .clear-search {
          position: absolute;
          right: 16px;
          background: #f8f9fa;
          border: none;
          cursor: pointer;
          color: #7f8c8d;
          padding: 8px;
          border-radius: 8px;
          transition: all 0.2s ease;
        }
        
        .clear-search:hover {
          color: #2c3e50;
          background: #e9ecef;
          transform: scale(1.1);
        }
        
        .controls-right {
          display: flex;
          align-items: center;
          gap: 20px;
        }
        
        .filter-group {
          display: flex;
          align-items: center;
          gap: 12px;
          color: #7f8c8d;
          font-weight: 500;
        }
        
        .filter-select {
          border: 2px solid #e9ecef;
          border-radius: 12px;
          padding: 12px 16px;
          background: #FFFFFF;
          color: #2c3e50;
          font-size: 14px;
          cursor: pointer;
          font-weight: 500;
          transition: all 0.3s ease;
        }
        
        .filter-select:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .btn-primary {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 14px 24px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #FFFFFF;
          border: none;
          border-radius: 16px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }
        
        .btn-primary:hover {
          transform: translateY(-2px);
          box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
          background: linear-gradient(135deg, #2E453A 0%, #3E5C49 100%);
        }
        
        .borrowers-content {
          flex: 1;
          overflow-y: auto;
          padding: 32px;
          background: #f8f9fa;
        }
        
        .borrowers-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
          gap: 24px;
        }
        
        .borrower-card {
          background: #FFFFFF;
          border-radius: 20px;
          border: 1px solid rgba(0, 0, 0, 0.1);
          overflow: hidden;
          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
          position: relative;
          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }
        
        .borrower-card::before {
          content: '';
          position: absolute;
          left: 0;
          top: 0;
          bottom: 0;
          width: 5px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          transition: all 0.3s ease;
        }
        
        .borrower-card.staff::before {
          background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        
        .borrower-card:hover {
          transform: translateY(-8px) scale(1.02);
          box-shadow: 
            0 20px 40px rgba(0, 0, 0, 0.15),
            0 8px 16px rgba(0, 0, 0, 0.1);
        }
        
        .borrower-card:hover::before {
          width: 8px;
        }
        
        .card-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 20px 24px;
          background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
          border-bottom: 1px solid rgba(0, 0, 0, 0.08);
        }
        
        .borrower-type {
          display: flex;
          align-items: center;
          gap: 10px;
          font-size: 13px;
          font-weight: 700;
          color: #6c757d;
          text-transform: uppercase;
          letter-spacing: 1px;
        }
        
        .card-actions {
          display: flex;
          gap: 8px;
        }
        
        .action-btn {
          width: 36px;
          height: 36px;
          border: none;
          border-radius: 10px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          position: relative;
          overflow: hidden;
        }
        
        .action-btn::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 50%;
          width: 0;
          height: 0;
          border-radius: 50%;
          transition: all 0.3s ease;
          transform: translate(-50%, -50%);
        }
        
        .action-btn:hover::before {
          width: 100%;
          height: 100%;
        }
        
        .action-btn.view {
          background: rgba(108, 117, 125, 0.1);
          color: #6c757d;
        }
        
        .action-btn.view:hover {
          color: #FFFFFF;
          transform: scale(1.1);
        }
        
        .action-btn.view:hover::before {
          background: #6c757d;
        }
        
        .action-btn.edit {
          background: rgba(102, 126, 234, 0.1);
          color: #3E5C49;
        }
        
        .action-btn.edit:hover {
          color: #FFFFFF;
          transform: scale(1.1);
        }
        
        .action-btn.edit:hover::before {
          background: #3E5C49;
        }
        
        .action-btn.delete {
          background: rgba(245, 87, 108, 0.1);
          color: #f5576c;
        }
        
        .action-btn.delete:hover {
          color: #FFFFFF;
          transform: scale(1.1);
        }
        
        .action-btn.delete:hover::before {
          background: #f5576c;
        }
        
        .card-content {
          padding: 24px;
        }
        
        .borrower-name {
          font-size: 20px;
          font-weight: 800;
          color: #2c3e50;
          margin: 0 0 20px 0;
          letter-spacing: -0.5px;
        }
        
        .borrower-details {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }
        
        .detail-item {
          display: flex;
          align-items: center;
          gap: 12px;
          font-size: 14px;
          color: #6c757d;
          font-weight: 500;
          padding: 8px 0;
        }
        
        .detail-item svg {
          color: #adb5bd;
        }
        
        .empty-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 80px 32px;
          text-align: center;
          color: #6c757d;
        }
        
        .empty-state svg {
          opacity: 0.3;
          margin-bottom: 24px;
        }
        
        .empty-state h3 {
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 12px 0;
          color: #495057;
        }
        
        .empty-state p {
          margin: 0;
          font-size: 16px;
          max-width: 400px;
          line-height: 1.5;
        }
        
        /* Add Modal */
        .add-modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.8);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1100;
          padding: 20px;
          animation: fadeIn 0.3s ease;
        }
        
        .add-modal {
          background: #FFFFFF;
          border-radius: 24px;
          width: 100%;
          max-width: 700px;
          max-height: 90vh;
          overflow-y: auto;
          box-shadow: 
            0 32px 64px rgba(0, 0, 0, 0.3),
            0 16px 32px rgba(0, 0, 0, 0.2);
          animation: slideUp 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        .add-modal-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 28px 32px;
          border-bottom: 1px solid rgba(0, 0, 0, 0.1);
          background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }
        
        .add-modal-header h3 {
          font-size: 24px;
          font-weight: 800;
          color: #2c3e50;
          margin: 0;
        }
        
        .modal-close {
          background: rgba(108, 117, 125, 0.1);
          border: none;
          cursor: pointer;
          padding: 12px;
          border-radius: 12px;
          color: #6c757d;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .modal-close:hover {
          background: rgba(108, 117, 125, 0.2);
          color: #495057;
          transform: scale(1.1);
        }
        
        .add-form {
          padding: 32px;
        }
        
        .form-section {
          margin-bottom: 32px;
        }
        
        .form-label {
          display: block;
          font-size: 15px;
          font-weight: 700;
          color: #2c3e50;
          margin-bottom: 12px;
          letter-spacing: 0.3px;
        }
        
        .type-selector {
          display: flex;
          gap: 16px;
        }
        
        .type-button {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 20px 24px;
          border: 2px solid #e9ecef;
          border-radius: 16px;
          background: #FFFFFF;
          color: #6c757d;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          font-size: 15px;
          font-weight: 600;
          flex: 1;
          justify-content: center;
        }
        
        .type-button:hover {
          border-color: #3E5C49;
          color: #3E5C49;
          transform: translateY(-2px);
          box-shadow: 0 8px 20px rgba(102, 126, 234, 0.15);
        }
        
        .type-button.active {
          border-color: #3E5C49;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #FFFFFF;
          transform: translateY(-2px);
          box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }
        
        .form-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 24px;
          margin-bottom: 32px;
        }
        
        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }
        
        .form-group.span-full {
          grid-column: 1 / -1;
        }
        
        .form-input {
          width: 100%;
          padding: 16px 20px;
          border: 2px solid #e9ecef;
          border-radius: 12px;
          font-size: 15px;
          background: #FFFFFF;
          color: #2c3e50;
          transition: all 0.3s ease;
          font-weight: 500;
        }
        
        .form-input:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
          transform: translateY(-1px);
        }
        
        .form-input.error {
          border-color: #f5576c;
          background: rgba(245, 87, 108, 0.05);
        }
        
        .error-text {
          font-size: 13px;
          color: #f5576c;
          font-weight: 600;
          margin-top: 4px;
        }
        
        .form-actions {
          display: flex;
          gap: 16px;
          justify-content: flex-end;
          padding-top: 32px;
          border-top: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .btn-secondary {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 14px 28px;
          background: #f8f9fa;
          color: #6c757d;
          border: 2px solid #e9ecef;
          border-radius: 12px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
        }
        
        .btn-secondary:hover:not(:disabled) {
          background: #e9ecef;
          color: #495057;
          transform: translateY(-1px);
        }
        
        .btn-primary:disabled,
        .btn-secondary:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
          .borrowers-modal {
            margin: 12px;
            border-radius: 20px;
            max-height: 95vh;
          }
          
          .modal-header {
            padding: 24px 20px;
            flex-direction: column;
            gap: 16px;
            text-align: center;
          }
          
          .modal-title {
            font-size: 24px;
          }
          
          .stats-section {
            padding: 20px;
            flex-direction: column;
            gap: 16px;
          }
          
          .controls-section {
            padding: 20px;
            flex-direction: column;
            gap: 16px;
            align-items: stretch;
          }
          
          .controls-right {
            justify-content: space-between;
          }
          
          .borrowers-content {
            padding: 20px;
          }
          
          .borrowers-grid {
            grid-template-columns: 1fr;
            gap: 20px;
          }
          
          .form-grid {
            grid-template-columns: 1fr;
            gap: 20px;
          }
          
          .type-selector {
            flex-direction: column;
          }
          
          .form-actions {
            flex-direction: column-reverse;
          }
          
          .btn-primary,
          .btn-secondary {
            width: 100%;
            justify-content: center;
          }
        }
        
        @media (max-width: 480px) {
          .add-modal {
            margin: 12px;
            border-radius: 20px;
          }
          
          .add-modal-header,
          .add-form {
            padding: 24px 20px;
          }
          
          .borrower-card {
            border-radius: 16px;
          }
          
          .card-header,
          .card-content {
            padding: 20px;
          }
          
          .modal-header {
            padding: 20px;
          }
          
          .stats-section,
          .controls-section,
          .borrowers-content {
            padding: 16px;
          }
        }
        
        /* Scrollbar personnalisé */
        .borrowers-content::-webkit-scrollbar,
        .add-modal::-webkit-scrollbar {
          width: 8px;
        }
        
        .borrowers-content::-webkit-scrollbar-track,
        .add-modal::-webkit-scrollbar-track {
          background: #f1f3f4;
          border-radius: 4px;
        }
        
        .borrowers-content::-webkit-scrollbar-thumb,
        .add-modal::-webkit-scrollbar-thumb {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          border-radius: 4px;
        }
        
        .borrowers-content::-webkit-scrollbar-thumb:hover,
        .add-modal::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(135deg, #2E453A 0%, #3E5C49 100%);
        }
        
        /* États de synchronisation */
        .sync-status {
          position: absolute;
          top: 16px;
          right: 16px;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        
        .sync-status.synced {
          background: rgba(40, 167, 69, 0.1);
          color: #28a745;
          border: 1px solid rgba(40, 167, 69, 0.2);
        }
        
        .sync-status.pending {
          background: rgba(255, 193, 7, 0.1);
          color: #ffc107;
          border: 1px solid rgba(255, 193, 7, 0.2);
        }
        
        .sync-status.error {
          background: rgba(220, 53, 69, 0.1);
          color: #dc3545;
          border: 1px solid rgba(220, 53, 69, 0.2);
        }
        
        /* Animation de chargement */
        .loading-spinner {
          display: inline-block;
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-radius: 50%;
          border-top-color: #FFFFFF;
          animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        
        /* Effet de focus amélioré */
        .form-input:focus,
        .search-input:focus,
        .filter-select:focus {
          border-color: #3E5C49;
          box-shadow: 
            0 0 0 3px rgba(102, 126, 234, 0.1),
            0 4px 12px rgba(102, 126, 234, 0.15);
          transform: translateY(-1px);
        }
        
        /* Amélioration des tooltips */
        .action-btn[title]:hover::after {
          content: attr(title);
          position: absolute;
          bottom: -35px;
          left: 50%;
          transform: translateX(-50%);
          background: rgba(0, 0, 0, 0.8);
          color: white;
          padding: 6px 10px;
          border-radius: 6px;
          font-size: 12px;
          white-space: nowrap;
          z-index: 1000;
          animation: fadeIn 0.2s ease;
        }
        
        .action-btn[title]:hover::before {
          content: '';
          position: absolute;
          bottom: -8px;
          left: 50%;
          transform: translateX(-50%);
          border-left: 5px solid transparent;
          border-right: 5px solid transparent;
          border-bottom: 5px solid rgba(0, 0, 0, 0.8);
          z-index: 1000;
        }
        
        /* Indicateur de validation */
        .form-input.valid {
          border-color: #28a745;
          background: rgba(40, 167, 69, 0.05);
        }
        
        .form-input.valid:focus {
          border-color: #28a745;
          box-shadow: 
            0 0 0 3px rgba(40, 167, 69, 0.1),
            0 4px 12px rgba(40, 167, 69, 0.15);
        }
        
        /* Messages de succès */
        .success-message {
          background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
          color: white;
          padding: 12px 20px;
          border-radius: 12px;
          margin-bottom: 20px;
          font-weight: 600;
          display: flex;
          align-items: center;
          gap: 10px;
          animation: slideDown 0.3s ease;
        }
        
        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        /* Amélioration des états vides */
        .empty-state {
          background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
          border-radius: 20px;
          margin: 20px;
          padding: 60px 40px;
          animation: fadeIn 0.5s ease;
        }
        
        /* Indicateurs de statut dans les cartes */
        .borrower-card {
          position: relative;
        }
        
        .borrower-card .sync-indicator {
          position: absolute;
          top: 20px;
          right: 20px;
          width: 12px;
          height: 12px;
          border-radius: 50%;
          border: 2px solid white;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .borrower-card .sync-indicator.synced {
          background: #28a745;
        }
        
        .borrower-card .sync-indicator.pending {
          background: #ffc107;
          animation: pulse 2s infinite;
        }
        
        .borrower-card .sync-indicator.error {
          background: #dc3545;
        }
        
        @keyframes pulse {
          0% {
            transform: scale(1);
            opacity: 1;
          }
          50% {
            transform: scale(1.1);
            opacity: 0.7;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }
        
        /* Effet de survol sur les cartes de statistiques */
        .stat-card:hover .stat-icon {
          transform: scale(1.1) rotate(5deg);
        }
        
        .stat-card:hover .stat-value {
          transform: scale(1.05);
        }
        
        /* Amélioration du modal overlay */
        .add-modal-overlay {
          animation: fadeInBackdrop 0.3s ease;
        }
        
        @keyframes fadeInBackdrop {
          from {
            opacity: 0;
            backdrop-filter: blur(0px);
          }
          to {
            opacity: 1;
            backdrop-filter: blur(8px);
          }
        }
        
        /* Effet de typing pour les placeholders */
        .search-input::placeholder,
        .form-input::placeholder {
          color: #adb5bd;
          font-style: italic;
          transition: all 0.3s ease;
        }
        
        .search-input:focus::placeholder,
        .form-input:focus::placeholder {
          opacity: 0.7;
          transform: translateX(10px);
        }
        
        /* Amélioration du focus trap */
        .borrowers-modal:focus-within {
          outline: none;
        }
        
        /* État de chargement pour les boutons */
        .btn-primary:disabled {
          background: linear-gradient(135deg, #adb5bd 0%, #6c757d 100%);
          cursor: not-allowed;
          transform: none;
        }
        
        .btn-primary:disabled .loading-spinner {
          margin-right: 8px;
        }
        
        /* Responsive amélioré pour très petits écrans */
        @media (max-width: 360px) {
          .borrowers-overlay {
            padding: 8px;
          }
          
          .borrowers-modal {
            border-radius: 16px;
          }
          
          .modal-header {
            padding: 16px;
          }
          
          .modal-title {
            font-size: 20px;
          }
          
          .header-icon {
            width: 48px;
            height: 48px;
          }
          
          .stat-card {
            padding: 16px;
            gap: 12px;
          }
          
          .stat-icon {
            width: 40px;
            height: 40px;
          }
          
          .stat-value {
            font-size: 24px;
          }
          
          .add-modal {
            border-radius: 16px;
          }
          
          .type-button {
            padding: 16px;
            font-size: 14px;
          }
        }
        
        /* Mode sombre (optionnel) */
        @media (prefers-color-scheme: dark) {
          .borrowers-modal {
            background: #1a1a1a;
            color: #ffffff;
            border-color: rgba(255, 255, 255, 0.1);
          }
          
          .modal-header {
            background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
          }
          
          .stats-section {
            background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
          }
          
          .stat-card {
            background: #2d3748;
            border-color: rgba(255, 255, 255, 0.1);
          }
          
          .borrower-card {
            background: #2d3748;
            border-color: rgba(255, 255, 255, 0.1);
          }
          
          .form-input,
          .search-input,
          .filter-select {
            background: #2d3748;
            border-color: rgba(255, 255, 255, 0.2);
            color: #ffffff;
          }
          
          .add-modal {
            background: #1a1a1a;
          }
        }
      ` })] }));
}
;


/***/ }),

/***/ "./src/renderer/components/Dashboard.tsx":
/*!***********************************************!*\
  !*** ./src/renderer/components/Dashboard.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Dashboard: () => (/* binding */ Dashboard)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/plus.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/search.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/printer.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/activity.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/arrow-right.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trending-up.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/calendar.mjs");
/* harmony import */ var _PrintManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PrintManager */ "./src/renderer/components/PrintManager.tsx");
/* harmony import */ var _EnhancedStats__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./EnhancedStats */ "./src/renderer/components/EnhancedStats.tsx");
/* harmony import */ var _SmartSearch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SmartSearch */ "./src/renderer/components/SmartSearch.tsx");
/* harmony import */ var _AnimatedBackground__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AnimatedBackground */ "./src/renderer/components/AnimatedBackground.tsx");
/* harmony import */ var _MicroInteractions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./MicroInteractions */ "./src/renderer/components/MicroInteractions.tsx");








const Dashboard = ({ stats, onNavigate, documents = [], categories = [] }) => {
    const [showPrintManager, setShowPrintManager] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const heroActions = [
        {
            title: 'Ajouter un document',
            description: 'Enrichissez votre collection',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"],
            action: () => onNavigate('add-document'),
            primary: true
        },
        {
            title: 'Parcourir la collection',
            description: 'Explorer tous les documents',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"],
            action: () => onNavigate('documents'),
            primary: false
        }
    ];
    const quickActions = [
        {
            title: 'Collection complète',
            description: `${stats.totalDocuments} documents disponibles`,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"],
            action: () => onNavigate('documents'),
            color: '#3E5C49'
        },
        {
            title: 'Gérer les emprunts',
            description: `${stats.borrowedDocuments} document(s) emprunté(s)`,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"],
            action: () => onNavigate('borrowed'),
            color: '#C2571B',
            badge: stats.borrowedDocuments > 0
        },
        {
            title: 'Rapports & Export',
            description: 'Imprimer les inventaires',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"],
            action: () => setShowPrintManager(true),
            color: '#6E6E6E'
        }
    ];
    const mainStats = [
        {
            title: 'Total des documents',
            value: stats.totalDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"],
            color: '#3E5C49',
            trend: '+2 ce mois'
        },
        {
            title: 'Disponibles',
            value: stats.availableDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"],
            color: '#3E5C49',
            percentage: stats.totalDocuments > 0 ? ((stats.availableDocuments / stats.totalDocuments) * 100).toFixed(0) : 0
        },
        {
            title: 'Empruntés',
            value: stats.borrowedDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"],
            color: '#C2571B',
            percentage: stats.totalDocuments > 0 ? ((stats.borrowedDocuments / stats.totalDocuments) * 100).toFixed(0) : 0
        },
        {
            title: 'Auteurs',
            value: stats.totalAuthors,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"],
            color: '#6E6E6E',
            trend: 'Actifs'
        }
    ];
    const recentActivity = [
        {
            type: 'add',
            title: 'Nouveau document ajouté',
            description: 'Les Misérables par Victor Hugo',
            time: 'Il y a 2 heures',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"]
        },
        {
            type: 'borrow',
            title: 'Document emprunté',
            description: 'Fondation par Isaac Asimov',
            time: 'Il y a 1 jour',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"]
        },
        {
            type: 'return',
            title: 'Document rendu',
            description: 'L\'Étranger par Albert Camus',
            time: 'Il y a 2 jours',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"]
        }
    ];
    const borrowRate = stats.totalDocuments > 0 ? (stats.borrowedDocuments / stats.totalDocuments * 100).toFixed(1) : 0;
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "dashboard", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_AnimatedBackground__WEBPACK_IMPORTED_MODULE_5__.AnimatedBackground, { variant: "books", intensity: "low" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hero-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { className: "hero-title", children: "Bienvenue dans votre biblioth\u00E8que" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "hero-subtitle", children: ["G\u00E9rez votre collection de ", stats.totalDocuments, " documents avec facilit\u00E9 et \u00E9l\u00E9gance"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hero-search", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_SmartSearch__WEBPACK_IMPORTED_MODULE_4__.SmartSearch, { onSearch: (query, filters) => {
                                            console.log('Recherche:', query, filters);
                                            onNavigate('documents');
                                        }, data: documents, placeholder: "Rechercher un document, auteur, cat\u00E9gorie..." }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hero-actions", children: heroActions.map((action, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `hero-button ${action.primary ? 'primary' : 'secondary'}`, onClick: action.action, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(action.icon, { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: action.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 16 })] }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hero-visual", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "floating-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "card-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Collection" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "card-stats", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-number", children: stats.totalDocuments }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Documents" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-number", children: stats.borrowedDocuments }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Emprunt\u00E9s" })] })] })] }) })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "dashboard-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stats-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "section-title", children: "Vue d'ensemble" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-subtitle", children: "Statistiques avanc\u00E9es de votre biblioth\u00E8que" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_EnhancedStats__WEBPACK_IMPORTED_MODULE_3__.EnhancedStats, { stats: stats })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "dashboard-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "quick-actions-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-header", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Actions rapides" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "actions-grid", children: quickActions.map((action, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "action-card card-elevated", onClick: action.action, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-icon", style: { backgroundColor: action.color }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(action.icon, { size: 20 }), action.badge && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "action-badge" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "action-title", children: action.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "action-description", children: action.description })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 16, className: "action-arrow" })] }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "progress-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-header", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Utilisation" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "progress-card card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "progress-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "progress-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "progress-label", children: "Taux d'emprunt" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "progress-value", children: [borrowRate, "%"] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-bar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-fill", style: { width: `${borrowRate}%` } }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "progress-metrics", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "metric", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Tendance stable" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "metric", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Mis \u00E0 jour maintenant" })] })] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Activit\u00E9 r\u00E9cente" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_6__.MicroButton, { variant: "secondary", size: "small", icon: lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], children: "Voir tout" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_6__.MicroCard, { className: "activity-list", children: recentActivity.map((activity, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(activity.icon, { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-title", children: activity.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-description", children: activity.description })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-time", children: activity.time })] }, index))) })] })] }), showPrintManager && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_PrintManager__WEBPACK_IMPORTED_MODULE_2__.PrintManager, { documents: documents, stats: stats, onClose: () => setShowPrintManager(false) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-actions", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_6__.FloatingButton, { icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], onClick: () => onNavigate('add-document'), tooltip: "Ajouter un document", color: "#10B981" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .dashboard {
          height: 100%;
          overflow-y: auto;
          background: #FAF9F6;
        }
        
        .hero-section {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          padding: 48px 32px;
          position: relative;
          overflow: hidden;
        }
        
        .hero-section::before {
          content: '';
          position: absolute;
          top: 0;
          right: 0;
          width: 50%;
          height: 100%;
          background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="20" cy="20" r="1" fill="%23F3EED9" opacity="0.05"/><circle cx="60" cy="40" r="1" fill="%23F3EED9" opacity="0.03"/><circle cx="80" cy="80" r="1" fill="%23F3EED9" opacity="0.04"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
          opacity: 0.3;
        }
        
        .hero-content {
          display: grid;
          grid-template-columns: 1fr 300px;
          gap: 48px;
          align-items: center;
          max-width: 1200px;
          margin: 0 auto;
          position: relative;
          z-index: 1;
        }
        
        .hero-title {
          font-size: 36px;
          font-weight: 800;
          margin: 0 0 16px 0;
          line-height: 1.2;
          letter-spacing: -0.5px;
        }
        
        .hero-subtitle {
          font-size: 18px;
          color: rgba(243, 238, 217, 0.9);
          margin: 0 0 32px 0;
          line-height: 1.5;
        }

        .hero-search {
          margin: 0 0 32px 0;
          max-width: 600px;
        }
        
        .hero-actions {
          display: flex;
          gap: 16px;
          flex-wrap: wrap;
        }
        
        .hero-button {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px 24px;
          border: none;
          border-radius: 12px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          position: relative;
          overflow: hidden;
        }
        
        .hero-button.primary {
          background: #C2571B;
          color: #FFFFFF;
          border: 2px solid #C2571B;
        }
        
        .hero-button.primary:hover {
          background: #A8481A;
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);
          border-color: #A8481A;
        }
        
        .hero-button.secondary {
          background: rgba(255, 255, 255, 0.1);
          color: #FFFFFF;
          border: 2px solid rgba(255, 255, 255, 0.5);
          backdrop-filter: blur(10px);
        }
        
        .hero-button.secondary:hover {
          background: rgba(255, 255, 255, 0.2);
          transform: translateY(-2px);
          border-color: rgba(255, 255, 255, 0.8);
        }
        
        .hero-visual {
          display: flex;
          justify-content: center;
          align-items: center;
        }
        
        .floating-card {
          background: rgba(243, 238, 217, 0.1);
          backdrop-filter: blur(10px);
          border: 1px solid rgba(243, 238, 217, 0.2);
          border-radius: 16px;
          padding: 24px;
          width: 100%;
          animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-10px); }
        }
        
        .card-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 20px;
          font-weight: 600;
          font-size: 16px;
        }
        
        .card-stats {
          display: flex;
          justify-content: space-between;
        }
        
        .stat {
          text-align: center;
        }
        
        .stat-number {
          display: block;
          font-size: 28px;
          font-weight: 800;
          line-height: 1;
          margin-bottom: 4px;
        }
        
        .stat-label {
          font-size: 12px;
          opacity: 0.8;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        
        .dashboard-content {
          padding: 32px;
          max-width: 1200px;
          margin: 0 auto;
        }
        
        .section-header {
          margin-bottom: 24px;
          display: flex;
          align-items: center;
          justify-content: space-between;
        }
        
        .section-title {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0;
          letter-spacing: -0.3px;
        }
        
        .section-subtitle {
          font-size: 14px;
          color: #6E6E6E;
          margin-top: 4px;
        }
        
        .stats-section {
          margin-bottom: 48px;
        }
        
        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
          gap: 24px;
        }
        
        .stat-card {
          padding: 24px;
          border-radius: 16px;
          background: #FFFFFF;
        }
        
        .stat-header {
          display: flex;
          align-items: flex-start;
          justify-content: space-between;
          margin-bottom: 16px;
        }
        
        .stat-icon {
          padding: 12px;
          background: rgba(62, 92, 73, 0.1);
          border-radius: 12px;
        }
        
        .stat-meta {
          text-align: right;
          font-size: 12px;
        }
        
        .stat-trend {
          color: #3E5C49;
          font-weight: 600;
        }
        
        .stat-percentage {
          color: #6E6E6E;
          font-weight: 600;
        }
        
        .stat-value {
          font-size: 32px;
          font-weight: 800;
          color: #2E2E2E;
          line-height: 1;
          margin-bottom: 8px;
        }
        
        .stat-title {
          font-size: 14px;
          color: #6E6E6E;
          font-weight: 500;
        }
        
        .dashboard-grid {
          display: grid;
          grid-template-columns: 2fr 1fr;
          gap: 32px;
          margin-bottom: 48px;
        }
        
        .actions-grid {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }
        
        .action-card {
          display: flex;
          align-items: center;
          gap: 20px;
          padding: 20px;
          background: #FFFFFF;
          border: 2px solid rgba(229, 220, 194, 0.4);
          border-radius: 16px;
          cursor: pointer;
          text-align: left;
          transition: all 0.3s ease;
          position: relative;
          color: #1A1A1A;
        }
        
        .action-card:hover {
          transform: translateX(4px);
          border-color: #3E5C49;
          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.15);
        }
        
        .action-icon {
          width: 48px;
          height: 48px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #FFFFFF;
          flex-shrink: 0;
          position: relative;
        }
        
        .action-badge {
          position: absolute;
          top: -4px;
          right: -4px;
          width: 12px;
          height: 12px;
          background: #C2571B;
          border-radius: 50%;
          border: 2px solid #FFFFFF;
          animation: pulse 2s infinite;
        }
        
        .action-content {
          flex: 1;
        }
        
        .action-title {
          font-size: 16px;
          font-weight: 600;
          color: #1A1A1A;
          margin-bottom: 4px;
        }
        
        .action-description {
          font-size: 14px;
          color: #4A4A4A;
        }
        
        .action-arrow {
          color: #4A4A4A;
          transition: transform 0.2s ease;
        }
        
        .action-card:hover .action-arrow {
          transform: translateX(4px);
          color: #3E5C49;
        }
        
        .progress-card {
          padding: 24px;
          background: #FFFFFF;
          border-radius: 16px;
        }
        
        .progress-item {
          margin-bottom: 20px;
        }
        
        .progress-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 12px;
        }
        
        .progress-label {
          font-size: 14px;
          font-weight: 500;
          color: #2E2E2E;
        }
        
        .progress-value {
          font-size: 18px;
          font-weight: 700;
          color: #3E5C49;
        }
        
        .progress-bar {
          width: 100%;
          height: 8px;
          background: #F3EED9;
          border-radius: 4px;
          overflow: hidden;
        }
        
        .progress-fill {
          height: 100%;
          background: linear-gradient(90deg, #3E5C49, #C2571B);
          transition: width 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .progress-metrics {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }
        
        .metric {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 12px;
          color: #6E6E6E;
        }
        
        .activity-list {
          background: #FFFFFF;
          border-radius: 16px;
          overflow: hidden;
        }
        
        .activity-item {
          display: flex;
          align-items: center;
          gap: 16px;
          padding: 20px;
          border-bottom: 1px solid #F3EED9;
        }
        
        .activity-item:last-child {
          border-bottom: none;
        }
        
        .activity-icon {
          width: 40px;
          height: 40px;
          background: #F3EED9;
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #3E5C49;
          flex-shrink: 0;
        }
        
        .activity-content {
          flex: 1;
        }
        
        .activity-title {
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
          margin-bottom: 4px;
        }
        
        .activity-description {
          font-size: 13px;
          color: #6E6E6E;
        }
        
        .activity-time {
          font-size: 12px;
          color: #6E6E6E;
          text-align: right;
        }
        
        .view-all-button {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 8px 16px;
          background: #F3EED9;
          border: none;
          border-radius: 8px;
          color: #3E5C49;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }
        
        .view-all-button:hover {
          background: #EAEADC;
          transform: translateY(-1px);
        }
        
        /* Responsive Design */
        @media (max-width: 1024px) {
          .hero-content {
            grid-template-columns: 1fr;
            gap: 32px;
            text-align: center;
          }
          
          .dashboard-grid {
            grid-template-columns: 1fr;
            gap: 24px;
          }
        }
        
        @media (max-width: 768px) {
          .hero-section {
            padding: 32px 16px;
          }
          
          .hero-title {
            font-size: 28px;
          }
          
          .hero-subtitle {
            font-size: 16px;
          }
          
          .hero-actions {
            justify-content: center;
          }
          
          .dashboard-content {
            padding: 16px;
          }
          
          .stats-grid {
            grid-template-columns: 1fr;
            gap: 16px;
          }
          
          .section-title {
            font-size: 20px;
          }
          
          .floating-card {
            padding: 16px;
          }
        }
        
        @media (max-width: 480px) {
          .hero-button {
            width: 100%;
            justify-content: center;
          }
          
          .action-card {
            padding: 16px;
          }
          
          .activity-item {
            padding: 16px;
          }
          
          .stat-card {
            padding: 16px;
          }
        }
        
        /* Floating Actions */
        .floating-actions {
          position: fixed;
          bottom: 24px;
          right: 24px;
          z-index: 1000;
        }
        
        @media (max-width: 768px) {
          .floating-actions {
            bottom: 80px;
            right: 16px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/DocumentList.tsx":
/*!**************************************************!*\
  !*** ./src/renderer/components/DocumentList.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DocumentList: () => (/* binding */ DocumentList)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/wifi.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/wifi-off.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/loader-2.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/plus.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/filter.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/search.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/tag.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/building.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/map-pin.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/calendar.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/hash.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/heart.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/pen-square.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trash-2.mjs");
/* harmony import */ var _ToastSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ToastSystem */ "./src/renderer/components/ToastSystem.tsx");




const DocumentList = ({ documents, onAdd, onEdit, onBorrow, onDelete, onRefresh, syncStatus, networkStatus }) => {
    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [selectedCategory, setSelectedCategory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('all');
    const [selectedSyncStatus, setSelectedSyncStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('all');
    const [filteredDocuments, setFilteredDocuments] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [viewMode, setViewMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('grid');
    const [selectedDocument, setSelectedDocument] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const toast = (0,_ToastSystem__WEBPACK_IMPORTED_MODULE_2__.useQuickToast)();
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        filterDocuments();
    }, [documents, searchTerm, selectedCategory, selectedSyncStatus]);
    const filterDocuments = () => {
        let filtered = documents;
        // Filtrage par terme de recherche
        if (searchTerm) {
            const term = searchTerm.toLowerCase();
            filtered = filtered.filter(doc => doc.titre.toLowerCase().includes(term) ||
                doc.auteur.toLowerCase().includes(term) ||
                doc.editeur.toLowerCase().includes(term) ||
                doc.descripteurs.toLowerCase().includes(term) ||
                doc.cote.toLowerCase().includes(term) ||
                (doc.isbn && doc.isbn.toLowerCase().includes(term)));
        }
        // Filtrage par catégorie (utilise les descripteurs)
        if (selectedCategory !== 'all') {
            filtered = filtered.filter(doc => doc.descripteurs.toLowerCase().includes(selectedCategory.toLowerCase()));
        }
        // Filtrage par statut de sync
        if (selectedSyncStatus !== 'all') {
            filtered = filtered.filter(doc => doc.syncStatus === selectedSyncStatus);
        }
        setFilteredDocuments(filtered);
    };
    const getUniqueCategories = () => {
        const categories = new Set();
        documents.forEach(doc => {
            doc.descripteurs.split(',').forEach(desc => {
                categories.add(desc.trim());
            });
        });
        return Array.from(categories).sort();
    };
    const getSyncStatusIcon = (status) => {
        switch (status) {
            case 'synced':
                return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { className: "sync-icon synced" });
            case 'pending':
                return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { className: "sync-icon pending" });
            case 'error':
                return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { className: "sync-icon error" });
            case 'conflict':
                return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { className: "sync-icon conflict" });
            default:
                return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { className: "sync-icon default" });
        }
    };
    const handleEdit = (document) => {
        onEdit(document);
        toast.info('Ouverture du formulaire de modification', `Pour "${document.titre}"`);
    };
    const handleBorrow = (document) => {
        if (onBorrow) {
            onBorrow(document);
            // Ne pas afficher de notification ici - elle sera affichée après confirmation dans le modal
        }
    };
    const handleDelete = (id) => {
        const document = documents.find(d => d.id === id);
        if (window.confirm('Êtes-vous sûr de vouloir supprimer ce document ?')) {
            onDelete(id);
            if (document) {
                toast.success('Document supprimé', `"${document.titre}" a été retiré de la collection`);
            }
        }
    };
    const handleView3D = (document) => {
        setSelectedDocument(document);
        toast.info('Vue 3D activée', `Exploration de "${document.titre}"`);
    };
    const getNetworkStatusDisplay = () => {
        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "network-status", children: [networkStatus.isOnline ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "status-item online", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 16 }), "En ligne"] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "status-item offline", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 16 }), "Hors ligne"] })), syncStatus.syncInProgress && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "status-item syncing", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16, className: "animate-spin" }), "Synchronisation..."] })), syncStatus.pendingOperations > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "status-item pending-ops", children: [syncStatus.pendingOperations, " en attente"] }))] }));
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-list-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "page-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-main", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 28 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { className: "page-title", children: "Biblioth\u00E8que Num\u00E9rique" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "page-subtitle", children: [filteredDocuments.length, " document", filteredDocuments.length !== 1 ? 's' : '', " dans votre collection"] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-actions", children: [getNetworkStatusDisplay(), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { onClick: onAdd, className: "add-button", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 18 }), "Nouveau document"] })] })] }), syncStatus.lastSync && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "sync-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 14 }), "Derni\u00E8re synchronisation: ", new Date(syncStatus.lastSync).toLocaleString('fr-FR')] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "scrollable-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filters-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "section-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Filtres et recherche" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filters-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-field search-field", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "filter-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 16 }), "Rechercher"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: searchTerm, onChange: (e) => setSearchTerm(e.target.value), className: "filter-input", placeholder: "Titre, auteur, \u00E9diteur, cote, ISBN..." })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-field", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "filter-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16 }), "Cat\u00E9gorie"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: selectedCategory, onChange: (e) => setSelectedCategory(e.target.value), className: "filter-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Toutes les cat\u00E9gories" }), getUniqueCategories().map(category => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: category, children: category }, category)))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-field", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "filter-label", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 16 }), "Statut sync"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: selectedSyncStatus, onChange: (e) => setSelectedSyncStatus(e.target.value), className: "filter-select", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tous les statuts" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "synced", children: "Synchronis\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "pending", children: "En attente" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "error", children: "Erreur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "conflict", children: "Conflit" })] })] })] })] }), filteredDocuments.length > 0 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "documents-grid", children: filteredDocuments.map((document) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-card", children: [document.couverture && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "document-cover", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img", { src: document.couverture, alt: `Couverture de ${document.titre}`, className: "cover-image", onError: (e) => {
                                            e.currentTarget.style.display = 'none';
                                        } }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-title-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "document-title", title: document.titre, children: document.titre }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "document-author", title: document.auteur, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 14 }), document.auteur] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-status", children: [getSyncStatusIcon(document.syncStatus), document.estEmprunte && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "borrowed-indicator", title: "Emprunt\u00E9" }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "detail-text", children: document.editeur })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "detail-text", children: document.lieuEdition })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "detail-text", children: document.annee })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "detail-text document-cote", children: document.cote })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item tags-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tags-container", children: [document.descripteurs.split(',').slice(0, 3).map((desc, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "tag-badge", title: desc.trim(), children: desc.trim() }, index))), document.descripteurs.split(',').length > 3 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "tags-more", children: ["+", document.descripteurs.split(',').length - 3] }))] })] })] }), document.description && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "document-description", title: document.description, children: document.description })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-footer", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-meta", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "version-info", children: ["v", document.version] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "date-info", children: new Date(document.lastModified).toLocaleDateString('fr-FR') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "document-actions", children: [onBorrow && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => handleBorrow(document), className: "action-button borrow-button", title: document.estEmprunte ? "Retourner" : "Emprunter", disabled: !document.estEmprunte && document.syncStatus === 'error', children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 16 }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => onEdit(document), className: "action-button edit-button", title: "Modifier", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_20__["default"], { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { onClick: () => document.id && onDelete(document.id), className: "action-button delete-button", title: "Supprimer", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_21__["default"], { size: 16 }) })] })] })] })] }, document.id))) })) : (
                    /* Message vide */
                    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "empty-state", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "empty-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 64 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "empty-title", children: searchTerm || selectedCategory !== 'all' || selectedSyncStatus !== 'all'
                                    ? 'Aucun document trouvé'
                                    : 'Votre bibliothèque est vide' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "empty-description", children: searchTerm || selectedCategory !== 'all' || selectedSyncStatus !== 'all'
                                    ? 'Essayez de modifier vos critères de recherche pour trouver ce que vous cherchez.'
                                    : 'Commencez par ajouter votre premier document pour enrichir votre collection.' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { onClick: onAdd, className: "empty-action-button", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 18 }), "Ajouter un document"] })] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .document-list-container {
          padding: 24px;
          background: linear-gradient(135deg, #F8F6F0 0%, #FFFFFF 100%);
          height: 100vh;
          display: flex;
          flex-direction: column;
          gap: 24px;
          overflow: hidden;
        }

        .scrollable-content {
          flex: 1;
          overflow-y: auto;
          display: flex;
          flex-direction: column;
          gap: 24px;
          padding-right: 8px;
        }

        .scrollable-content::-webkit-scrollbar {
          width: 8px;
        }

        .scrollable-content::-webkit-scrollbar-track {
          background: rgba(229, 220, 194, 0.2);
          border-radius: 4px;
        }

        .scrollable-content::-webkit-scrollbar-thumb {
          background: rgba(62, 92, 73, 0.3);
          border-radius: 4px;
        }

        .scrollable-content::-webkit-scrollbar-thumb:hover {
          background: rgba(62, 92, 73, 0.5);
        }

        /* En-tête principal */
        .page-header {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          border-radius: 20px;
          padding: 32px;
          color: #F3EED9;
          position: relative;
          overflow: hidden;
          box-shadow: 0 12px 32px rgba(62, 92, 73, 0.15);
        }

        .page-header::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: radial-gradient(circle at 80% 20%, rgba(243, 238, 217, 0.1) 0%, transparent 50%);
          pointer-events: none;
        }

        .header-content {
          display: flex;
          align-items: center;
          justify-content: space-between;
          position: relative;
          z-index: 1;
          gap: 24px;
        }

        .header-main {
          display: flex;
          align-items: center;
          gap: 20px;
        }

        .header-icon {
          width: 64px;
          height: 64px;
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          border-radius: 18px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);
        }

        .header-text {
          flex: 1;
        }

        .page-title {
          font-size: 28px;
          font-weight: 700;
          margin: 0 0 6px 0;
          line-height: 1.2;
          letter-spacing: -0.4px;
        }

        .page-subtitle {
          font-size: 16px;
          opacity: 0.9;
          margin: 0;
          font-weight: 400;
        }

        .header-actions {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .network-status {
          display: flex;
          align-items: center;
          gap: 12px;
          font-size: 14px;
        }

        .status-item {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 6px 12px;
          border-radius: 8px;
          background: rgba(243, 238, 217, 0.1);
          font-weight: 500;
        }

        .status-item.online { color: #10B981; }
        .status-item.offline { color: #EF4444; }
        .status-item.syncing { color: #3B82F6; }
        .status-item.pending-ops { color: #F59E0B; }

        .add-button {
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          color: #F3EED9;
          border: none;
          padding: 12px 20px;
          border-radius: 12px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 8px;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          box-shadow: 0 4px 16px rgba(194, 87, 27, 0.2);
        }

        .add-button:hover {
          background: linear-gradient(135deg, #A8481A 0%, #8A3C18 100%);
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);
        }

        .sync-info {
          display: flex;
          align-items: center;
          gap: 8px;
          margin-top: 16px;
          font-size: 13px;
          opacity: 0.8;
          position: relative;
          z-index: 1;
        }

        /* Section des filtres */
        .filters-section {
          background: #FFFFFF;
          border-radius: 16px;
          padding: 24px;
          border: 1px solid rgba(229, 220, 194, 0.3);
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.04);
        }

        .section-header {
          display: flex;
          align-items: center;
          gap: 16px;
          margin-bottom: 20px;
        }

        .section-icon {
          width: 40px;
          height: 40px;
          background: rgba(62, 92, 73, 0.1);
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #3E5C49;
        }

        .section-title {
          font-size: 18px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0;
        }

        .filters-grid {
          display: grid;
          grid-template-columns: 2fr 1fr 1fr;
          gap: 20px;
        }

        .filter-field {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .filter-field.search-field {
          position: relative;
        }

        .filter-label {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
        }

        .filter-input,
        .filter-select {
          padding: 12px 16px;
          border: 2px solid #B8A678;
          border-radius: 8px;
          font-size: 14px;
          background: #FFFFFF;
          color: #1A1A1A;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          box-sizing: border-box;
        }

        .filter-input:focus,
        .filter-select:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.25);
          background: #FEFEFE;
        }

        /* Grille des documents */
        .documents-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
          gap: 24px;
        }

        .document-card {
          background: #FFFFFF;
          border-radius: 16px;
          overflow: hidden;
          border: 1px solid rgba(229, 220, 194, 0.3);
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.04);
          display: flex;
          flex-direction: column;
        }

        .document-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 12px 32px rgba(0, 0, 0, 0.1);
          border-color: rgba(62, 92, 73, 0.2);
        }

        .document-cover {
          height: 200px;
          background: linear-gradient(135deg, #F8F6F0 0%, #E5DCC2 100%);
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: hidden;
        }

        .cover-image {
          width: 100%;
          height: 100%;
          object-fit: cover;
          transition: transform 0.3s ease;
        }

        .document-card:hover .cover-image {
          transform: scale(1.05);
        }

        .document-content {
          padding: 20px;
          display: flex;
          flex-direction: column;
          gap: 16px;
          flex: 1;
        }

        .document-header {
          display: flex;
          align-items: flex-start;
          justify-content: space-between;
          gap: 12px;
        }

        .document-title-section {
          flex: 1;
          min-width: 0;
        }

        .document-title {
          font-size: 16px;
          font-weight: 600;
          color: #1A1A1A;
          margin: 0 0 6px 0;
          line-height: 1.3;
          overflow: hidden;
          text-overflow: ellipsis;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
        }

        .document-author {
          font-size: 14px;
          color: #4A4A4A;
          margin: 0;
          display: flex;
          align-items: center;
          gap: 6px;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }

        .document-status {
          display: flex;
          align-items: center;
          gap: 8px;
          flex-shrink: 0;
        }

        .sync-icon {
          width: 16px;
          height: 16px;
        }

        .sync-icon.synced { color: #10B981; }
        .sync-icon.pending { color: #F59E0B; }
        .sync-icon.error { color: #EF4444; }
        .sync-icon.conflict { color: #F97316; }
        .sync-icon.default { color: #6B7280; }

        .borrowed-indicator {
          width: 8px;
          height: 8px;
          background: #F97316;
          border-radius: 50%;
        }

        .document-details {
          display: flex;
          flex-direction: column;
          gap: 10px;
        }

        .detail-item {
          display: flex;
          align-items: flex-start;
          gap: 8px;
          font-size: 13px;
          color: #4A4A4A;
          min-height: 20px;
        }

        .detail-item svg {
          flex-shrink: 0;
          margin-top: 1px;
        }

        .detail-text {
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
          flex: 1;
        }

        .document-cote {
          font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
          font-size: 12px;
          font-weight: 500;
        }

        .tags-item {
          align-items: flex-start;
        }

        .tags-container {
          display: flex;
          flex-wrap: wrap;
          gap: 6px;
          flex: 1;
        }

        .tag-badge {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
          font-size: 11px;
          padding: 4px 8px;
          border-radius: 12px;
          font-weight: 500;
          max-width: 80px;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }

        .tags-more {
          font-size: 11px;
          color: #9CA3AF;
          font-weight: 500;
        }

        .document-description {
          font-size: 13px;
          color: #4A4A4A;
          line-height: 1.4;
          margin: 0;
          overflow: hidden;
          text-overflow: ellipsis;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
        }

        .document-footer {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding-top: 16px;
          border-top: 1px solid rgba(229, 220, 194, 0.3);
          margin-top: auto;
        }

        .document-meta {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 11px;
          color: #9CA3AF;
        }

        .version-info {
          font-weight: 600;
        }

        .document-actions {
          display: flex;
          gap: 8px;
        }

        .action-button {
          width: 32px;
          height: 32px;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .edit-button {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }

        .edit-button:hover {
          background: rgba(62, 92, 73, 0.2);
          transform: translateY(-1px);
        }

        .delete-button {
          background: rgba(239, 68, 68, 0.1);
          color: #EF4444;
        }

        .delete-button:hover {
          background: rgba(239, 68, 68, 0.2);
          transform: translateY(-1px);
        }

        .borrow-button {
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
        }

        .borrow-button:hover:not(:disabled) {
          background: rgba(194, 87, 27, 0.2);
          transform: translateY(-1px);
        }

        .borrow-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        /* État vide */
        .empty-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          text-align: center;
          padding: 60px 20px;
          background: #FFFFFF;
          border-radius: 16px;
          border: 1px solid rgba(229, 220, 194, 0.3);
        }

        .empty-icon {
          width: 80px;
          height: 80px;
          background: rgba(62, 92, 73, 0.1);
          border-radius: 20px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #3E5C49;
          margin-bottom: 24px;
        }

        .empty-title {
          font-size: 20px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 12px 0;
        }

        .empty-description {
          font-size: 16px;
          color: #6E6E6E;
          margin: 0 0 32px 0;
          max-width: 480px;
          line-height: 1.5;
        }

        .empty-action-button {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          border: none;
          padding: 14px 28px;
          border-radius: 12px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 10px;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.2);
        }

        .empty-action-button:hover {
          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.3);
        }

        /* Animation de rotation */
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        .animate-spin {
          animation: spin 1s linear infinite;
        }

        /* Responsive */
        @media (max-width: 1024px) {
          .filters-grid {
            grid-template-columns: 1fr;
            gap: 16px;
          }

          .documents-grid {
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
          }
        }

        @media (max-width: 768px) {
          .document-list-container {
            padding: 16px;
            gap: 16px;
          }

          .page-header {
            padding: 24px;
          }

          .header-content {
            flex-direction: column;
            align-items: stretch;
            gap: 20px;
          }

          .header-main {
            flex-direction: column;
            text-align: center;
            gap: 16px;
          }

          .header-actions {
            justify-content: center;
            flex-wrap: wrap;
          }

          .network-status {
            justify-content: center;
            flex-wrap: wrap;
          }

          .filters-section {
            padding: 20px;
          }

          .documents-grid {
            grid-template-columns: 1fr;
            gap: 16px;
          }

          .document-card {
            border-radius: 12px;
          }

          .document-content {
            padding: 16px;
            gap: 12px;
          }

          .document-title {
            font-size: 15px;
          }

          .empty-state {
            padding: 40px 16px;
          }

          .empty-title {
            font-size: 18px;
          }

          .empty-description {
            font-size: 14px;
          }
        }

        @media (max-width: 480px) {
          .document-list-container {
            padding: 12px;
          }

          .page-header {
            padding: 20px;
            border-radius: 16px;
          }

          .header-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
          }

          .page-title {
            font-size: 24px;
          }

          .page-subtitle {
            font-size: 14px;
          }

          .add-button {
            padding: 10px 16px;
            font-size: 13px;
          }

          .section-title {
            font-size: 16px;
          }

          .filters-section {
            padding: 16px;
          }

          .document-cover {
            height: 160px;
          }

          .document-content {
            padding: 14px;
          }

          .document-title {
            font-size: 14px;
          }

          .document-author {
            font-size: 13px;
          }

          .detail-item {
            font-size: 12px;
          }

          .tag-badge {
            font-size: 10px;
            padding: 3px 6px;
            max-width: 60px;
          }

          .empty-state {
            padding: 32px 12px;
          }

          .empty-icon {
            width: 64px;
            height: 64px;
            border-radius: 16px;
            margin-bottom: 20px;
          }

          .empty-title {
            font-size: 16px;
          }

          .empty-description {
            font-size: 13px;
            margin-bottom: 24px;
          }

          .empty-action-button {
            padding: 12px 20px;
            font-size: 14px;
          }
        }

        /* États de focus pour accessibilité */
        .add-button:focus-visible,
        .empty-action-button:focus-visible,
        .action-button:focus-visible {
          outline: 2px solid #3E5C49;
          outline-offset: 2px;
        }

        .filter-input:focus-visible,
        .filter-select:focus-visible {
          outline: none;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.2);
        }

        /* Animation d'entrée pour les cartes */
        @keyframes cardSlideIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .document-card {
          animation: cardSlideIn 0.4s ease-out forwards;
        }

        .document-card:nth-child(1) { animation-delay: 0ms; }
        .document-card:nth-child(2) { animation-delay: 50ms; }
        .document-card:nth-child(3) { animation-delay: 100ms; }
        .document-card:nth-child(4) { animation-delay: 150ms; }
        .document-card:nth-child(5) { animation-delay: 200ms; }
        .document-card:nth-child(6) { animation-delay: 250ms; }

        /* Animation pour les filtres */
        .filters-section {
          animation: cardSlideIn 0.3s ease-out;
        }

        /* Amélioration du contraste pour l'accessibilité */
        @media (prefers-contrast: high) {
          .document-card {
            border: 2px solid #2E2E2E;
          }

          .tag-badge {
            background: #3E5C49;
            color: #FFFFFF;
          }

          .detail-item {
            color: #2E2E2E;
          }
        }

        /* Respect des préférences de mouvement réduit */
        @media (prefers-reduced-motion: reduce) {
          .document-card,
          .filters-section,
          .add-button,
          .empty-action-button,
          .action-button,
          .cover-image {
            animation: none;
            transition: none;
          }

          .animate-spin {
            animation: none;
          }
        }

        /* Dark mode support (optionnel) */
        @media (prefers-color-scheme: dark) {
          .document-list-container {
            background: linear-gradient(135deg, #1A1A1A 0%, #2D2D2D 100%);
          }

          .page-header {
            background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);
          }

          .filters-section,
          .document-card,
          .empty-state {
            background: #2D2D2D;
            border-color: rgba(255, 255, 255, 0.1);
          }

          .document-title,
          .section-title,
          .empty-title {
            color: #FFFFFF;
          }

          .document-author,
          .detail-item,
          .document-description,
          .empty-description {
            color: #B0B0B0;
          }

          .filter-input,
          .filter-select {
            background: #2D2D2D;
            border-color: rgba(255, 255, 255, 0.2);
            color: #FFFFFF;
          }

          .filter-label {
            color: #FFFFFF;
          }

          .tag-badge {
            background: rgba(62, 92, 73, 0.3);
            color: #A8D5BA;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/Donation.tsx":
/*!**********************************************!*\
  !*** ./src/renderer/components/Donation.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Donation: () => (/* binding */ Donation)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/coffee.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/heart.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/gift.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/star.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/smartphone.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/credit-card.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/arrow-left.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/code.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/sparkles.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/copy.mjs");



const Donation = ({ onClose }) => {
    const [selectedAmount, setSelectedAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1000);
    const [customAmount, setCustomAmount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [paymentMethod, setPaymentMethod] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('momo');
    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const predefinedAmounts = [
        { value: 500, label: '500 FCFA', icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], description: 'Un café pour le dev' },
        { value: 1000, label: '1 000 FCFA', icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], description: 'Petit soutien', popular: true },
        { value: 2500, label: '2 500 FCFA', icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], description: 'Généreux donateur' },
        { value: 5000, label: '5 000 FCFA', icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], description: 'Super supporter' }
    ];
    const paymentMethods = [
        {
            id: 'momo',
            name: 'Mobile Money',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"],
            networks: [
                { name: 'MTN MoMo', number: '+237 652 761 931', color: '#FFCC00' },
                { name: 'Orange Money', number: '+237 652 761 931', color: '#FF6600' }
            ]
        },
        {
            id: 'card',
            name: 'Carte bancaire',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"],
            description: 'Paiement sécurisé via PayPal ou Stripe',
            comingSoon: true
        }
    ];
    const handleCopy = async (text, type) => {
        try {
            await navigator.clipboard.writeText(text);
            setCopied(type);
            setTimeout(() => setCopied(null), 2000);
        }
        catch (err) {
            console.error('Erreur lors de la copie:', err);
        }
    };
    const finalAmount = selectedAmount || parseInt(customAmount) || 0;
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "donation-page", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hero-background", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hero-pattern" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "back-button", onClick: onClose, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Retour" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-main", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "hero-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 48 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "hero-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { className: "hero-title", children: "Soutenez le projet Biblioth\u00E8que" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "hero-subtitle", children: "Votre contribution aide \u00E0 maintenir et am\u00E9liorer ce syst\u00E8me de gestion de biblioth\u00E8que gratuit" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "impact-stats", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "impact-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "impact-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "impact-number", children: "500+" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "impact-label", children: "Biblioth\u00E8ques utilisatrices" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "impact-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "impact-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "impact-number", children: "10K+" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "impact-label", children: "Livres g\u00E9r\u00E9s" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "impact-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "impact-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "impact-number", children: "100%" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "impact-label", children: "Open Source" })] })] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "donation-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "section-title", children: "Choisir le montant" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "section-description", children: "Chaque contribution, m\u00EAme petite, fait une grande diff\u00E9rence pour le d\u00E9veloppement du projet" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "amounts-grid", children: predefinedAmounts.map((amount) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `amount-card ${selectedAmount === amount.value ? 'selected' : ''} ${amount.popular ? 'popular' : ''}`, onClick: () => {
                                        setSelectedAmount(amount.value);
                                        setCustomAmount('');
                                    }, children: [amount.popular && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "popular-badge", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 12 }), "Populaire"] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "amount-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(amount.icon, { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "amount-value", children: amount.label }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "amount-description", children: amount.description })] }, amount.value))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "custom-amount", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "custom-label", children: "Ou entrez un montant personnalis\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "custom-input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "number", value: customAmount, onChange: (e) => {
                                                    setCustomAmount(e.target.value);
                                                    setSelectedAmount(null);
                                                }, placeholder: "0", className: "custom-input", min: "100" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "currency", children: "FCFA" })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "section-title", children: "M\u00E9thode de paiement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "section-description", children: "Choisissez votre mode de paiement pr\u00E9f\u00E9r\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "payment-methods", children: paymentMethods.map((method) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `payment-method ${paymentMethod === method.id ? 'selected' : ''} ${method.comingSoon ? 'disabled' : ''}`, onClick: () => !method.comingSoon && setPaymentMethod(method.id), disabled: method.comingSoon, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "payment-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(method.icon, { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "payment-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "payment-name", children: method.name }), method.description && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "payment-description", children: method.description })), method.comingSoon && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "coming-soon-badge", children: "Bient\u00F4t disponible" }))] })] }, method.id))) })] }), finalAmount > 0 && paymentMethod === 'momo' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "section-title", children: "D\u00E9tails de paiement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "section-description", children: ["Utilisez les informations ci-dessous pour effectuer votre don de ", finalAmount.toLocaleString(), " FCFA"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "payment-networks", children: paymentMethods[0].networks?.map((network, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "network-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "network-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "network-indicator", style: { backgroundColor: network.color } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "network-name", children: network.name })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "network-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "detail-label", children: "Num\u00E9ro" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-value", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "phone-number", children: network.number }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "copy-button", onClick: () => handleCopy(network.number.replace(/\s/g, ''), `${network.name}-number`), children: copied === `${network.name}-number` ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16 })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16 })) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "detail-label", children: "Nom" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-value", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "CHEUDJEU TEFOYE CEDRIC BASILIO" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "copy-button", onClick: () => handleCopy('CHEUDJEU TEFOYE CEDRIC BASILIO', `${network.name}-name`), children: copied === `${network.name}-name` ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16 })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16 })) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "detail-label", children: "Montant" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-value amount-highlight", children: [finalAmount.toLocaleString(), " FCFA"] })] })] })] }, index))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "payment-note", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "note-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "note-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Merci pour votre soutien !" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Apr\u00E8s votre transfert, n'h\u00E9sitez pas \u00E0 me contacter pour confirmer votre don et recevoir un re\u00E7u si n\u00E9cessaire. Votre contribution sera utilis\u00E9e pour am\u00E9liorer et maintenir ce projet open source." })] })] })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "section-title", children: "Pourquoi faire un don ?" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "why-donate-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "why-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "why-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "D\u00E9veloppement continu" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Financer de nouvelles fonctionnalit\u00E9s et l'am\u00E9lioration du syst\u00E8me" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "why-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "why-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Gratuit pour tous" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Maintenir le projet accessible gratuitement pour toutes les biblioth\u00E8ques" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "why-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "why-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Support communautaire" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Fournir une assistance technique et des formations aux utilisateurs" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "why-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "why-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Innovation" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Int\u00E9grer les derni\u00E8res technologies pour une meilleure exp\u00E9rience" })] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .donation-page {
          height: 100%;
          overflow-y: auto;
          background: #FAF9F6;
        }
        
        .hero-section {
          position: relative;
          background: linear-gradient(135deg, #E91E63 0%, #C2185B 100%);
          color: #F3EED9;
          padding: 48px 32px;
          overflow: hidden;
        }
        
        .hero-background {
          position: absolute;
          inset: 0;
          overflow: hidden;
        }
        
        .hero-pattern {
          position: absolute;
          inset: 0;
          background-image: 
            radial-gradient(circle at 25% 25%, rgba(243, 238, 217, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
          animation: drift 20s ease-in-out infinite;
        }
        
        @keyframes drift {
          0%, 100% { transform: translate(0, 0) rotate(0deg); }
          33% { transform: translate(30px, -30px) rotate(1deg); }
          66% { transform: translate(-20px, 20px) rotate(-1deg); }
        }
        
        .hero-content {
          position: relative;
          z-index: 1;
          max-width: 1200px;
          margin: 0 auto;
        }
        
        .back-button {
          display: flex;
          align-items: center;
          gap: 8px;
          background: rgba(243, 238, 217, 0.15);
          border: 1px solid rgba(243, 238, 217, 0.3);
          color: #F3EED9;
          padding: 12px 20px;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.3s ease;
          font-size: 14px;
          font-weight: 500;
          margin-bottom: 32px;
          width: fit-content;
        }
        
        .back-button:hover {
          background: rgba(243, 238, 217, 0.25);
          transform: translateX(-4px);
        }
        
        .hero-main {
          display: flex;
          align-items: center;
          gap: 24px;
          margin-bottom: 40px;
          text-align: center;
          flex-direction: column;
        }
        
        .hero-icon {
          width: 96px;
          height: 96px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 24px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          animation: heartbeat 3s ease-in-out infinite;
        }
        
        .hero-title {
          font-size: 42px;
          font-weight: 800;
          margin: 0 0 16px 0;
          line-height: 1.2;
          letter-spacing: -0.5px;
        }
        
        .hero-subtitle {
          font-size: 20px;
          opacity: 0.9;
          margin: 0;
          line-height: 1.5;
          max-width: 600px;
        }
        
        .impact-stats {
          display: flex;
          justify-content: center;
          gap: 40px;
          flex-wrap: wrap;
        }
        
        .impact-item {
          display: flex;
          align-items: center;
          gap: 16px;
          background: rgba(243, 238, 217, 0.1);
          padding: 20px 24px;
          border-radius: 16px;
          backdrop-filter: blur(10px);
          border: 1px solid rgba(243, 238, 217, 0.2);
        }
        
        .impact-number {
          font-size: 24px;
          font-weight: 800;
          color: #F3EED9;
          display: block;
          line-height: 1;
        }
        
        .impact-label {
          font-size: 14px;
          color: rgba(243, 238, 217, 0.9);
          margin-top: 4px;
        }
        
        .donation-content {
          padding: 48px 32px;
          max-width: 1200px;
          margin: 0 auto;
        }
        
        .section {
          margin-bottom: 56px;
        }
        
        .section-title {
          font-size: 28px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 8px 0;
          letter-spacing: -0.3px;
        }
        
        .section-description {
          font-size: 16px;
          color: #6E6E6E;
          margin: 0 0 32px 0;
          line-height: 1.6;
        }
        
        .amounts-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 20px;
          margin-bottom: 32px;
        }
        
        .amount-card {
          background: #FFFFFF;
          border: 2px solid #E5DCC2;
          border-radius: 20px;
          padding: 24px;
          cursor: pointer;
          transition: all 0.3s ease;
          text-align: center;
          position: relative;
          overflow: hidden;
        }
        
        .amount-card:hover {
          border-color: #E91E63;
          transform: translateY(-4px);
          box-shadow: 0 12px 32px rgba(233, 30, 99, 0.15);
        }
        
        .amount-card.selected {
          border-color: #E91E63;
          background: rgba(233, 30, 99, 0.05);
          box-shadow: 0 8px 24px rgba(233, 30, 99, 0.2);
        }
        
        .amount-card.popular {
          border-color: #E91E63;
        }
        
        .popular-badge {
          position: absolute;
          top: -8px;
          left: 50%;
          transform: translateX(-50%);
          background: #E91E63;
          color: #FFFFFF;
          padding: 4px 12px;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 700;
          display: flex;
          align-items: center;
          gap: 4px;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        
        .amount-icon {
          width: 48px;
          height: 48px;
          background: rgba(233, 30, 99, 0.1);
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #E91E63;
          margin: 0 auto 16px;
        }
        
        .amount-value {
          font-size: 20px;
          font-weight: 700;
          color: #2E2E2E;
          margin-bottom: 8px;
        }
        
        .amount-description {
          font-size: 14px;
          color: #6E6E6E;
        }
        
        .custom-amount {
          background: #FFFFFF;
          border: 2px solid #E5DCC2;
          border-radius: 16px;
          padding: 24px;
        }
        
        .custom-label {
          display: block;
          font-size: 16px;
          font-weight: 600;
          color: #2E2E2E;
          margin-bottom: 12px;
        }
        
        .custom-input-group {
          display: flex;
          align-items: center;
          gap: 12px;
        }
        
        .custom-input {
          flex: 1;
          padding: 16px;
          border: 2px solid #E5DCC2;
          border-radius: 12px;
          font-size: 18px;
          font-weight: 600;
          text-align: right;
        }
        
        .custom-input:focus {
          outline: none;
          border-color: #E91E63;
        }
        
        .currency {
          font-size: 18px;
          font-weight: 600;
          color: #6E6E6E;
        }
        
        .payment-methods {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }
        
        .payment-method {
          display: flex;
          align-items: center;
          gap: 20px;
          background: #FFFFFF;
          border: 2px solid #E5DCC2;
          border-radius: 16px;
          padding: 20px 24px;
          cursor: pointer;
          transition: all 0.3s ease;
          text-align: left;
        }
        
        .payment-method.selected {
          border-color: #E91E63;
          background: rgba(233, 30, 99, 0.05);
        }
        
        .payment-method.disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }
        
        .payment-icon {
          width: 48px;
          height: 48px;
          background: rgba(233, 30, 99, 0.1);
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #E91E63;
        }
        
        .payment-content {
          flex: 1;
        }
        
        .payment-name {
          font-size: 18px;
          font-weight: 700;
          color: #2E2E2E;
          margin-bottom: 4px;
        }
        
        .payment-description {
          font-size: 14px;
          color: #6E6E6E;
        }
        
        .coming-soon-badge {
          background: #FFB400;
          color: #FFFFFF;
          padding: 2px 8px;
          border-radius: 8px;
          font-size: 11px;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          margin-top: 8px;
          display: inline-block;
        }
        
        .payment-networks {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 24px;
        }
        
        .network-card {
          background: #FFFFFF;
          border: 2px solid #E5DCC2;
          border-radius: 20px;
          padding: 24px;
          box-shadow: 0 4px 16px rgba(233, 30, 99, 0.1);
        }
        
        .network-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 20px;
        }
        
        .network-indicator {
          width: 12px;
          height: 12px;
          border-radius: 50%;
        }
        
        .network-name {
          font-size: 18px;
          font-weight: 700;
          color: #2E2E2E;
        }
        
        .network-details {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }
        
        .detail-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        
        .detail-label {
          font-size: 14px;
          font-weight: 600;
          color: #6E6E6E;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        
        .detail-value {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 16px;
          font-weight: 600;
          color: #2E2E2E;
        }
        
        .detail-value.amount-highlight {
          font-size: 20px;
          color: #E91E63;
          font-weight: 800;
        }
        
        .phone-number {
          font-family: 'Courier New', monospace;
          background: rgba(233, 30, 99, 0.1);
          padding: 4px 8px;
          border-radius: 6px;
        }
        
        .copy-button {
          background: #F3EED9;
          border: 1px solid #E5DCC2;
          color: #6E6E6E;
          padding: 6px;
          border-radius: 6px;
          cursor: pointer;
          transition: all 0.2s ease;
        }
        
        .copy-button:hover {
          background: #E91E63;
          color: #FFFFFF;
          border-color: #E91E63;
        }
        
        .payment-note {
          display: flex;
          gap: 16px;
          background: rgba(233, 30, 99, 0.05);
          border: 1px solid rgba(233, 30, 99, 0.2);
          border-radius: 16px;
          padding: 24px;
          margin-top: 32px;
        }
        
        .note-icon {
          width: 40px;
          height: 40px;
          background: #E91E63;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #FFFFFF;
          flex-shrink: 0;
        }
        
        .note-content h4 {
          font-size: 18px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 8px 0;
        }
        
        .note-content p {
          font-size: 14px;
          color: #6E6E6E;
          margin: 0;
          line-height: 1.6;
        }
        
        .why-donate-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 24px;
        }
        
        .why-card {
          background: #FFFFFF;
          border: 1px solid #E5DCC2;
          border-radius: 20px;
          padding: 28px;
          text-align: center;
          transition: all 0.3s ease;
        }
        
        .why-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 12px 32px rgba(233, 30, 99, 0.1);
          border-color: rgba(233, 30, 99, 0.3);
        }
        
        .why-icon {
          width: 56px;
          height: 56px;
          background: rgba(233, 30, 99, 0.1);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #E91E63;
          margin: 0 auto 20px;
        }
        
        .why-card h3 {
          font-size: 20px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 12px 0;
        }
        
        .why-card p {
          font-size: 14px;
          color: #6E6E6E;
          margin: 0;
          line-height: 1.6;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
          .hero-section {
            padding: 32px 16px;
          }
          
          .hero-title {
            font-size: 32px;
          }
          
          .hero-subtitle {
            font-size: 18px;
          }
          
          .impact-stats {
            flex-direction: column;
            gap: 16px;
          }
          
          .impact-item {
            justify-content: center;
          }
          
          .donation-content {
            padding: 32px 16px;
          }
          
          .amounts-grid {
            grid-template-columns: 1fr 1fr;
            gap: 16px;
          }
          
          .payment-networks {
            grid-template-columns: 1fr;
          }
          
          .why-donate-grid {
            grid-template-columns: 1fr;
          }
          
          .detail-item {
            flex-direction: column;
            align-items: stretch;
            gap: 8px;
          }
          
          .detail-value {
            justify-content: space-between;
          }
        }
        
        @media (max-width: 480px) {
          .hero-main {
            gap: 16px;
          }
          
          .hero-icon {
            width: 72px;
            height: 72px;
          }
          
          .hero-title {
            font-size: 28px;
          }
          
          .amounts-grid {
            grid-template-columns: 1fr;
          }
          
          .amount-card {
            padding: 20px;
          }
          
          .payment-method {
            padding: 16px 20px;
          }
          
          .network-card {
            padding: 20px;
          }
          
          .payment-note {
            flex-direction: column;
            gap: 12px;
            text-align: center;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/EnhancedAuthentication.tsx":
/*!************************************************************!*\
  !*** ./src/renderer/components/EnhancedAuthentication.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EnhancedAuthentication: () => (/* binding */ EnhancedAuthentication)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/wifi-off.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/log-in.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/building.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/hard-drive.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/mail.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/lock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye-off.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/key-round.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/shield.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/sparkles.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/map-pin.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/arrow-right.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/database.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/bar-chart-3.mjs");

// src/renderer/components/EnhancedAuthentication.tsx - Version simplifiée pour mode offline


const EnhancedAuthentication = ({ onLogin }) => {
    const [mode, setMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('login');
    const [step, setStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [success, setSuccess] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [showPassword, setShowPassword] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    // Données du formulaire de connexion
    const [loginData, setLoginData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => {
        // Charger les informations de dernière connexion
        try {
            const { LocalAuthService } = __webpack_require__(/*! ../services/LocalAuthService */ "./src/renderer/services/LocalAuthService.ts");
            const lastLogin = LocalAuthService.getLastLoginInfo();
            if (lastLogin) {
                return {
                    email: lastLogin.email,
                    password: lastLogin.password || '',
                    institutionCode: lastLogin.institutionCode
                };
            }
        }
        catch (error) {
            console.log('Impossible de charger les dernières informations de connexion');
        }
        return {
            email: '',
            password: '',
            institutionCode: ''
        };
    });
    // Données pour la création d'établissement
    const [institutionData, setInstitutionData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        name: '',
        type: 'library',
        city: '',
        adminEmail: '',
        adminPassword: '',
        adminFirstName: '',
        adminLastName: ''
    });
    const handleSubmit = async (e) => {
        e.preventDefault();
        setError('');
        setSuccess('');
        setIsLoading(true);
        try {
            if (mode === 'login') {
                await onLogin({
                    email: loginData.email,
                    password: loginData.password,
                    institutionCode: loginData.institutionCode,
                    mode: 'login'
                });
            }
            else if (mode === 'create_institution') {
                if (step === 2) {
                    await onLogin({
                        email: institutionData.adminEmail,
                        password: institutionData.adminPassword,
                        mode: 'create_institution',
                        userData: {
                            institution: institutionData,
                            admin: {
                                firstName: institutionData.adminFirstName,
                                lastName: institutionData.adminLastName
                            }
                        }
                    });
                }
            }
        }
        catch (err) {
            setError(err.message || 'Erreur de connexion');
        }
        finally {
            setIsLoading(false);
        }
    };
    const nextStep = () => {
        if (step === 1 && institutionData.name && institutionData.type && institutionData.city) {
            setStep(2);
        }
    };
    const previousStep = () => {
        if (step === 2) {
            setStep(1);
        }
    };
    const institutionTypes = [
        { value: 'school', label: 'École/Lycée', icon: '🏫' },
        { value: 'university', label: 'Université', icon: '🎓' },
        { value: 'library', label: 'Bibliothèque', icon: '📚' },
        { value: 'other', label: 'Autre', icon: '🏢' }
    ];
    const defaultCredentials = [
        { email: 'admin@local', password: 'admin', role: 'Administrateur' },
        { email: 'bibliothecaire@local', password: 'biblio', role: 'Bibliothécaire' },
        { email: 'test@local', password: 'test', role: 'Utilisateur' },
        { email: 'demo@demo', password: 'demo', role: 'Démo' }
    ];
    const handleQuickLogin = (email, password) => {
        setLoginData({
            email,
            password,
            institutionCode: 'BIBLIO2024' // Code par défaut pour les connexions rapides
        });
        setError('');
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "offline-auth", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "auth-background", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "pattern-overlay" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "floating-shapes", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "shape shape-1" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "shape shape-2" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "shape shape-3" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "auth-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "auth-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "app-logo", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "logo-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 32 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "logo-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { children: "Biblioth\u00E8que" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Gestion Locale" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "offline-badge", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Mode Hors Ligne" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "auth-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "auth-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "auth-tabs", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `tab ${mode === 'login' ? 'active' : ''}`, onClick: () => { setMode('login'); setStep(1); setError(''); }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Connexion" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `tab ${mode === 'create_institution' ? 'active' : ''}`, onClick: () => { setMode('create_institution'); setStep(1); setError(''); }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Nouvel \u00C9tablissement" })] })] }), error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "message error", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: error })] })), success && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "message success", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: success })] })), mode === 'login' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "login-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { children: "Connexion Locale" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Connectez-vous avec vos identifiants locaux" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form", { onSubmit: handleSubmit, className: "auth-form", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Email ou nom d'utilisateur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: loginData.email, onChange: (e) => setLoginData(prev => ({ ...prev, email: e.target.value })), placeholder: "admin@local", required: true, disabled: isLoading })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Mot de passe" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: showPassword ? 'text' : 'password', value: loginData.password, onChange: (e) => setLoginData(prev => ({ ...prev, password: e.target.value })), placeholder: "Votre mot de passe", required: true, disabled: isLoading }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", className: "toggle-password", onClick: () => setShowPassword(!showPassword), children: showPassword ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 18 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 18 }) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Code d'acc\u00E8s \u00E9tablissement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: loginData.institutionCode, onChange: (e) => setLoginData(prev => ({ ...prev, institutionCode: e.target.value })), placeholder: "Code d'acc\u00E8s de votre \u00E9tablissement", required: true, disabled: isLoading })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "submit", className: "submit-btn", disabled: !loginData.email || !loginData.password || !loginData.institutionCode || isLoading, children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "spinner" }), "Connexion..."] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 18 }), "Se connecter"] })) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "quick-login-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "divider", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Connexions rapides" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "quick-login-grid", children: defaultCredentials.map((cred, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "quick-login-btn", onClick: () => handleQuickLogin(cred.email, cred.password), disabled: isLoading, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "credential-icon", children: [cred.role === 'Administrateur' && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16 }), cred.role === 'Bibliothécaire' && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 16 }), cred.role === 'Utilisateur' && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 16 }), cred.role === 'Démo' && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 16 })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "credential-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "role", children: cred.role }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "email", children: cred.email })] })] }, index))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "login-hint", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { children: ["\uD83D\uDCA1 ", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Astuce :" }), " Cliquez sur une carte pour remplir automatiquement les champs"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "\uD83D\uDD10 Ou utilisez n'importe quel email avec le mot de passe \"demo\"" })] })] })] })), mode === 'create_institution' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "institution-section", children: [step === 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { children: "Nouvel \u00C9tablissement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Cr\u00E9ez votre \u00E9tablissement local" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form", { onSubmit: (e) => { e.preventDefault(); nextStep(); }, className: "auth-form", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Nom de l'\u00E9tablissement *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionData.name, onChange: (e) => setInstitutionData(prev => ({ ...prev, name: e.target.value })), placeholder: "Ma Biblioth\u00E8que", required: true, disabled: isLoading })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Type d'\u00E9tablissement *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "type-grid", children: institutionTypes.map((type) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "type-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "radio", name: "type", value: type.value, checked: institutionData.type === type.value, onChange: (e) => setInstitutionData(prev => ({ ...prev, type: e.target.value })), disabled: isLoading }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "type-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "type-icon", children: type.icon }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "type-label", children: type.label })] })] }, type.value))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Ville *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionData.city, onChange: (e) => setInstitutionData(prev => ({ ...prev, city: e.target.value })), placeholder: "Votre ville", required: true, disabled: isLoading })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { type: "submit", className: "submit-btn", disabled: !institutionData.name || !institutionData.type || !institutionData.city || isLoading, children: ["Continuer", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 18 })] })] })] })), step === 2 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { children: "Compte Administrateur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Cr\u00E9ez le compte administrateur principal" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form", { onSubmit: handleSubmit, className: "auth-form", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Pr\u00E9nom *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionData.adminFirstName, onChange: (e) => setInstitutionData(prev => ({ ...prev, adminFirstName: e.target.value })), placeholder: "Pr\u00E9nom", required: true, disabled: isLoading })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Nom *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionData.adminLastName, onChange: (e) => setInstitutionData(prev => ({ ...prev, adminLastName: e.target.value })), placeholder: "Nom", required: true, disabled: isLoading })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Email administrateur *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "email", value: institutionData.adminEmail, onChange: (e) => setInstitutionData(prev => ({ ...prev, adminEmail: e.target.value })), placeholder: "admin@monorganisation.com", required: true, disabled: isLoading })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Mot de passe *" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: showPassword ? 'text' : 'password', value: institutionData.adminPassword, onChange: (e) => setInstitutionData(prev => ({ ...prev, adminPassword: e.target.value })), placeholder: "Mot de passe s\u00E9curis\u00E9", required: true, disabled: isLoading, minLength: 3 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", className: "toggle-password", onClick: () => setShowPassword(!showPassword), children: showPassword ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 18 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 18 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("small", { children: "Minimum 3 caract\u00E8res" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "button", className: "back-btn", onClick: previousStep, disabled: isLoading, children: "Pr\u00E9c\u00E9dent" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { type: "submit", className: "submit-btn", disabled: !institutionData.adminFirstName || !institutionData.adminLastName ||
                                                                            !institutionData.adminEmail || !institutionData.adminPassword ||
                                                                            institutionData.adminPassword.length < 3 || isLoading, children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "spinner" }), "Cr\u00E9ation..."] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 18 }), "Cr\u00E9er l'\u00E9tablissement"] })) })] })] })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-indicator", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `step ${step >= 1 ? 'active' : ''}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "1" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "\u00C9tablissement" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "step-line" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `step ${step >= 2 ? 'active' : ''}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "2" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Administrateur" })] })] })] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-sidebar", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_20__["default"], { size: 32 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Base de donn\u00E9es locale" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Vos donn\u00E9es sont stock\u00E9es en s\u00E9curit\u00E9 sur votre ordinateur" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 32 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Fonctionne hors ligne" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Aucune connexion Internet requise pour utiliser l'application" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_21__["default"], { size: 32 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Gestion compl\u00E8te" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "G\u00E9rez vos livres, emprunts et utilisateurs facilement" })] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .offline-auth {
          min-height: 100vh;
          background: linear-gradient(135deg, #1e3a2e 0%, #2d5a45 50%, #1e3a2e 100%);
          position: relative;
          overflow-x: hidden;
        }

        .auth-background {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          overflow: hidden;
        }

        .pattern-overlay {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-image: 
            radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.05) 0%, transparent 50%);
          animation: drift 20s ease-in-out infinite;
        }

        @keyframes drift {
          0%, 100% { transform: translate(0, 0) rotate(0deg); }
          50% { transform: translate(20px, -20px) rotate(1deg); }
        }

        .floating-shapes {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          pointer-events: none;
        }

        .shape {
          position: absolute;
          background: rgba(255, 255, 255, 0.05);
          border-radius: 50%;
          animation: float 6s ease-in-out infinite;
        }

        .shape-1 {
          width: 100px;
          height: 100px;
          top: 20%;
          left: 10%;
          animation-delay: 0s;
        }

        .shape-2 {
          width: 60px;
          height: 60px;
          top: 60%;
          right: 15%;
          animation-delay: 2s;
        }

        .shape-3 {
          width: 80px;
          height: 80px;
          bottom: 30%;
          left: 20%;
          animation-delay: 4s;
        }

        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-20px); }
        }

        .auth-container {
          position: relative;
          z-index: 10;
          min-height: 100vh;
          display: flex;
          flex-direction: column;
          padding: 20px;
          max-width: 1400px;
          margin: 0 auto;
        }

        .auth-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 40px;
          padding: 0 20px;
        }

        .app-logo {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .logo-icon {
          width: 50px;
          height: 50px;
          background: rgba(255, 255, 255, 0.15);
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .logo-text h1 {
          margin: 0;
          color: white;
          font-size: 24px;
          font-weight: 700;
        }

        .logo-text span {
          color: rgba(255, 255, 255, 0.8);
          font-size: 14px;
        }

        .offline-badge {
          display: flex;
          align-items: center;
          gap: 8px;
          background: rgba(255, 152, 0, 0.2);
          color: #ffa726;
          padding: 8px 16px;
          border-radius: 20px;
          font-size: 14px;
          font-weight: 600;
          border: 1px solid rgba(255, 152, 0, 0.3);
        }

        .auth-content {
          display: flex;
          gap: 40px;
          flex: 1;
          align-items: flex-start;
        }

        .auth-card {
          flex: 1;
          background: white;
          border-radius: 20px;
          overflow: hidden;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
          max-width: 600px;
        }

        .auth-tabs {
          display: flex;
          background: #f8f9fa;
          border-bottom: 1px solid #e9ecef;
        }

        .tab {
          flex: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          padding: 20px;
          background: none;
          border: none;
          cursor: pointer;
          font-size: 16px;
          font-weight: 600;
          color: #6c757d;
          transition: all 0.2s ease;
        }

        .tab.active {
          background: white;
          color: #2d5a45;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .message {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px 24px;
          font-weight: 500;
          border-bottom: 1px solid #e9ecef;
        }

        .message.error {
          background: #ffeaea;
          color: #d32f2f;
        }

        .message.success {
          background: #e8f5e8;
          color: #2e7d32;
        }

        .section-header {
          text-align: center;
          padding: 32px 24px 24px;
          border-bottom: 1px solid #f1f3f4;
        }

        .section-header h2 {
          margin: 16px 0 8px;
          color: #2d5a45;
          font-size: 24px;
          font-weight: 700;
        }

        .section-header p {
          margin: 0;
          color: #6c757d;
          font-size: 16px;
        }

        .auth-form {
          padding: 32px 24px;
        }

        .form-group {
          margin-bottom: 24px;
        }

        .form-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
        }

        .form-group label {
          display: block;
          margin-bottom: 8px;
          font-weight: 600;
          color: #2d5a45;
          font-size: 14px;
        }

        .input-group {
          position: relative;
          display: flex;
          align-items: center;
        }

        .input-group svg {
          position: absolute;
          left: 16px;
          color: #6c757d;
          z-index: 2;
        }

        .input-group input {
          width: 100%;
          padding: 16px 16px 16px 48px;
          border: 2px solid #e9ecef;
          border-radius: 12px;
          font-size: 16px;
          transition: all 0.2s ease;
        }

        .input-group input:focus {
          outline: none;
          border-color: #2d5a45;
          box-shadow: 0 0 0 3px rgba(45, 90, 69, 0.1);
        }

        .input-group input:disabled {
          background: #f8f9fa;
          opacity: 0.7;
        }

        .toggle-password {
          position: absolute;
          right: 16px;
          background: none;
          border: none;
          cursor: pointer;
          color: #6c757d;
          padding: 4px;
          border-radius: 4px;
          transition: all 0.2s ease;
        }

        .toggle-password:hover {
          color: #2d5a45;
          background: rgba(45, 90, 69, 0.1);
        }

        .form-group small {
          display: block;
          margin-top: 4px;
          color: #6c757d;
          font-size: 12px;
        }

        .type-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 12px;
        }

        .type-card {
          display: block;
          cursor: pointer;
        }

        .type-card input {
          display: none;
        }

        .type-content {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
          padding: 20px 16px;
          border: 2px solid #e9ecef;
          border-radius: 12px;
          transition: all 0.2s ease;
          text-align: center;
        }

        .type-card input:checked + .type-content {
          border-color: #2d5a45;
          background: rgba(45, 90, 69, 0.05);
        }

        .type-content:hover {
          border-color: #2d5a45;
        }

        .type-icon {
          font-size: 24px;
        }

        .type-label {
          font-weight: 600;
          color: #2d5a45;
          font-size: 14px;
        }

        .submit-btn {
          width: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          background: linear-gradient(135deg, #2d5a45 0%, #1e3a2e 100%);
          color: white;
          border: none;
          padding: 16px 24px;
          border-radius: 12px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .submit-btn:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 8px 25px rgba(45, 90, 69, 0.3);
        }

        .submit-btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }

        .back-btn {
          background: #f8f9fa;
          color: #6c757d;
          border: 2px solid #e9ecef;
          padding: 12px 24px;
          border-radius: 12px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .back-btn:hover:not(:disabled) {
          background: #e9ecef;
          color: #495057;
        }

        .form-actions {
          display: flex;
          gap: 16px;
          margin-top: 24px;
        }

        .form-actions .submit-btn {
          flex: 1;
        }

        .spinner {
          width: 18px;
          height: 18px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-top: 2px solid white;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        .step-indicator {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 16px;
          padding: 24px;
          background: #f8f9fa;
          border-top: 1px solid #e9ecef;
        }

        .step {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
          opacity: 0.5;
          transition: opacity 0.3s ease;
        }

        .step.active {
          opacity: 1;
        }

        .step span {
          width: 32px;
          height: 32px;
          background: #e9ecef;
          color: #6c757d;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          font-size: 14px;
        }

        .step.active span {
          background: #2d5a45;
          color: white;
        }

        .step label {
          font-size: 12px;
          font-weight: 600;
          color: #6c757d;
          text-align: center;
        }

        .step-line {
          width: 40px;
          height: 2px;
          background: #e9ecef;
        }

        /* Connexions rapides */
        .quick-login-section {
          margin-top: 32px;
          padding-top: 24px;
          border-top: 1px solid #f1f3f4;
        }

        .divider {
          text-align: center;
          margin-bottom: 24px;
          position: relative;
        }

        .divider span {
          background: white;
          padding: 0 16px;
          color: #6c757d;
          font-size: 14px;
          font-weight: 600;
        }

        .divider::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 0;
          right: 0;
          height: 1px;
          background: #e9ecef;
          z-index: -1;
        }

        .quick-login-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 12px;
          margin-bottom: 20px;
        }

        .quick-login-btn {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px;
          background: #f8f9fa;
          border: 2px solid #e9ecef;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.2s ease;
          text-align: left;
        }

        .quick-login-btn:hover:not(:disabled) {
          border-color: #2d5a45;
          background: rgba(45, 90, 69, 0.05);
        }

        .quick-login-btn:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .credential-icon {
          width: 36px;
          height: 36px;
          background: #2d5a45;
          color: white;
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }

        .credential-info {
          display: flex;
          flex-direction: column;
          gap: 2px;
        }

        .credential-info .role {
          font-weight: 600;
          color: #2d5a45;
          font-size: 14px;
        }

        .credential-info .email {
          font-size: 12px;
          color: #6c757d;
        }

        .login-hint {
          background: rgba(45, 90, 69, 0.05);
          border: 1px solid rgba(45, 90, 69, 0.1);
          border-radius: 12px;
          padding: 16px;
          margin-top: 16px;
        }

        .login-hint p {
          margin: 0 0 8px 0;
          font-size: 14px;
          color: #2d5a45;
        }

        .login-hint p:last-child {
          margin-bottom: 0;
        }

        /* Sidebar d'informations */
        .info-sidebar {
          flex: 0 0 300px;
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .feature-card {
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 16px;
          padding: 24px;
          text-align: center;
          color: white;
          backdrop-filter: blur(10px);
        }

        .feature-card svg {
          margin-bottom: 16px;
          opacity: 0.9;
        }

        .feature-card h3 {
          margin: 0 0 12px 0;
          font-size: 18px;
          font-weight: 600;
        }

        .feature-card p {
          margin: 0;
          opacity: 0.8;
          font-size: 14px;
          line-height: 1.5;
        }

        /* Responsive */
        @media (max-width: 1024px) {
          .auth-content {
            flex-direction: column;
            align-items: center;
          }

          .info-sidebar {
            flex: none;
            max-width: 600px;
            width: 100%;
            flex-direction: row;
            overflow-x: auto;
          }

          .feature-card {
            flex: 0 0 250px;
          }
        }

        @media (max-width: 768px) {
          .auth-container {
            padding: 16px;
          }

          .auth-header {
            flex-direction: column;
            gap: 16px;
            margin-bottom: 24px;
            padding: 0;
          }

          .auth-content {
            gap: 24px;
          }

          .auth-card {
            max-width: none;
          }

          .form-row {
            grid-template-columns: 1fr;
          }

          .quick-login-grid {
            grid-template-columns: 1fr;
          }

          .type-grid {
            grid-template-columns: 1fr;
          }

          .info-sidebar {
            flex-direction: column;
          }

          .feature-card {
            flex: none;
          }

          .form-actions {
            flex-direction: column-reverse;
          }

          .tab {
            padding: 16px 12px;
            font-size: 14px;
          }

          .section-header {
            padding: 24px 16px 16px;
          }

          .auth-form {
            padding: 24px 16px;
          }
        }

        @media (max-width: 480px) {
          .auth-container {
            padding: 12px;
          }

          .logo-text h1 {
            font-size: 20px;
          }

          .offline-badge {
            font-size: 12px;
            padding: 6px 12px;
          }

          .section-header h2 {
            font-size: 20px;
          }

          .auth-form {
            padding: 20px 12px;
          }

          .input-group input {
            padding: 14px 14px 14px 44px;
            font-size: 14px;
          }

          .submit-btn {
            padding: 14px 20px;
            font-size: 14px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/EnhancedStats.tsx":
/*!***************************************************!*\
  !*** ./src/renderer/components/EnhancedStats.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EnhancedStats: () => (/* binding */ EnhancedStats)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/star.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/target.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trending-up.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/activity.mjs");



const AnimatedCounter = ({ end, duration = 2000, prefix = '', suffix = '' }) => {
    const [count, setCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        let startTime;
        const startCount = 0;
        const animate = (currentTime) => {
            if (!startTime)
                startTime = currentTime;
            const progress = Math.min((currentTime - startTime) / duration, 1);
            // Easing function for smooth animation
            const easeOutCubic = 1 - Math.pow(1 - progress, 3);
            const currentCount = Math.floor(startCount + (end - startCount) * easeOutCubic);
            setCount(currentCount);
            if (progress < 1) {
                requestAnimationFrame(animate);
            }
        };
        requestAnimationFrame(animate);
    }, [end, duration]);
    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: [prefix, count.toLocaleString(), suffix] });
};
const EnhancedStats = ({ stats, className = '' }) => {
    const [hoveredCard, setHoveredCard] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const statsData = [
        {
            id: 'total',
            title: 'Collection Totale',
            value: stats.totalDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"],
            color: '#3E5C49',
            gradient: 'linear-gradient(135deg, #3E5C49 0%, #4A6A55 100%)',
            description: 'Documents dans la bibliothèque',
            trend: '+12% ce mois',
            trendPositive: true
        },
        {
            id: 'available',
            title: 'Disponibles',
            value: stats.availableDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"],
            color: '#10B981',
            gradient: 'linear-gradient(135deg, #10B981 0%, #34D399 100%)',
            description: 'Prêts à être empruntés',
            percentage: stats.totalDocuments > 0 ? Math.round((stats.availableDocuments / stats.totalDocuments) * 100) : 0
        },
        {
            id: 'borrowed',
            title: 'En Circulation',
            value: stats.borrowedDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"],
            color: '#F59E0B',
            gradient: 'linear-gradient(135deg, #F59E0B 0%, #FBBF24 100%)',
            description: 'Actuellement empruntés',
            percentage: stats.totalDocuments > 0 ? Math.round((stats.borrowedDocuments / stats.totalDocuments) * 100) : 0
        },
        {
            id: 'borrowers',
            title: 'Emprunteurs Actifs',
            value: stats.totalBorrowers,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"],
            color: '#8B5CF6',
            gradient: 'linear-gradient(135deg, #8B5CF6 0%, #A78BFA 100%)',
            description: 'Membres enregistrés',
            breakdown: `${stats.totalStudents} étudiants, ${stats.totalStaff} personnel`
        },
        {
            id: 'authors',
            title: 'Auteurs',
            value: stats.totalAuthors,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"],
            color: '#EC4899',
            gradient: 'linear-gradient(135deg, #EC4899 0%, #F472B6 100%)',
            description: 'Auteurs dans la collection'
        },
        {
            id: 'categories',
            title: 'Catégories',
            value: stats.totalCategories,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"],
            color: '#06B6D4',
            gradient: 'linear-gradient(135deg, #06B6D4 0%, #22D3EE 100%)',
            description: 'Genres et classifications'
        }
    ];
    // Calculate library efficiency metrics
    const efficiency = {
        utilization: stats.totalDocuments > 0 ? Math.round((stats.borrowedDocuments / stats.totalDocuments) * 100) : 0,
        availability: stats.totalDocuments > 0 ? Math.round((stats.availableDocuments / stats.totalDocuments) * 100) : 0,
        activity: stats.totalBorrowers > 0 ? Math.round((stats.borrowedDocuments / stats.totalBorrowers) * 100) : 0
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `enhanced-stats ${className}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stats-grid", children: statsData.map((stat) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `stat-card ${hoveredCard === stat.id ? 'hovered' : ''}`, onMouseEnter: () => setHoveredCard(stat.id), onMouseLeave: () => setHoveredCard(null), style: {
                        '--card-gradient': stat.gradient,
                        '--card-color': stat.color
                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-card-bg" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(stat.icon, { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-trend", children: [stat.trend && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: `trend ${stat.trendPositive ? 'positive' : 'negative'}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 14 }), stat.trend] })), stat.percentage !== undefined && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "percentage", children: [stat.percentage, "%"] }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-value", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AnimatedCounter, { end: stat.value, duration: 1500 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-title", children: stat.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-description", children: stat.description }), stat.breakdown && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-breakdown", children: stat.breakdown }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-decoration", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(stat.icon, { size: 120 }) }) })] }, stat.id))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "efficiency-panel", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "efficiency-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "M\u00E9triques de Performance" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "efficiency-metrics", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "efficiency-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "efficiency-label", children: "Taux d'Utilisation" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "efficiency-bar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "efficiency-fill utilization", style: { width: `${efficiency.utilization}%` } }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "efficiency-value", children: [efficiency.utilization, "%"] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "efficiency-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "efficiency-label", children: "Disponibilit\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "efficiency-bar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "efficiency-fill availability", style: { width: `${efficiency.availability}%` } }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "efficiency-value", children: [efficiency.availability, "%"] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "efficiency-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "efficiency-label", children: "Activit\u00E9 Moyenne" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "efficiency-bar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "efficiency-fill activity", style: { width: `${Math.min(efficiency.activity, 100)}%` } }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "efficiency-value", children: [efficiency.activity, "%"] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .enhanced-stats {
          width: 100%;
          max-width: 1400px;
          margin: 0 auto;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 24px;
          margin-bottom: 32px;
        }

        .stat-card {
          position: relative;
          background: rgba(255, 255, 255, 0.95);
          border-radius: 20px;
          padding: 28px;
          overflow: hidden;
          transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          border: 1px solid rgba(229, 220, 194, 0.3);
          backdrop-filter: blur(10px);
          cursor: pointer;
          min-height: 200px;
        }

        .stat-card-bg {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: var(--card-gradient);
          opacity: 0;
          transition: opacity 0.4s ease;
          border-radius: inherit;
        }

        .stat-card.hovered .stat-card-bg {
          opacity: 0.08;
        }

        .stat-card.hovered {
          transform: translateY(-8px) scale(1.02);
          box-shadow: 
            0 20px 40px rgba(62, 92, 73, 0.15),
            0 8px 16px rgba(62, 92, 73, 0.1);
          border-color: var(--card-color);
        }

        .stat-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 20px;
          position: relative;
          z-index: 2;
        }

        .stat-icon {
          width: 56px;
          height: 56px;
          background: var(--card-gradient);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
          transition: all 0.3s ease;
        }

        .stat-card.hovered .stat-icon {
          transform: scale(1.1) rotate(5deg);
        }

        .stat-trend {
          text-align: right;
          font-size: 12px;
        }

        .trend {
          display: flex;
          align-items: center;
          gap: 4px;
          color: #10B981;
          font-weight: 600;
          margin-bottom: 4px;
        }

        .trend.negative {
          color: #EF4444;
        }

        .percentage {
          background: var(--card-gradient);
          color: white;
          padding: 4px 8px;
          border-radius: 8px;
          font-weight: 700;
          font-size: 11px;
        }

        .stat-content {
          position: relative;
          z-index: 2;
        }

        .stat-value {
          font-size: 2.5rem;
          font-weight: 800;
          color: #1A1A1A;
          line-height: 1;
          margin-bottom: 8px;
          transition: color 0.3s ease;
        }

        .stat-card.hovered .stat-value {
          color: var(--card-color);
        }

        .stat-title {
          font-size: 16px;
          font-weight: 700;
          color: #374151;
          margin-bottom: 6px;
        }

        .stat-description {
          font-size: 14px;
          color: #6B7280;
          margin-bottom: 8px;
        }

        .stat-breakdown {
          font-size: 12px;
          color: #9CA3AF;
          font-style: italic;
        }

        .stat-decoration {
          position: absolute;
          top: 0;
          right: -20px;
          width: 140px;
          height: 140px;
          opacity: 0.03;
          transition: all 0.3s ease;
          z-index: 1;
        }

        .floating-icon {
          width: 100%;
          height: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: var(--card-color);
          transform: rotate(15deg);
        }

        .stat-card.hovered .stat-decoration {
          opacity: 0.08;
          transform: scale(1.1) rotate(-5deg);
        }

        /* Efficiency Panel */
        .efficiency-panel {
          background: rgba(255, 255, 255, 0.95);
          border-radius: 20px;
          padding: 28px;
          border: 1px solid rgba(229, 220, 194, 0.3);
          backdrop-filter: blur(10px);
        }

        .efficiency-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 24px;
          color: #374151;
        }

        .efficiency-header h3 {
          margin: 0;
          font-size: 18px;
          font-weight: 700;
        }

        .efficiency-metrics {
          display: grid;
          gap: 20px;
        }

        .efficiency-item {
          display: grid;
          grid-template-columns: 1fr 3fr auto;
          align-items: center;
          gap: 16px;
        }

        .efficiency-label {
          font-size: 14px;
          font-weight: 600;
          color: #374151;
        }

        .efficiency-bar {
          height: 12px;
          background: rgba(229, 220, 194, 0.3);
          border-radius: 6px;
          overflow: hidden;
          position: relative;
        }

        .efficiency-fill {
          height: 100%;
          border-radius: inherit;
          transition: width 2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          position: relative;
        }

        .efficiency-fill::after {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
          animation: shimmer 2s infinite;
        }

        .efficiency-fill.utilization {
          background: linear-gradient(135deg, #F59E0B 0%, #FBBF24 100%);
        }

        .efficiency-fill.availability {
          background: linear-gradient(135deg, #10B981 0%, #34D399 100%);
        }

        .efficiency-fill.activity {
          background: linear-gradient(135deg, #8B5CF6 0%, #A78BFA 100%);
        }

        .efficiency-value {
          font-size: 16px;
          font-weight: 700;
          color: #1A1A1A;
          min-width: 50px;
          text-align: right;
        }

        @keyframes shimmer {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(200%); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
          .stats-grid {
            grid-template-columns: 1fr;
            gap: 16px;
          }

          .stat-card {
            padding: 20px;
            min-height: 160px;
          }

          .stat-value {
            font-size: 2rem;
          }

          .efficiency-item {
            grid-template-columns: 1fr;
            gap: 8px;
            text-align: center;
          }

          .efficiency-bar {
            order: 2;
          }

          .efficiency-value {
            order: 3;
            text-align: center;
          }
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
          .stat-card {
            border: 2px solid #000;
            background: #fff;
          }

          .stat-value, .stat-title {
            color: #000;
          }

          .efficiency-fill {
            border: 1px solid #000;
          }
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
          .stat-card, .stat-icon, .stat-decoration, .efficiency-fill {
            transition: none;
          }

          .floating-icon {
            transform: none;
          }

          .efficiency-fill::after {
            animation: none;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/ExportDialog.tsx":
/*!**************************************************!*\
  !*** ./src/renderer/components/ExportDialog.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ExportDialog: () => (/* binding */ ExportDialog)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/file-spreadsheet.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/file-text.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/database.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/file-bar-chart.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/download.mjs");
/* harmony import */ var _MicroInteractions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MicroInteractions */ "./src/renderer/components/MicroInteractions.tsx");
/* harmony import */ var _ToastSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ToastSystem */ "./src/renderer/components/ToastSystem.tsx");





const ExportDialog = ({ isOpen, onClose, onExport, availableData }) => {
    const { success, error } = (0,_ToastSystem__WEBPACK_IMPORTED_MODULE_3__.useQuickToast)();
    const [isExporting, setIsExporting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [config, setConfig] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        format: 'excel',
        dataTypes: {
            documents: true,
            borrowers: false,
            borrowHistory: false,
            authors: false,
            categories: false,
            stats: false
        },
        documentFields: {
            titre: true,
            auteur: true,
            editeur: true,
            lieuEdition: false,
            annee: true,
            descripteurs: true,
            cote: true,
            type: false,
            isbn: false,
            description: false,
            estEmprunte: true,
            dateEmprunt: false,
            nomEmprunteur: false,
            dateRetourPrevu: false
        },
        borrowerFields: {
            firstName: true,
            lastName: true,
            type: true,
            matricule: true,
            classe: true,
            position: true,
            email: false,
            phone: false,
            cniNumber: false
        },
        historyFields: {
            documentTitle: true,
            borrowerName: true,
            borrowDate: true,
            expectedReturnDate: true,
            actualReturnDate: true,
            status: true,
            notes: false,
            duration: false,
            overdueDays: false
        },
        dateRange: {
            enabled: false,
            startDate: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
            endDate: new Date().toISOString().split('T')[0]
        },
        filters: {
            documentStatus: 'all',
            borrowerType: 'all',
            historyStatus: 'all'
        }
    });
    const updateDataType = (dataType, enabled) => {
        setConfig(prev => ({
            ...prev,
            dataTypes: { ...prev.dataTypes, [dataType]: enabled }
        }));
    };
    const updateDocumentField = (field, enabled) => {
        setConfig(prev => ({
            ...prev,
            documentFields: { ...prev.documentFields, [field]: enabled }
        }));
    };
    const updateBorrowerField = (field, enabled) => {
        setConfig(prev => ({
            ...prev,
            borrowerFields: { ...prev.borrowerFields, [field]: enabled }
        }));
    };
    const updateHistoryField = (field, enabled) => {
        setConfig(prev => ({
            ...prev,
            historyFields: { ...prev.historyFields, [field]: enabled }
        }));
    };
    const handleExport = async () => {
        const selectedDataTypes = Object.entries(config.dataTypes).filter(([_, enabled]) => enabled);
        if (selectedDataTypes.length === 0) {
            error('Sélection requise', 'Veuillez sélectionner au moins un type de données à exporter');
            return;
        }
        setIsExporting(true);
        try {
            await onExport(config);
            success('Export réussi', 'Les données ont été exportées avec succès');
            onClose();
        }
        catch (err) {
            error('Erreur d\'export', 'Une erreur est survenue lors de l\'export');
        }
        finally {
            setIsExporting(false);
        }
    };
    const selectAllDocumentFields = () => {
        setConfig(prev => ({
            ...prev,
            documentFields: Object.keys(prev.documentFields).reduce((acc, key) => ({
                ...acc,
                [key]: true
            }), {})
        }));
    };
    const deselectAllDocumentFields = () => {
        setConfig(prev => ({
            ...prev,
            documentFields: Object.keys(prev.documentFields).reduce((acc, key) => ({
                ...acc,
                [key]: false
            }), {})
        }));
    };
    if (!isOpen)
        return null;
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "export-dialog-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "export-dialog", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "dialog-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 28 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "dialog-title", children: "Exporter les Donn\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "dialog-subtitle", children: "Choisissez les donn\u00E9es et le format d'export" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: onClose, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "dialog-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Format d'Export" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "format-options", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `format-option ${config.format === 'excel' ? 'selected' : ''}`, onClick: () => setConfig(prev => ({ ...prev, format: 'excel' })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Excel (.xlsx)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "format-badge", children: "Recommand\u00E9" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `format-option ${config.format === 'csv' ? 'selected' : ''}`, onClick: () => setConfig(prev => ({ ...prev, format: 'csv' })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "CSV (.csv)" })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Types de Donn\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "data-types-grid", children: [availableData.documents && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `data-type-card ${config.dataTypes.documents ? 'selected' : ''}`, onClick: () => updateDataType('documents', !config.dataTypes.documents), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Documents" }), config.dataTypes.documents ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 })] })), availableData.borrowers && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `data-type-card ${config.dataTypes.borrowers ? 'selected' : ''}`, onClick: () => updateDataType('borrowers', !config.dataTypes.borrowers), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Emprunteurs" }), config.dataTypes.borrowers ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 })] })), availableData.borrowHistory && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `data-type-card ${config.dataTypes.borrowHistory ? 'selected' : ''}`, onClick: () => updateDataType('borrowHistory', !config.dataTypes.borrowHistory), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Historique" }), config.dataTypes.borrowHistory ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `data-type-card ${config.dataTypes.authors ? 'selected' : ''}`, onClick: () => updateDataType('authors', !config.dataTypes.authors), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Auteurs" }), config.dataTypes.authors ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `data-type-card ${config.dataTypes.categories ? 'selected' : ''}`, onClick: () => updateDataType('categories', !config.dataTypes.categories), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Cat\u00E9gories" }), config.dataTypes.categories ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `data-type-card ${config.dataTypes.stats ? 'selected' : ''}`, onClick: () => updateDataType('stats', !config.dataTypes.stats), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Statistiques" }), config.dataTypes.stats ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 })] })] })] }), config.dataTypes.documents && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Champs Documents" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "field-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "action-link", onClick: selectAllDocumentFields, children: "Tout s\u00E9lectionner" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "action-link", onClick: deselectAllDocumentFields, children: "Tout d\u00E9s\u00E9lectionner" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "fields-grid", children: Object.entries({
                                            titre: 'Titre',
                                            auteur: 'Auteur',
                                            editeur: 'Éditeur',
                                            lieuEdition: 'Lieu d\'édition',
                                            annee: 'Année',
                                            descripteurs: 'Catégories',
                                            cote: 'Cote',
                                            type: 'Type',
                                            isbn: 'ISBN',
                                            description: 'Description',
                                            estEmprunte: 'Statut d\'emprunt',
                                            dateEmprunt: 'Date d\'emprunt',
                                            nomEmprunteur: 'Emprunteur',
                                            dateRetourPrevu: 'Date retour prévue'
                                        }).map(([field, label]) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `field-checkbox ${config.documentFields[field] ? 'checked' : ''}`, onClick: () => updateDocumentField(field, !config.documentFields[field]), children: [config.documentFields[field] ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: label })] }, field))) })] })), config.dataTypes.borrowers && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Champs Emprunteurs" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "fields-grid", children: Object.entries({
                                            firstName: 'Prénom',
                                            lastName: 'Nom',
                                            type: 'Type',
                                            matricule: 'Matricule',
                                            classe: 'Classe',
                                            position: 'Poste',
                                            email: 'Email',
                                            phone: 'Téléphone',
                                            cniNumber: 'CNI'
                                        }).map(([field, label]) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `field-checkbox ${config.borrowerFields[field] ? 'checked' : ''}`, onClick: () => updateBorrowerField(field, !config.borrowerFields[field]), children: [config.borrowerFields[field] ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: label })] }, field))) })] })), config.dataTypes.borrowHistory && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Champs Historique" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "fields-grid", children: Object.entries({
                                            documentTitle: 'Titre du document',
                                            borrowerName: 'Nom emprunteur',
                                            borrowDate: 'Date emprunt',
                                            expectedReturnDate: 'Date retour prévue',
                                            actualReturnDate: 'Date retour effective',
                                            status: 'Statut',
                                            notes: 'Notes',
                                            duration: 'Durée (jours)',
                                            overdueDays: 'Retard (jours)'
                                        }).map(([field, label]) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `field-checkbox ${config.historyFields[field] ? 'checked' : ''}`, onClick: () => updateHistoryField(field, !config.historyFields[field]), children: [config.historyFields[field] ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: label })] }, field))) })] })), config.dataTypes.borrowHistory && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Filtre par Date" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "toggle-switch", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", id: "dateRange", checked: config.dateRange.enabled, onChange: (e) => setConfig(prev => ({
                                                            ...prev,
                                                            dateRange: { ...prev.dateRange, enabled: e.target.checked }
                                                        })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { htmlFor: "dateRange" })] })] }), config.dateRange.enabled && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "date-range-inputs", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "date-input", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Date de d\u00E9but" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "date", value: config.dateRange.startDate, onChange: (e) => setConfig(prev => ({
                                                            ...prev,
                                                            dateRange: { ...prev.dateRange, startDate: e.target.value }
                                                        })) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "date-input", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Date de fin" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "date", value: config.dateRange.endDate, onChange: (e) => setConfig(prev => ({
                                                            ...prev,
                                                            dateRange: { ...prev.dateRange, endDate: e.target.value }
                                                        })) })] })] }))] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Filtres" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filters-grid", children: [config.dataTypes.documents && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Statut Documents" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: config.filters.documentStatus, onChange: (e) => setConfig(prev => ({
                                                            ...prev,
                                                            filters: { ...prev.filters, documentStatus: e.target.value }
                                                        })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tous" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "available", children: "Disponibles" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "borrowed", children: "Emprunt\u00E9s" })] })] })), config.dataTypes.borrowers && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Type Emprunteurs" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: config.filters.borrowerType, onChange: (e) => setConfig(prev => ({
                                                            ...prev,
                                                            filters: { ...prev.filters, borrowerType: e.target.value }
                                                        })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tous" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "student", children: "\u00C9tudiants" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "staff", children: "Personnel" })] })] })), config.dataTypes.borrowHistory && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Statut Historique" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: config.filters.historyStatus, onChange: (e) => setConfig(prev => ({
                                                            ...prev,
                                                            filters: { ...prev.filters, historyStatus: e.target.value }
                                                        })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tous" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "active", children: "En cours" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "returned", children: "Rendus" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "overdue", children: "En retard" })] })] }))] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "dialog-footer", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", onClick: onClose, children: "Annuler" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "success", icon: lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], onClick: handleExport, disabled: isExporting, children: isExporting ? 'Export en cours...' : `Exporter en ${config.format.toUpperCase()}` })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .export-dialog-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.6);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
          backdrop-filter: blur(8px);
        }

        .export-dialog {
          background: #FFFFFF;
          border-radius: 20px;
          width: 100%;
          max-width: 900px;
          max-height: 90vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
          border: 1px solid rgba(229, 220, 194, 0.3);
        }

        .dialog-header {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          padding: 32px;
          display: flex;
          align-items: center;
          justify-content: space-between;
        }

        .header-content {
          display: flex;
          align-items: center;
          gap: 20px;
        }

        .header-icon {
          width: 56px;
          height: 56px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .dialog-title {
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 4px 0;
        }

        .dialog-subtitle {
          font-size: 14px;
          opacity: 0.8;
          margin: 0;
        }

        .close-button {
          width: 44px;
          height: 44px;
          border: none;
          background: rgba(243, 238, 217, 0.1);
          color: #F3EED9;
          border-radius: 12px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
        }

        .close-button:hover {
          background: rgba(243, 238, 217, 0.2);
        }

        .dialog-content {
          flex: 1;
          overflow-y: auto;
          padding: 32px;
        }

        .section {
          margin-bottom: 32px;
        }

        .section-title {
          font-size: 18px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 16px 0;
        }

        .section-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 16px;
        }

        .field-actions {
          display: flex;
          gap: 16px;
        }

        .action-link {
          background: none;
          border: none;
          color: #3E5C49;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          text-decoration: underline;
          transition: color 0.2s ease;
        }

        .action-link:hover {
          color: #2E453A;
        }

        .format-options {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 16px;
        }

        .format-option {
          padding: 20px;
          border: 2px solid #E5DCC2;
          border-radius: 12px;
          display: flex;
          align-items: center;
          gap: 12px;
          cursor: pointer;
          transition: all 0.2s ease;
          position: relative;
        }

        .format-option:hover {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.05);
        }

        .format-option.selected {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.1);
        }

        .format-badge {
          position: absolute;
          top: -8px;
          right: -8px;
          background: #C2571B;
          color: #F3EED9;
          font-size: 10px;
          font-weight: 600;
          padding: 4px 8px;
          border-radius: 12px;
        }

        .data-types-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: 16px;
        }

        .data-type-card {
          padding: 20px;
          border: 2px solid #E5DCC2;
          border-radius: 12px;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
          cursor: pointer;
          transition: all 0.2s ease;
          text-align: center;
          position: relative;
        }

        .data-type-card:hover {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.05);
        }

        .data-type-card.selected {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.1);
        }

        .data-type-card svg:last-child {
          position: absolute;
          top: 8px;
          right: 8px;
          color: #3E5C49;
        }

        .fields-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 12px;
        }

        .field-checkbox {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px;
          border: 1px solid #E5DCC2;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .field-checkbox:hover {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.05);
        }

        .field-checkbox.checked {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }

        .toggle-switch {
          position: relative;
          display: inline-block;
          width: 50px;
          height: 24px;
        }

        .toggle-switch input {
          opacity: 0;
          width: 0;
          height: 0;
        }

        .toggle-switch label {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: #ccc;
          transition: .4s;
          border-radius: 24px;
        }

        .toggle-switch label:before {
          position: absolute;
          content: "";
          height: 18px;
          width: 18px;
          left: 3px;
          bottom: 3px;
          background-color: white;
          transition: .4s;
          border-radius: 50%;
        }

        .toggle-switch input:checked + label {
          background-color: #3E5C49;
        }

        .toggle-switch input:checked + label:before {
          transform: translateX(26px);
        }

        .date-range-inputs {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
          margin-top: 16px;
        }

        .date-input label {
          display: block;
          font-size: 14px;
          font-weight: 500;
          color: #2E2E2E;
          margin-bottom: 8px;
        }

        .date-input input {
          width: 100%;
          padding: 12px;
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          font-size: 14px;
          background: #FFFFFF;
          color: #2E2E2E;
          transition: all 0.3s ease;
        }

        .date-input input:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }

        .filters-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 16px;
        }

        .filter-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .filter-group label {
          font-size: 14px;
          font-weight: 500;
          color: #2E2E2E;
        }

        .filter-group select {
          padding: 12px;
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          font-size: 14px;
          background: #FFFFFF;
          color: #2E2E2E;
          transition: all 0.3s ease;
        }

        .filter-group select:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }

        .dialog-footer {
          padding: 24px 32px;
          border-top: 1px solid #E5DCC2;
          display: flex;
          justify-content: flex-end;
          gap: 16px;
        }

        @media (max-width: 768px) {
          .export-dialog {
            margin: 12px;
          }

          .data-types-grid,
          .fields-grid,
          .filters-grid {
            grid-template-columns: 1fr;
          }

          .format-options {
            grid-template-columns: 1fr;
          }

          .date-range-inputs {
            grid-template-columns: 1fr;
          }

          .dialog-content {
            padding: 20px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/InitialSetup.tsx":
/*!**************************************************!*\
  !*** ./src/renderer/components/InitialSetup.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InitialSetup: () => (/* binding */ InitialSetup)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/database.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/cloud.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/network.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/monitor.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/settings.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/hard-drive.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/info.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/globe.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/wifi.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/arrow-right.mjs");

// src/renderer/components/InitialSetup.tsx


const InitialSetup = ({ onComplete }) => {
    const [selectedMode, setSelectedMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('offline');
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "initial-setup", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setup-background", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setup-pattern" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "floating-elements", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "floating-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], {}) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setup-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setup-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "setup-logo", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 48 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { className: "setup-title", children: "Configuration Initiale" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setup-subtitle", children: "Configurez le mode de fonctionnement de votre biblioth\u00E8que" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mode-selection", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h2", { className: "section-title", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 24 }), "Choisissez votre mode de fonctionnement"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mode-options", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `mode-card ${selectedMode === 'offline' ? 'selected' : ''}`, onClick: () => setSelectedMode('offline'), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mode-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mode-icon offline", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 32 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mode-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Mode Hors Ligne" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "mode-status recommended", children: "Recommand\u00E9" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mode-description", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Utilise une base de donn\u00E9es locale (SQLite) pour stocker toutes les donn\u00E9es. Fonctionne sans connexion Internet et peut \u00EAtre partag\u00E9 en r\u00E9seau local." }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mode-features", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-list", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Fonctionne sans Internet" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Donn\u00E9es stock\u00E9es localement" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Partage en r\u00E9seau local" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Performance optimale" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Contr\u00F4le total des donn\u00E9es" })] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mode-ideal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Id\u00E9al pour : Biblioth\u00E8ques locales, \u00E9tablissements scolaires, usage priv\u00E9" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mode-card disabled", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mode-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mode-icon online disabled", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 32 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mode-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Mode En Ligne" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "mode-status coming-soon", children: "Bient\u00F4t disponible" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mode-description", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Utilise Supabase pour la synchronisation cloud et le partage multi-\u00E9tablissements. N\u00E9cessite une connexion Internet stable." }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "mode-features", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-list", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature disabled", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Synchronisation cloud" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature disabled", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Multi-\u00E9tablissements" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature disabled", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Acc\u00E8s depuis partout" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature disabled", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Sauvegarde automatique" })] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "mode-ideal disabled", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Cette fonctionnalit\u00E9 sera disponible dans une prochaine version" })] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "info-panel", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Informations importantes" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "info-content", children: selectedMode === 'offline' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Mode Hors Ligne s\u00E9lectionn\u00E9 :" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ul", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Vos donn\u00E9es seront stock\u00E9es localement sur cet ordinateur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "L'application fonctionnera sans connexion Internet" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Vous pouvez partager la base de donn\u00E9es sur votre r\u00E9seau local" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Ce choix peut \u00EAtre modifi\u00E9 ult\u00E9rieurement dans les param\u00E8tres" })] })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: "Mode En Ligne :" }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ul", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Fonctionnalit\u00E9 en cours de d\u00E9veloppement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Permettra la synchronisation cloud via Supabase" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Gestion multi-\u00E9tablissements" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Disponible dans une prochaine mise \u00E0 jour" })] })] })) })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setup-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "continue-btn", onClick: () => onComplete(selectedMode), disabled: selectedMode === 'online', children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: ["Continuer avec le mode ", selectedMode === 'offline' ? 'Hors Ligne' : 'En Ligne'] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 20 })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "setup-note", children: "Vous pourrez modifier ce choix plus tard dans les param\u00E8tres de l'application" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .initial-setup {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: auto;
          z-index: 1000;
        }

        .setup-background {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          opacity: 0.1;
        }

        .setup-pattern {
          width: 100%;
          height: 100%;
          background-image: 
            radial-gradient(circle at 25% 25%, white 2px, transparent 2px),
            radial-gradient(circle at 75% 75%, white 2px, transparent 2px);
          background-size: 50px 50px;
          animation: patternMove 20s linear infinite;
        }

        .floating-elements {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
        }

        .floating-icon {
          position: absolute;
          color: rgba(255, 255, 255, 0.2);
          animation: float 6s ease-in-out infinite;
        }

        .floating-icon:nth-child(1) {
          top: 10%;
          left: 10%;
          animation-delay: 0s;
        }

        .floating-icon:nth-child(2) {
          top: 20%;
          right: 10%;
          animation-delay: 2s;
        }

        .floating-icon:nth-child(3) {
          bottom: 20%;
          left: 20%;
          animation-delay: 4s;
        }

        .setup-container {
          background: white;
          border-radius: 20px;
          padding: 32px;
          max-width: 1000px;
          width: 95%;
          max-height: 95vh;
          overflow-y: auto;
          box-shadow: 0 25px 80px rgba(0, 0, 0, 0.25);
          position: relative;
          z-index: 1;
          margin: 20px auto;
        }

        .setup-header {
          text-align: center;
          margin-bottom: 32px;
        }

        .setup-logo {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          width: 80px;
          height: 80px;
          background: linear-gradient(135deg, #667eea, #764ba2);
          border-radius: 20px;
          color: white;
          margin-bottom: 20px;
        }

        .setup-title {
          font-size: 2.5rem;
          font-weight: 800;
          color: #2d3748;
          margin: 0 0 10px 0;
        }

        .setup-subtitle {
          font-size: 1.1rem;
          color: #718096;
          margin: 0;
        }

        .mode-selection {
          margin-bottom: 24px;
        }

        .section-title {
          display: flex;
          align-items: center;
          gap: 10px;
          font-size: 1.4rem;
          font-weight: 700;
          color: #2d3748;
          margin-bottom: 16px;
        }

        .mode-options {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
        }

        .mode-card {
          border: 2px solid #e2e8f0;
          border-radius: 16px;
          padding: 20px;
          cursor: pointer;
          transition: all 0.3s ease;
          background: white;
          min-height: 380px;
          display: flex;
          flex-direction: column;
        }

        .mode-card:not(.disabled):hover {
          border-color: #667eea;
          transform: translateY(-2px);
          box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
        }

        .mode-card.selected {
          border-color: #667eea;
          background: linear-gradient(135deg, #667eea05, #764ba205);
          box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
        }

        .mode-card.disabled {
          opacity: 0.6;
          cursor: not-allowed;
          background: #f7fafc;
        }

        .mode-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 14px;
        }

        .mode-icon {
          width: 44px;
          height: 44px;
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          flex-shrink: 0;
        }

        .mode-icon.offline {
          background: linear-gradient(135deg, #48bb78, #38a169);
        }

        .mode-icon.online {
          background: linear-gradient(135deg, #4299e1, #3182ce);
        }

        .mode-icon.disabled {
          background: #cbd5e0;
        }

        .mode-info h3 {
          font-size: 1.2rem;
          font-weight: 700;
          color: #2d3748;
          margin: 0 0 4px 0;
        }

        .mode-status {
          font-size: 0.85rem;
          padding: 4px 8px;
          border-radius: 6px;
          font-weight: 600;
        }

        .mode-status.recommended {
          background: #c6f6d5;
          color: #22543d;
        }

        .mode-status.coming-soon {
          background: #fed7d7;
          color: #742a2a;
        }

        .mode-description {
          margin-bottom: 12px;
          flex-grow: 1;
        }

        .mode-description p {
          color: #4a5568;
          margin: 0;
          line-height: 1.4;
          font-size: 0.95rem;
        }

        .feature-list {
          display: flex;
          flex-direction: column;
          gap: 6px;
          margin-bottom: 12px;
        }

        .feature {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 0.85rem;
        }

        .feature:not(.disabled) {
          color: #48bb78;
        }

        .feature.disabled {
          color: #a0aec0;
        }

        .mode-ideal {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 10px;
          background: #f7fafc;
          border-radius: 6px;
          font-size: 0.8rem;
          color: #4a5568;
          margin-top: auto;
        }

        .mode-ideal.disabled {
          background: #edf2f7;
          color: #a0aec0;
        }

        .info-panel {
          margin-bottom: 20px;
        }

        .info-card {
          background: #f8f9fa;
          border: 1px solid #e9ecef;
          border-radius: 10px;
          padding: 16px;
        }

        .info-header {
          display: flex;
          align-items: center;
          gap: 6px;
          margin-bottom: 10px;
        }

        .info-header h3 {
          font-size: 1.05rem;
          font-weight: 600;
          color: #495057;
          margin: 0;
        }

        .info-content ul {
          margin: 6px 0 0 0;
          padding-left: 18px;
        }

        .info-content li {
          margin-bottom: 3px;
          color: #6c757d;
          font-size: 0.9rem;
        }

        .setup-actions {
          text-align: center;
        }

        .continue-btn {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          background: linear-gradient(135deg, #667eea, #764ba2);
          color: white;
          border: none;
          padding: 14px 28px;
          border-radius: 10px;
          font-size: 1.05rem;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
          margin-bottom: 12px;
        }

        .continue-btn:not(:disabled):hover {
          transform: translateY(-2px);
          box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .continue-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .setup-note {
          color: #718096;
          font-size: 0.85rem;
          margin: 0;
        }

        @keyframes patternMove {
          0% { transform: translateX(0) translateY(0); }
          100% { transform: translateX(50px) translateY(50px); }
        }

        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-20px); }
        }

        @media (max-width: 768px) {
          .setup-container {
            padding: 20px;
            width: 98%;
            margin: 10px auto;
          }

          .mode-options {
            grid-template-columns: 1fr;
            gap: 12px;
          }

          .mode-card {
            min-height: auto;
            padding: 16px;
          }

          .setup-title {
            font-size: 1.8rem;
          }

          .section-title {
            font-size: 1.2rem;
          }
        }

        @media (max-width: 480px) {
          .setup-container {
            padding: 16px;
            width: 99%;
            margin: 5px auto;
          }

          .setup-header {
            margin-bottom: 24px;
          }

          .setup-title {
            font-size: 1.6rem;
          }

          .mode-card {
            padding: 14px;
          }

          .continue-btn {
            padding: 12px 20px;
            font-size: 1rem;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/InstitutionSetup.tsx":
/*!******************************************************!*\
  !*** ./src/renderer/components/InstitutionSetup.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InstitutionSetup: () => (/* binding */ InstitutionSetup)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/shield.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/wifi-off.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/building.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/sparkles.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/hard-drive.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/database.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/copy.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/download.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/mail.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/zap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/arrow-right.mjs");

// src/renderer/components/InstitutionSetup.tsx - Version simplifiée pour mode offline


const InstitutionSetup = ({ institutionCode, institution, onComplete }) => {
    const [currentStep, setCurrentStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);
    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const handleCopyCode = async () => {
        try {
            await navigator.clipboard.writeText(institutionCode);
            setCopied(true);
            setTimeout(() => setCopied(false), 2000);
        }
        catch (error) {
            // Fallback pour les navigateurs plus anciens
            const textArea = document.createElement('textarea');
            textArea.value = institutionCode;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            setCopied(true);
            setTimeout(() => setCopied(false), 2000);
        }
    };
    const handleDownloadInfo = () => {
        const content = `
INFORMATIONS DE VOTRE ÉTABLISSEMENT (MODE HORS LIGNE)
=====================================================

Nom: ${institution?.name || 'Non spécifié'}
Code d'accès local: ${institutionCode}
Type: ${institution?.type || 'Non spécifié'}
Ville: ${institution?.city || 'Non spécifié'}

MODE DE FONCTIONNEMENT:
======================
✓ Base de données locale (SQLite)
✓ Fonctionne sans Internet
✓ Données stockées sur votre ordinateur
✓ Possibilité de partage en réseau local

INFORMATIONS IMPORTANTES:
========================
- Ce code permet l'accès à votre bibliothèque locale
- Conservez-le précieusement
- Partagez-le uniquement avec des personnes autorisées
- Votre établissement fonctionne entièrement hors ligne

Date de création: ${new Date().toLocaleDateString('fr-FR')}
Heure de création: ${new Date().toLocaleTimeString('fr-FR')}
    `.trim();
        const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `${institution?.name?.replace(/[^a-zA-Z0-9]/g, '_') || 'bibliotheque'}_offline_info.txt`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    };
    const sendInvitation = () => {
        const subject = encodeURIComponent(`Invitation - ${institution?.name} (Mode Hors Ligne)`);
        const body = encodeURIComponent(`
Bonjour,

Vous êtes invité(e) à rejoindre ${institution?.name} sur notre système de bibliothèque local.

🔑 Code d'accès: ${institutionCode}

📍 Informations importantes:
- Notre bibliothèque fonctionne en mode hors ligne
- Aucune connexion Internet requise
- Accès depuis le réseau local uniquement

📋 Instructions:
1. Connectez-vous au réseau local de l'établissement
2. Lancez l'application Bibliothèque
3. Utilisez le code d'accès ci-dessus pour vous connecter
4. Vos données seront synchronisées localement

Si vous avez des questions, contactez l'administrateur de la bibliothèque.

Cordialement,
L'équipe de ${institution?.name}
    `);
        window.open(`mailto:?subject=${subject}&body=${body}`);
    };
    const nextStep = () => {
        if (currentStep < 3) {
            setCurrentStep(currentStep + 1);
        }
        else {
            onComplete();
        }
    };
    const previousStep = () => {
        if (currentStep > 1) {
            setCurrentStep(currentStep - 1);
        }
    };
    const steps = [
        {
            number: 1,
            title: "Établissement créé !",
            subtitle: "Configuration réussie",
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"]
        },
        {
            number: 2,
            title: "Code d'accès",
            subtitle: "Partagez avec vos utilisateurs",
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"]
        },
        {
            number: 3,
            title: "Prêt à utiliser",
            subtitle: "Commencez dès maintenant",
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"]
        }
    ];
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "offline-institution-setup", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setup-background", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "pattern-overlay" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "floating-shapes", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "shape shape-1" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "shape shape-2" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "shape shape-3" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setup-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setup-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "offline-badge", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Mode Hors Ligne" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-logo", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 40 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1", { className: "setup-title", children: "Configuration Termin\u00E9e" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-container", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "progress-steps", children: steps.map((step, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `progress-step ${currentStep >= step.number ? 'active' : ''} ${currentStep === step.number ? 'current' : ''}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "step-circle", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(step.icon, { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "step-title", children: step.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "step-subtitle", children: step.subtitle })] }), index < steps.length - 1 && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "step-connector" })] }, step.number))) }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setup-content", children: [currentStep === 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content success-step", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "success-animation", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "success-circle", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 48 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "success-sparkles", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { className: "sparkle sparkle-1" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { className: "sparkle sparkle-2" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { className: "sparkle sparkle-3" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "step-title", children: "F\u00E9licitations ! \uD83C\uDF89" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "step-description", children: ["Votre \u00E9tablissement ", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: institution?.name }), " a \u00E9t\u00E9 configur\u00E9 avec succ\u00E8s en mode hors ligne. Vous pouvez maintenant g\u00E9rer votre biblioth\u00E8que localement."] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "institution-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "card-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Biblioth\u00E8que Locale" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "card-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "info-label", children: "Nom:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "info-value", children: institution?.name })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "info-label", children: "Type:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "info-value", children: [institution?.type === 'school' && '🏫 École/Lycée', institution?.type === 'university' && '🎓 Université', institution?.type === 'library' && '📚 Bibliothèque', institution?.type === 'other' && '🏢 Autre'] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "info-label", children: "Ville:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "info-value", children: institution?.city })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-row highlight", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "info-label", children: "Code d'acc\u00E8s:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "info-value code-value", children: institutionCode })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "features-preview", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Fonctionnalit\u00E9s disponibles :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "features-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Base de donn\u00E9es locale" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Fonctionne hors ligne" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Gestion des livres" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Gestion des utilisateurs" })] })] })] })] })), currentStep === 2 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content share-step", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "share-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "share-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 40 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "step-title", children: "Code d'Acc\u00E8s Local" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "step-description", children: "Ce code permet aux utilisateurs locaux d'acc\u00E9der \u00E0 votre biblioth\u00E8que. Conservez-le pr\u00E9cieusement et partagez-le uniquement avec des personnes autoris\u00E9es." })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "code-display", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "code-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "code-label", children: "Code d'acc\u00E8s local" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "code-value-large", children: institutionCode }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `copy-button ${copied ? 'copied' : ''}`, onClick: handleCopyCode, children: [copied ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: copied ? 'Copié !' : 'Copier le code' })] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "sharing-options", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Options de partage" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "sharing-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "sharing-option", onClick: handleDownloadInfo, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "option-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "option-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "option-title", children: "T\u00E9l\u00E9charger les infos" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "option-description", children: "Fichier avec code et instructions" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "sharing-option", onClick: sendInvitation, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "option-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "option-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "option-title", children: "Envoyer par email" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "option-description", children: "Invitation pr\u00E9-r\u00E9dig\u00E9e" })] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "instructions-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Instructions pour vos utilisateurs :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ol", { className: "instructions-list", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Se connecter au r\u00E9seau local de l'\u00E9tablissement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Lancer l'application Biblioth\u00E8que" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li", { children: ["Utiliser ce code d'acc\u00E8s : ", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code", { children: institutionCode })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { children: "Les donn\u00E9es seront synchronis\u00E9es localement" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "offline-note", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Aucune connexion Internet requise" })] })] })] })), currentStep === 3 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "step-content ready-step", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "ready-animation", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "ready-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 48 }) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "step-title", children: "Tout est pr\u00EAt ! \uD83D\uDE80" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "step-description", children: "Votre biblioth\u00E8que locale est configur\u00E9e et pr\u00EAte \u00E0 \u00EAtre utilis\u00E9e. Vous allez maintenant acc\u00E9der au tableau de bord administrateur." }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "quick-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Prochaines \u00E9tapes recommand\u00E9es :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "actions-list", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "action-number", children: "1" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "action-title", children: "Ajoutez vos premiers livres" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "action-description", children: "Construisez votre catalogue local" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "action-number", children: "2" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "action-title", children: "Configurez vos param\u00E8tres" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "action-description", children: "Personnalisez votre biblioth\u00E8que" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "action-number", children: "3" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "action-title", children: "Partagez le code d'acc\u00E8s" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "action-description", children: "Invitez vos utilisateurs locaux" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "action-number", children: "4" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "action-title", children: "Testez le syst\u00E8me" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "action-description", children: "V\u00E9rifiez toutes les fonctionnalit\u00E9s" })] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "offline-advantages", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Avantages du mode hors ligne :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "advantages-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "advantage-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Donn\u00E9es locales s\u00E9curis\u00E9es" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "advantage-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Ind\u00E9pendance Internet" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "advantage-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Performance optimale" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "advantage-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Contr\u00F4le total" })] })] })] })] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setup-navigation", children: [currentStep > 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "nav-button secondary", onClick: previousStep, disabled: isLoading, children: "Pr\u00E9c\u00E9dent" })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "nav-button primary", onClick: nextStep, disabled: isLoading, children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "loading-spinner" }), "Chargement..."] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [currentStep === 3 ? 'Accéder à ma bibliothèque' : 'Continuer', (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 16 })] })) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .offline-institution-setup {
          min-height: 100vh;
          background: linear-gradient(135deg, #1e3a2e 0%, #2d5a45 50%, #1e3a2e 100%);
          position: relative;
          overflow-x: hidden;
        }

        .setup-background {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          overflow: hidden;
        }

        .pattern-overlay {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-image: 
            radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.05) 0%, transparent 50%);
          animation: drift 20s ease-in-out infinite;
        }

        @keyframes drift {
          0%, 100% { transform: translate(0, 0) rotate(0deg); }
          50% { transform: translate(20px, -20px) rotate(1deg); }
        }

        .floating-shapes {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          pointer-events: none;
        }

        .shape {
          position: absolute;
          background: rgba(255, 255, 255, 0.05);
          border-radius: 50%;
          animation: float 6s ease-in-out infinite;
        }

        .shape-1 {
          width: 80px;
          height: 80px;
          top: 20%;
          left: 10%;
          animation-delay: 0s;
        }

        .shape-2 {
          width: 60px;
          height: 60px;
          top: 60%;
          right: 15%;
          animation-delay: 2s;
        }

        .shape-3 {
          width: 100px;
          height: 100px;
          bottom: 30%;
          left: 20%;
          animation-delay: 4s;
        }

        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-20px); }
        }

        .setup-container {
          position: relative;
          z-index: 10;
          min-height: 100vh;
          display: flex;
          flex-direction: column;
          padding: 20px;
          max-width: 1000px;
          margin: 0 auto;
        }

        .setup-header {
          text-align: center;
          margin-bottom: 32px;
          color: white;
        }

        .offline-badge {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          background: rgba(255, 152, 0, 0.2);
          color: #ffa726;
          padding: 8px 16px;
          border-radius: 20px;
          font-size: 14px;
          font-weight: 600;
          border: 1px solid rgba(255, 152, 0, 0.3);
          margin-bottom: 24px;
        }

        .header-logo {
          width: 60px;
          height: 60px;
          background: rgba(255, 255, 255, 0.15);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin: 0 auto 20px;
          border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .setup-title {
          font-size: 28px;
          font-weight: 800;
          margin: 0 0 24px 0;
          letter-spacing: -0.5px;
        }

        .progress-container {
          margin-bottom: 16px;
        }

        .progress-steps {
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 32px;
        }

        .progress-step {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
          opacity: 0.5;
          transition: all 0.3s ease;
          position: relative;
        }

        .progress-step.active {
          opacity: 1;
        }

        .progress-step.current {
          transform: scale(1.05);
        }

        .step-circle {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: rgba(255, 255, 255, 0.15);
          border: 2px solid rgba(255, 255, 255, 0.3);
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s ease;
        }

        .progress-step.active .step-circle {
          background: rgba(255, 255, 255, 0.25);
          border-color: rgba(255, 255, 255, 0.5);
        }

        .progress-step.current .step-circle {
          background: #ffa726;
          border-color: #ffa726;
          color: #1e3a2e;
          box-shadow: 0 4px 16px rgba(255, 167, 38, 0.3);
        }

        .step-info {
          text-align: center;
        }

        .step-title {
          font-size: 12px;
          font-weight: 600;
          margin: 0 0 2px 0;
        }

        .step-subtitle {
          font-size: 10px;
          opacity: 0.8;
        }

        .step-connector {
          position: absolute;
          top: 20px;
          left: calc(100% + 8px);
          width: 24px;
          height: 2px;
          background: rgba(255, 255, 255, 0.2);
          z-index: -1;
        }

        .setup-content {
          flex: 1;
          background: white;
          border-radius: 20px;
          padding: 32px;
          margin-bottom: 24px;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
          overflow-y: auto;
        }

        .step-content {
          max-width: 700px;
          margin: 0 auto;
        }

        /* Success Step */
        .success-step {
          text-align: center;
        }

        .success-animation {
          position: relative;
          margin-bottom: 24px;
        }

        .success-circle {
          color: #2d5a45;
          animation: bounce 0.6s ease-out;
        }

        .success-sparkles {
          position: absolute;
          inset: 0;
          pointer-events: none;
        }

        .sparkle {
          position: absolute;
          color: #ffa726;
          animation: sparkle 2s ease-in-out infinite;
        }

        .sparkle-1 {
          top: 10%;
          left: 20%;
          animation-delay: 0s;
        }

        .sparkle-2 {
          top: 20%;
          right: 15%;
          animation-delay: 0.5s;
        }

        .sparkle-3 {
          bottom: 15%;
          left: 15%;
          animation-delay: 1s;
        }

        @keyframes bounce {
          0%, 20%, 53%, 80%, 100% { transform: translate3d(0, 0, 0); }
          40%, 43% { transform: translate3d(0, -20px, 0); }
          70% { transform: translate3d(0, -10px, 0); }
          90% { transform: translate3d(0, -3px, 0); }
        }

        @keyframes sparkle {
          0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }
          50% { opacity: 1; transform: scale(1) rotate(180deg); }
        }

        .step-title {
          font-size: 24px;
          font-weight: 700;
          color: #2d5a45;
          margin: 0 0 12px 0;
          letter-spacing: -0.3px;
        }

        .step-description {
          font-size: 16px;
          color: #6c757d;
          line-height: 1.5;
          margin-bottom: 24px;
        }

        .institution-card {
          background: #f8f9fa;
          border: 1px solid #e9ecef;
          border-radius: 12px;
          margin-bottom: 24px;
          overflow: hidden;
        }

        .card-header {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 16px 20px;
          background: rgba(45, 90, 69, 0.1);
          border-bottom: 1px solid #e9ecef;
        }

        .card-header h3 {
          font-size: 16px;
          font-weight: 600;
          color: #2d5a45;
          margin: 0;
        }

        .card-content {
          padding: 20px;
        }

        .info-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 12px;
          padding-bottom: 12px;
          border-bottom: 1px solid #f1f3f4;
        }

        .info-row:last-child {
          margin-bottom: 0;
          padding-bottom: 0;
          border-bottom: none;
        }

        .info-row.highlight {
          background: rgba(45, 90, 69, 0.05);
          padding: 12px;
          border-radius: 8px;
          border: 1px solid rgba(45, 90, 69, 0.2);
          border-bottom: 1px solid rgba(45, 90, 69, 0.2);
        }

        .info-label {
          font-weight: 600;
          color: #6c757d;
          font-size: 14px;
        }

        .info-value {
          font-weight: 600;
          color: #2d5a45;
          font-size: 14px;
        }

        .code-value {
          font-family: 'Monaco', 'Consolas', monospace;
          background: #2d5a45;
          color: white;
          padding: 6px 10px;
          border-radius: 6px;
          font-size: 14px;
          letter-spacing: 1px;
        }

        .features-preview h3 {
          font-size: 16px;
          font-weight: 600;
          color: #2d5a45;
          margin: 0 0 12px 0;
          text-align: left;
        }

        .features-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
          gap: 12px;
        }

        .feature-item {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px;
          background: rgba(45, 90, 69, 0.05);
          border: 1px solid rgba(45, 90, 69, 0.1);
          border-radius: 8px;
          color: #2d5a45;
          font-weight: 500;
          font-size: 14px;
        }

        /* Share Step */
        .share-step {
          text-align: center;
        }

        .share-header {
          margin-bottom: 24px;
        }

        .share-icon {
          color: #ffa726;
          margin-bottom: 16px;
        }

        .code-display {
          margin-bottom: 32px;
        }

        .code-container {
          background: linear-gradient(135deg, #2d5a45 0%, #1e3a2e 100%);
          border-radius: 16px;
          padding: 24px;
          color: white;
          position: relative;
          overflow: hidden;
        }

        .code-container::before {
          content: '';
          position: absolute;
          top: 0;
          right: 0;
          width: 80px;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1));
          transform: skewX(-15deg);
        }

        .code-label {
          font-size: 12px;
          opacity: 0.9;
          margin-bottom: 12px;
          text-transform: uppercase;
          letter-spacing: 1px;
        }

        .code-value-large {
          font-size: 32px;
          font-weight: 800;
          letter-spacing: 4px;
          font-family: 'Monaco', 'Consolas', monospace;
          margin-bottom: 16px;
          position: relative;
          z-index: 1;
        }

        .copy-button {
          display: flex;
          align-items: center;
          gap: 6px;
          background: rgba(255, 255, 255, 0.2);
          border: 1px solid rgba(255, 255, 255, 0.3);
          color: white;
          padding: 8px 16px;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.2s ease;
          font-weight: 600;
          margin: 0 auto;
          position: relative;
          z-index: 1;
          font-size: 14px;
        }

        .copy-button:hover {
          background: rgba(255, 255, 255, 0.3);
          transform: translateY(-1px);
        }

        .copy-button.copied {
          background: rgba(255, 167, 38, 0.8);
          border-color: rgba(255, 167, 38, 0.8);
          color: white;
        }

        .sharing-options {
          margin-bottom: 32px;
        }

        .sharing-options h3 {
          font-size: 16px;
          font-weight: 600;
          color: #2d5a45;
          margin: 0 0 16px 0;
        }

        .sharing-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 16px;
        }

        .sharing-option {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px;
          background: rgba(45, 90, 69, 0.05);
          border: 1px solid rgba(45, 90, 69, 0.1);
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.2s ease;
          color: #2d5a45;
          font-weight: 600;
        }

        .sharing-option:hover {
          background: rgba(45, 90, 69, 0.1);
          border-color: rgba(45, 90, 69, 0.2);
        }

        .option-icon {
          width: 36px;
          height: 36px;
          background: #ffa726;
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          flex-shrink: 0;
        }

        .option-content {
          display: flex;
          flex-direction: column;
          gap: 2px;
        }

        .option-title {
          font-size: 14px;
          font-weight: 600;
        }

        .option-description {
          font-size: 12px;
          color: #6c757d;
        }

        .instructions-card {
          background: #f8f9fa;
          border: 1px solid #e9ecef;
          border-radius: 12px;
          padding: 20px;
          color: #2d5a45;
          text-align: left;
          max-width: 500px;
          margin: 0 auto;
        }

        .instructions-card h4 {
          margin: 0 0 12px 0;
          font-size: 14px;
          font-weight: 600;
        }

        .instructions-list {
          margin: 0 0 16px 0;
          padding-left: 20px;
          list-style-type: decimal;
        }

        .instructions-list li {
          margin-bottom: 6px;
          font-size: 13px;
          line-height: 1.4;
        }

        .instructions-list code {
          background: #2d5a45;
          color: white;
          padding: 2px 6px;
          border-radius: 4px;
          font-family: 'Monaco', 'Consolas', monospace;
          font-size: 12px;
        }

        .offline-note {
          display: flex;
          align-items: center;
          gap: 8px;
          background: rgba(255, 167, 38, 0.1);
          border: 1px solid rgba(255, 167, 38, 0.2);
          color: #e65100;
          padding: 8px 12px;
          border-radius: 8px;
          font-size: 12px;
          font-weight: 600;
        }

        /* Ready Step */
        .ready-step {
          text-align: center;
        }

        .ready-animation {
          margin-bottom: 24px;
        }

        .ready-icon {
          color: #ffa726;
          animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.1); }
        }

        .quick-actions {
          margin-bottom: 24px;
        }

        .quick-actions h3 {
          font-size: 16px;
          font-weight: 600;
          color: #2d5a45;
          margin: 0 0 16px 0;
          text-align: left;
        }

        .actions-list {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .action-item {
          display: flex;
          align-items: center;
          gap: 16px;
          padding: 16px;
          background: rgba(45, 90, 69, 0.05);
          border: 1px solid rgba(45, 90, 69, 0.1);
          border-radius: 12px;
        }

        .action-number {
          width: 32px;
          height: 32px;
          background: #ffa726;
          color: white;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          font-size: 14px;
          flex-shrink: 0;
        }

        .action-content {
          display: flex;
          flex-direction: column;
          gap: 2px;
          text-align: left;
        }

        .action-title {
          font-weight: 600;
          color: #2d5a45;
          font-size: 14px;
        }

        .action-description {
          font-size: 12px;
          color: #6c757d;
        }

        .offline-advantages h4 {
          font-size: 14px;
          font-weight: 600;
          color: #2d5a45;
          margin: 0 0 12px 0;
          text-align: left;
        }

        .advantages-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
          gap: 12px;
        }

        .advantage-item {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 10px 12px;
          background: rgba(255, 167, 38, 0.1);
          border: 1px solid rgba(255, 167, 38, 0.2);
          border-radius: 8px;
          color: #e65100;
          font-weight: 500;
          font-size: 13px;
        }

        /* Navigation */
        .setup-navigation {
          display: flex;
          justify-content: flex-end;
          gap: 12px;
          padding: 0 20px 20px;
        }

        .nav-button {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 10px 20px;
          border-radius: 10px;
          font-weight: 600;
          font-size: 14px;
          cursor: pointer;
          border: none;
          transition: all 0.2s ease;
        }

        .nav-button.primary {
          background: #ffa726;
          color: white;
        }

        .nav-button.primary:hover:not(:disabled) {
          background: #ff9800;
          transform: translateY(-1px);
          box-shadow: 0 4px 16px rgba(255, 167, 38, 0.3);
        }

        .nav-button.secondary {
          background: #f8f9fa;
          color: #6c757d;
          border: 1px solid #e9ecef;
        }

        .nav-button.secondary:hover:not(:disabled) {
          background: #e9ecef;
          color: #495057;
        }

        .nav-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
          box-shadow: none;
        }

        .loading-spinner {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-top: 2px solid white;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 768px) {
          .setup-container {
            padding: 16px;
          }

          .progress-steps {
            gap: 20px;
          }

          .step-connector {
            width: 16px;
            left: calc(100% + 4px);
          }

          .setup-content {
            padding: 24px 16px;
          }

          .features-grid,
          .sharing-grid,
          .advantages-grid {
            grid-template-columns: 1fr;
          }

          .setup-navigation {
            flex-direction: column-reverse;
            padding: 0 16px 16px;
          }

          .code-value-large {
            font-size: 24px;
            letter-spacing: 2px;
          }

          .step-title {
            font-size: 20px;
          }
        }

        @media (max-width: 480px) {
          .progress-steps {
            flex-direction: column;
            gap: 16px;
          }

          .step-connector {
            display: none;
          }

          .setup-title {
            font-size: 24px;
          }

          .code-value-large {
            font-size: 20px;
            letter-spacing: 1px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/KeyboardShortcuts.tsx":
/*!*******************************************************!*\
  !*** ./src/renderer/components/KeyboardShortcuts.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   KeyboardShortcutsProvider: () => (/* binding */ KeyboardShortcutsProvider),
/* harmony export */   useKeyboardShortcuts: () => (/* binding */ useKeyboardShortcuts)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/home.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/plus.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/search.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/settings.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/keyboard.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/command.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/zap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye-off.mjs");



const KeyboardShortcutsContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);
const useKeyboardShortcuts = () => {
    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(KeyboardShortcutsContext);
    if (!context) {
        throw new Error('useKeyboardShortcuts must be used within a KeyboardShortcutsProvider');
    }
    return context;
};
const KeyboardShortcutsProvider = ({ children, onNavigate, onOpenAddDocument, onOpenSearch, onOpenSettings }) => {
    const [shortcuts, setShortcuts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});
    const [showHelpPanel, setShowHelpPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [isEnabled, setIsEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);
    const [pressedKeys, setPressedKeys] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());
    const [commandPalette, setCommandPalette] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    // Default shortcuts
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        const defaultShortcuts = {
            'home': {
                key: 'h',
                description: 'Accueil / Dashboard',
                action: () => onNavigate?.('dashboard'),
                category: 'navigation',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"]
            },
            'documents': {
                key: 'd',
                description: 'Liste des documents',
                action: () => onNavigate?.('documents'),
                category: 'navigation',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"]
            },
            'borrowed': {
                key: 'b',
                description: 'Documents empruntés',
                action: () => onNavigate?.('borrowed'),
                category: 'navigation',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"]
            },
            'borrowers': {
                key: 'u',
                description: 'Gestion des emprunteurs',
                action: () => onNavigate?.('borrowers'),
                category: 'navigation',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"]
            },
            'add-document': {
                key: 'n',
                description: 'Nouveau document',
                action: () => onOpenAddDocument?.(),
                category: 'actions',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"],
                modifier: 'ctrl'
            },
            'search': {
                key: 'k',
                description: 'Recherche rapide',
                action: () => setCommandPalette(true),
                category: 'search',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"],
                modifier: 'ctrl'
            },
            'settings': {
                key: ',',
                description: 'Paramètres',
                action: () => onOpenSettings?.(),
                category: 'general',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"],
                modifier: 'ctrl'
            },
            'help': {
                key: '?',
                description: 'Aide et raccourcis',
                action: () => setShowHelpPanel(true),
                category: 'general',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"],
                modifier: 'shift'
            },
            'command-palette': {
                key: 'p',
                description: 'Palette de commandes',
                action: () => setCommandPalette(true),
                category: 'general',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"],
                modifier: 'ctrl'
            }
        };
        setShortcuts(defaultShortcuts);
    }, [onNavigate, onOpenAddDocument, onOpenSearch, onOpenSettings]);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        if (!isEnabled)
            return;
        const handleKeyDown = (event) => {
            // Don't trigger shortcuts when typing in inputs
            if (event.target instanceof HTMLInputElement ||
                event.target instanceof HTMLTextAreaElement ||
                event.target instanceof HTMLSelectElement) {
                return;
            }
            setPressedKeys(prev => new Set([...prev, event.key.toLowerCase()]));
            // Check for modifier combinations
            const key = event.key.toLowerCase();
            const hasCtrl = event.ctrlKey || event.metaKey;
            const hasAlt = event.altKey;
            const hasShift = event.shiftKey;
            // Find matching shortcut
            const matchingShortcut = Object.values(shortcuts).find(shortcut => {
                if (shortcut.key !== key)
                    return false;
                switch (shortcut.modifier) {
                    case 'ctrl':
                        return hasCtrl && !hasAlt && !hasShift;
                    case 'alt':
                        return !hasCtrl && hasAlt && !hasShift;
                    case 'shift':
                        return !hasCtrl && !hasAlt && hasShift;
                    default:
                        return !hasCtrl && !hasAlt && !hasShift;
                }
            });
            if (matchingShortcut) {
                event.preventDefault();
                matchingShortcut.action();
            }
            // ESC to close modals
            if (key === 'escape') {
                setShowHelpPanel(false);
                setCommandPalette(false);
            }
        };
        const handleKeyUp = (event) => {
            setPressedKeys(prev => {
                const newSet = new Set(prev);
                newSet.delete(event.key.toLowerCase());
                return newSet;
            });
        };
        window.addEventListener('keydown', handleKeyDown);
        window.addEventListener('keyup', handleKeyUp);
        return () => {
            window.removeEventListener('keydown', handleKeyDown);
            window.removeEventListener('keyup', handleKeyUp);
        };
    }, [shortcuts, isEnabled]);
    const registerShortcut = (id, shortcut) => {
        setShortcuts(prev => ({ ...prev, [id]: shortcut }));
    };
    const unregisterShortcut = (id) => {
        setShortcuts(prev => {
            const newShortcuts = { ...prev };
            delete newShortcuts[id];
            return newShortcuts;
        });
    };
    const showHelp = () => setShowHelpPanel(true);
    const hideHelp = () => setShowHelpPanel(false);
    // Group shortcuts by category
    const groupedShortcuts = Object.values(shortcuts).reduce((acc, shortcut) => {
        if (!acc[shortcut.category]) {
            acc[shortcut.category] = [];
        }
        acc[shortcut.category].push(shortcut);
        return acc;
    }, {});
    // Filtered shortcuts for command palette
    const filteredShortcuts = Object.values(shortcuts).filter(shortcut => shortcut.description.toLowerCase().includes(searchQuery.toLowerCase()) ||
        shortcut.key.includes(searchQuery.toLowerCase()));
    const categoryLabels = {
        navigation: 'Navigation',
        actions: 'Actions',
        search: 'Recherche',
        general: 'Général'
    };
    const categoryIcons = {
        navigation: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"],
        actions: lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"],
        search: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"],
        general: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"]
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(KeyboardShortcutsContext.Provider, { value: {
            registerShortcut,
            unregisterShortcut,
            showHelp,
            hideHelp,
            isEnabled,
            setEnabled: setIsEnabled
        }, children: [children, showHelpPanel && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "shortcuts-overlay", onClick: () => setShowHelpPanel(false), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "shortcuts-panel", onClick: e => e.stopPropagation(), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "shortcuts-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { children: "Raccourcis Clavier" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Naviguez plus rapidement dans votre biblioth\u00E8que" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: () => setShowHelpPanel(false), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "shortcuts-content", children: Object.entries(groupedShortcuts).map(([category, categoryShortcuts]) => {
                                const Icon = categoryIcons[category];
                                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "shortcuts-category", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "category-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Icon, { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: categoryLabels[category] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "shortcuts-list", children: categoryShortcuts.map((shortcut, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "shortcut-item", children: [shortcut.icon && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(shortcut.icon, { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "shortcut-description", children: shortcut.description }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "shortcut-keys", children: [shortcut.modifier && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("kbd", { className: "key-modifier", children: shortcut.modifier === 'ctrl' ? '⌘' : shortcut.modifier })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("kbd", { className: "key", children: shortcut.key.toUpperCase() })] })] }, index))) })] }, category));
                            }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "shortcuts-footer", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "toggle-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `toggle-button ${isEnabled ? 'enabled' : 'disabled'}`, onClick: () => setIsEnabled(!isEnabled), children: [isEnabled ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 16 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16 }), isEnabled ? 'Raccourcis activés' : 'Raccourcis désactivés'] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "shortcuts-tip", children: ["\uD83D\uDCA1 Astuce: Utilisez ", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("kbd", { children: "Ctrl" }), " + ", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("kbd", { children: "K" }), " pour la palette de commandes"] })] })] }) })), commandPalette && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "command-palette-overlay", onClick: () => setCommandPalette(false), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "command-palette", onClick: e => e.stopPropagation(), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "command-search", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", placeholder: "Tapez une commande ou recherchez...", value: searchQuery, onChange: (e) => setSearchQuery(e.target.value), autoFocus: true }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("kbd", { className: "escape-hint", children: "ESC" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "command-results", children: filteredShortcuts.length > 0 ? (filteredShortcuts.map((shortcut, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "command-item", onClick: () => {
                                    shortcut.action();
                                    setCommandPalette(false);
                                    setSearchQuery('');
                                }, children: [shortcut.icon && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(shortcut.icon, { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "command-description", children: shortcut.description }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "command-keys", children: [shortcut.modifier && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("kbd", { className: "key-modifier", children: shortcut.modifier === 'ctrl' ? '⌘' : shortcut.modifier })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("kbd", { className: "key", children: shortcut.key.toUpperCase() })] })] }, index)))) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "no-results", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 32 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { children: ["Aucune commande trouv\u00E9e pour \"", searchQuery, "\""] })] })) })] }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        /* Shortcuts Help Panel */
        .shortcuts-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.6);
          backdrop-filter: blur(8px);
          z-index: 10000;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 20px;
          animation: fadeIn 0.3s ease;
        }

        .shortcuts-panel {
          background: white;
          border-radius: 20px;
          width: 100%;
          max-width: 800px;
          max-height: 90vh;
          overflow: hidden;
          box-shadow: 0 32px 64px rgba(0, 0, 0, 0.2);
          animation: slideUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .shortcuts-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 32px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: white;
        }

        .header-content {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .header-content h2 {
          margin: 0 0 4px 0;
          font-size: 24px;
          font-weight: 700;
        }

        .header-content p {
          margin: 0;
          opacity: 0.9;
          font-size: 14px;
        }

        .close-button {
          background: rgba(255, 255, 255, 0.2);
          border: none;
          border-radius: 10px;
          padding: 10px;
          color: white;
          cursor: pointer;
          transition: background 0.2s ease;
          z-index: 1001;
        }

        .close-button:hover {
          background: rgba(255, 255, 255, 0.3);
        }

        .shortcuts-content {
          padding: 32px;
          max-height: 60vh;
          overflow-y: auto;
        }

        .shortcuts-category {
          margin-bottom: 32px;
        }

        .category-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 16px;
          color: #374151;
        }

        .category-header h3 {
          margin: 0;
          font-size: 18px;
          font-weight: 600;
        }

        .shortcuts-list {
          display: grid;
          gap: 12px;
        }

        .shortcut-item {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px 16px;
          background: rgba(248, 246, 240, 0.6);
          border-radius: 12px;
          border: 1px solid rgba(229, 220, 194, 0.4);
        }

        .shortcut-description {
          flex: 1;
          font-size: 14px;
          color: #374151;
          font-weight: 500;
        }

        .shortcut-keys {
          display: flex;
          gap: 4px;
        }

        .key, .key-modifier {
          background: #374151;
          color: white;
          padding: 4px 8px;
          border-radius: 6px;
          font-size: 12px;
          font-weight: 600;
          font-family: monospace;
          min-width: 24px;
          text-align: center;
        }

        .key-modifier {
          background: #6B7280;
        }

        .shortcuts-footer {
          padding: 24px 32px;
          background: rgba(248, 246, 240, 0.4);
          border-top: 1px solid rgba(229, 220, 194, 0.4);
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .toggle-button {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 20px;
          border: none;
          border-radius: 10px;
          cursor: pointer;
          font-weight: 600;
          transition: all 0.2s ease;
        }

        .toggle-button.enabled {
          background: #10B981;
          color: white;
        }

        .toggle-button.disabled {
          background: #EF4444;
          color: white;
        }

        .shortcuts-tip {
          margin: 0;
          font-size: 14px;
          color: #6B7280;
        }

        /* Command Palette */
        .command-palette-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.4);
          backdrop-filter: blur(4px);
          z-index: 10001;
          display: flex;
          align-items: flex-start;
          justify-content: center;
          padding-top: 120px;
          animation: fadeIn 0.2s ease;
        }

        .command-palette {
          background: white;
          border-radius: 16px;
          width: 100%;
          max-width: 600px;
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
          overflow: hidden;
          animation: slideDown 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .command-search {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 20px;
          border-bottom: 1px solid rgba(229, 220, 194, 0.4);
        }

        .command-search input {
          flex: 1;
          border: none;
          outline: none;
          font-size: 16px;
          color: #374151;
          background: transparent;
        }

        .command-search input::placeholder {
          color: #9CA3AF;
        }

        .escape-hint {
          background: #F3F4F6;
          color: #6B7280;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 11px;
          font-weight: 600;
        }

        .command-results {
          max-height: 400px;
          overflow-y: auto;
        }

        .command-item {
          display: flex;
          align-items: center;
          gap: 12px;
          width: 100%;
          padding: 16px 20px;
          border: none;
          background: transparent;
          text-align: left;
          cursor: pointer;
          transition: background 0.2s ease;
          border-bottom: 1px solid rgba(229, 220, 194, 0.2);
        }

        .command-item:hover {
          background: rgba(62, 92, 73, 0.05);
        }

        .command-item:last-child {
          border-bottom: none;
        }

        .command-description {
          flex: 1;
          font-size: 14px;
          color: #374151;
          font-weight: 500;
        }

        .command-keys {
          display: flex;
          gap: 4px;
        }

        .no-results {
          padding: 40px 20px;
          text-align: center;
          color: #9CA3AF;
        }

        .no-results p {
          margin: 12px 0 0 0;
          font-size: 14px;
        }

        /* Animations */
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }

        @keyframes slideUp {
          from { 
            opacity: 0;
            transform: translateY(32px) scale(0.95);
          }
          to { 
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        @keyframes slideDown {
          from { 
            opacity: 0;
            transform: translateY(-20px);
          }
          to { 
            opacity: 1;
            transform: translateY(0);
          }
        }

        /* Responsive */
        @media (max-width: 768px) {
          .shortcuts-panel {
            margin: 10px;
            max-height: calc(100vh - 20px);
          }

          .shortcuts-header {
            padding: 20px;
          }

          .shortcuts-content {
            padding: 20px;
          }

          .shortcuts-footer {
            padding: 16px 20px;
            flex-direction: column;
            gap: 16px;
            text-align: center;
          }

          .command-palette-overlay {
            padding-top: 60px;
            padding-left: 10px;
            padding-right: 10px;
          }

          .shortcut-item {
            flex-direction: column;
            align-items: flex-start;
            gap: 8px;
          }

          .shortcut-keys {
            align-self: flex-end;
          }
        }

        /* High contrast mode */
        @media (prefers-contrast: high) {
          .shortcuts-panel,
          .command-palette {
            border: 2px solid #000;
          }

          .shortcut-item,
          .command-item {
            border: 1px solid #ccc;
          }

          .key, .key-modifier {
            border: 1px solid #000;
          }
        }

        /* Reduced motion */
        @media (prefers-reduced-motion: reduce) {
          .shortcuts-overlay,
          .command-palette-overlay,
          .shortcuts-panel,
          .command-palette,
          .shortcut-item,
          .command-item,
          .toggle-button {
            animation: none;
            transition: none;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/MicroInteractions.tsx":
/*!*******************************************************!*\
  !*** ./src/renderer/components/MicroInteractions.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FloatingButton: () => (/* binding */ FloatingButton),
/* harmony export */   MicroButton: () => (/* binding */ MicroButton),
/* harmony export */   MicroCard: () => (/* binding */ MicroCard),
/* harmony export */   MicroLoader: () => (/* binding */ MicroLoader),
/* harmony export */   ParticleSystem: () => (/* binding */ ParticleSystem),
/* harmony export */   useMicroInteractions: () => (/* binding */ useMicroInteractions)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);


// Hook pour gérer les micro-interactions
const useMicroInteractions = () => {
    const [isHovered, setIsHovered] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [isPressed, setIsPressed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [isAnimating, setIsAnimating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const triggerSuccess = () => {
        setIsAnimating(true);
        setTimeout(() => setIsAnimating(false), 600);
    };
    return {
        isHovered,
        isPressed,
        isAnimating,
        setIsHovered,
        setIsPressed,
        triggerSuccess,
        animationProps: {
            onMouseEnter: () => setIsHovered(true),
            onMouseLeave: () => setIsHovered(false),
            onMouseDown: () => setIsPressed(true),
            onMouseUp: () => setIsPressed(false),
        }
    };
};
const ParticleSystem = ({ isActive, color = '#10B981', count = 8 }) => {
    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        if (isActive && containerRef.current) {
            const particles = Array.from({ length: count }, (_, i) => {
                const particle = document.createElement('div');
                particle.className = 'micro-particle';
                particle.style.cssText = `
          position: absolute;
          width: 6px;
          height: 6px;
          background: ${color};
          border-radius: 50%;
          pointer-events: none;
          z-index: 1000;
        `;
                const angle = (360 / count) * i;
                const distance = 30 + Math.random() * 20;
                const endX = Math.cos(angle * Math.PI / 180) * distance;
                const endY = Math.sin(angle * Math.PI / 180) * distance;
                particle.animate([
                    {
                        transform: 'translate(0, 0) scale(0)',
                        opacity: 1
                    },
                    {
                        transform: `translate(${endX}px, ${endY}px) scale(1)`,
                        opacity: 0
                    }
                ], {
                    duration: 600,
                    easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                });
                containerRef.current?.appendChild(particle);
                setTimeout(() => {
                    particle.remove();
                }, 600);
            });
        }
    }, [isActive, color, count]);
    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { ref: containerRef, className: "particle-container" });
};
const MicroButton = ({ children, onClick, variant = 'primary', size = 'medium', icon: Icon, disabled = false, className = '' }) => {
    const { isHovered, isPressed, isAnimating, animationProps, triggerSuccess } = useMicroInteractions();
    const [showParticles, setShowParticles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const handleClick = () => {
        if (disabled)
            return;
        setShowParticles(true);
        triggerSuccess();
        onClick?.();
        setTimeout(() => setShowParticles(false), 100);
    };
    const getVariantColors = () => {
        switch (variant) {
            case 'primary':
                return {
                    bg: '#3E5C49',
                    hover: '#2E453A',
                    particles: '#10B981'
                };
            case 'secondary':
                return {
                    bg: '#F3F4F6',
                    hover: '#E5E7EB',
                    particles: '#6B7280'
                };
            case 'success':
                return {
                    bg: '#10B981',
                    hover: '#059669',
                    particles: '#34D399'
                };
            case 'danger':
                return {
                    bg: '#EF4444',
                    hover: '#DC2626',
                    particles: '#F87171'
                };
            default:
                return {
                    bg: '#3E5C49',
                    hover: '#2E453A',
                    particles: '#10B981'
                };
        }
    };
    const colors = getVariantColors();
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `micro-button ${className}`, onClick: handleClick, disabled: disabled, ...animationProps, style: {
            '--button-bg': colors.bg,
            '--button-hover': colors.hover,
            '--button-particles': colors.particles,
            '--scale': isPressed ? '0.95' : isHovered ? '1.02' : '1',
            '--shadow': isHovered ? '0 8px 25px rgba(0, 0, 0, 0.15)' : '0 2px 10px rgba(0, 0, 0, 0.1)',
            '--brightness': isPressed ? '0.9' : '1'
        }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "button-content", children: [Icon && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `button-icon ${isAnimating ? 'success-bounce' : ''}`, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Icon, { size: size === 'small' ? 14 : size === 'large' ? 20 : 16 }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "button-text", children: children })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ParticleSystem, { isActive: showParticles, color: colors.particles }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `ripple-effect ${isPressed ? 'active' : ''}` }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .micro-button {
          position: relative;
          background: var(--button-bg);
          color: ${variant === 'secondary' ? '#374151' : 'white'};
          border: none;
          border-radius: 12px;
          padding: ${size === 'small' ? '8px 16px' : size === 'large' ? '16px 24px' : '12px 20px'};
          font-size: ${size === 'small' ? '14px' : size === 'large' ? '16px' : '15px'};
          font-weight: 600;
          cursor: ${disabled ? 'not-allowed' : 'pointer'};
          overflow: hidden;
          transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          transform: scale(var(--scale));
          box-shadow: var(--shadow);
          filter: brightness(var(--brightness));
          opacity: ${disabled ? '0.6' : '1'};
        }

        .micro-button:hover:not(:disabled) {
          background: var(--button-hover);
        }

        .button-content {
          display: flex;
          align-items: center;
          gap: 8px;
          position: relative;
          z-index: 1;
        }

        .button-icon {
          display: flex;
          align-items: center;
          justify-content: center;
          transition: transform 0.2s ease;
        }

        .button-icon.success-bounce {
          animation: successBounce 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .button-text {
          position: relative;
        }

        .ripple-effect {
          position: absolute;
          top: 50%;
          left: 50%;
          width: 0;
          height: 0;
          background: rgba(255, 255, 255, 0.3);
          border-radius: 50%;
          transform: translate(-50%, -50%);
          transition: all 0.3s ease;
          pointer-events: none;
        }

        .ripple-effect.active {
          width: 300px;
          height: 300px;
        }

        .particle-container {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          pointer-events: none;
        }

        @keyframes successBounce {
          0% { transform: scale(1); }
          50% { transform: scale(1.2) rotate(5deg); }
          100% { transform: scale(1) rotate(0deg); }
        }

        /* Glow effect pour les boutons primaires */
        .micro-button.primary:hover:not(:disabled) {
          box-shadow: 
            var(--shadow),
            0 0 20px rgba(62, 92, 73, 0.3);
        }

        /* Animation de pulse pour les boutons success */
        .micro-button.success {
          animation: ${isAnimating ? 'successPulse 0.6s ease' : 'none'};
        }

        @keyframes successPulse {
          0% { transform: scale(1); }
          50% { transform: scale(1.05); box-shadow: 0 0 30px rgba(16, 185, 129, 0.4); }
          100% { transform: scale(1); }
        }
      ` })] }));
};
const MicroCard = ({ children, onClick, className = '', hoverable = true }) => {
    const { isHovered, animationProps } = useMicroInteractions();
    const [mousePosition, setMousePosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({ x: 0, y: 0 });
    const handleMouseMove = (e) => {
        if (!hoverable)
            return;
        const rect = e.currentTarget.getBoundingClientRect();
        setMousePosition({
            x: e.clientX - rect.left,
            y: e.clientY - rect.top
        });
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `micro-card ${className} ${onClick ? 'clickable' : ''}`, onClick: onClick, onMouseMove: handleMouseMove, ...(hoverable ? animationProps : {}), style: {
            '--mouse-x': `${mousePosition.x}px`,
            '--mouse-y': `${mousePosition.y}px`,
            '--scale': isHovered ? '1.02' : '1',
            '--shadow': isHovered
                ? '0 20px 40px rgba(0, 0, 0, 0.12)'
                : '0 4px 20px rgba(0, 0, 0, 0.08)',
            '--border-opacity': isHovered ? '0.3' : '0.1'
        }, children: [hoverable && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `card-glow ${isHovered ? 'active' : ''}`, style: {
                    background: `radial-gradient(300px circle at var(--mouse-x) var(--mouse-y), rgba(62, 92, 73, 0.1), transparent 40%)`
                } })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "card-content", children: children }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .micro-card {
          position: relative;
          background: white;
          border-radius: 16px;
          border: 1px solid rgba(229, 220, 194, var(--border-opacity, 0.1));
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          transform: scale(var(--scale));
          box-shadow: var(--shadow);
          overflow: hidden;
        }

        .micro-card.clickable {
          cursor: pointer;
        }

        .card-glow {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          opacity: 0;
          transition: opacity 0.3s ease;
          pointer-events: none;
        }

        .card-glow.active {
          opacity: 1;
        }

        .card-content {
          position: relative;
          z-index: 1;
        }

        /* Animation d'apparition */
        .micro-card {
          animation: cardSlideIn 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        @keyframes cardSlideIn {
          from {
            opacity: 0;
            transform: translateY(20px) scale(0.95);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
      ` })] }));
};
const FloatingButton = ({ icon: Icon, onClick, tooltip, color = '#3E5C49' }) => {
    const { isHovered, isPressed, animationProps } = useMicroInteractions();
    const [showTooltip, setShowTooltip] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "floating-button-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "floating-button", onClick: onClick, onMouseEnter: () => {
                    animationProps.onMouseEnter();
                    if (tooltip)
                        setShowTooltip(true);
                }, onMouseLeave: () => {
                    animationProps.onMouseLeave();
                    setShowTooltip(false);
                }, onMouseDown: animationProps.onMouseDown, onMouseUp: animationProps.onMouseUp, style: {
                    '--button-color': color,
                    '--scale': isPressed ? '0.9' : isHovered ? '1.1' : '1',
                    '--shadow': isHovered
                        ? `0 12px 30px ${color}40`
                        : `0 6px 20px ${color}20`,
                    '--rotation': isHovered ? '5deg' : '0deg'
                }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Icon, { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `pulse-ring ${isHovered ? 'active' : ''}` })] }), tooltip && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `floating-tooltip ${showTooltip ? 'visible' : ''}`, children: tooltip })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .floating-button-container {
          position: relative;
        }

        .floating-button {
          position: relative;
          width: 56px;
          height: 56px;
          background: var(--button-color);
          color: white;
          border: none;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          transform: scale(var(--scale)) rotate(var(--rotation));
          box-shadow: var(--shadow);
          overflow: hidden;
        }

        .pulse-ring {
          position: absolute;
          top: 50%;
          left: 50%;
          width: 100%;
          height: 100%;
          border: 2px solid var(--button-color);
          border-radius: 50%;
          transform: translate(-50%, -50%) scale(0);
          opacity: 0;
          transition: all 0.3s ease;
        }

        .pulse-ring.active {
          transform: translate(-50%, -50%) scale(1.5);
          opacity: 0.3;
        }

        .floating-tooltip {
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%) translateY(-8px);
          background: rgba(0, 0, 0, 0.8);
          color: white;
          padding: 8px 12px;
          border-radius: 6px;
          font-size: 12px;
          font-weight: 500;
          white-space: nowrap;
          opacity: 0;
          visibility: hidden;
          transition: all 0.2s ease;
          pointer-events: none;
          z-index: 1000;
        }

        .floating-tooltip.visible {
          opacity: 1;
          visibility: visible;
          transform: translateX(-50%) translateY(-12px);
        }

        .floating-tooltip::after {
          content: '';
          position: absolute;
          top: 100%;
          left: 50%;
          transform: translateX(-50%);
          border: 4px solid transparent;
          border-top-color: rgba(0, 0, 0, 0.8);
        }
      ` })] }));
};
// Loading avec micro-interactions
const MicroLoader = ({ size = 24, color = '#3E5C49' }) => {
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "micro-loader", style: { width: size, height: size }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "loader-ring", style: { borderColor: `${color}20`, borderTopColor: color } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "loader-pulse", style: { backgroundColor: `${color}30` } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .micro-loader {
          position: relative;
          display: inline-block;
        }

        .loader-ring {
          width: 100%;
          height: 100%;
          border: 2px solid;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        .loader-pulse {
          position: absolute;
          top: 50%;
          left: 50%;
          width: 60%;
          height: 60%;
          border-radius: 50%;
          transform: translate(-50%, -50%);
          animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        @keyframes pulse {
          0%, 100% { 
            transform: translate(-50%, -50%) scale(0.8);
            opacity: 1;
          }
          50% { 
            transform: translate(-50%, -50%) scale(1.2);
            opacity: 0.3;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/PrintManager.tsx":
/*!**************************************************!*\
  !*** ./src/renderer/components/PrintManager.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PrintManager: () => (/* binding */ PrintManager)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/file-text.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/bar-chart-3.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/printer.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/download.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/zap.mjs");
/* harmony import */ var _ExportDialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ExportDialog */ "./src/renderer/components/ExportDialog.tsx");




const PrintManager = ({ documents, stats, onClose }) => {
    const [selectedType, setSelectedType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('inventory');
    const [isProcessing, setIsProcessing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [showExportDialog, setShowExportDialog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [institutionSettings, setInstitutionSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        name: 'Bibliothèque Numérique',
        address: '',
        city: '',
        country: '',
        phone: '',
        email: '',
        website: '',
        logo: '',
        description: 'Système de gestion de bibliothèque moderne'
    });
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        // Charger les informations de l'institution depuis les données de connexion
        const loadInstitutionSettings = () => {
            try {
                // D'abord essayer de récupérer les données de l'utilisateur connecté
                const currentUser = localStorage.getItem('currentUser');
                if (currentUser) {
                    const user = JSON.parse(currentUser);
                    if (user.institutionCode) {
                        // Chercher l'institution correspondante dans LocalAuthService
                        const institutions = JSON.parse(localStorage.getItem('local_institutions') || '[]');
                        const userInstitution = institutions.find((inst) => inst.code === user.institutionCode);
                        if (userInstitution) {
                            setInstitutionSettings({
                                name: userInstitution.name || 'Bibliothèque Numérique',
                                address: userInstitution.address || '',
                                city: userInstitution.city || '',
                                country: userInstitution.country || '',
                                phone: userInstitution.phone || '',
                                email: userInstitution.email || '',
                                website: userInstitution.website || '',
                                logo: userInstitution.logo || '',
                                description: userInstitution.description || 'Système de gestion de bibliothèque moderne'
                            });
                            return;
                        }
                    }
                }
                // Fallback vers les paramètres stockés si aucune institution de connexion n'est trouvée
                const stored = localStorage.getItem('institutionSettings');
                if (stored) {
                    const parsed = JSON.parse(stored);
                    setInstitutionSettings(prev => ({ ...prev, ...parsed }));
                }
            }
            catch (error) {
                console.error('Erreur lors du chargement des paramètres d\'institution:', error);
            }
        };
        loadInstitutionSettings();
    }, []);
    const printOptions = [
        {
            id: 'inventory',
            title: 'Inventaire Complet',
            description: 'Liste détaillée de tous les documents avec statuts',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"],
            color: '#3E5C49',
            gradient: 'linear-gradient(135deg, #3E5C49 0%, #2E453A 100%)',
            count: documents.length,
            features: ['Informations complètes', 'Statuts des emprunts', 'Métadonnées']
        },
        {
            id: 'available',
            title: 'Documents Disponibles',
            description: 'Collection des ouvrages disponibles à l\'emprunt',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"],
            color: '#3E5C49',
            gradient: 'linear-gradient(135deg, #3E5C49 0%, #4A6B57 100%)',
            count: documents.filter(doc => !doc.estEmprunte).length,
            features: ['Documents en rayon', 'Prêts à emprunter', 'Tri par catégorie']
        },
        {
            id: 'borrowed',
            title: 'Documents Empruntés',
            description: 'Suivi des emprunts en cours avec emprunteurs',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"],
            color: '#C2571B',
            gradient: 'linear-gradient(135deg, #C2571B 0%, #A8481A 100%)',
            count: documents.filter(doc => doc.estEmprunte).length,
            features: ['Noms des emprunteurs', 'Dates d\'emprunt', 'Alertes retard']
        }
    ];
    const showMessage = (type, text) => {
        setMessage({ type, text });
        setTimeout(() => setMessage(null), 5000);
    };
    const handlePrint = async () => {
        setIsProcessing(true);
        try {
            const printData = {
                documents,
                stats,
                institution: institutionSettings
            };
            let success = false;
            switch (selectedType) {
                case 'inventory':
                    success = await window.electronAPI.printInventory(printData);
                    break;
                case 'available':
                    success = await window.electronAPI.printAvailableBooks(printData);
                    break;
                case 'borrowed':
                    success = await window.electronAPI.printBorrowedBooks(printData);
                    break;
            }
            if (success) {
                showMessage('success', 'Document envoyé à l\'imprimante avec succès');
            }
            else {
                showMessage('error', 'Erreur lors de l\'impression');
            }
        }
        catch (error) {
            console.error('Print error:', error);
            showMessage('error', 'Erreur lors de l\'impression');
        }
        finally {
            setIsProcessing(false);
        }
    };
    const handleExport = async (config) => {
        setIsProcessing(true);
        try {
            const result = await window.electronAPI.exportAdvanced(config);
            if (result.success && result.path) {
                const fileName = result.path.split(/[/\\]/).pop();
                showMessage('success', `Fichier exporté avec succès : ${fileName}`);
            }
            else if (result.cancelled) {
                // User cancelled the export
                return;
            }
            else {
                showMessage('error', `Erreur lors de l'export : ${result.error || 'Erreur inconnue'}`);
            }
        }
        catch (error) {
            console.error('Export error:', error);
            showMessage('error', 'Erreur lors de l\'export des données');
        }
        finally {
            setIsProcessing(false);
        }
    };
    const getPreviewData = () => {
        switch (selectedType) {
            case 'inventory':
                return {
                    title: 'Inventaire Complet',
                    items: documents,
                    description: `${documents.length} document(s) au total`,
                    icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"]
                };
            case 'available':
                return {
                    title: 'Documents Disponibles',
                    items: documents.filter(doc => !doc.estEmprunte),
                    description: `${documents.filter(doc => !doc.estEmprunte).length} document(s) disponible(s)`,
                    icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"]
                };
            case 'borrowed':
                return {
                    title: 'Documents Empruntés',
                    items: documents.filter(doc => doc.estEmprunte),
                    description: `${documents.filter(doc => doc.estEmprunte).length} document(s) emprunté(s)`,
                    icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"]
                };
        }
    };
    const previewData = getPreviewData();
    const selectedOption = printOptions.find(opt => opt.id === selectedType);
    if (!selectedOption) {
        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: "Erreur: option s\u00E9lectionn\u00E9e invalide" });
    }
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "print-manager-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "print-manager-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 28 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "modal-title", children: "Impression & Export" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "modal-subtitle", children: "G\u00E9n\u00E9rez des rapports professionnels de votre biblioth\u00E8que" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: onClose, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 20 }) })] }), message && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `message ${message.type}`, children: [message.type === 'success' ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 20 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: message.text })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "options-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Choisir le type de rapport" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "section-description", children: "S\u00E9lectionnez le contenu \u00E0 inclure dans votre document" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "print-options", children: printOptions.map((option) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `option-card ${selectedType === option.id ? 'selected' : ''}`, onClick: () => setSelectedType(option.id), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "option-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "option-icon", style: { background: option.gradient }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(option.icon, { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "option-badge", children: [option.count, " \u00E9l\u00E9ment", option.count > 1 ? 's' : ''] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "option-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "option-title", children: option.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "option-description", children: option.description }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "option-features", children: option.features.map((feature, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "feature-tag", children: feature }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "option-indicator", children: selectedType === option.id && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 16 }) })] }, option.id))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-title-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "section-title", children: "Aper\u00E7u du contenu" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-stats", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(previewData.icon, { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: previewData.description })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "preview-button", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 16 }), "Pr\u00E9visualiser"] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "institution-header", children: [institutionSettings.logo && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "institution-logo", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img", { src: institutionSettings.logo, alt: "Logo" }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "institution-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "institution-name", children: institutionSettings.name }), institutionSettings.address && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "institution-address", children: [institutionSettings.address, ", ", institutionSettings.city] })), institutionSettings.phone && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "institution-contact", children: ["T\u00E9l: ", institutionSettings.phone, institutionSettings.email && ` • ${institutionSettings.email}`] }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "report-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "preview-icon", style: { background: selectedOption?.gradient }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(selectedOption.icon, { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "preview-title", children: previewData.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", { className: "preview-subtitle", children: ["G\u00E9n\u00E9r\u00E9 le ", new Date().toLocaleDateString('fr-FR')] })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "preview-content", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "preview-table", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "table-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-cell", children: "Titre" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-cell", children: "Auteur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-cell", children: "Cat\u00E9gorie" }), selectedType === 'borrowed' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-cell", children: "Emprunteur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-cell", children: "Date" })] })), selectedType !== 'borrowed' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-cell", children: "Statut" }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "table-body", children: [previewData.items.slice(0, 4).map((doc, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "table-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "table-cell", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "cell-content", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "book-title", children: doc.titre }) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "table-cell", children: doc.auteur }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "table-cell", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "category-badge", children: doc.descripteurs }) }), selectedType === 'borrowed' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "table-cell", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong", { children: doc.nomEmprunteur || '-' }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "table-cell", children: doc.dateEmprunt ? new Date(doc.dateEmprunt).toLocaleDateString('fr-FR') : '-' })] })), selectedType !== 'borrowed' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "table-cell", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: `status-badge ${doc.estEmprunte ? 'borrowed' : 'available'}`, children: doc.estEmprunte ? 'Emprunté' : 'Disponible' }) }))] }, index))), previewData.items.length > 4 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "table-row more-items", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "table-cell more-text", children: ["... et ", previewData.items.length - 4, " autre(s) \u00E9l\u00E9ment(s)"] }) }))] })] }) })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-footer", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "footer-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Format PDF professionnel" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Export Excel/CSV pour donn\u00E9es" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "footer-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "btn-secondary", onClick: () => setShowExportDialog(true), disabled: isProcessing, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 18 }), isProcessing ? 'Export...' : 'Exporter Données'] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "btn-primary", onClick: handlePrint, disabled: isProcessing, children: isProcessing ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 18 }), "G\u00E9n\u00E9ration..."] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 18 }), "Imprimer"] })) })] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .print-manager-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(46, 46, 46, 0.7);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }
        
        .print-manager-modal {
          background: #FFFFFF;
          border-radius: 24px;
          width: 100%;
          max-width: 1000px;
          max-height: 90vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          box-shadow: 
            0 24px 48px rgba(62, 92, 73, 0.2),
            0 8px 24px rgba(62, 92, 73, 0.12);
          border: 1px solid rgba(229, 220, 194, 0.3);
        }
        
        .modal-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 32px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          position: relative;
          overflow: hidden;
        }
        
        .modal-header::before {
          content: '';
          position: absolute;
          top: 0;
          right: 0;
          width: 200px;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.1));
          transform: skewX(-15deg);
          transform-origin: top;
        }
        
        .header-content {
          display: flex;
          align-items: center;
          gap: 20px;
          position: relative;
          z-index: 1;
        }
        
        .header-icon {
          width: 56px;
          height: 56px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          backdrop-filter: blur(10px);
        }
        
        .modal-title {
          font-size: 24px;
          font-weight: 800;
          margin: 0 0 4px 0;
          letter-spacing: -0.3px;
        }
        
        .modal-subtitle {
          font-size: 14px;
          opacity: 0.9;
          margin: 0;
          line-height: 1.4;
        }
        
        .close-button {
          background: rgba(243, 238, 217, 0.15);
          border: 1px solid rgba(243, 238, 217, 0.3);
          color: #F3EED9;
          padding: 12px;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.3s ease;
          position: relative;
          z-index: 1;
        }
        
        .close-button:hover {
          background: rgba(243, 238, 217, 0.25);
          transform: scale(1.05);
        }
        
        .message {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px 32px;
          font-size: 14px;
          font-weight: 600;
          border-bottom: 1px solid #E5DCC2;
        }
        
        .message.success {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }
        
        .message.error {
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
        }
        
        .modal-content {
          flex: 1;
          overflow-y: auto;
          padding: 32px;
          display: flex;
          flex-direction: column;
          gap: 40px;
        }
        
        .section-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 24px;
        }
        
        .section-title {
          font-size: 20px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 4px 0;
        }
        
        .section-description {
          font-size: 14px;
          color: #6E6E6E;
          margin: 0;
        }
        
        .preview-title-section {
          flex: 1;
        }
        
        .preview-stats {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          color: #6E6E6E;
          margin-top: 4px;
        }
        
        .preview-button {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 8px 16px;
          background: #F3EED9;
          border: 1px solid #E5DCC2;
          border-radius: 8px;
          color: #6E6E6E;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
        }
        
        .preview-button:hover {
          background: #EAEADC;
          color: #2E2E2E;
        }
        
        .print-options {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 20px;
        }
        
        .option-card {
          background: #FFFFFF;
          border: 2px solid #E5DCC2;
          border-radius: 16px;
          padding: 24px;
          cursor: pointer;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          position: relative;
          overflow: hidden;
        }
        
        .option-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, transparent 0%, rgba(62, 92, 73, 0.02) 100%);
          opacity: 0;
          transition: opacity 0.3s ease;
        }
        
        .option-card:hover::before {
          opacity: 1;
        }
        
        .option-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 12px 32px rgba(62, 92, 73, 0.15);
          border-color: #3E5C49;
        }
        
        .option-card.selected {
          border-color: #3E5C49;
          background: rgba(62, 92, 73, 0.02);
          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.12);
        }
        
        .option-card.selected::before {
          opacity: 1;
        }
        
        .option-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 16px;
        }
        
        .option-icon {
          width: 48px;
          height: 48px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
        }
        
        .option-badge {
          background: #F3EED9;
          color: #6E6E6E;
          padding: 4px 12px;
          border-radius: 20px;
          font-size: 12px;
          font-weight: 600;
        }
        
        .option-title {
          font-size: 18px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 8px 0;
        }
        
        .option-description {
          font-size: 14px;
          color: #6E6E6E;
          margin: 0 0 16px 0;
          line-height: 1.5;
        }
        
        .option-features {
          display: flex;
          flex-wrap: wrap;
          gap: 8px;
        }
        
        .feature-tag {
          background: #F3EED9;
          color: #6E6E6E;
          padding: 4px 8px;
          border-radius: 8px;
          font-size: 11px;
          font-weight: 500;
        }
        
        .option-indicator {
          position: absolute;
          top: 16px;
          right: 16px;
          width: 24px;
          height: 24px;
          background: #3E5C49;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          opacity: 0;
          transform: scale(0.8);
          transition: all 0.3s ease;
        }
        
        .option-card.selected .option-indicator {
          opacity: 1;
          transform: scale(1);
        }
        
        .preview-card {
          background: #FEFEFE;
          border: 1px solid #E5DCC2;
          border-radius: 16px;
          overflow: hidden;
        }
        
        .preview-header {
          padding: 24px;
          background: #F3EED9;
        }

        .institution-header {
          display: flex;
          align-items: flex-start;
          gap: 16px;
          margin-bottom: 20px;
          padding-bottom: 16px;
          border-bottom: 1px solid rgba(229, 220, 194, 0.5);
        }

        .institution-logo {
          width: 60px;
          height: 60px;
          border-radius: 12px;
          overflow: hidden;
          border: 2px solid #E5DCC2;
          background: #FFFFFF;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }

        .institution-logo img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .institution-info {
          flex: 1;
        }

        .institution-name {
          font-size: 18px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 4px 0;
        }

        .institution-address {
          font-size: 13px;
          color: #6E6E6E;
          margin: 0 0 2px 0;
        }

        .institution-contact {
          font-size: 12px;
          color: #6E6E6E;
          margin: 0;
        }

        .report-header {
          display: flex;
          align-items: center;
          gap: 16px;
          border-bottom: 1px solid #E5DCC2;
        }
        
        .preview-icon {
          width: 40px;
          height: 40px;
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
        }
        
        .preview-title {
          font-size: 16px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 2px 0;
        }
        
        .preview-subtitle {
          font-size: 12px;
          color: #6E6E6E;
          margin: 0;
        }
        
        .preview-content {
          padding: 24px;
        }
        
        .preview-table {
          background: #FFFFFF;
          border-radius: 12px;
          overflow: hidden;
          border: 1px solid #E5DCC2;
        }
        
        .table-header {
          display: grid;
          grid-template-columns: 2fr 1.5fr 1fr 1fr 1fr;
          background: #F3EED9;
          border-bottom: 1px solid #E5DCC2;
        }
        
        .header-cell {
          padding: 16px 20px;
          font-size: 12px;
          font-weight: 700;
          color: #2E2E2E;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        
        .table-body {
          max-height: 240px;
          overflow-y: auto;
        }
        
        .table-row {
          display: grid;
          grid-template-columns: 2fr 1.5fr 1fr 1fr 1fr;
          border-bottom: 1px solid #F3EED9;
          transition: background 0.2s ease;
        }
        
        .table-row:hover {
          background: #FEFEFE;
        }
        
        .table-row:last-child {
          border-bottom: none;
        }
        
        .table-row.more-items {
          grid-template-columns: 1fr;
          background: #F3EED9;
        }
        
        .table-cell {
          padding: 16px 20px;
          font-size: 14px;
          color: #2E2E2E;
          display: flex;
          align-items: center;
          overflow: hidden;
        }
        
        .cell-content {
          width: 100%;
        }
        
        .book-title {
          font-weight: 600;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        
        .more-text {
          text-align: center;
          font-style: italic;
          color: #6E6E6E;
          justify-content: center;
        }
        
        .category-badge {
          background: #3E5C49;
          color: #F3EED9;
          padding: 4px 10px;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 600;
        }
        
        .status-badge {
          padding: 4px 10px;
          border-radius: 12px;
          font-size: 11px;
          font-weight: 600;
        }
        
        .status-badge.available {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }
        
        .status-badge.borrowed {
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
        }
        
        .modal-footer {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 24px 32px;
          border-top: 1px solid #E5DCC2;
          background: #FEFEFE;
        }
        
        .footer-info {
          display: flex;
          gap: 32px;
        }
        
        .info-item {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 12px;
          color: #6E6E6E;
        }
        
        .footer-actions {
          display: flex;
          gap: 12px;
        }
        
        .btn-secondary, .btn-primary {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 16px 24px;
          border-radius: 12px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
          border: none;
          position: relative;
          overflow: hidden;
        }
        
        .btn-secondary {
          background: #F3EED9;
          color: #6E6E6E;
          border: 2px solid #E5DCC2;
        }
        
        .btn-secondary:hover:not(:disabled) {
          background: #EAEADC;
          color: #2E2E2E;
          transform: translateY(-1px);
        }
        
        .btn-primary {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.3);
        }
        
        .btn-primary:hover:not(:disabled) {
          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.4);
        }
        
        .btn-secondary:disabled,
        .btn-primary:disabled {
          opacity: 0.6;
          cursor: not-allowed;
          transform: none;
        }
        
        /* Responsive Design */
        @media (max-width: 1024px) {
          .print-options {
            grid-template-columns: 1fr;
            gap: 16px;
          }
          
          .table-header,
          .table-row {
            grid-template-columns: 1fr;
          }
          
          .header-cell,
          .table-cell {
            padding: 12px 16px;
          }
          
          .modal-content {
            padding: 24px;
            gap: 32px;
          }
        }
        
        @media (max-width: 768px) {
          .print-manager-overlay {
            padding: 12px;
          }
          
          .print-manager-modal {
            border-radius: 20px;
          }
          
          .modal-header {
            padding: 24px 20px;
            flex-direction: column;
            gap: 16px;
            text-align: center;
          }
          
          .header-content {
            flex-direction: column;
            gap: 16px;
          }
          
          .modal-content {
            padding: 20px;
          }
          
          .section-header {
            flex-direction: column;
            align-items: stretch;
            gap: 12px;
          }
          
          .footer-info {
            display: none;
          }
          
          .footer-actions {
            width: 100%;
            justify-content: stretch;
          }
          
          .btn-secondary,
          .btn-primary {
            flex: 1;
            justify-content: center;
          }
          
          .option-card {
            padding: 20px;
          }
          
          .preview-content {
            padding: 16px;
          }
        }
        
        @media (max-width: 480px) {
          .modal-header {
            padding: 20px 16px;
          }
          
          .modal-content {
            padding: 16px;
            gap: 24px;
          }
          
          .modal-footer {
            padding: 16px;
            flex-direction: column;
            gap: 16px;
          }
          
          .footer-actions {
            flex-direction: column;
          }
          
          .option-header {
            flex-direction: column;
            gap: 12px;
            align-items: stretch;
          }
          
          .option-badge {
            text-align: center;
          }
          
          .table-header,
          .table-row {
            display: block;
          }
          
          .header-cell,
          .table-cell {
            display: block;
            padding: 8px 16px;
            border-bottom: 1px solid #F3EED9;
          }
          
          .header-cell {
            background: #E5DCC2;
            font-weight: 700;
          }
          
          .table-cell:last-child {
            border-bottom: none;
          }
        }
      ` }), showExportDialog && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ExportDialog__WEBPACK_IMPORTED_MODULE_2__.ExportDialog, { isOpen: showExportDialog, onClose: () => setShowExportDialog(false), onExport: handleExport, availableData: {
                    documents: true,
                    borrowers: true,
                    borrowHistory: false
                } }))] }));
};


/***/ }),

/***/ "./src/renderer/components/Settings.tsx":
/*!**********************************************!*\
  !*** ./src/renderer/components/Settings.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Settings: () => (/* binding */ Settings)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/building.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/database.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/shield.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/hard-drive.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/settings.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/log-out.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/camera.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/upload.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trash-2.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/phone.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/mail.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/globe.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/map-pin.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/download.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/lock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/cloud.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/refresh-cw.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/save.mjs");
/* harmony import */ var _services_ConfigService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/ConfigService */ "./src/renderer/services/ConfigService.ts");




const Settings = ({ onClose, onLogout }) => {
    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('institution');
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const [institutionSettings, setInstitutionSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        name: 'Lycée Moderne de Douala',
        address: 'Avenue de la Liberté',
        city: 'Douala',
        country: 'Cameroun',
        phone: '+237 233 42 15 67',
        email: 'contact@lyceemoderne.cm',
        website: 'www.lyceemoderne.cm',
        logo: '',
        description: 'Établissement d\'enseignement secondaire général et technique'
    });
    const [backupSettings, setBackupSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        autoBackup: true,
        backupFrequency: 'weekly',
        lastBackup: new Date().toISOString(),
        cloudSync: false,
        cloudProvider: 'google'
    });
    const [securitySettings, setSecuritySettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        requireAuth: true,
        sessionTimeout: 60,
        passwordPolicy: {
            minLength: 6,
            requireNumbers: true,
            requireSymbols: false
        }
    });
    const [showConfirmLogout, setShowConfirmLogout] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        loadSettings();
    }, []);
    const loadSettings = async () => {
        try {
            // Simulate loading settings from storage
            const settings = await window.electronAPI.getSettings();
            if (settings) {
                setInstitutionSettings(settings.institution || institutionSettings);
                setBackupSettings(settings.backup || backupSettings);
                setSecuritySettings(settings.security || securitySettings);
            }
        }
        catch (error) {
            console.error('Error loading settings:', error);
        }
    };
    const saveSettings = async () => {
        setIsLoading(true);
        try {
            await window.electronAPI.saveSettings({
                institution: institutionSettings,
                backup: backupSettings,
                security: securitySettings
            });
            showMessage('success', 'Paramètres sauvegardés avec succès');
        }
        catch (error) {
            showMessage('error', 'Erreur lors de la sauvegarde');
            console.error('Error saving settings:', error);
        }
        finally {
            setIsLoading(false);
        }
    };
    const showMessage = (type, text) => {
        setMessage({ type, text });
        setTimeout(() => setMessage(null), 5000);
    };
    const handleLogoUpload = async (event) => {
        const file = event.target.files?.[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                setInstitutionSettings(prev => ({
                    ...prev,
                    logo: e.target?.result
                }));
            };
            reader.readAsDataURL(file);
        }
    };
    const handleBackup = async () => {
        setIsLoading(true);
        try {
            await window.electronAPI.createBackup();
            setBackupSettings(prev => ({
                ...prev,
                lastBackup: new Date().toISOString()
            }));
            showMessage('success', 'Sauvegarde créée avec succès');
        }
        catch (error) {
            showMessage('error', 'Erreur lors de la sauvegarde');
        }
        finally {
            setIsLoading(false);
        }
    };
    const handleRestore = async () => {
        if (window.confirm('Êtes-vous sûr de vouloir restaurer une sauvegarde ? Cela remplacera toutes les données actuelles.')) {
            setIsLoading(true);
            try {
                // Utiliser la nouvelle fonction selectBackupFile
                const fileResult = await window.electronAPI.selectBackupFile();
                if (fileResult.success && fileResult.filePath) {
                    const restoreResult = await window.electronAPI.restoreBackup(fileResult.filePath);
                    if (restoreResult.success) {
                        showMessage('success', 'Données restaurées avec succès');
                    }
                    else {
                        showMessage('error', restoreResult.error || 'Erreur lors de la restauration');
                    }
                }
                else if (fileResult.error && fileResult.error !== 'Sélection annulée') {
                    showMessage('error', fileResult.error);
                }
            }
            catch (error) {
                showMessage('error', 'Erreur lors de la restauration');
            }
            finally {
                setIsLoading(false);
            }
        }
    };
    const handleClearData = async () => {
        if (window.confirm('⚠️ ATTENTION: Cette action supprimera définitivement toutes les données. Êtes-vous absolument sûr ?')) {
            if (window.confirm('Dernière confirmation: Voulez-vous vraiment supprimer TOUTES les données ?')) {
                setIsLoading(true);
                try {
                    await window.electronAPI.clearAllData();
                    showMessage('success', 'Toutes les données ont été supprimées');
                }
                catch (error) {
                    showMessage('error', 'Erreur lors de la suppression');
                }
                finally {
                    setIsLoading(false);
                }
            }
        }
    };
    const tabs = [
        { id: 'institution', label: 'Établissement', icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"] },
        { id: 'backup', label: 'Sauvegardes', icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"] },
        { id: 'security', label: 'Sécurité', icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"] },
        { id: 'config', label: 'Configuration', icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"] },
        { id: 'about', label: 'À propos', icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"] }
    ];
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 28 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "modal-title", children: "Param\u00E8tres" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "modal-subtitle", children: "Configuration de l'application" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: onClose, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 20 }) })] }), message && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `message ${message.type}`, children: [message.type === 'success' ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 20 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: message.text })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-sidebar", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("nav", { className: "settings-nav", children: tabs.map((tab) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `nav-button ${activeTab === tab.id ? 'active' : ''}`, onClick: () => setActiveTab(tab.id), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(tab.icon, { size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: tab.label })] }, tab.id))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "logout-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "logout-button", onClick: () => setShowConfirmLogout(true), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 18 }), "Se d\u00E9connecter"] }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-main", children: [activeTab === 'institution' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Informations de l'\u00E9tablissement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Configurez les d\u00E9tails de votre institution" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "logo-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "logo-preview", children: institutionSettings.logo ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img", { src: institutionSettings.logo, alt: "Logo" })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "logo-placeholder", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], { size: 32 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Logo" })] })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "logo-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "upload-button", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16 }), "Changer le logo", (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "file", accept: "image/*", onChange: handleLogoUpload, style: { display: 'none' } })] }), institutionSettings.logo && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "remove-button", onClick: () => setInstitutionSettings(prev => ({ ...prev, logo: '' })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16 }), "Supprimer"] }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Nom de l'\u00E9tablissement" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionSettings.name, onChange: (e) => setInstitutionSettings(prev => ({ ...prev, name: e.target.value })), className: "form-input" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "T\u00E9l\u00E9phone" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "tel", value: institutionSettings.phone, onChange: (e) => setInstitutionSettings(prev => ({ ...prev, phone: e.target.value })), className: "form-input" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Email" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "email", value: institutionSettings.email, onChange: (e) => setInstitutionSettings(prev => ({ ...prev, email: e.target.value })), className: "form-input" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Site web" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "url", value: institutionSettings.website, onChange: (e) => setInstitutionSettings(prev => ({ ...prev, website: e.target.value })), className: "form-input" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Adresse" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionSettings.address, onChange: (e) => setInstitutionSettings(prev => ({ ...prev, address: e.target.value })), className: "form-input" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Ville" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: institutionSettings.city, onChange: (e) => setInstitutionSettings(prev => ({ ...prev, city: e.target.value })), className: "form-input" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group span-full", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Description" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("textarea", { value: institutionSettings.description, onChange: (e) => setInstitutionSettings(prev => ({ ...prev, description: e.target.value })), className: "form-textarea", rows: 3 })] })] })] })] })), activeTab === 'backup' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Gestion des sauvegardes" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Prot\u00E9gez vos donn\u00E9es avec des sauvegardes automatiques" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "backup-status", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "status-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "status-icon success", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "status-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Derni\u00E8re sauvegarde" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: new Date(backupSettings.lastBackup).toLocaleDateString('fr-FR', {
                                                                        year: 'numeric',
                                                                        month: 'long',
                                                                        day: 'numeric',
                                                                        hour: '2-digit',
                                                                        minute: '2-digit'
                                                                    }) })] })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Sauvegarde automatique" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "toggle-switch", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: backupSettings.autoBackup, onChange: (e) => setBackupSettings(prev => ({ ...prev, autoBackup: e.target.checked })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "toggle-slider" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Cr\u00E9er automatiquement des sauvegardes selon la fr\u00E9quence d\u00E9finie" })] }), backupSettings.autoBackup && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Fr\u00E9quence" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "radio-group", children: [
                                                                    { value: 'daily', label: 'Quotidienne' },
                                                                    { value: 'weekly', label: 'Hebdomadaire' },
                                                                    { value: 'monthly', label: 'Mensuelle' }
                                                                ].map((option) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "radio-option", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "radio", name: "frequency", value: option.value, checked: backupSettings.backupFrequency === option.value, onChange: (e) => setBackupSettings(prev => ({ ...prev, backupFrequency: e.target.value })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "radio-label", children: option.label })] }, option.value))) })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Synchronisation cloud" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "toggle-switch", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: backupSettings.cloudSync, onChange: (e) => setBackupSettings(prev => ({ ...prev, cloudSync: e.target.checked })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "toggle-slider" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Synchroniser automatiquement vos sauvegardes avec le cloud" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "backup-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "action-button primary", onClick: handleBackup, disabled: isLoading, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 18 }), "Cr\u00E9er une sauvegarde maintenant"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "action-button secondary", onClick: handleRestore, disabled: isLoading, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 18 }), "Restaurer une sauvegarde"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "action-button danger", onClick: handleClearData, disabled: isLoading, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 18 }), "Effacer toutes les donn\u00E9es"] })] })] })] })), activeTab === 'security' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Param\u00E8tres de s\u00E9curit\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Configurez la s\u00E9curit\u00E9 et l'authentification" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Authentification requise" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "toggle-switch", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: securitySettings.requireAuth, onChange: (e) => setSecuritySettings(prev => ({ ...prev, requireAuth: e.target.checked })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "toggle-slider" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Exiger une connexion pour acc\u00E9der \u00E0 l'application" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "D\u00E9lai d'expiration de session (minutes)" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_20__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "number", min: "5", max: "480", value: securitySettings.sessionTimeout, onChange: (e) => setSecuritySettings(prev => ({ ...prev, sessionTimeout: parseInt(e.target.value) })), className: "form-input" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "setting-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Politique de mot de passe" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "sub-setting", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Longueur minimale" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_20__["default"], { size: 18 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "number", min: "4", max: "20", value: securitySettings.passwordPolicy.minLength, onChange: (e) => setSecuritySettings(prev => ({
                                                                                    ...prev,
                                                                                    passwordPolicy: {
                                                                                        ...prev.passwordPolicy,
                                                                                        minLength: parseInt(e.target.value)
                                                                                    }
                                                                                })), className: "form-input" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "checkbox-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "checkbox-option", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: securitySettings.passwordPolicy.requireNumbers, onChange: (e) => setSecuritySettings(prev => ({
                                                                                    ...prev,
                                                                                    passwordPolicy: {
                                                                                        ...prev.passwordPolicy,
                                                                                        requireNumbers: e.target.checked
                                                                                    }
                                                                                })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "checkbox-label", children: "Exiger des chiffres" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label", { className: "checkbox-option", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "checkbox", checked: securitySettings.passwordPolicy.requireSymbols, onChange: (e) => setSecuritySettings(prev => ({
                                                                                    ...prev,
                                                                                    passwordPolicy: {
                                                                                        ...prev.passwordPolicy,
                                                                                        requireSymbols: e.target.checked
                                                                                    }
                                                                                })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "checkbox-label", children: "Exiger des symboles" })] })] })] })] })] })), activeTab === 'config' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Configuration de l'application" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Mode de fonctionnement et param\u00E8tres syst\u00E8me" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "config-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "config-info-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "config-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "config-icon", children: _services_ConfigService__WEBPACK_IMPORTED_MODULE_2__.ConfigService.getMode() === 'offline' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 24 })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_21__["default"], { size: 24 })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "config-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h4", { children: ["Mode actuel : ", _services_ConfigService__WEBPACK_IMPORTED_MODULE_2__.ConfigService.getConfigInfo().displayMode] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "config-description", children: _services_ConfigService__WEBPACK_IMPORTED_MODULE_2__.ConfigService.getMode() === 'offline'
                                                                                    ? 'L\'application utilise une base de données locale SQLite'
                                                                                    : 'L\'application utilise Supabase pour la synchronisation cloud' })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "config-features", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { children: "Fonctionnalit\u00E9s actives :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "feature-list", children: _services_ConfigService__WEBPACK_IMPORTED_MODULE_2__.ConfigService.getMode() === 'offline' ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { className: "feature-icon active", size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Base de donn\u00E9es locale" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { className: "feature-icon active", size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Fonctionnement hors ligne" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { className: "feature-icon active", size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Partage r\u00E9seau local" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { className: "feature-icon disabled", size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "disabled", children: "Synchronisation cloud (d\u00E9sactiv\u00E9e)" })] })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { className: "feature-icon active", size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Synchronisation cloud" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { className: "feature-icon active", size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Multi-\u00E9tablissements" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "feature-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { className: "feature-icon active", size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Sauvegarde automatique" })] })] })) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "config-actions", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "action-note", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Le mode en ligne sera disponible dans une prochaine version. Le mode hors ligne offre toutes les fonctionnalit\u00E9s n\u00E9cessaires." })] }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "config-stats-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5", { children: "Informations syst\u00E8me" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stats-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Configur\u00E9 le :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-value", children: _services_ConfigService__WEBPACK_IMPORTED_MODULE_2__.ConfigService.getConfig().configuredAt
                                                                                    ? new Date(_services_ConfigService__WEBPACK_IMPORTED_MODULE_2__.ConfigService.getConfig().configuredAt).toLocaleDateString('fr-FR')
                                                                                    : 'Non configuré' })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Version :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-value", children: _services_ConfigService__WEBPACK_IMPORTED_MODULE_2__.ConfigService.getConfig().version })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Mode :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-value", children: _services_ConfigService__WEBPACK_IMPORTED_MODULE_2__.ConfigService.getConfigInfo().displayMode })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "stat-label", children: "Statut :" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "stat-value success", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { size: 14 }), "Op\u00E9rationnel"] })] })] })] })] })] })), activeTab === 'about' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "\u00C0 propos de l'application" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Informations sur la version et les cr\u00E9dits" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "about-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "app-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "app-logo", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 48 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Biblioth\u00E8que v2.0.0" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Syst\u00E8me de gestion moderne pour biblioth\u00E8ques" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-cards", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "D\u00E9velopp\u00E9 par" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "Votre \u00E9quipe de d\u00E9veloppement" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Technologies utilis\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "tech-list", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Electron" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "React" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "TypeScript" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "SQLite" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "info-card", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Licence" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "MIT License" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "system-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { children: "Informations syst\u00E8me" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "system-details", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Version de l'application" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "2.0.0" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Base de donn\u00E9es" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "SQLite v3.39.0" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "detail-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Plateforme" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: "Windows/macOS/Linux" })] })] })] })] })] }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "settings-footer", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "btn-secondary", onClick: onClose, disabled: isLoading, children: "Annuler" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "btn-primary", onClick: saveSettings, disabled: isLoading, children: isLoading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_22__["default"], { size: 16, className: "spinning" }), "Sauvegarde..."] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_23__["default"], { size: 16 }), "Sauvegarder"] })) })] })] }), showConfirmLogout && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "logout-overlay", onClick: () => setShowConfirmLogout(false), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "logout-modal", onClick: (e) => e.stopPropagation(), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "logout-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 24 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { children: "Confirmer la d\u00E9connexion" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { children: "\u00CAtes-vous s\u00FBr de vouloir vous d\u00E9connecter ? Toutes les donn\u00E9es non sauvegard\u00E9es seront perdues." }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "logout-actions", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "btn-secondary", onClick: () => setShowConfirmLogout(false), children: "Annuler" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: "btn-danger", onClick: () => {
                                        setShowConfirmLogout(false);
                                        onLogout();
                                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 16 }), "Se d\u00E9connecter"] })] })] }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .settings-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(46, 46, 46, 0.7);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }
        
        .settings-modal {
          background: #FFFFFF;
          border-radius: 24px;
          width: 100%;
          max-width: 1200px;
          max-height: 90vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          box-shadow: 
            0 24px 48px rgba(62, 92, 73, 0.2),
            0 8px 24px rgba(62, 92, 73, 0.12);
          border: 1px solid rgba(229, 220, 194, 0.3);
        }
        
        .modal-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 32px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
        }
        
        .header-content {
          display: flex;
          align-items: center;
          gap: 20px;
        }
        
        .header-icon {
          width: 56px;
          height: 56px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        
        .modal-title {
          font-size: 24px;
          font-weight: 800;
          margin: 0 0 4px 0;
        }
        
        .modal-subtitle {
          font-size: 14px;
          opacity: 0.9;
          margin: 0;
        }
        
        .close-button {
          background: rgba(243, 238, 217, 0.15);
          border: 1px solid rgba(243, 238, 217, 0.3);
          color: #F3EED9;
          padding: 12px;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.3s ease;
        }
        
        .close-button:hover {
          background: rgba(243, 238, 217, 0.25);
        }
        
        .message {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px 32px;
          font-size: 14px;
          font-weight: 600;
          border-bottom: 1px solid #E5DCC2;
        }
        
        .message.success {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }
        
        .message.error {
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
        }
        
        .settings-content {
          flex: 1;
          display: flex;
          overflow: hidden;
        }
        
        .settings-sidebar {
          width: 280px;
          background: #F3EED9;
          border-right: 1px solid #E5DCC2;
          padding: 24px 0;
          display: flex;
          flex-direction: column;
          justify-content: space-between;
        }
        
        .settings-nav {
          display: flex;
          flex-direction: column;
          gap: 8px;
          padding: 0 24px;
        }
        
        .nav-button {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px 20px;
          border: none;
          background: transparent;
          color: #6E6E6E;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.2s ease;
          font-size: 14px;
          font-weight: 500;
          text-align: left;
        }
        
        .nav-button:hover {
          background: rgba(62, 92, 73, 0.08);
          color: #3E5C49;
        }
        
        .nav-button.active {
          background: #3E5C49;
          color: #F3EED9;
          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.2);
        }
        
        .logout-section {
          padding: 0 24px;
          border-top: 1px solid #E5DCC2;
          padding-top: 24px;
        }
        
        .logout-button {
          width: 100%;
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px 20px;
          border: none;
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.2s ease;
          font-size: 14px;
          font-weight: 600;
        }
        
        .logout-button:hover {
          background: rgba(194, 87, 27, 0.15);
          color: #A8481A;
        }
        
        .settings-main {
          flex: 1;
          overflow-y: auto;
          padding: 32px;
        }
        
        .settings-section {
          max-width: 800px;
        }
        
        .section-header {
          display: flex;
          align-items: center;
          gap: 16px;
          margin-bottom: 32px;
          padding-bottom: 16px;
          border-bottom: 2px solid #E5DCC2;
        }
        
        .section-header h3 {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 4px 0;
        }
        
        .section-header p {
          font-size: 14px;
          color: #6E6E6E;
          margin: 0;
        }
        
        .form-section {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }
        
        .logo-section {
          display: flex;
          align-items: center;
          gap: 24px;
          padding: 24px;
          background: #F3EED9;
          border-radius: 16px;
          border: 1px solid #E5DCC2;
          margin-bottom: 32px;
        }
        
        .logo-preview {
          width: 120px;
          height: 120px;
          border-radius: 16px;
          overflow: hidden;
          border: 2px solid #E5DCC2;
          display: flex;
          align-items: center;
          justify-content: center;
          background: #FFFFFF;
        }
        
        .logo-preview img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }
        
        .logo-placeholder {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
          color: #6E6E6E;
          text-align: center;
        }
        
        .logo-actions {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }
        
        .upload-button {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 16px;
          background: #3E5C49;
          color: #F3EED9;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 600;
          transition: all 0.2s ease;
        }
        
        .upload-button:hover {
          background: #2E453A;
        }
        
        .remove-button {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 16px;
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
          border: 1px solid rgba(194, 87, 27, 0.2);
          border-radius: 8px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 600;
          transition: all 0.2s ease;
        }
        
        .remove-button:hover {
          background: rgba(194, 87, 27, 0.15);
        }
        
        .form-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
        }
        
        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }
        
        .form-group.span-full {
          grid-column: 1 / -1;
        }
        
        .form-group label {
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
        }
        
        .input-wrapper {
          position: relative;
          display: flex;
          align-items: center;
        }
        
        .input-wrapper svg {
          position: absolute;
          left: 16px;
          color: #6E6E6E;
          z-index: 2;
        }
        
        .form-input {
          width: 100%;
          padding: 12px 16px 12px 48px;
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          font-size: 14px;
          background: #FFFFFF;
          color: #2E2E2E;
          transition: all 0.2s ease;
        }
        
        .form-input:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }
        
        .form-textarea {
          width: 100%;
          padding: 12px 16px;
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          font-size: 14px;
          background: #FFFFFF;
          color: #2E2E2E;
          transition: all 0.2s ease;
          resize: vertical;
          min-height: 80px;
        }
        
        .form-textarea:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }
        
        .backup-status {
          margin-bottom: 32px;
        }
        
        .status-card {
          display: flex;
          align-items: center;
          gap: 16px;
          padding: 20px;
          background: rgba(62, 92, 73, 0.05);
          border: 1px solid rgba(62, 92, 73, 0.1);
          border-radius: 12px;
        }
        
        .status-icon {
          width: 48px;
          height: 48px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        
        .status-icon.success {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }
        
        .status-content h4 {
          font-size: 16px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 4px 0;
        }
        
        .status-content p {
          font-size: 14px;
          color: #6E6E6E;
          margin: 0;
        }
        
        .setting-group {
          padding: 20px;
          background: #FEFEFE;
          border: 1px solid #E5DCC2;
          border-radius: 12px;
        }
        
        .setting-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 8px;
        }
        
        .setting-header h4 {
          font-size: 16px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0;
        }
        
        .setting-group p {
          font-size: 14px;
          color: #6E6E6E;
          margin: 0;
          line-height: 1.4;
        }
        
        .toggle-switch {
          position: relative;
          display: inline-block;
          width: 44px;
          height: 24px;
        }
        
        .toggle-switch input {
          opacity: 0;
          width: 0;
          height: 0;
        }
        
        .toggle-slider {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: #E5DCC2;
          transition: 0.3s;
          border-radius: 24px;
        }
        
        .toggle-slider:before {
          position: absolute;
          content: "";
          height: 20px;
          width: 20px;
          left: 2px;
          bottom: 2px;
          background: #FFFFFF;
          transition: 0.3s;
          border-radius: 50%;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        input:checked + .toggle-slider {
          background: #3E5C49;
        }
        
        input:checked + .toggle-slider:before {
          transform: translateX(20px);
        }
        
        .radio-group {
          display: flex;
          flex-direction: column;
          gap: 12px;
          margin-top: 12px;
        }
        
        .radio-option {
          display: flex;
          align-items: center;
          gap: 12px;
          cursor: pointer;
        }
        
        .radio-option input {
          margin: 0;
        }
        
        .radio-label {
          font-size: 14px;
          color: #2E2E2E;
        }
        
        .checkbox-group {
          display: flex;
          flex-direction: column;
          gap: 12px;
          margin-top: 12px;
        }
        
        .checkbox-option {
          display: flex;
          align-items: center;
          gap: 12px;
          cursor: pointer;
        }
        
        .checkbox-option input {
          margin: 0;
        }
        
        .checkbox-label {
          font-size: 14px;
          color: #2E2E2E;
        }
        
        .sub-setting {
          display: flex;
          flex-direction: column;
          gap: 8px;
          margin-top: 16px;
        }
        
        .sub-setting label {
          font-size: 13px;
          font-weight: 500;
          color: #6E6E6E;
        }
        
        .backup-actions {
          display: flex;
          flex-direction: column;
          gap: 12px;
          margin-top: 24px;
        }
        
        .action-button {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 16px 20px;
          border: none;
          border-radius: 12px;
          cursor: pointer;
          font-size: 14px;
          font-weight: 600;
          transition: all 0.2s ease;
          text-align: left;
        }
        
        .action-button.primary {
          background: #3E5C49;
          color: #F3EED9;
        }
        
        .action-button.primary:hover:not(:disabled) {
          background: #2E453A;
        }
        
        .action-button.secondary {
          background: #F3EED9;
          color: #6E6E6E;
          border: 1px solid #E5DCC2;
        }
        
        .action-button.secondary:hover:not(:disabled) {
          background: #EAEADC;
          color: #2E2E2E;
        }
        
        .action-button.danger {
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
          border: 1px solid rgba(194, 87, 27, 0.2);
        }
        
        .action-button.danger:hover:not(:disabled) {
          background: rgba(194, 87, 27, 0.15);
        }
        
        .action-button:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }
        
        .config-content {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }
        
        .config-info-card {
          background: #f8f9fa;
          border: 1px solid #e9ecef;
          border-radius: 12px;
          padding: 24px;
        }
        
        .config-header {
          display: flex;
          align-items: flex-start;
          gap: 16px;
          margin-bottom: 20px;
        }
        
        .config-icon {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 48px;
          height: 48px;
          background: linear-gradient(135deg, #4CAF50, #45a049);
          border-radius: 12px;
          color: white;
        }
        
        .config-details h4 {
          margin: 0 0 8px 0;
          font-size: 1.2rem;
          font-weight: 600;
          color: #2d3748;
        }
        
        .config-description {
          margin: 0;
          color: #718096;
          line-height: 1.5;
        }
        
        .config-features {
          margin-bottom: 20px;
        }
        
        .config-features h5 {
          margin: 0 0 12px 0;
          font-size: 1rem;
          font-weight: 600;
          color: #4a5568;
        }
        
        .config-features .feature-list {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }
        
        .config-features .feature-item {
          display: flex;
          align-items: center;
          gap: 8px;
        }
        
        .config-features .feature-icon.active {
          color: #48bb78;
        }
        
        .config-features .feature-icon.disabled {
          color: #cbd5e0;
        }
        
        .config-features .feature-item .disabled {
          color: #a0aec0;
        }
        
        .config-actions {
          border-top: 1px solid #e2e8f0;
          padding-top: 16px;
        }
        
        .action-note {
          display: flex;
          align-items: flex-start;
          gap: 12px;
          padding: 12px 16px;
          background: #f7fafc;
          border: 1px solid #e2e8f0;
          border-radius: 8px;
          font-size: 0.9rem;
          color: #4a5568;
        }
        
        .config-stats-card {
          background: white;
          border: 1px solid #e2e8f0;
          border-radius: 12px;
          padding: 24px;
        }
        
        .config-stats-card h5 {
          margin: 0 0 16px 0;
          font-size: 1.1rem;
          font-weight: 600;
          color: #2d3748;
        }
        
        .stats-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
        }
        
        .stat-item {
          display: flex;
          flex-direction: column;
          gap: 4px;
        }
        
        .stat-label {
          font-size: 0.85rem;
          color: #718096;
          font-weight: 500;
        }
        
        .stat-value {
          font-size: 0.95rem;
          color: #2d3748;
          font-weight: 600;
        }
        
        .stat-value.success {
          display: flex;
          align-items: center;
          gap: 6px;
          color: #48bb78;
        }

        .about-content {
          display: flex;
          flex-direction: column;
          gap: 32px;
        }
        
        .app-info {
          text-align: center;
          padding: 32px;
          background: #F3EED9;
          border-radius: 16px;
          border: 1px solid #E5DCC2;
        }
        
        .app-logo {
          width: 80px;
          height: 80px;
          background: #3E5C49;
          color: #F3EED9;
          border-radius: 20px;
          display: flex;
          align-items: center;
          justify-content: center;
          margin: 0 auto 20px;
        }
        
        .app-info h3 {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 8px 0;
        }
        
        .app-info p {
          font-size: 16px;
          color: #6E6E6E;
          margin: 0;
        }
        
        .info-cards {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 20px;
        }
        
        .info-card {
          padding: 20px;
          background: #FFFFFF;
          border: 1px solid #E5DCC2;
          border-radius: 12px;
        }
        
        .info-card h4 {
          font-size: 16px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 12px 0;
        }
        
        .info-card p {
          font-size: 14px;
          color: #6E6E6E;
          margin: 0;
        }
        
        .tech-list {
          display: flex;
          flex-wrap: wrap;
          gap: 8px;
        }
        
        .tech-list span {
          background: #3E5C49;
          color: #F3EED9;
          padding: 4px 12px;
          border-radius: 16px;
          font-size: 12px;
          font-weight: 600;
        }
        
        .system-info {
          padding: 24px;
          background: #FEFEFE;
          border: 1px solid #E5DCC2;
          border-radius: 12px;
        }
        
        .system-info h4 {
          font-size: 18px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0 0 16px 0;
        }
        
        .system-details {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }
        
        .detail-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 12px 0;
          border-bottom: 1px solid #F3EED9;
        }
        
        .detail-item:last-child {
          border-bottom: none;
        }
        
        .detail-item span:first-child {
          font-size: 14px;
          color: #6E6E6E;
        }
        
        .detail-item span:last-child {
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
        }
        
        .settings-footer {
          display: flex;
          justify-content: flex-end;
          gap: 16px;
          padding: 24px 32px;
          border-top: 1px solid #E5DCC2;
          background: #FEFEFE;
        }
        
        .btn-secondary, .btn-primary {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 24px;
          border-radius: 12px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
          border: none;
        }
        
        .btn-secondary {
          background: #F3EED9;
          color: #6E6E6E;
          border: 2px solid #E5DCC2;
        }
        
        .btn-secondary:hover:not(:disabled) {
          background: #EAEADC;
          color: #2E2E2E;
        }
        
        .btn-primary {
          background: #3E5C49;
          color: #F3EED9;
        }
        
        .btn-primary:hover:not(:disabled) {
          background: #2E453A;
        }
        
        .btn-secondary:disabled,
        .btn-primary:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }
        
        .spinning {
          animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        
        /* Logout Modal */
        .logout-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(46, 46, 46, 0.8);
          backdrop-filter: blur(4px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1001;
          padding: 20px;
        }
        
        .logout-modal {
          background: #FFFFFF;
          border-radius: 16px;
          width: 100%;
          max-width: 400px;
          padding: 24px;
          box-shadow: 0 20px 40px rgba(62, 92, 73, 0.2);
          border: 1px solid rgba(229, 220, 194, 0.3);
        }
        
        .logout-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 16px;
          color: #C2571B;
        }
        
        .logout-header h3 {
          font-size: 18px;
          font-weight: 700;
          margin: 0;
        }
        
        .logout-modal p {
          font-size: 14px;
          color: #6E6E6E;
          margin: 0 0 24px 0;
          line-height: 1.5;
        }
        
        .logout-actions {
          display: flex;
          gap: 12px;
          justify-content: flex-end;
        }
        
        .btn-danger {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 12px 20px;
          background: #C2571B;
          color: #F3EED9;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
        }
        
        .btn-danger:hover {
          background: #A8481A;
        }
        
        /* Responsive Design */
        @media (max-width: 1024px) {
          .settings-content {
            flex-direction: column;
          }
          
          .settings-sidebar {
            width: 100%;
            flex-direction: row;
            justify-content: space-between;
            padding: 16px 24px;
            border-right: none;
            border-bottom: 1px solid #E5DCC2;
          }
          
          .settings-nav {
            flex-direction: row;
            gap: 12px;
            padding: 0;
            overflow-x: auto;
          }
          
          .nav-button {
            white-space: nowrap;
            min-width: 120px;
            justify-content: center;
          }
          
          .logout-section {
            border-top: none;
            border-left: 1px solid #E5DCC2;
            padding-top: 0;
            padding-left: 24px;
          }
          
          .logout-button {
            width: auto;
            min-width: 140px;
          }
        }
        
        @media (max-width: 768px) {
          .settings-modal {
            margin: 12px;
            border-radius: 20px;
            max-height: calc(100vh - 24px);
          }
          
          .modal-header {
            padding: 20px;
            flex-direction: column;
            gap: 16px;
            text-align: center;
          }
          
          .settings-main {
            padding: 20px;
          }
          
          .form-grid {
            grid-template-columns: 1fr;
          }
          
          .logo-section {
            flex-direction: column;
            text-align: center;
          }
          
          .info-cards {
            grid-template-columns: 1fr;
          }
          
          .settings-footer {
            padding: 16px 20px;
            flex-direction: column-reverse;
          }
          
          .btn-secondary,
          .btn-primary {
            width: 100%;
            justify-content: center;
          }
        }
        
        @media (max-width: 480px) {
          .settings-sidebar {
            flex-direction: column;
            gap: 16px;
          }
          
          .settings-nav {
            flex-direction: column;
          }
          
          .logout-section {
            border-left: none;
            border-top: 1px solid #E5DCC2;
            padding-left: 0;
            padding-top: 16px;
          }
          
          .backup-actions {
            gap: 8px;
          }
          
          .action-button {
            padding: 12px 16px;
            font-size: 13px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/Sidebar.tsx":
/*!*********************************************!*\
  !*** ./src/renderer/components/Sidebar.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Sidebar: () => (/* binding */ Sidebar)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/home.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/plus.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/history.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/settings.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/hard-drive.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/heart.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/info.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/bar-chart-3.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/graduation-cap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/briefcase.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/chevron-right.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/chevron-left.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/zap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trending-up.mjs");



const Sidebar = ({ currentView, onNavigate, stats, currentUser, currentInstitution }) => {
    const [isCollapsed, setIsCollapsed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const menuItems = [
        {
            id: 'dashboard',
            label: 'Tableau de bord',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"],
            description: 'Vue d\'ensemble et statistiques',
            gradient: 'linear-gradient(135deg, #3E5C49 0%, #2E453A 100%)'
        },
        {
            id: 'documents',
            label: 'Ma Collection',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"],
            description: 'Parcourir tous les documents',
            count: stats.totalDocuments,
            gradient: 'linear-gradient(135deg, #3E5C49 0%, #4A6B57 100%)'
        },
        {
            id: 'borrowed',
            label: 'Emprunts Actifs',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"],
            description: 'Documents actuellement empruntés',
            count: stats.borrowedDocuments,
            badge: stats.borrowedDocuments > 0,
            urgent: stats.overdueDocuments > 0,
            gradient: 'linear-gradient(135deg, #C2571B 0%, #A8481A 100%)'
        }
    ];
    const actionItems = [
        {
            id: 'add-document',
            label: 'Nouveau Document',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"],
            description: 'Ajouter à la collection',
            accent: true,
            gradient: 'linear-gradient(135deg, #C2571B 0%, #E65100 100%)',
            highlight: true
        },
        {
            id: 'borrowers',
            label: 'Gestion Emprunteurs',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"],
            description: 'Gérer les utilisateurs',
            count: stats.totalBorrowers,
            badge: stats.totalBorrowers > 0,
            gradient: 'linear-gradient(135deg, #6E6E6E 0%, #5A5A5A 100%)'
        }
    ];
    const reportItems = [
        {
            id: 'history',
            label: 'Historique Complet',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"],
            description: 'Tous les emprunts et retours',
            gradient: 'linear-gradient(135deg, #607D8B 0%, #455A64 100%)'
        }
    ];
    const supportItems = [
        {
            id: 'app-settings',
            label: 'Paramètres',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"],
            description: 'Configuration de l\'application',
            gradient: 'linear-gradient(135deg, #6366F1 0%, #4F46E5 100%)'
        },
        {
            id: 'backup-manager',
            label: 'Sauvegardes',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"],
            description: 'Gérer les sauvegardes de données',
            gradient: 'linear-gradient(135deg, #0891B2 0%, #0E7490 100%)'
        },
        {
            id: 'donation',
            label: 'Soutenir le projet',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"],
            description: 'Faire une donation',
            gradient: 'linear-gradient(135deg, #E91E63 0%, #C2185B 100%)',
            support: true
        },
        {
            id: 'about',
            label: 'À propos',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"],
            description: 'Développeur & crédits',
            gradient: 'linear-gradient(135deg, #607D8B 0%, #455A64 100%)'
        }
    ];
    const quickStats = [
        {
            label: 'Collection',
            value: stats.totalDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"],
            color: '#3E5C49',
            trend: '+2 ce mois'
        },
        {
            label: 'Disponibles',
            value: stats.availableDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"],
            color: '#3E5C49',
            percentage: stats.totalDocuments > 0 ? Math.round((stats.availableDocuments / stats.totalDocuments) * 100) : 0
        },
        {
            label: 'Empruntés',
            value: stats.borrowedDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"],
            color: '#C2571B',
            percentage: stats.totalDocuments > 0 ? Math.round((stats.borrowedDocuments / stats.totalDocuments) * 100) : 0
        },
        {
            label: 'En retard',
            value: stats.overdueDocuments,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"],
            color: '#DC2626',
            urgent: stats.overdueDocuments > 0
        }
    ];
    const userStats = [
        {
            label: 'Étudiants',
            value: stats.totalStudents,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"],
            color: '#3E5C49'
        },
        {
            label: 'Personnel',
            value: stats.totalStaff,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"],
            color: '#C2571B'
        }
    ];
    const getPopularityScore = () => {
        if (stats.totalDocuments === 0)
            return 0;
        return Math.round((stats.borrowedDocuments / stats.totalDocuments) * 100);
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `sidebar ${isCollapsed ? 'collapsed' : ''}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "sidebar-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "sidebar-toggle", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "toggle-button", onClick: () => setIsCollapsed(!isCollapsed), title: isCollapsed ? 'Développer le menu' : 'Réduire le menu', children: isCollapsed ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_16__["default"], { size: 18 }) : (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_17__["default"], { size: 18 }) }) }), !isCollapsed && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "sidebar-brand", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "brand-logo", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 24 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "brand-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "brand-title", children: "Biblioth\u00E8que" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "brand-subtitle", children: "Syst\u00E8me de gestion moderne" })] })] }))] }), currentUser && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "user-profile-section", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-profile", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "user-avatar", onClick: () => onNavigate('user-profile'), title: "Voir le profil utilisateur", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "avatar-text", children: currentUser.firstName?.charAt(0)?.toUpperCase() || currentUser.email?.charAt(0)?.toUpperCase() || 'U' }) }), !isCollapsed && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "user-name", children: currentUser.firstName ? `${currentUser.firstName} ${currentUser.lastName || ''}`.trim() : currentUser.email }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "user-role", children: currentUser.role || 'Utilisateur' }), currentInstitution && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "user-institution", children: currentInstitution.name }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "user-settings-btn", onClick: () => onNavigate('user-profile'), title: "Modifier le profil", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_18__["default"], { size: 16 }) })] }))] }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "sidebar-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("nav", { className: "sidebar-nav", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nav-section", children: [!isCollapsed && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "nav-title", children: "Principal" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul", { className: "nav-list", children: menuItems.map((item) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { className: "nav-item", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `nav-button ${currentView === item.id ? 'active' : ''} ${item.accent ? 'accent' : ''} ${item.urgent ? 'urgent' : ''} ${item.highlight ? 'highlight' : ''}`, onClick: () => onNavigate(item.id), title: isCollapsed ? item.label : '', style: {
                                                    '--item-gradient': item.gradient
                                                }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "nav-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(item.icon, { size: 20 }) }), !isCollapsed && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nav-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "nav-label", children: item.label }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "nav-description", children: item.description })] }), item.count !== undefined && item.count > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `nav-count ${item.badge ? 'badge' : ''} ${item.urgent ? 'urgent' : ''}`, children: item.count })), item.highlight && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "nav-highlight", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 14 }) }))] })), isCollapsed && item.badge && stats.borrowedDocuments > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `nav-indicator ${item.urgent ? 'urgent' : ''}` }))] }) }, item.id))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nav-section", children: [!isCollapsed && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "nav-title", children: "Actions" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul", { className: "nav-list", children: actionItems.map((item) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { className: "nav-item", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `nav-button ${currentView === item.id ? 'active' : ''} ${item.accent ? 'accent' : ''} ${item.highlight ? 'highlight' : ''}`, onClick: () => onNavigate(item.id), title: isCollapsed ? item.label : '', style: {
                                                    '--item-gradient': item.gradient
                                                }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "nav-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(item.icon, { size: 20 }) }), !isCollapsed && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nav-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "nav-label", children: item.label }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "nav-description", children: item.description })] }), item.count !== undefined && item.count > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `nav-count ${item.badge ? 'badge' : ''}`, children: item.count })), item.highlight && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "nav-highlight", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_19__["default"], { size: 14 }) }))] }))] }) }, item.id))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nav-section", children: [!isCollapsed && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "nav-title", children: "Rapports" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul", { className: "nav-list", children: reportItems.map((item) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { className: "nav-item", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `nav-button ${currentView === item.id ? 'active' : ''}`, onClick: () => onNavigate(item.id), title: isCollapsed ? item.label : '', style: {
                                                    '--item-gradient': item.gradient
                                                }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "nav-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(item.icon, { size: 20 }) }), !isCollapsed && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nav-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "nav-label", children: item.label }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "nav-description", children: item.description })] }))] }) }, item.id))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nav-section", children: [!isCollapsed && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "nav-title", children: "Communaut\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul", { className: "nav-list", children: supportItems.map((item) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { className: "nav-item", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button", { className: `nav-button ${currentView === item.id ? 'active' : ''} ${item.support ? 'support' : ''}`, onClick: () => onNavigate(item.id), title: isCollapsed ? item.label : '', style: {
                                                    '--item-gradient': item.gradient
                                                }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "nav-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(item.icon, { size: 20 }) }), !isCollapsed && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "nav-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "nav-label", children: item.label }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "nav-description", children: item.description })] }))] }) }, item.id))) })] })] }), !isCollapsed && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stats-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stats-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "stats-title", children: "Statistiques de collection" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "popularity-score", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_20__["default"], { size: 14 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: [getPopularityScore(), "% popularit\u00E9"] })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stats-grid", children: quickStats.map((stat, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `stat-card ${stat.urgent ? 'urgent' : ''}`, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-icon", style: { color: stat.color }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(stat.icon, { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-value", children: stat.value }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-label", children: stat.label }), stat.trend && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "stat-trend", children: stat.trend })), stat.percentage !== undefined && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stat-percentage", children: [stat.percentage, "%"] }))] })] }, index))) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "stats-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "stats-title", children: "Utilisateurs" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "users-stats", children: userStats.map((stat, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-stat", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "user-stat-icon", style: { color: stat.color }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(stat.icon, { size: 18 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-stat-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "user-stat-value", children: stat.value }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "user-stat-label", children: stat.label })] })] }, index))) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "total-users", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "total-label", children: "Total des utilisateurs" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "total-value", children: stats.totalBorrowers })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "stats-title", children: "Activit\u00E9 r\u00E9cente" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-pulse" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-summary", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-dot available" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: [stats.availableDocuments, " documents pr\u00EAts \u00E0 emprunter"] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-item", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-dot borrowed" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: [stats.borrowedDocuments, " emprunts en cours"] })] }), stats.overdueDocuments > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "activity-item urgent", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "activity-dot overdue" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { children: [stats.overdueDocuments, " document(s) en retard"] })] }))] })] })] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .sidebar {
          width: 300px;
          background: linear-gradient(180deg, #3E5C49 0%, #2E453A 100%);
          display: flex;
          flex-direction: column;
          position: relative;
          transition: width 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          border-right: 1px solid rgba(46, 69, 58, 0.3);
          box-shadow: 4px 0 16px rgba(62, 92, 73, 0.1);
        }
        
        .sidebar.collapsed {
          width: 72px;
        }
        
        .sidebar::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: 
            radial-gradient(circle at 20% 80%, rgba(243, 238, 217, 0.03) 0%, transparent 50%),
            radial-gradient(circle at 80% 20%, rgba(194, 87, 27, 0.02) 0%, transparent 50%);
          pointer-events: none;
        }
        
        .sidebar-header {
          padding: 24px 20px;
          border-bottom: 1px solid rgba(243, 238, 217, 0.1);
          position: relative;
          z-index: 1;
        }
        
        .sidebar-toggle {
          display: flex;
          justify-content: flex-end;
          margin-bottom: 16px;
        }
        
        .toggle-button {
          width: 40px;
          height: 40px;
          border: none;
          background: rgba(243, 238, 217, 0.1);
          color: #F3EED9;
          border-radius: 12px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          backdrop-filter: blur(10px);
          border: 1px solid rgba(243, 238, 217, 0.2);
        }
        
        .toggle-button:hover {
          background: rgba(243, 238, 217, 0.2);
          transform: scale(1.05);
        }
        
        .sidebar-brand {
          display: flex;
          align-items: center;
          gap: 16px;
          opacity: 1;
          transition: opacity 0.2s ease;
        }
        
        .collapsed .sidebar-brand {
          opacity: 0;
          pointer-events: none;
        }
        
        .brand-logo {
          width: 48px;
          height: 48px;
          background: rgba(243, 238, 217, 0.15);
          border-radius: 14px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #F3EED9;
          border: 1px solid rgba(243, 238, 217, 0.2);
        }
        
        .brand-title {
          font-size: 20px;
          font-weight: 800;
          color: #F3EED9;
          margin: 0 0 4px 0;
          letter-spacing: -0.3px;
        }
        
        .brand-subtitle {
          font-size: 13px;
          color: rgba(243, 238, 217, 0.7);
          margin: 0;
          line-height: 1.3;
        }
        
        .sidebar-content {
          flex: 1;
          overflow-y: auto;
          padding: 8px 20px 20px;
          position: relative;
          z-index: 1;
        }
        
        .collapsed .sidebar-content {
          padding: 8px 12px 20px;
        }
        
        .nav-section {
          margin-bottom: 32px;
        }
        
        .nav-title {
          font-size: 11px;
          font-weight: 700;
          text-transform: uppercase;
          letter-spacing: 1px;
          color: rgba(243, 238, 217, 0.6);
          margin-bottom: 16px;
          margin-top: 0;
          padding: 0 4px;
        }
        
        .nav-list {
          list-style: none;
          padding: 0;
          margin: 0;
          display: flex;
          flex-direction: column;
          gap: 8px;
        }
        
        .nav-item {
          width: 100%;
        }
        
        .nav-button {
          width: 100%;
          display: flex;
          align-items: center;
          gap: 16px;
          padding: 16px;
          border: none;
          background: transparent;
          color: #F3EED9;
          cursor: pointer;
          border-radius: 16px;
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          font-size: 14px;
          position: relative;
          text-align: left;
          overflow: hidden;
          border: 1px solid transparent;
        }
        
        .collapsed .nav-button {
          justify-content: center;
          padding: 16px 12px;
        }
        
        .nav-button::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(243, 238, 217, 0.08);
          border-radius: 16px;
          transform: scaleX(0);
          transform-origin: left;
          transition: transform 0.3s ease;
        }
        
        .nav-button:hover::before {
          transform: scaleX(1);
        }
        
        .nav-button:hover {
          color: #FFFFFF;
          transform: translateX(4px);
          border-color: rgba(243, 238, 217, 0.2);
        }
        
        .collapsed .nav-button:hover {
          transform: scale(1.05);
        }
        
        .nav-button.active {
          background: var(--item-gradient, rgba(243, 238, 217, 0.15));
          color: #FFFFFF;
          box-shadow: 
            0 8px 24px rgba(0, 0, 0, 0.15),
            0 4px 12px rgba(62, 92, 73, 0.2);
          border-color: rgba(243, 238, 217, 0.3);
        }
        
        .nav-button.active::before {
          transform: scaleX(1);
          background: rgba(243, 238, 217, 0.1);
        }
        
        .nav-button.highlight {
          background: var(--item-gradient);
          animation: pulse-highlight 3s ease-in-out infinite;
        }
        
        .nav-button.highlight:hover {
          background: linear-gradient(135deg, #A8481A 0%, #D84315 100%);
          transform: translateX(4px) translateY(-2px);
          box-shadow: 0 12px 32px rgba(194, 87, 27, 0.4);
        }
        
        .nav-button.support {
          position: relative;
        }
        
        .nav-button.support::after {
          content: '♥';
          position: absolute;
          top: 8px;
          right: 8px;
          font-size: 12px;
          color: #E91E63;
          animation: heartbeat 2s ease-in-out infinite;
        }
        
        @keyframes heartbeat {
          0%, 100% {
            transform: scale(1);
            opacity: 0.8;
          }
          50% {
            transform: scale(1.2);
            opacity: 1;
          }
        }
        
        @keyframes pulse-highlight {
          0%, 100% {
            box-shadow: 0 4px 16px rgba(194, 87, 27, 0.3);
          }
          50% {
            box-shadow: 0 8px 24px rgba(194, 87, 27, 0.5);
          }
        }
        
        .nav-button.urgent {
          position: relative;
        }
        
        .nav-button.urgent::after {
          content: '';
          position: absolute;
          top: 12px;
          right: 12px;
          width: 8px;
          height: 8px;
          background: #DC2626;
          border-radius: 50%;
          animation: pulse-urgent 2s infinite;
        }
        
        @keyframes pulse-urgent {
          0%, 100% {
            opacity: 1;
            transform: scale(1);
          }
          50% {
            opacity: 0.7;
            transform: scale(1.2);
          }
        }
        
        .nav-icon {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 24px;
          height: 24px;
          flex-shrink: 0;
          position: relative;
          z-index: 1;
        }
        
        .nav-content {
          flex: 1;
          display: flex;
          flex-direction: column;
          min-width: 0;
          position: relative;
          z-index: 1;
        }
        
        .nav-label {
          font-weight: 700;
          line-height: 1.2;
          margin-bottom: 3px;
          font-size: 15px;
        }
        
        .nav-description {
          font-size: 12px;
          opacity: 0.8;
          line-height: 1.2;
        }
        
        .nav-count {
          background: rgba(243, 238, 217, 0.2);
          color: #F3EED9;
          font-size: 12px;
          font-weight: 700;
          padding: 4px 8px;
          border-radius: 10px;
          min-width: 20px;
          text-align: center;
          flex-shrink: 0;
          position: relative;
          z-index: 1;
          border: 1px solid rgba(243, 238, 217, 0.3);
        }
        
        .nav-count.badge {
          background: #C2571B;
          color: #FFFFFF;
          animation: pulse-badge 2s infinite;
          border-color: rgba(255, 255, 255, 0.3);
        }
        
        .nav-count.urgent {
          background: #DC2626;
          color: #FFFFFF;
          animation: pulse-urgent 1.5s infinite;
          border-color: rgba(255, 255, 255, 0.3);
        }
        
        @keyframes pulse-badge {
          0%, 100% {
            opacity: 1;
            transform: scale(1);
          }
          50% {
            opacity: 0.8;
            transform: scale(1.05);
          }
        }
        
        .nav-highlight {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 28px;
          height: 28px;
          background: rgba(255, 255, 255, 0.2);
          border-radius: 50%;
          color: #F3EED9;
          animation: sparkle 2s ease-in-out infinite;
        }
        
        @keyframes sparkle {
          0%, 100% {
            opacity: 0.7;
            transform: rotate(0deg) scale(1);
          }
          50% {
            opacity: 1;
            transform: rotate(180deg) scale(1.1);
          }
        }
        
        .nav-indicator {
          width: 10px;
          height: 10px;
          background: #C2571B;
          border-radius: 50%;
          position: absolute;
          top: 12px;
          right: 12px;
          animation: pulse-badge 2s infinite;
          border: 2px solid rgba(243, 238, 217, 0.3);
        }
        
        .nav-indicator.urgent {
          background: #DC2626;
          animation: pulse-urgent 1.5s infinite;
        }
        
        .stats-section {
          margin-bottom: 24px;
          padding-top: 20px;
          border-top: 1px solid rgba(243, 238, 217, 0.1);
          position: relative;
          isolation: isolate;
        }
        
        .stats-section:first-of-type {
          border-top: none;
          padding-top: 0;
        }
        
        .stats-header {
          display: flex !important;
          align-items: center !important;
          justify-content: space-between !important;
          margin-bottom: 16px !important;
          position: relative !important;
          z-index: 10 !important;
        }
        
        .stats-title {
          font-size: 11px !important;
          font-weight: 700 !important;
          text-transform: uppercase !important;
          letter-spacing: 1px !important;
          color: rgba(243, 238, 217, 0.6) !important;
          margin: 0 !important;
          font-family: inherit !important;
        }
        
        .popularity-score {
          display: flex;
          align-items: center;
          gap: 4px;
          font-size: 10px;
          color: rgba(243, 238, 217, 0.8);
          font-weight: 600;
        }
        
        .stats-grid {
          display: grid !important;
          grid-template-columns: 1fr 1fr !important;
          grid-template-rows: auto auto !important;
          gap: 12px !important;
          width: 100% !important;
          max-width: none !important;
        }
        
        .stat-card {
          background: rgba(243, 238, 217, 0.08) !important;
          border-radius: 12px !important;
          padding: 14px 12px !important;
          display: flex !important;
          align-items: center !important;
          gap: 12px !important;
          transition: all 0.2s ease !important;
          border: 1px solid rgba(243, 238, 217, 0.1) !important;
          position: relative !important;
          overflow: hidden !important;
          isolation: isolate !important;
          min-height: 60px !important;
          width: 100% !important;
          box-sizing: border-box !important;
        }
        
        .stat-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, rgba(243, 238, 217, 0.05) 0%, transparent 100%);
          opacity: 0;
          transition: opacity 0.2s ease;
        }
        
        .stat-card:hover {
          background: rgba(243, 238, 217, 0.12);
          transform: translateY(-1px);
        }
        
        .stat-card:hover::before {
          opacity: 1;
        }
        
        .stat-card.urgent {
          background: rgba(220, 38, 38, 0.15);
          border-color: rgba(220, 38, 38, 0.3);
          animation: pulse-card 3s ease-in-out infinite;
        }
        
        @keyframes pulse-card {
          0%, 100% {
            background: rgba(220, 38, 38, 0.15);
          }
          50% {
            background: rgba(220, 38, 38, 0.2);
          }
        }
        
        .stat-icon {
          opacity: 0.9;
          flex-shrink: 0;
        }
        
        .stat-content {
          flex: 1;
          min-width: 0;
        }
        
        .stat-value {
          font-size: 18px !important;
          font-weight: 800 !important;
          line-height: 1.2 !important;
          color: #F3EED9 !important;
          margin-bottom: 2px !important;
          font-family: inherit !important;
        }
        
        .stat-label {
          font-size: 10px !important;
          color: rgba(243, 238, 217, 0.7) !important;
          line-height: 1.2 !important;
          text-transform: uppercase !important;
          letter-spacing: 0.5px !important;
          font-weight: 600 !important;
          font-family: inherit !important;
        }
        
        .stat-trend {
          font-size: 9px;
          color: #4CAF50;
          font-weight: 600;
          margin-top: 2px;
        }
        
        .stat-percentage {
          font-size: 9px;
          color: rgba(243, 238, 217, 0.8);
          font-weight: 600;
          margin-top: 2px;
        }
        
        .users-stats {
          display: flex;
          flex-direction: column;
          gap: 12px;
          margin-bottom: 16px;
        }
        
        .user-stat {
          display: flex;
          align-items: center;
          gap: 12px;
          background: rgba(243, 238, 217, 0.06);
          border-radius: 10px;
          padding: 12px;
          border: 1px solid rgba(243, 238, 217, 0.1);
        }
        
        .user-stat-icon {
          opacity: 0.9;
        }
        
        .user-stat-content {
          flex: 1;
        }
        
        .user-stat-value {
          font-size: 16px;
          font-weight: 700;
          color: #F3EED9;
          line-height: 1.2;
        }
        
        .user-stat-label {
          font-size: 11px;
          color: rgba(243, 238, 217, 0.7);
          font-weight: 500;
        }
        
        .total-users {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 12px 16px;
          background: rgba(243, 238, 217, 0.1);
          border-radius: 12px;
          border: 1px solid rgba(243, 238, 217, 0.2);
        }
        
        .total-label {
          font-size: 12px;
          color: rgba(243, 238, 217, 0.8);
          font-weight: 600;
        }
        
        .total-value {
          font-size: 16px;
          font-weight: 800;
          color: #F3EED9;
        }
        
        .activity-section {
          margin-top: auto;
        }
        
        .activity-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 16px;
        }
        
        .activity-pulse {
          width: 8px;
          height: 8px;
          background: #4CAF50;
          border-radius: 50%;
          animation: pulse-activity 2s ease-in-out infinite;
        }
        
        @keyframes pulse-activity {
          0%, 100% {
            opacity: 1;
            transform: scale(1);
          }
          50% {
            opacity: 0.6;
            transform: scale(1.3);
          }
        }
        
        .activity-summary {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }
        
        .activity-item {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 11px;
          color: rgba(243, 238, 217, 0.8);
          line-height: 1.3;
        }
        
        .activity-item.urgent {
          color: #FFCDD2;
        }
        
        .activity-dot {
          width: 6px;
          height: 6px;
          border-radius: 50%;
          flex-shrink: 0;
        }
        
        .activity-dot.available {
          background: #4CAF50;
        }
        
        .activity-dot.borrowed {
          background: #FF9800;
        }
        
        .activity-dot.overdue {
          background: #F44336;
          animation: pulse-urgent 1.5s infinite;
        }
        
        /* Enhanced scrollbar */
        .sidebar-content::-webkit-scrollbar {
          width: 4px;
        }
        
        .sidebar-content::-webkit-scrollbar-track {
          background: rgba(243, 238, 217, 0.1);
          border-radius: 2px;
        }
        
        .sidebar-content::-webkit-scrollbar-thumb {
          background: rgba(243, 238, 217, 0.3);
          border-radius: 2px;
        }
        
        .sidebar-content::-webkit-scrollbar-thumb:hover {
          background: rgba(243, 238, 217, 0.5);
        }
        
        /* Force consistent 2x2 grid layout for statistics */
        @media (min-width: 769px) {
          .stats-grid {
            display: grid !important;
            grid-template-columns: 1fr 1fr !important;
            grid-template-rows: auto auto !important;
            grid-auto-rows: auto !important;
            gap: 12px !important;
            align-items: stretch !important;
          }
          
          .stat-card {
            min-height: 60px !important;
            max-height: none !important;
            flex: none !important;
          }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
          .sidebar {
            width: 100%;
            height: auto;
            flex-direction: row;
            border-right: none;
            border-bottom: 1px solid rgba(46, 69, 58, 0.3);
            overflow-x: auto;
            background: linear-gradient(90deg, #3E5C49 0%, #2E453A 100%);
          }
          
          .sidebar.collapsed {
            width: 100%;
          }
          
          .sidebar-header {
            display: none;
          }
          
          .sidebar-content {
            flex: 1;
            padding: 16px 20px;
            overflow-x: auto;
            display: flex;
            gap: 20px;
            overflow-y: visible;
          }
          
          .nav-section {
            margin-bottom: 0;
            flex-shrink: 0;
          }
          
          .nav-list {
            flex-direction: row;
            gap: 12px;
          }
          
          .nav-button {
            flex-direction: column;
            gap: 6px;
            padding: 12px 16px;
            min-width: 80px;
            white-space: nowrap;
            border-radius: 12px;
          }
          
          .nav-content {
            align-items: center;
            text-align: center;
          }
          
          .nav-label {
            font-size: 12px;
          }
          
          .nav-description {
            display: none;
          }
          
          .nav-count {
            position: absolute;
            top: 8px;
            right: 8px;
            font-size: 10px;
            padding: 2px 6px;
            min-width: 16px;
          }
          
          .stats-section,
          .activity-section {
            display: none;
          }
        }
        
        @media (max-width: 480px) {
          .sidebar-content {
            padding: 12px 16px;
            gap: 16px;
          }
          
          .nav-button {
            min-width: 70px;
            padding: 10px 12px;
          }
          
          .nav-label {
            font-size: 11px;
          }
          
          .nav-count {
            font-size: 9px;
            padding: 1px 4px;
          }
        }
        
        /* Performance optimizations */
        .nav-button {
          contain: layout style paint;
        }
        
        .stat-card {
          contain: layout style paint;
        }
        
        /* Accessibility improvements */
        @media (prefers-reduced-motion: reduce) {
          .nav-button,
          .stat-card,
          .toggle-button,
          .activity-pulse,
          .nav-highlight {
            transition: none;
            animation: none;
          }
          
          .nav-button:hover {
            transform: none;
          }
        }
        
        /* High contrast mode */
        @media (prefers-contrast: high) {
          .nav-button {
            border: 2px solid rgba(243, 238, 217, 0.5);
          }
          
          .nav-button.active {
            border-color: #F3EED9;
          }
          
          .stat-card {
            border-width: 2px;
          }
        }
      ` }), !isCollapsed && stats.overdueDocuments > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "emergency-alert", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "alert-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "alert-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "alert-title", children: "Action requise" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "alert-message", children: [stats.overdueDocuments, " document(s) en retard"] })] })] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .emergency-alert {
          margin: 16px 20px;
          background: linear-gradient(135deg, #DC2626 0%, #B91C1C 100%);
          color: #FFFFFF;
          padding: 16px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          gap: 12px;
          animation: pulse-alert 3s ease-in-out infinite;
          border: 1px solid rgba(255, 255, 255, 0.2);
          box-shadow: 0 4px 16px rgba(220, 38, 38, 0.3);
        }
        
        @keyframes pulse-alert {
          0%, 100% {
            box-shadow: 0 4px 16px rgba(220, 38, 38, 0.3);
          }
          50% {
            box-shadow: 0 8px 24px rgba(220, 38, 38, 0.5);
          }
        }
        
        .alert-icon {
          width: 32px;
          height: 32px;
          background: rgba(255, 255, 255, 0.2);
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }
        
        .alert-content {
          flex: 1;
        }
        
        .alert-title {
          font-size: 12px;
          font-weight: 700;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          margin-bottom: 2px;
          opacity: 0.9;
        }
        
        .alert-message {
          font-size: 13px;
          font-weight: 600;
          line-height: 1.3;
        }

        /* User Profile Section */
        .user-profile-section {
          padding: 16px 20px;
          border-bottom: 1px solid rgba(243, 238, 217, 0.1);
          position: relative;
          z-index: 1;
        }

        .user-profile {
          display: flex;
          align-items: center;
          gap: 12px;
          background: rgba(243, 238, 217, 0.08);
          border-radius: 12px;
          padding: 12px;
          border: 1px solid rgba(243, 238, 217, 0.15);
          transition: all 0.2s ease;
        }

        .user-profile:hover {
          background: rgba(243, 238, 217, 0.12);
          border-color: rgba(243, 238, 217, 0.25);
        }

        .user-avatar {
          width: 36px;
          height: 36px;
          border-radius: 10px;
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
          box-shadow: 0 4px 12px rgba(194, 87, 27, 0.3);
          cursor: pointer;
          transition: all 0.2s ease;
          border: 2px solid transparent;
        }

        .user-avatar:hover {
          border-color: rgba(243, 238, 217, 0.3);
          transform: scale(1.05);
          box-shadow: 0 6px 16px rgba(194, 87, 27, 0.4);
        }

        .avatar-text {
          color: #F3EED9;
          font-weight: 700;
          font-size: 14px;
          text-transform: uppercase;
        }

        .user-info {
          flex: 1;
          min-width: 0;
        }

        .user-name {
          font-size: 14px;
          font-weight: 600;
          color: #F3EED9;
          margin-bottom: 2px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .user-role {
          font-size: 11px;
          color: rgba(243, 238, 217, 0.7);
          font-weight: 500;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          margin-bottom: 2px;
        }

        .user-institution {
          font-size: 10px;
          color: rgba(243, 238, 217, 0.6);
          font-weight: 500;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .user-settings-btn {
          width: 30px;
          height: 30px;
          border: 1px solid rgba(243, 238, 217, 0.2);
          background: rgba(243, 238, 217, 0.15);
          color: #F3EED9;
          border-radius: 8px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          flex-shrink: 0;
        }

        .user-settings-btn:hover {
          background: rgba(243, 238, 217, 0.25);
          border-color: rgba(243, 238, 217, 0.4);
          color: #F3EED9;
          transform: scale(1.05);
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/SmartSearch.tsx":
/*!*************************************************!*\
  !*** ./src/renderer/components/SmartSearch.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SmartSearch: () => (/* binding */ SmartSearch)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/tag.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/star.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/trending-up.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/zap.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/clock.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/search.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/filter.mjs");



const SmartSearch = ({ onSearch, data = [], placeholder = "Rechercher dans la bibliothèque...", className = "" }) => {
    const [query, setQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');
    const [isExpanded, setIsExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [showFilters, setShowFilters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [filters, setFilters] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({ type: 'all' });
    const [suggestions, setSuggestions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [selectedSuggestion, setSelectedSuggestion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1);
    const [recentSearches, setRecentSearches] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const searchRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
    // Generate smart suggestions based on query
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        if (query.length === 0) {
            setSuggestions(generateQuickActions());
            return;
        }
        if (query.length < 2) {
            setSuggestions([]);
            return;
        }
        const newSuggestions = [];
        // Search in documents
        const documentMatches = data.filter(item => item.titre?.toLowerCase().includes(query.toLowerCase()) ||
            item.auteur?.toLowerCase().includes(query.toLowerCase())).slice(0, 3);
        documentMatches.forEach(doc => {
            newSuggestions.push({
                id: `doc-${doc.id}`,
                text: doc.titre,
                type: 'document',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"],
                description: `par ${doc.auteur} • ${doc.descripteurs}`
            });
        });
        // Add category suggestions
        const categoryMatches = ['Fiction', 'Sciences', 'Histoire', 'Philosophie', 'Art']
            .filter(cat => cat.toLowerCase().includes(query.toLowerCase()))
            .slice(0, 2);
        categoryMatches.forEach(cat => {
            newSuggestions.push({
                id: `cat-${cat}`,
                text: cat,
                type: 'category',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"],
                description: 'Catégorie'
            });
        });
        // Add author suggestions
        const authorMatches = Array.from(new Set(data.map(item => item.auteur)))
            .filter(author => author?.toLowerCase().includes(query.toLowerCase()))
            .slice(0, 2);
        authorMatches.forEach(author => {
            newSuggestions.push({
                id: `author-${author}`,
                text: author,
                type: 'author',
                icon: lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"],
                description: 'Auteur'
            });
        });
        setSuggestions(newSuggestions);
    }, [query, data]);
    const generateQuickActions = () => [
        {
            id: 'quick-available',
            text: 'Documents disponibles',
            type: 'quick-action',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"],
            description: 'Voir tous les livres disponibles',
            action: () => handleQuickSearch('status:available')
        },
        {
            id: 'quick-recent',
            text: 'Ajouts récents',
            type: 'quick-action',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"],
            description: 'Documents ajoutés récemment',
            action: () => handleQuickSearch('recent')
        },
        {
            id: 'quick-popular',
            text: 'Plus empruntés',
            type: 'quick-action',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"],
            description: 'Les livres les plus populaires',
            action: () => handleQuickSearch('popular')
        },
        {
            id: 'quick-overdue',
            text: 'Retards',
            type: 'quick-action',
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"],
            description: 'Documents en retard',
            action: () => handleQuickSearch('status:overdue')
        }
    ];
    const handleQuickSearch = (searchType) => {
        setQuery(searchType);
        handleSearch(searchType);
        setIsExpanded(false);
    };
    const handleSearch = (searchQuery = query) => {
        if (searchQuery.trim()) {
            // Add to recent searches
            const newRecentSearches = [
                searchQuery,
                ...recentSearches.filter(s => s !== searchQuery)
            ].slice(0, 5);
            setRecentSearches(newRecentSearches);
        }
        onSearch(searchQuery, filters);
    };
    const handleSuggestionClick = (suggestion) => {
        if (suggestion.action) {
            suggestion.action();
        }
        else {
            setQuery(suggestion.text);
            handleSearch(suggestion.text);
        }
        setIsExpanded(false);
    };
    const handleKeyDown = (e) => {
        if (!isExpanded)
            return;
        switch (e.key) {
            case 'ArrowDown':
                e.preventDefault();
                setSelectedSuggestion(prev => prev < suggestions.length - 1 ? prev + 1 : prev);
                break;
            case 'ArrowUp':
                e.preventDefault();
                setSelectedSuggestion(prev => prev > 0 ? prev - 1 : -1);
                break;
            case 'Enter':
                e.preventDefault();
                if (selectedSuggestion >= 0) {
                    handleSuggestionClick(suggestions[selectedSuggestion]);
                }
                else {
                    handleSearch();
                    setIsExpanded(false);
                }
                break;
            case 'Escape':
                setIsExpanded(false);
                setSelectedSuggestion(-1);
                break;
        }
    };
    const clearSearch = () => {
        setQuery('');
        setSuggestions(generateQuickActions());
        inputRef.current?.focus();
    };
    // Click outside handler
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        const handleClickOutside = (event) => {
            if (searchRef.current && !searchRef.current.contains(event.target)) {
                setIsExpanded(false);
                setSelectedSuggestion(-1);
            }
        };
        document.addEventListener('mousedown', handleClickOutside);
        return () => document.removeEventListener('mousedown', handleClickOutside);
    }, []);
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `smart-search ${isExpanded ? 'expanded' : ''} ${className}`, ref: searchRef, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "search-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "search-input-wrapper", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], { className: "search-icon", size: 20 }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { ref: inputRef, type: "text", value: query, onChange: (e) => setQuery(e.target.value), onFocus: () => setIsExpanded(true), onKeyDown: handleKeyDown, placeholder: placeholder, className: "search-input" }), query && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "clear-button", onClick: clearSearch, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16 }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: `filter-button ${showFilters ? 'active' : ''}`, onClick: () => setShowFilters(!showFilters), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"], { size: 18 }) })] }), showFilters && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filters-panel", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Type:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: filters.type, onChange: (e) => setFilters(prev => ({
                                            ...prev,
                                            type: e.target.value
                                        })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "all", children: "Tout" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "documents", children: "Documents" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "borrowers", children: "Emprunteurs" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "history", children: "Historique" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "filter-row", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { children: "Statut:" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("select", { value: filters.status || '', onChange: (e) => setFilters(prev => ({
                                            ...prev,
                                            status: e.target.value || undefined
                                        })), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "", children: "Tous" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "available", children: "Disponible" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "borrowed", children: "Emprunt\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "overdue", children: "En retard" })] })] })] })), isExpanded && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "suggestions-panel", children: [suggestions.length > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "suggestions-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "suggestions-header", children: query ? 'Suggestions' : 'Actions rapides' }), suggestions.map((suggestion, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `suggestion-item ${index === selectedSuggestion ? 'selected' : ''}`, onClick: () => handleSuggestionClick(suggestion), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "suggestion-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(suggestion.icon, { size: 18 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "suggestion-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "suggestion-text", children: suggestion.text }), suggestion.description && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "suggestion-description", children: suggestion.description }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "suggestion-type", children: suggestion.type })] }, suggestion.id)))] })), recentSearches.length > 0 && !query && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "suggestions-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "suggestions-header", children: "Recherches r\u00E9centes" }), recentSearches.map((search, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "suggestion-item recent", onClick: () => {
                                            setQuery(search);
                                            handleSearch(search);
                                            setIsExpanded(false);
                                        }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "suggestion-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 16 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "suggestion-content", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "suggestion-text", children: search }) })] }, index)))] }))] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .smart-search {
          position: relative;
          width: 100%;
          max-width: 600px;
          margin: 0 auto;
        }

        .search-container {
          position: relative;
          background: rgba(255, 255, 255, 0.95);
          border-radius: 16px;
          border: 1px solid rgba(229, 220, 194, 0.4);
          backdrop-filter: blur(10px);
          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          overflow: hidden;
        }

        .smart-search.expanded .search-container {
          box-shadow: 
            0 20px 40px rgba(62, 92, 73, 0.15),
            0 8px 16px rgba(62, 92, 73, 0.08);
          border-color: #3E5C49;
        }

        .search-input-wrapper {
          display: flex;
          align-items: center;
          padding: 16px 20px;
          gap: 12px;
        }

        .search-icon {
          color: #6B7280;
          transition: color 0.2s ease;
        }

        .smart-search.expanded .search-icon {
          color: #3E5C49;
        }

        .search-input {
          flex: 1;
          border: none;
          outline: none;
          background: transparent;
          font-size: 16px;
          color: #1F2937;
          font-weight: 500;
        }

        .search-input::placeholder {
          color: #9CA3AF;
        }

        .clear-button, .filter-button {
          padding: 8px;
          border: none;
          background: rgba(107, 114, 128, 0.1);
          border-radius: 8px;
          color: #6B7280;
          cursor: pointer;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .clear-button:hover, .filter-button:hover {
          background: rgba(107, 114, 128, 0.2);
          color: #374151;
        }

        .filter-button.active {
          background: #3E5C49;
          color: white;
        }

        .filters-panel {
          padding: 16px 20px;
          border-top: 1px solid rgba(229, 220, 194, 0.4);
          background: rgba(248, 246, 240, 0.5);
          display: flex;
          gap: 20px;
          flex-wrap: wrap;
        }

        .filter-row {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .filter-row label {
          font-size: 14px;
          font-weight: 600;
          color: #374151;
          min-width: 60px;
        }

        .filter-row select {
          padding: 6px 12px;
          border: 1px solid rgba(229, 220, 194, 0.6);
          border-radius: 8px;
          background: white;
          font-size: 14px;
          color: #374151;
          outline: none;
          transition: border-color 0.2s ease;
        }

        .filter-row select:focus {
          border-color: #3E5C49;
        }

        .suggestions-panel {
          border-top: 1px solid rgba(229, 220, 194, 0.4);
          max-height: 400px;
          overflow-y: auto;
        }

        .suggestions-section {
          padding: 8px 0;
        }

        .suggestions-header {
          padding: 12px 20px 8px;
          font-size: 12px;
          font-weight: 700;
          color: #6B7280;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .suggestion-item {
          display: flex;
          align-items: center;
          padding: 12px 20px;
          cursor: pointer;
          transition: all 0.2s ease;
          gap: 12px;
        }

        .suggestion-item:hover,
        .suggestion-item.selected {
          background: rgba(62, 92, 73, 0.08);
        }

        .suggestion-item.recent {
          opacity: 0.8;
        }

        .suggestion-icon {
          width: 36px;
          height: 36px;
          background: rgba(62, 92, 73, 0.1);
          border-radius: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #3E5C49;
          flex-shrink: 0;
        }

        .suggestion-content {
          flex: 1;
        }

        .suggestion-text {
          font-size: 15px;
          font-weight: 600;
          color: #1F2937;
          margin-bottom: 2px;
        }

        .suggestion-description {
          font-size: 13px;
          color: #6B7280;
        }

        .suggestion-type {
          font-size: 11px;
          color: #9CA3AF;
          text-transform: uppercase;
          font-weight: 600;
          letter-spacing: 0.5px;
          background: rgba(156, 163, 175, 0.1);
          padding: 4px 8px;
          border-radius: 6px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
          .search-input-wrapper {
            padding: 14px 16px;
          }

          .search-input {
            font-size: 16px; /* Prevents zoom on iOS */
          }

          .filters-panel {
            flex-direction: column;
            gap: 12px;
          }

          .filter-row {
            justify-content: space-between;
          }

          .filter-row label {
            min-width: auto;
          }
        }

        /* High contrast mode */
        @media (prefers-contrast: high) {
          .search-container {
            border: 2px solid #000;
            background: #fff;
          }

          .suggestion-item:hover,
          .suggestion-item.selected {
            background: #000;
            color: #fff;
          }
        }

        /* Reduced motion */
        @media (prefers-reduced-motion: reduce) {
          .search-container,
          .suggestion-item,
          .clear-button,
          .filter-button {
            transition: none;
          }
        }

        /* Dark mode considerations */
        @media (prefers-color-scheme: dark) {
          .search-container {
            background: rgba(31, 41, 55, 0.95);
            border-color: rgba(75, 85, 99, 0.4);
          }

          .search-input {
            color: #F3F4F6;
          }

          .search-input::placeholder {
            color: #6B7280;
          }

          .filters-panel {
            background: rgba(17, 24, 39, 0.5);
          }

          .suggestion-text {
            color: #F3F4F6;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/TitleBar.tsx":
/*!**********************************************!*\
  !*** ./src/renderer/components/TitleBar.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TitleBar: () => (/* binding */ TitleBar)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/refresh-cw.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/minus.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/square.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");


const TitleBar = ({ onRefresh, isAuthenticated = false }) => {
    const handleMinimize = () => {
        try {
            if (window.electronAPI && window.electronAPI.minimizeWindow) {
                window.electronAPI.minimizeWindow();
            }
            else {
                console.warn('electronAPI.minimizeWindow non disponible');
            }
        }
        catch (error) {
            console.error('Erreur lors de la minimisation:', error);
        }
    };
    const handleMaximize = () => {
        try {
            if (window.electronAPI && window.electronAPI.maximizeWindow) {
                window.electronAPI.maximizeWindow();
            }
            else {
                console.warn('electronAPI.maximizeWindow non disponible');
            }
        }
        catch (error) {
            console.error('Erreur lors de la maximisation:', error);
        }
    };
    const handleClose = () => {
        try {
            if (window.electronAPI && window.electronAPI.closeWindow) {
                window.electronAPI.closeWindow();
            }
            else {
                console.warn('electronAPI.closeWindow non disponible');
                // Fallback pour fermer la fenêtre
                if (window.close) {
                    window.close();
                }
            }
        }
        catch (error) {
            console.error('Erreur lors de la fermeture:', error);
        }
    };
    const handleRefresh = () => {
        try {
            if (onRefresh) {
                onRefresh();
            }
        }
        catch (error) {
            console.error('Erreur lors du rafraîchissement:', error);
        }
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "titlebar", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "titlebar-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "titlebar-left", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "app-logo", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_1__["default"], { size: 18 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "app-title", children: "Biblioth\u00E8que" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "title-separator" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "app-subtitle", children: "Gestion moderne de collection" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "titlebar-center" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "titlebar-controls", children: [isAuthenticated && onRefresh && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "control-button refresh", onClick: handleRefresh, title: "Rafra\u00EEchir", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], { size: 12 }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "control-button minimize", onClick: handleMinimize, title: "R\u00E9duire", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"], { size: 12 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "control-button maximize", onClick: handleMaximize, title: "Agrandir", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"], { size: 10 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "control-button close", onClick: handleClose, title: "Fermer", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 12 }) })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .titlebar {
          height: 48px;
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          border-bottom: 1px solid rgba(46, 69, 58, 0.2);
          -webkit-app-region: drag;
          position: relative;
          z-index: 1000;
        }
        
        .titlebar::after {
          content: '';
          position: absolute;
          bottom: 0;
          left: 0;
          right: 0;
          height: 1px;
          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.3), transparent);
        }
        
        .titlebar-content {
          display: flex;
          align-items: center;
          justify-content: space-between;
          height: 100%;
          padding: 0 8px 0 16px;
          position: relative;
        }
        
        .titlebar-left {
          display: flex;
          align-items: center;
          gap: 12px;
          flex: 1;
          min-width: 0;
        }
        
        .app-logo {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 32px;
          height: 32px;
          background: rgba(243, 238, 217, 0.15);
          border-radius: 8px;
          color: #F3EED9;
          flex-shrink: 0;
        }
        
        .app-title {
          font-size: 14px;
          font-weight: 700;
          color: #F3EED9;
          letter-spacing: -0.2px;
          flex-shrink: 0;
        }
        
        .title-separator {
          width: 1px;
          height: 16px;
          background: rgba(243, 238, 217, 0.3);
          flex-shrink: 0;
        }
        
        .app-subtitle {
          font-size: 12px;
          font-weight: 400;
          color: rgba(243, 238, 217, 0.8);
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        
        .titlebar-center {
          flex: 2;
          display: flex;
          justify-content: center;
          margin: 0 16px;
        }
        
        .titlebar-controls {
          display: flex;
          align-items: center;
          -webkit-app-region: no-drag;
          flex-shrink: 0;
        }
        
        .control-button {
          width: 44px;
          height: 32px;
          border: none;
          background: transparent;
          color: #F3EED9;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 4px;
          transition: all 0.15s ease;
          opacity: 0.8;
          position: relative;
        }
        
        .control-button::before {
          content: '';
          position: absolute;
          inset: 4px;
          border-radius: 2px;
          background: transparent;
          transition: background 0.15s ease;
        }
        
        .control-button:hover {
          opacity: 1;
        }
        
        .control-button:hover::before {
          background: rgba(243, 238, 217, 0.1);
        }
        
        .control-button:active::before {
          background: rgba(243, 238, 217, 0.2);
        }
        
        .control-button.close:hover::before {
          background: #E81123;
        }
        
        .control-button.close:hover {
          color: #FFFFFF;
        }
        
        .control-button.close:active::before {
          background: #C50E1F;
        }

        .control-button.refresh:hover::before {
          background: rgba(139, 195, 74, 0.2);
        }

        .control-button.refresh:hover {
          color: #8BC34A;
        }

        .control-button.refresh:active::before {
          background: rgba(139, 195, 74, 0.3);
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
          .app-subtitle {
            display: none;
          }
          
          .title-separator {
            display: none;
          }
          
          .titlebar-content {
            padding: 0 4px 0 12px;
          }
        }
        
        @media (max-width: 480px) {
          .titlebar-left {
            gap: 8px;
          }
          
          .app-title {
            font-size: 13px;
          }
          
          .control-button {
            width: 40px;
            height: 30px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/components/ToastSystem.tsx":
/*!*************************************************!*\
  !*** ./src/renderer/components/ToastSystem.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ToastProvider: () => (/* binding */ ToastProvider),
/* harmony export */   useQuickToast: () => (/* binding */ useQuickToast),
/* harmony export */   useToast: () => (/* binding */ useToast)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-triangle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/info.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/book-open.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/users.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/activity.mjs");



const ToastContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);
const useToast = () => {
    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ToastContext);
    if (!context) {
        throw new Error('useToast must be used within a ToastProvider');
    }
    return context;
};
const ToastProvider = ({ children }) => {
    const [toasts, setToasts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const addToast = (toastData) => {
        const id = `toast-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
        const toast = {
            id,
            duration: 5000,
            ...toastData
        };
        setToasts(prev => [...prev, toast]);
        // Auto remove if not sticky
        if (!toast.sticky && toast.duration) {
            setTimeout(() => {
                removeToast(id);
            }, toast.duration);
        }
    };
    const removeToast = (id) => {
        setToasts(prev => prev.filter(toast => toast.id !== id));
    };
    const updateToast = (id, updates) => {
        setToasts(prev => prev.map(toast => toast.id === id ? { ...toast, ...updates } : toast));
    };
    const clearAll = () => {
        setToasts([]);
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(ToastContext.Provider, { value: { addToast, removeToast, updateToast, clearAll }, children: [children, (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ToastContainer, { toasts: toasts, removeToast: removeToast })] }));
};
const ToastContainer = ({ toasts, removeToast }) => {
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "toast-container", children: [toasts.map((toast, index) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ToastItem, { toast: toast, onRemove: () => removeToast(toast.id), index: index }, toast.id))), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .toast-container {
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 10000;
          display: flex;
          flex-direction: column;
          gap: 12px;
          max-width: 420px;
          width: 100%;
          pointer-events: none;
        }

        @media (max-width: 768px) {
          .toast-container {
            top: 80px;
            left: 20px;
            right: 20px;
            max-width: none;
          }
        }
      ` })] }));
};
const ToastItem = ({ toast, onRemove, index }) => {
    const [isVisible, setIsVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [isRemoving, setIsRemoving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [progress, setProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(100);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        // Animate in
        setTimeout(() => setIsVisible(true), 50 * index);
    }, [index]);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        // Progress bar animation
        if (toast.duration && !toast.sticky) {
            const startTime = Date.now();
            const interval = setInterval(() => {
                const elapsed = Date.now() - startTime;
                const remaining = Math.max(0, (toast.duration - elapsed) / toast.duration * 100);
                setProgress(remaining);
                if (remaining === 0) {
                    clearInterval(interval);
                }
            }, 50);
            return () => clearInterval(interval);
        }
    }, [toast.duration, toast.sticky]);
    const handleRemove = () => {
        setIsRemoving(true);
        setTimeout(onRemove, 300);
    };
    const getIcon = () => {
        if (toast.icon)
            return toast.icon;
        switch (toast.type) {
            case 'success': return lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"];
            case 'error': return lucide_react__WEBPACK_IMPORTED_MODULE_3__["default"];
            case 'warning': return lucide_react__WEBPACK_IMPORTED_MODULE_4__["default"];
            case 'info': return lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"];
            default: return lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"];
        }
    };
    const getColors = () => {
        if (toast.color) {
            return {
                background: `${toast.color}15`,
                border: `${toast.color}40`,
                accent: toast.color
            };
        }
        switch (toast.type) {
            case 'success':
                return { background: '#10B98115', border: '#10B98140', accent: '#10B981' };
            case 'error':
                return { background: '#EF444415', border: '#EF444440', accent: '#EF4444' };
            case 'warning':
                return { background: '#F59E0B15', border: '#F59E0B40', accent: '#F59E0B' };
            case 'info':
                return { background: '#3B82F615', border: '#3B82F640', accent: '#3B82F6' };
            default:
                return { background: '#6B728015', border: '#6B728040', accent: '#6B7280' };
        }
    };
    const Icon = getIcon();
    const colors = getColors();
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `toast-item ${isVisible ? 'visible' : ''} ${isRemoving ? 'removing' : ''}`, style: {
            '--toast-bg': colors.background,
            '--toast-border': colors.border,
            '--toast-accent': colors.accent
        }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "toast-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "toast-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Icon, { size: 20 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "toast-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "toast-title", children: toast.title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "toast-message", children: toast.message }), toast.progress !== undefined && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "toast-progress-container", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "toast-progress-label", children: ["Progression: ", Math.round(toast.progress), "%"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "toast-progress-bar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "toast-progress-fill", style: { width: `${toast.progress}%` } }) })] }))] }), toast.action && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "toast-action", onClick: toast.action.onClick, children: toast.action.label })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "toast-close", onClick: handleRemove, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 16 }) })] }), !toast.sticky && toast.duration && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "toast-timer", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "toast-timer-fill", style: { width: `${progress}%` } }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .toast-item {
          background: var(--toast-bg);
          border: 1px solid var(--toast-border);
          border-radius: 16px;
          backdrop-filter: blur(20px);
          box-shadow: 
            0 20px 40px rgba(0, 0, 0, 0.1),
            0 8px 16px rgba(0, 0, 0, 0.05);
          overflow: hidden;
          transform: translateX(100%);
          opacity: 0;
          transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          pointer-events: auto;
          position: relative;
        }

        .toast-item.visible {
          transform: translateX(0);
          opacity: 1;
        }

        .toast-item.removing {
          transform: translateX(100%);
          opacity: 0;
        }

        .toast-content {
          display: flex;
          align-items: flex-start;
          gap: 12px;
          padding: 20px;
          position: relative;
        }

        .toast-icon {
          width: 40px;
          height: 40px;
          background: var(--toast-accent);
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          flex-shrink: 0;
          position: relative;
          overflow: hidden;
        }

        .toast-icon::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
          animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
          0% { left: -100%; }
          100% { left: 100%; }
        }

        .toast-text {
          flex: 1;
          min-width: 0;
        }

        .toast-title {
          font-size: 16px;
          font-weight: 700;
          color: #1F2937;
          margin-bottom: 4px;
          line-height: 1.2;
        }

        .toast-message {
          font-size: 14px;
          color: #6B7280;
          line-height: 1.4;
        }

        .toast-progress-container {
          margin-top: 12px;
        }

        .toast-progress-label {
          font-size: 12px;
          color: #9CA3AF;
          margin-bottom: 6px;
          font-weight: 600;
        }

        .toast-progress-bar {
          height: 6px;
          background: rgba(0, 0, 0, 0.1);
          border-radius: 3px;
          overflow: hidden;
        }

        .toast-progress-fill {
          height: 100%;
          background: var(--toast-accent);
          border-radius: inherit;
          transition: width 0.3s ease;
          position: relative;
        }

        .toast-progress-fill::after {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
          animation: progressShimmer 1.5s infinite;
        }

        @keyframes progressShimmer {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(200%); }
        }

        .toast-action {
          background: var(--toast-accent);
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 8px;
          font-size: 12px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s ease;
          flex-shrink: 0;
        }

        .toast-action:hover {
          transform: scale(1.05);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .toast-close {
          background: rgba(0, 0, 0, 0.1);
          border: none;
          border-radius: 8px;
          padding: 8px;
          cursor: pointer;
          color: #6B7280;
          transition: all 0.2s ease;
          flex-shrink: 0;
        }

        .toast-close:hover {
          background: rgba(0, 0, 0, 0.2);
          color: #374151;
        }

        .toast-timer {
          position: absolute;
          bottom: 0;
          left: 0;
          right: 0;
          height: 3px;
          background: rgba(0, 0, 0, 0.1);
        }

        .toast-timer-fill {
          height: 100%;
          background: var(--toast-accent);
          transition: width 0.1s linear;
        }

        /* Dark mode */
        @media (prefers-color-scheme: dark) {
          .toast-title {
            color: #F3F4F6;
          }
          
          .toast-message {
            color: #D1D5DB;
          }
          
          .toast-close {
            color: #9CA3AF;
          }
          
          .toast-close:hover {
            color: #F3F4F6;
          }
        }

        /* High contrast mode */
        @media (prefers-contrast: high) {
          .toast-item {
            border: 2px solid var(--toast-accent);
          }
        }

        /* Reduced motion */
        @media (prefers-reduced-motion: reduce) {
          .toast-item {
            transition: opacity 0.2s ease;
          }

          .toast-icon::before,
          .toast-progress-fill::after {
            animation: none;
          }
        }
      ` })] }));
};
// Convenience hooks for common toast types
const useQuickToast = () => {
    const { addToast } = useToast();
    return {
        success: (title, message, action) => addToast({ type: 'success', title, message, action }),
        error: (title, message, action) => addToast({ type: 'error', title, message, action, duration: 8000 }),
        warning: (title, message, action) => addToast({ type: 'warning', title, message, action, duration: 6000 }),
        info: (title, message, action) => addToast({ type: 'info', title, message, action }),
        documentAdded: (title) => addToast({
            type: 'custom',
            title: 'Document ajouté !',
            message: `"${title}" a été ajouté à votre collection`,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"],
            color: '#10B981'
        }),
        documentBorrowed: (title, borrower) => addToast({
            type: 'custom',
            title: 'Document emprunté',
            message: `"${title}" emprunté par ${borrower}`,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"],
            color: '#F59E0B'
        }),
        documentReturned: (title) => addToast({
            type: 'custom',
            title: 'Document rendu',
            message: `"${title}" a été rendu avec succès`,
            icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"],
            color: '#10B981'
        }),
        syncProgress: (progress) => {
            const id = 'sync-progress';
            if (progress === 100) {
                addToast({
                    type: 'custom',
                    title: 'Synchronisation terminée',
                    message: 'Toutes vos données sont à jour',
                    icon: lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"],
                    color: '#10B981'
                });
            }
            else {
                addToast({
                    type: 'custom',
                    title: 'Synchronisation en cours...',
                    message: 'Mise à jour de vos données',
                    icon: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"],
                    color: '#3B82F6',
                    progress,
                    sticky: true
                });
            }
        }
    };
};


/***/ }),

/***/ "./src/renderer/components/UserProfile.tsx":
/*!*************************************************!*\
  !*** ./src/renderer/components/UserProfile.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UserProfile: () => (/* binding */ UserProfile)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/user.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/shield.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/building.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/pen-line.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/mail.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye-off.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/eye.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/check.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/alert-circle.mjs");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/save.mjs");
/* harmony import */ var _MicroInteractions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MicroInteractions */ "./src/renderer/components/MicroInteractions.tsx");
/* harmony import */ var _ToastSystem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ToastSystem */ "./src/renderer/components/ToastSystem.tsx");
/* harmony import */ var _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/LocalAuthService */ "./src/renderer/services/LocalAuthService.ts");






const UserProfile = ({ currentUser, currentInstitution, appMode, onClose, onUserUpdate }) => {
    const { success, error } = (0,_ToastSystem__WEBPACK_IMPORTED_MODULE_3__.useQuickToast)();
    const [isEditing, setIsEditing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [showPasswordSection, setShowPasswordSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        firstName: currentUser?.firstName || '',
        lastName: currentUser?.lastName || '',
        email: currentUser?.email || '',
        role: currentUser?.role || '',
        currentPassword: '',
        newPassword: '',
        confirmPassword: ''
    });
    const [validation, setValidation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        currentPasswordValid: false,
        newPasswordValid: false,
        passwordsMatch: false
    });
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
        if (currentUser) {
            setFormData({
                firstName: currentUser.firstName || '',
                lastName: currentUser.lastName || '',
                email: currentUser.email || '',
                role: currentUser.role || '',
                currentPassword: '',
                newPassword: '',
                confirmPassword: ''
            });
        }
    }, [currentUser]);
    const validatePasswords = () => {
        const currentPasswordValid = formData.currentPassword.length >= 3;
        const newPasswordValid = formData.newPassword.length >= 4;
        const passwordsMatch = formData.newPassword === formData.confirmPassword;
        setValidation({
            currentPasswordValid,
            newPasswordValid,
            passwordsMatch
        });
        return currentPasswordValid && newPasswordValid && passwordsMatch;
    };
    const handleInputChange = (field, value) => {
        setFormData(prev => ({ ...prev, [field]: value }));
        if (field.includes('Password')) {
            setTimeout(validatePasswords, 100);
        }
    };
    const handleSaveProfile = async () => {
        setIsLoading(true);
        try {
            if (appMode === 'offline') {
                // Mode offline - utiliser LocalAuthService
                const users = _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_4__.LocalAuthService.getUsers();
                const userIndex = users.findIndex(u => u.id === currentUser?.id);
                if (userIndex === -1) {
                    error('Erreur', 'Utilisateur non trouvé');
                    return;
                }
                const updatedUser = {
                    ...users[userIndex],
                    firstName: formData.firstName,
                    lastName: formData.lastName,
                    email: formData.email,
                    lastModified: new Date().toISOString()
                };
                // Si changement de mot de passe demandé
                if (showPasswordSection && formData.newPassword) {
                    if (!validatePasswords()) {
                        error('Erreur de validation', 'Veuillez vérifier les mots de passe');
                        return;
                    }
                    // Vérifier le mot de passe actuel
                    if (users[userIndex].password !== formData.currentPassword) {
                        error('Mot de passe incorrect', 'Le mot de passe actuel est incorrect');
                        return;
                    }
                    updatedUser.password = formData.newPassword;
                }
                users[userIndex] = updatedUser;
                _services_LocalAuthService__WEBPACK_IMPORTED_MODULE_4__.LocalAuthService.saveUsers(users);
                // Mettre à jour le currentUser dans localStorage aussi
                localStorage.setItem('currentUser', JSON.stringify(updatedUser));
                // Notifier le parent avec l'utilisateur unifié
                const unifiedUser = {
                    id: updatedUser.id,
                    firstName: updatedUser.firstName,
                    lastName: updatedUser.lastName,
                    email: updatedUser.email,
                    role: updatedUser.role,
                    institutionCode: updatedUser.institutionCode,
                    lastLogin: updatedUser.lastLogin,
                    preferences: updatedUser.preferences
                };
                onUserUpdate(unifiedUser);
            }
            else {
                // Mode online - utiliser Supabase (à implémenter si nécessaire)
                error('Mode non supporté', 'La modification du profil en mode online n\'est pas encore implémentée');
                return;
            }
            success('Profil mis à jour', 'Vos informations ont été sauvegardées avec succès');
            setIsEditing(false);
            setShowPasswordSection(false);
            setFormData(prev => ({
                ...prev,
                currentPassword: '',
                newPassword: '',
                confirmPassword: ''
            }));
        }
        catch (err) {
            error('Erreur de sauvegarde', 'Impossible de sauvegarder les modifications');
        }
        finally {
            setIsLoading(false);
        }
    };
    const getRoleLabel = (role) => {
        const roleMap = {
            'admin': 'Administrateur',
            'librarian': 'Bibliothécaire',
            'user': 'Utilisateur',
            'Administrateur': 'Administrateur',
            'Bibliothécaire': 'Bibliothécaire',
            'Utilisateur': 'Utilisateur'
        };
        return roleMap[role] || role;
    };
    const getInitials = (user) => {
        if (user?.firstName && user?.lastName) {
            return `${user.firstName.charAt(0)}${user.lastName.charAt(0)}`.toUpperCase();
        }
        if (user?.firstName) {
            return user.firstName.charAt(0).toUpperCase();
        }
        if (user?.email) {
            return user.email.charAt(0).toUpperCase();
        }
        return 'U';
    };
    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-profile-overlay", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-profile-modal", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "header-icon", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_5__["default"], { size: 28 }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "header-text", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2", { className: "modal-title", children: "Profil utilisateur" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "modal-subtitle", children: "G\u00E9rez vos informations personnelles" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: "close-button", onClick: onClose, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_6__["default"], { size: 20 }) })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-content", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-avatar-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "large-avatar", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "large-avatar-text", children: getInitials(currentUser) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-basic-info", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3", { className: "user-display-name", children: currentUser?.firstName
                                                    ? `${currentUser.firstName} ${currentUser.lastName || ''}`.trim()
                                                    : currentUser?.email || 'Utilisateur' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-role-badge", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__["default"], { size: 14 }), getRoleLabel(currentUser?.role || 'user')] }), currentInstitution && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "user-institution-badge", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__["default"], { size: 14 }), currentInstitution.name] }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "profile-form-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "section-title", children: "Informations personnelles" }), !isEditing && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", size: "small", icon: lucide_react__WEBPACK_IMPORTED_MODULE_9__["default"], onClick: () => setIsEditing(true), children: "Modifier" }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-grid", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Pr\u00E9nom" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.firstName, onChange: (e) => handleInputChange('firstName', e.target.value), disabled: !isEditing, className: "form-input", placeholder: "Votre pr\u00E9nom" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Nom" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: formData.lastName, onChange: (e) => handleInputChange('lastName', e.target.value), disabled: !isEditing, className: "form-input", placeholder: "Votre nom" })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group full-width", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Email" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-with-icon", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__["default"], { size: 16, className: "input-icon" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "email", value: formData.email, onChange: (e) => handleInputChange('email', e.target.value), disabled: !isEditing, className: "form-input with-icon", placeholder: "votre@email.com" })] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group full-width", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "R\u00F4le" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "text", value: getRoleLabel(formData.role), disabled: true, className: "form-input disabled" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: "form-help", children: "Le r\u00F4le ne peut \u00EAtre modifi\u00E9 que par un administrateur" })] })] }), isEditing && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "password-section", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "section-header", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h4", { className: "section-title", children: "S\u00E9curit\u00E9" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", size: "small", icon: showPasswordSection ? lucide_react__WEBPACK_IMPORTED_MODULE_11__["default"] : lucide_react__WEBPACK_IMPORTED_MODULE_12__["default"], onClick: () => setShowPasswordSection(!showPasswordSection), children: showPasswordSection ? 'Masquer' : 'Changer mot de passe' })] }), showPasswordSection && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "password-form", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Mot de passe actuel" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-with-validation", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "password", value: formData.currentPassword, onChange: (e) => handleInputChange('currentPassword', e.target.value), className: `form-input ${validation.currentPasswordValid ? 'valid' : formData.currentPassword ? 'invalid' : ''}`, placeholder: "Mot de passe actuel" }), formData.currentPassword && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "validation-icon", children: validation.currentPasswordValid ?
                                                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16, className: "valid" }) :
                                                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16, className: "invalid" }) }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Nouveau mot de passe" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-with-validation", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "password", value: formData.newPassword, onChange: (e) => handleInputChange('newPassword', e.target.value), className: `form-input ${validation.newPasswordValid ? 'valid' : formData.newPassword ? 'invalid' : ''}`, placeholder: "Nouveau mot de passe (min. 4 caract\u00E8res)" }), formData.newPassword && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "validation-icon", children: validation.newPasswordValid ?
                                                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16, className: "valid" }) :
                                                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16, className: "invalid" }) }))] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "form-group", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { className: "form-label", children: "Confirmer le mot de passe" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "input-with-validation", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "password", value: formData.confirmPassword, onChange: (e) => handleInputChange('confirmPassword', e.target.value), className: `form-input ${validation.passwordsMatch && formData.confirmPassword ? 'valid' : formData.confirmPassword ? 'invalid' : ''}`, placeholder: "Confirmer le nouveau mot de passe" }), formData.confirmPassword && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "validation-icon", children: validation.passwordsMatch ?
                                                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__["default"], { size: 16, className: "valid" }) :
                                                                            (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__["default"], { size: 16, className: "invalid" }) }))] })] })] }))] }))] })] }), isEditing && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "modal-footer", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "secondary", onClick: () => {
                                    setIsEditing(false);
                                    setShowPasswordSection(false);
                                    // Reset form
                                    setFormData({
                                        firstName: currentUser?.firstName || '',
                                        lastName: currentUser?.lastName || '',
                                        email: currentUser?.email || '',
                                        role: currentUser?.role || '',
                                        currentPassword: '',
                                        newPassword: '',
                                        confirmPassword: ''
                                    });
                                }, children: "Annuler" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_MicroInteractions__WEBPACK_IMPORTED_MODULE_2__.MicroButton, { variant: "success", onClick: handleSaveProfile, disabled: isLoading, icon: lucide_react__WEBPACK_IMPORTED_MODULE_15__["default"], children: isLoading ? 'Sauvegarde...' : 'Sauvegarder' })] }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("style", { children: `
        .user-profile-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.6);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
          backdrop-filter: blur(8px);
        }

        .user-profile-modal {
          background: #FFFFFF;
          border-radius: 20px;
          width: 100%;
          max-width: 600px;
          max-height: 90vh;
          overflow: hidden;
          display: flex;
          flex-direction: column;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
          border: 1px solid rgba(229, 220, 194, 0.3);
        }

        .modal-header {
          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);
          color: #F3EED9;
          padding: 32px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          position: relative;
        }

        .header-content {
          display: flex;
          align-items: center;
          gap: 20px;
        }

        .header-icon {
          width: 56px;
          height: 56px;
          background: rgba(243, 238, 217, 0.2);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .modal-title {
          font-size: 24px;
          font-weight: 700;
          margin: 0 0 4px 0;
        }

        .modal-subtitle {
          font-size: 14px;
          opacity: 0.8;
          margin: 0;
        }

        .close-button {
          width: 44px;
          height: 44px;
          border: none;
          background: rgba(243, 238, 217, 0.1);
          color: #F3EED9;
          border-radius: 12px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s ease;
          z-index: 10;
        }

        .close-button:hover {
          background: rgba(243, 238, 217, 0.2);
        }

        .modal-content {
          flex: 1;
          overflow-y: auto;
          padding: 32px;
        }

        .user-avatar-section {
          display: flex;
          align-items: center;
          gap: 24px;
          margin-bottom: 32px;
          padding: 24px;
          background: rgba(243, 238, 217, 0.1);
          border-radius: 16px;
          border: 1px solid rgba(243, 238, 217, 0.2);
        }

        .large-avatar {
          width: 80px;
          height: 80px;
          border-radius: 20px;
          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);
        }

        .large-avatar-text {
          color: #F3EED9;
          font-weight: 800;
          font-size: 28px;
          text-transform: uppercase;
        }

        .user-display-name {
          font-size: 24px;
          font-weight: 700;
          color: #2E2E2E;
          margin: 0 0 8px 0;
        }

        .user-role-badge,
        .user-institution-badge {
          display: inline-flex;
          align-items: center;
          gap: 6px;
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 12px;
          font-weight: 600;
          margin: 4px 8px 4px 0;
        }

        .user-role-badge {
          background: rgba(62, 92, 73, 0.1);
          color: #3E5C49;
        }

        .user-institution-badge {
          background: rgba(194, 87, 27, 0.1);
          color: #C2571B;
        }

        .profile-form-section {
          margin-bottom: 24px;
        }

        .section-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 20px;
        }

        .section-title {
          font-size: 18px;
          font-weight: 600;
          color: #2E2E2E;
          margin: 0;
        }

        .form-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
        }

        .form-group.full-width {
          grid-column: 1 / -1;
        }

        .form-label {
          font-size: 14px;
          font-weight: 600;
          color: #2E2E2E;
          margin-bottom: 8px;
        }

        .form-input {
          padding: 12px 16px;
          border: 2px solid #E5DCC2;
          border-radius: 8px;
          font-size: 14px;
          background: #FFFFFF;
          color: #2E2E2E;
          transition: all 0.3s ease;
        }

        .form-input:focus {
          outline: none;
          border-color: #3E5C49;
          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);
        }

        .form-input:disabled {
          background: #F5F5F5;
          color: #6E6E6E;
          cursor: not-allowed;
        }

        .form-input.disabled {
          background: #F8F8F8;
          border-color: #E0E0E0;
        }

        .form-input.with-icon {
          padding-left: 44px;
        }

        .form-input.valid {
          border-color: #10B981;
        }

        .form-input.invalid {
          border-color: #DC2626;
        }

        .input-with-icon {
          position: relative;
        }

        .input-icon {
          position: absolute;
          left: 14px;
          top: 50%;
          transform: translateY(-50%);
          color: #6E6E6E;
        }

        .input-with-validation {
          position: relative;
        }

        .validation-icon {
          position: absolute;
          right: 12px;
          top: 50%;
          transform: translateY(-50%);
        }

        .validation-icon .valid {
          color: #10B981;
        }

        .validation-icon .invalid {
          color: #DC2626;
        }

        .form-help {
          font-size: 12px;
          color: #6E6E6E;
          margin: 4px 0 0 0;
          font-style: italic;
        }

        .password-section {
          margin-top: 32px;
          padding-top: 24px;
          border-top: 1px solid rgba(229, 220, 194, 0.3);
        }

        .password-form {
          display: flex;
          flex-direction: column;
          gap: 16px;
          margin-top: 20px;
        }

        .modal-footer {
          padding: 24px 32px;
          border-top: 1px solid #E5DCC2;
          display: flex;
          justify-content: flex-end;
          gap: 16px;
        }

        @media (max-width: 768px) {
          .user-profile-modal {
            margin: 12px;
          }

          .user-avatar-section {
            flex-direction: column;
            text-align: center;
            gap: 16px;
          }

          .form-grid {
            grid-template-columns: 1fr;
          }

          .modal-content {
            padding: 20px;
          }
        }
      ` })] }));
};


/***/ }),

/***/ "./src/renderer/index.tsx":
/*!********************************!*\
  !*** ./src/renderer/index.tsx ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "./node_modules/react/jsx-runtime.js");
/* harmony import */ var react_dom_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom/client */ "./node_modules/react-dom/client.js");
/* harmony import */ var _App__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./App */ "./src/renderer/App.tsx");



const container = document.getElementById('root');
const root = (0,react_dom_client__WEBPACK_IMPORTED_MODULE_1__.createRoot)(container);
root.render((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_App__WEBPACK_IMPORTED_MODULE_2__.App, {}));


/***/ }),

/***/ "./src/renderer/services/ConfigService.ts":
/*!************************************************!*\
  !*** ./src/renderer/services/ConfigService.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ConfigService: () => (/* binding */ ConfigService)
/* harmony export */ });
class ConfigService {
    /**
     * Charge la configuration depuis localStorage
     */
    static getConfig() {
        try {
            const stored = localStorage.getItem(this.CONFIG_KEY);
            if (stored) {
                const config = JSON.parse(stored);
                return { ...this.DEFAULT_CONFIG, ...config };
            }
        }
        catch (error) {
            console.error('Erreur lors du chargement de la configuration:', error);
        }
        return this.DEFAULT_CONFIG;
    }
    /**
     * Sauvegarde la configuration dans localStorage
     */
    static saveConfig(config) {
        try {
            const currentConfig = this.getConfig();
            const newConfig = {
                ...currentConfig,
                ...config,
                configuredAt: new Date().toISOString()
            };
            localStorage.setItem(this.CONFIG_KEY, JSON.stringify(newConfig));
            console.log('Configuration sauvegardée:', newConfig);
        }
        catch (error) {
            console.error('Erreur lors de la sauvegarde de la configuration:', error);
            throw error;
        }
    }
    /**
     * Vérifie si l'application a été configurée
     */
    static isConfigured() {
        return this.getConfig().isConfigured;
    }
    /**
     * Obtient le mode de fonctionnement actuel
     */
    static getMode() {
        return this.getConfig().mode;
    }
    /**
     * Configure l'application avec le mode choisi
     */
    static configureApp(mode) {
        this.saveConfig({
            mode,
            isConfigured: true
        });
    }
    /**
     * Réinitialise la configuration (pour les tests ou la reconfiguration)
     */
    static resetConfig() {
        try {
            localStorage.removeItem(this.CONFIG_KEY);
            console.log('Configuration réinitialisée');
        }
        catch (error) {
            console.error('Erreur lors de la réinitialisation:', error);
        }
    }
    /**
     * Met à jour uniquement le mode sans affecter les autres paramètres
     */
    static updateMode(mode) {
        this.saveConfig({ mode });
    }
    /**
     * Obtient les informations de configuration pour l'affichage
     */
    static getConfigInfo() {
        const config = this.getConfig();
        return {
            ...config,
            displayMode: config.mode === 'offline' ? 'Hors Ligne' : 'En Ligne'
        };
    }
    /**
     * Valide si le mode est supporté
     */
    static isModeSupported(mode) {
        // Pour cette version, seul le mode offline est supporté
        return mode === 'offline';
    }
    /**
     * Obtient la liste des modes disponibles
     */
    static getAvailableModes() {
        return [
            { value: 'offline', label: 'Hors Ligne', supported: true },
            { value: 'online', label: 'En Ligne', supported: false }
        ];
    }
}
ConfigService.CONFIG_KEY = 'bibliotheque_app_config';
ConfigService.DEFAULT_CONFIG = {
    mode: 'offline',
    isConfigured: false,
    configuredAt: '',
    version: '1.0.0'
};


/***/ }),

/***/ "./src/renderer/services/LocalAuthService.ts":
/*!***************************************************!*\
  !*** ./src/renderer/services/LocalAuthService.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LocalAuthService: () => (/* binding */ LocalAuthService)
/* harmony export */ });
// src/renderer/services/LocalAuthService.ts
// Service pour gérer l'authentification et les établissements locaux
class LocalAuthService {
    // === GESTION DES PARAMÈTRES DE L'APPLICATION ===
    static getAppSettings() {
        const settings = localStorage.getItem(this.SETTINGS_KEY);
        return settings ? JSON.parse(settings) : {
            requireAppPassword: false,
            autoLogin: false,
            rememberLastUser: true
        };
    }
    static saveAppSettings(settings) {
        localStorage.setItem(this.SETTINGS_KEY, JSON.stringify(settings));
    }
    static setAppPassword(password) {
        const settings = this.getAppSettings();
        settings.requireAppPassword = true;
        settings.appPassword = password; // En production, il faut hasher
        this.saveAppSettings(settings);
    }
    static verifyAppPassword(password) {
        const settings = this.getAppSettings();
        return !settings.requireAppPassword || settings.appPassword === password;
    }
    static clearAppPassword() {
        const settings = this.getAppSettings();
        settings.requireAppPassword = false;
        delete settings.appPassword;
        this.saveAppSettings(settings);
    }
    // === GESTION DES UTILISATEURS LOCAUX ===
    static getUsers() {
        const users = localStorage.getItem(this.USERS_KEY);
        return users ? JSON.parse(users) : [];
    }
    static saveUsers(users) {
        localStorage.setItem(this.USERS_KEY, JSON.stringify(users));
    }
    static addUser(user) {
        const users = this.getUsers();
        const newUser = {
            ...user,
            id: Date.now().toString(),
            lastLogin: new Date().toISOString()
        };
        // Vérifier si l'utilisateur existe déjà
        const existingUserIndex = users.findIndex(u => u.email === user.email);
        if (existingUserIndex !== -1) {
            users[existingUserIndex] = newUser;
        }
        else {
            users.push(newUser);
        }
        this.saveUsers(users);
        return newUser;
    }
    static findUser(email, password, institutionCode) {
        const users = this.getUsers();
        return users.find(u => u.email === email &&
            u.password === password &&
            u.institutionCode === institutionCode) || null;
    }
    static updateUserLastLogin(userId) {
        const users = this.getUsers();
        const userIndex = users.findIndex(u => u.id === userId);
        if (userIndex !== -1) {
            users[userIndex].lastLogin = new Date().toISOString();
            this.saveUsers(users);
        }
    }
    static updateUserPreferences(userId, preferences) {
        const users = this.getUsers();
        const userIndex = users.findIndex(u => u.id === userId);
        if (userIndex !== -1) {
            users[userIndex].preferences = {
                rememberMe: false,
                autoLogin: false,
                theme: 'light',
                ...users[userIndex].preferences,
                ...preferences
            };
            this.saveUsers(users);
        }
    }
    // === GESTION DES ÉTABLISSEMENTS LOCAUX ===
    static getInstitutions() {
        const institutions = localStorage.getItem(this.INSTITUTIONS_KEY);
        return institutions ? JSON.parse(institutions) : [];
    }
    static saveInstitutions(institutions) {
        localStorage.setItem(this.INSTITUTIONS_KEY, JSON.stringify(institutions));
    }
    static createInstitution(institutionData) {
        const institutions = this.getInstitutions();
        // Générer un code unique
        let code;
        do {
            code = this.generateInstitutionCode();
        } while (institutions.some(inst => inst.code === code));
        const newInstitution = {
            ...institutionData,
            id: Date.now().toString(),
            code,
            created_at: new Date().toISOString()
        };
        institutions.push(newInstitution);
        this.saveInstitutions(institutions);
        return newInstitution;
    }
    static findInstitutionByCode(code) {
        const institutions = this.getInstitutions();
        return institutions.find(inst => inst.code === code) || null;
    }
    static getAllValidCodes() {
        const institutions = this.getInstitutions();
        const institutionCodes = institutions.map(inst => inst.code);
        // Ajouter les codes par défaut
        const defaultCodes = ['BIBLIO2024', 'OFFLINE', 'LOCAL', 'TEST'];
        return [...defaultCodes, ...institutionCodes];
    }
    static generateInstitutionCode() {
        // Génère un code de 8 caractères alphanumériques
        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
        let result = '';
        for (let i = 0; i < 8; i++) {
            result += chars.charAt(Math.floor(Math.random() * chars.length));
        }
        return result;
    }
    // === GESTION DE LA DERNIÈRE CONNEXION ===
    static saveLastLoginInfo(email, institutionCode, rememberPassword = false, password) {
        const settings = this.getAppSettings();
        if (settings.rememberLastUser) {
            const info = {
                email,
                institutionCode,
                timestamp: new Date().toISOString()
            };
            if (rememberPassword && password) {
                info.password = password; // En production, il faut hasher
            }
            localStorage.setItem(this.LAST_LOGIN_KEY, JSON.stringify(info));
        }
    }
    static getLastLoginInfo() {
        const info = localStorage.getItem(this.LAST_LOGIN_KEY);
        return info ? JSON.parse(info) : null;
    }
    static clearLastLoginInfo() {
        localStorage.removeItem(this.LAST_LOGIN_KEY);
    }
    // === UTILISATEURS PAR DÉFAUT ===
    static getDefaultUsers() {
        return [
            { email: 'admin@local', password: 'admin', role: 'Administrateur' },
            { email: 'bibliothecaire@local', password: 'biblio', role: 'Bibliothécaire' },
            { email: 'test@local', password: 'test', role: 'Utilisateur' }
        ];
    }
    static isDefaultUser(email, password) {
        return this.getDefaultUsers().some(u => u.email === email && u.password === password);
    }
    // === MÉTHODES D'AUTHENTIFICATION ===
    static authenticate(email, password, institutionCode) {
        // Vérifier si le code d'établissement est valide
        const validCodes = this.getAllValidCodes();
        if (!validCodes.includes(institutionCode.toUpperCase())) {
            return { success: false, message: 'Code d\'établissement invalide' };
        }
        // Chercher un utilisateur local d'abord
        const localUser = this.findUser(email, password, institutionCode);
        if (localUser) {
            this.updateUserLastLogin(localUser.id);
            return { success: true, user: localUser };
        }
        // Vérifier les utilisateurs par défaut
        if (this.isDefaultUser(email, password) || password === 'demo') {
            // Créer/mettre à jour l'utilisateur par défaut
            const defaultUser = this.addUser({
                email,
                password,
                firstName: email.split('@')[0].charAt(0).toUpperCase() + email.split('@')[0].slice(1),
                lastName: 'Local',
                role: email.includes('admin') ? 'admin' : email.includes('bibliothecaire') ? 'librarian' : 'user',
                institutionCode,
                preferences: {
                    rememberMe: false,
                    autoLogin: false,
                    theme: 'light'
                }
            });
            return { success: true, user: defaultUser };
        }
        return { success: false, message: 'Identifiants invalides' };
    }
    // === NETTOYAGE ===
    static clearAllData() {
        localStorage.removeItem(this.USERS_KEY);
        localStorage.removeItem(this.INSTITUTIONS_KEY);
        localStorage.removeItem(this.SETTINGS_KEY);
        localStorage.removeItem(this.LAST_LOGIN_KEY);
    }
}
LocalAuthService.USERS_KEY = 'local_users';
LocalAuthService.INSTITUTIONS_KEY = 'local_institutions';
LocalAuthService.SETTINGS_KEY = 'app_settings';
LocalAuthService.LAST_LOGIN_KEY = 'last_login_info';


/***/ }),

/***/ "./src/renderer/services/SupabaseClient.ts":
/*!*************************************************!*\
  !*** ./src/renderer/services/SupabaseClient.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SupabaseRendererService: () => (/* binding */ SupabaseRendererService),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   supabaseRenderer: () => (/* binding */ supabaseRenderer)
/* harmony export */ });
// Service Supabase pour le renderer (frontend) - Sans dépendances Node.js
// Service Supabase simplifié pour le renderer - utilise principalement l'authentification locale
class SupabaseRendererService {
    constructor() {
        this.currentUser = null;
        this.currentInstitution = null;
        this.supabaseUrl = '';
        this.supabaseKey = '';
        // Récupérer la configuration Supabase depuis les variables d'environnement via Electron
        this.loadSupabaseConfig();
    }
    async loadSupabaseConfig() {
        try {
            // Essayer de récupérer la config via IPC Electron
            if (window.electronAPI && window.electronAPI.getSupabaseConfig) {
                const config = await window.electronAPI.getSupabaseConfig();
                if (config) {
                    this.supabaseUrl = config.url || '';
                    this.supabaseKey = config.key || '';
                }
            }
        }
        catch (error) {
            console.log('Configuration Supabase non disponible, mode local activé');
        }
    }
    async callSupabaseAPI(endpoint, options = {}) {
        if (!this.supabaseUrl || !this.supabaseKey) {
            throw new Error('Configuration Supabase manquante');
        }
        const url = `${this.supabaseUrl}/auth/v1${endpoint}`;
        const response = await fetch(url, {
            ...options,
            headers: {
                'Content-Type': 'application/json',
                'apikey': this.supabaseKey,
                'Authorization': `Bearer ${this.supabaseKey}`,
                ...options.headers,
            },
        });
        if (!response.ok) {
            const error = await response.text();
            throw new Error(`Erreur API Supabase: ${error}`);
        }
        return response.json();
    }
    // Méthodes d'authentification - utilise Supabase API si disponible, sinon authentification locale
    async signIn(email, password) {
        try {
            // Essayer l'authentification Supabase en premier
            if (this.supabaseUrl && this.supabaseKey) {
                console.log('Tentative d\'authentification Supabase...');
                const result = await this.callSupabaseAPI('/token?grant_type=password', {
                    method: 'POST',
                    body: JSON.stringify({
                        email,
                        password
                    })
                });
                if (result.access_token && result.user) {
                    // Créer l'utilisateur au format de l'application
                    const user = {
                        id: result.user.id,
                        firstName: result.user.user_metadata?.first_name || result.user.user_metadata?.firstName || 'Utilisateur',
                        lastName: result.user.user_metadata?.last_name || result.user.user_metadata?.lastName || 'Supabase',
                        email: result.user.email,
                        role: result.user.user_metadata?.role || 'user'
                    };
                    this.currentUser = user;
                    console.log('Authentification Supabase réussie:', user);
                    return {
                        success: true,
                        user,
                        message: 'Connexion Supabase réussie'
                    };
                }
            }
        }
        catch (supabaseError) {
            console.log('Échec authentification Supabase:', supabaseError.message);
            // Continuer vers l'authentification locale
        }
        try {
            // Authentification locale de fallback - simule une connexion réussie
            console.log('Utilisation de l\'authentification locale de fallback...');
            const user = {
                id: Date.now().toString(),
                firstName: 'Administrateur',
                lastName: 'Local',
                email: email
            };
            this.currentUser = user;
            return {
                success: true,
                user,
                message: 'Connexion locale réussie'
            };
        }
        catch (error) {
            console.error('Sign in failed:', error);
            return { success: false, error: 'Échec de l\'authentification' };
        }
    }
    async signOut() {
        try {
            this.currentUser = null;
            this.currentInstitution = null;
        }
        catch (error) {
            console.error('Sign out failed:', error);
        }
    }
    async signUp(email, password, userData) {
        try {
            // Authentification locale simplifiée
            const user = {
                id: Date.now().toString(),
                firstName: userData.firstName,
                lastName: userData.lastName,
                email: email
            };
            this.currentUser = user;
            return {
                success: true,
                user,
                message: 'Registration successful'
            };
        }
        catch (error) {
            console.error('Sign up failed:', error);
            return { success: false, error: 'Registration failed' };
        }
    }
    async register(userData) {
        try {
            // Utilise l'authentification locale
            const user = {
                id: Date.now().toString(),
                firstName: userData.firstName,
                lastName: userData.lastName
            };
            this.currentUser = user;
            return {
                success: true,
                user,
                message: 'Registration successful'
            };
        }
        catch (error) {
            console.error('Registration failed:', error);
            return {
                success: false,
                message: 'Registration failed'
            };
        }
    }
    // Document management methods
    async getDocuments() {
        try {
            if (window.electronAPI && window.electronAPI.getDocuments) {
                return await window.electronAPI.getDocuments();
            }
            return [];
        }
        catch (error) {
            console.error('Error getting documents:', error);
            return [];
        }
    }
    async addDocument(document) {
        try {
            if (window.electronAPI && window.electronAPI.addDocument) {
                return await window.electronAPI.addDocument(document);
            }
            throw new Error('Add document API not available');
        }
        catch (error) {
            console.error('Error adding document:', error);
            throw error;
        }
    }
    async deleteDocument(id) {
        try {
            if (window.electronAPI && window.electronAPI.deleteDocument) {
                return await window.electronAPI.deleteDocument(parseInt(id, 10));
            }
            return false;
        }
        catch (error) {
            console.error('Error deleting document:', error);
            return false;
        }
    }
    // Author and category methods
    async getAuthors() {
        try {
            if (window.electronAPI && window.electronAPI.getAuthors) {
                return await window.electronAPI.getAuthors();
            }
            return [];
        }
        catch (error) {
            console.error('Error getting authors:', error);
            return [];
        }
    }
    async getCategories() {
        try {
            if (window.electronAPI && window.electronAPI.getCategories) {
                return await window.electronAPI.getCategories();
            }
            return [];
        }
        catch (error) {
            console.error('Error getting categories:', error);
            return [];
        }
    }
    // Institution management - utilise des données locales simplifiées
    async createInstitution(institutionData) {
        try {
            // Créer une institution locale
            const institution = {
                id: Date.now().toString(),
                code: institutionData.code || Math.random().toString(36).substr(2, 8).toUpperCase(),
                name: institutionData.name || 'Mon Institution',
                address: institutionData.address || '',
                city: institutionData.city || '',
                country: institutionData.country || '',
                phone: institutionData.phone || '',
                email: institutionData.email || '',
                website: institutionData.website || '',
                logo: institutionData.logo || '',
                description: institutionData.description || '',
                type: institutionData.type || 'library',
                status: 'active',
                subscription_plan: 'basic',
                max_books: 1000,
                max_users: 100,
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            this.currentInstitution = institution;
            return {
                success: true,
                institution,
                code: institution.code
            };
        }
        catch (error) {
            console.error('Error creating institution:', error);
            throw error;
        }
    }
    async switchInstitution(institutionCode) {
        try {
            // Simulation locale - toujours réussir pour simplifier
            if (this.currentInstitution) {
                return true;
            }
            // Créer une institution par défaut si aucune n'existe
            const institution = {
                id: '1',
                code: institutionCode,
                name: 'Institution par défaut',
                address: '',
                city: '',
                country: '',
                phone: '',
                email: '',
                website: '',
                logo: '',
                description: '',
                type: 'library',
                status: 'active',
                subscription_plan: 'basic',
                max_books: 1000,
                max_users: 100,
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            this.currentInstitution = institution;
            return true;
        }
        catch (error) {
            console.error('Error switching institution:', error);
            return false;
        }
    }
    // Borrowing system methods
    async borrowDocument(borrowData) {
        try {
            if (window.electronAPI && window.electronAPI.borrowDocument) {
                return await window.electronAPI.borrowDocument(parseInt(borrowData.documentId, 10), parseInt(borrowData.borrowerId, 10), borrowData.expectedReturnDate);
            }
            throw new Error('Borrow document API not available');
        }
        catch (error) {
            console.error('Error borrowing document:', error);
            throw error;
        }
    }
    async returnDocument(borrowId) {
        // Use returnBook method from preload - convert string ID to number if needed
        try {
            if (window.electronAPI && window.electronAPI.returnBook) {
                const borrowIdNum = typeof borrowId === 'string' ? parseInt(borrowId, 10) : borrowId;
                return await window.electronAPI.returnBook(borrowIdNum);
            }
            return false;
        }
        catch (error) {
            console.error('Error returning document:', error);
            return false;
        }
    }
    async returnBook(borrowId, notes) {
        try {
            if (window.electronAPI && window.electronAPI.returnBook) {
                const borrowIdNum = typeof borrowId === 'string' ? parseInt(borrowId, 10) : borrowId;
                return await window.electronAPI.returnBook(borrowIdNum, notes);
            }
            return false;
        }
        catch (error) {
            console.error('Error returning book:', error);
            return false;
        }
    }
    // Additional methods needed by the application
    async getBorrowers() {
        try {
            if (window.electronAPI && window.electronAPI.getBorrowers) {
                return await window.electronAPI.getBorrowers();
            }
            return [];
        }
        catch (error) {
            console.error('Error getting borrowers:', error);
            return [];
        }
    }
    async addBorrower(borrowerData) {
        try {
            if (window.electronAPI && window.electronAPI.addBorrower) {
                return await window.electronAPI.addBorrower(borrowerData);
            }
            throw new Error('Add borrower API not available');
        }
        catch (error) {
            console.error('Error adding borrower:', error);
            throw error;
        }
    }
    async getBorrowedDocuments() {
        try {
            if (window.electronAPI && window.electronAPI.getBorrowedDocuments) {
                return await window.electronAPI.getBorrowedDocuments();
            }
            return [];
        }
        catch (error) {
            console.error('Error getting borrowed documents:', error);
            return [];
        }
    }
    async getStats() {
        try {
            if (window.electronAPI && window.electronAPI.getStats) {
                return await window.electronAPI.getStats();
            }
            return {
                totalDocuments: 0,
                borrowedDocuments: 0,
                availableDocuments: 0,
                totalAuthors: 0,
                totalCategories: 0,
                totalBorrowers: 0,
                totalStudents: 0,
                totalStaff: 0,
                overdueDocuments: 0
            };
        }
        catch (error) {
            console.error('Error getting stats:', error);
            return {
                totalDocuments: 0,
                borrowedDocuments: 0,
                availableDocuments: 0,
                totalAuthors: 0,
                totalCategories: 0,
                totalBorrowers: 0,
                totalStudents: 0,
                totalStaff: 0,
                overdueDocuments: 0
            };
        }
    }
    // Getters
    getCurrentUser() {
        return this.currentUser;
    }
    getCurrentInstitution() {
        return this.currentInstitution;
    }
    isAuthenticated() {
        return !!this.currentUser;
    }
    isReady() {
        return true; // Always ready for local operations
    }
    // Utility methods
    async refreshAuth() {
        // No-op for local authentication
    }
    onAuthStateChange(callback) {
        // For local authentication, we don't have real-time auth changes
        return () => { };
    }
}
// Instance singleton pour le renderer
const supabaseRenderer = new SupabaseRendererService();
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (supabaseRenderer);
// No additional type exports needed - types are already exported above


/***/ }),

/***/ "./src/renderer/types/UnifiedTypes.ts":
/*!********************************************!*\
  !*** ./src/renderer/types/UnifiedTypes.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   convertToUnifiedInstitution: () => (/* binding */ convertToUnifiedInstitution),
/* harmony export */   convertToUnifiedUser: () => (/* binding */ convertToUnifiedUser)
/* harmony export */ });
// Types unifiés pour les modes offline et online
// Fonctions utilitaires pour convertir entre les types
const convertToUnifiedUser = (user, mode) => {
    if (mode === 'offline') {
        // Utilisateur de LocalAuthService
        return {
            id: user.id,
            firstName: user.firstName,
            lastName: user.lastName,
            email: user.email,
            role: user.role,
            institutionCode: user.institutionCode,
            password: user.password,
            lastLogin: user.lastLogin,
            preferences: user.preferences
        };
    }
    else {
        // Utilisateur Supabase
        return {
            id: user.id,
            firstName: user.firstName,
            lastName: user.lastName,
            email: user.email,
            role: user.role,
            institutionCode: user.institutionCode,
            lastLogin: user.lastLogin
        };
    }
};
const convertToUnifiedInstitution = (institution, mode) => {
    if (mode === 'offline') {
        // Institution de LocalAuthService
        return {
            id: institution.id,
            code: institution.code,
            name: institution.name,
            address: institution.address,
            city: institution.city,
            country: institution.country,
            phone: institution.phone,
            email: institution.email,
            website: institution.website,
            logo: institution.logo,
            description: institution.description
        };
    }
    else {
        // Institution Supabase
        return {
            id: institution.id,
            code: institution.code,
            name: institution.name,
            address: institution.address,
            city: institution.city,
            country: institution.country,
            phone: institution.phone,
            email: institution.email,
            website: institution.website,
            logo: institution.logo,
            description: institution.description
        };
    }
};


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = global["webpackChunkbibliotheque_app"] = global["webpackChunkbibliotheque_app"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendors"], () => (__webpack_require__("./src/renderer/index.tsx")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;
//# sourceMappingURL=main.bundle.js.map