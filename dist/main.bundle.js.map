{"version":3,"file":"main.bundle.js","mappings":"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","sources":["webpack://bibliotheque-app/./src/renderer/App.tsx","webpack://bibliotheque-app/./src/renderer/components/About.tsx","webpack://bibliotheque-app/./src/renderer/components/AddDocument.tsx","webpack://bibliotheque-app/./src/renderer/components/BorrowHistory.tsx","webpack://bibliotheque-app/./src/renderer/components/BorrowedDocuments.tsx","webpack://bibliotheque-app/./src/renderer/components/Borrowers.tsx","webpack://bibliotheque-app/./src/renderer/components/Dashboard.tsx","webpack://bibliotheque-app/./src/renderer/components/DocumentList.tsx","webpack://bibliotheque-app/./src/renderer/components/Donation.tsx","webpack://bibliotheque-app/./src/renderer/components/EnhancedAuthentication.tsx","webpack://bibliotheque-app/./src/renderer/components/InstitutionSetup.tsx","webpack://bibliotheque-app/./src/renderer/components/PrintManager.tsx","webpack://bibliotheque-app/./src/renderer/components/Settings.tsx","webpack://bibliotheque-app/./src/renderer/components/Sidebar.tsx","webpack://bibliotheque-app/./src/renderer/components/TitleBar.tsx","webpack://bibliotheque-app/./src/renderer/index.tsx","webpack://bibliotheque-app/./src/services/SupabaseService.ts","webpack://bibliotheque-app/webpack/bootstrap","webpack://bibliotheque-app/webpack/runtime/chunk loaded","webpack://bibliotheque-app/webpack/runtime/compat get default export","webpack://bibliotheque-app/webpack/runtime/define property getters","webpack://bibliotheque-app/webpack/runtime/global","webpack://bibliotheque-app/webpack/runtime/hasOwnProperty shorthand","webpack://bibliotheque-app/webpack/runtime/make namespace object","webpack://bibliotheque-app/webpack/runtime/node module decorator","webpack://bibliotheque-app/webpack/runtime/jsonp chunk loading","webpack://bibliotheque-app/webpack/before-startup","webpack://bibliotheque-app/webpack/startup","webpack://bibliotheque-app/webpack/after-startup"],"sourcesContent":["// src/renderer/App.tsx - Version modifiée pour Supabase\nimport React, { useState, useEffect } from 'react';\nimport { TitleBar } from './components/TitleBar';\nimport { Sidebar } from './components/Sidebar';\nimport { Dashboard } from './components/Dashboard';\nimport { DocumentList } from './components/DocumentList';\nimport { BorrowedDocuments } from './components/BorrowedDocuments';\nimport { AddDocument } from './components/AddDocument';\nimport { Borrowers } from './components/Borrowers';\nimport { BorrowHistory } from './components/BorrowHistory';\nimport { Settings } from './components/Settings';\nimport { Donation } from './components/Donation';\nimport { About } from './components/About';\nimport { EnhancedAuthentication } from './components/EnhancedAuthentication';\nimport { InstitutionSetup } from './components/InstitutionSetup';\nimport { Document, Author, Category, Stats, Borrower, BorrowHistory as BorrowHistoryType } from '../types';\nimport { SupabaseService, Institution, User } from '../services/SupabaseService';\n\ntype ViewType = 'dashboard' | 'documents' | 'borrowed' | 'add-document' | 'borrowers' | 'history' | 'settings' | 'donation' | 'about' | 'auth' | 'institution_setup';\n\nexport const App: React.FC = () => {\n  const [currentView, setCurrentView] = useState<ViewType>('auth');\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\n  const [currentInstitution, setCurrentInstitution] = useState<Institution | null>(null);\n  const [institutionCode, setInstitutionCode] = useState<string>('');\n  \n  // Data states\n  const [documents, setDocuments] = useState<Document[]>([]);\n  const [authors, setAuthors] = useState<Author[]>([]);\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [borrowers, setBorrowers] = useState<Borrower[]>([]);\n  const [borrowedBooks, setBorrowedBooks] = useState<BorrowHistoryType[]>([]);\n  const [stats, setStats] = useState<Stats>({\n    totalBooks: 0,\n    borrowedBooks: 0,\n    availableBooks: 0,\n    totalAuthors: 0,\n    totalCategories: 0,\n    totalBorrowers: 0,\n    totalStudents: 0,\n    totalStaff: 0,\n    overdueBooks: 0\n  });\n\n  // Services\n  const [supabaseService] = useState(() => new SupabaseService());\n  const [showBorrowModal, setShowBorrowModal] = useState(false);\n  const [selectedDocument, setSelectedDocument] = useState<Document | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string>('');\n\n  useEffect(() => {\n    checkAuthStatus();\n  }, []);\n\n  const checkAuthStatus = async () => {\n    try {\n      const user = supabaseService.getCurrentUser();\n      const institution = supabaseService.getCurrentInstitution();\n      \n      if (user && institution) {\n        setCurrentUser(user);\n        setCurrentInstitution(institution);\n        setIsAuthenticated(true);\n        setCurrentView('dashboard');\n        await loadData();\n      } else {\n        setCurrentView('auth');\n      }\n    } catch (error) {\n      console.error('Erreur lors de la vérification de l\\'authentification:', error);\n      setCurrentView('auth');\n    }\n  };\n\n  const loadData = async () => {\n    if (!supabaseService.isAuthenticated()) return;\n\n    try {\n      setIsLoading(true);\n      const [\n        documentsData, \n        authorsData, \n        categoriesData, \n        borrowersData,\n        borrowedBooksData,\n        statsData\n      ] = await Promise.all([\n        supabaseService.getDocuments(),\n        supabaseService.getAuthors(),\n        supabaseService.getCategories(),\n        supabaseService.getBorrowers(),\n        supabaseService.getBorrowedBooks(),\n        supabaseService.getStats()\n      ]);\n\n      setDocuments(documentsData);\n      setAuthors(authorsData);\n      setCategories(categoriesData);\n      setBorrowers(borrowersData);\n      setBorrowedBooks(borrowedBooksData);\n      setStats(statsData);\n    } catch (error) {\n      console.error('Erreur lors du chargement des données:', error);\n      setError('Erreur lors du chargement des données');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleAuthentication = async (credentials: {\n    email: string;\n    password: string;\n    institutionCode?: string;\n    mode: 'login' | 'register' | 'create_institution';\n    userData?: any;\n  }) => {\n    try {\n      setIsLoading(true);\n      setError('');\n\n      if (credentials.mode === 'login') {\n        // Mode développement - connexion simplifiée\n        if (credentials.email === 'admin@bibliotheque-dev.local' && \n            credentials.password === 'dev123456' && \n            credentials.institutionCode === 'DEV-BIBLIO') {\n          \n          // Simulation d'authentification réussie en mode dev\n          const devUser: User = {\n            id: 'dev-user-1',\n            email: 'admin@bibliotheque-dev.local',\n            first_name: 'Admin',\n            last_name: 'Dev',\n            role: 'admin',\n            institution_id: 'dev-institution',\n            is_active: true,\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString(),\n            last_login: new Date().toISOString()\n          };\n\n          const devInstitution: Institution = {\n            id: 'dev-institution',\n            name: 'Bibliothèque de Développement',\n            code: 'DEV-BIBLIO',\n            address: '123 Rue du Code',\n            city: 'DevVille',\n            country: 'France',\n            phone: '+33 1 23 45 67 89',\n            email: 'contact@dev-biblio.local',\n            website: 'https://dev-biblio.local',\n            logo: '',\n            description: 'Bibliothèque de développement pour tests',\n            type: 'school',\n            status: 'active',\n            subscription_plan: 'enterprise',\n            max_books: 10000,\n            max_users: 100,\n            created_at: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n          };\n\n          setCurrentUser(devUser);\n          setCurrentInstitution(devInstitution);\n          setIsAuthenticated(true);\n          setCurrentView('dashboard');\n          await loadData();\n          return;\n        }\n\n        // Connexion normale via Supabase\n        const result = await supabaseService.signIn(credentials.email, credentials.password);\n        if (!result.success) {\n          throw new Error(result.error);\n        }\n\n        // Vérifier le code d'établissement\n        if (credentials.institutionCode) {\n          const switchSuccess = await supabaseService.switchInstitution(credentials.institutionCode);\n          if (!switchSuccess) {\n            throw new Error('Code d\\'établissement invalide ou accès non autorisé');\n          }\n        }\n\n        setCurrentUser(result.user!);\n        setCurrentInstitution(supabaseService.getCurrentInstitution());\n        setIsAuthenticated(true);\n        setCurrentView('dashboard');\n        await loadData();\n\n      } else if (credentials.mode === 'register') {\n        // Inscription avec code d'établissement\n        const result = await supabaseService.signUp(\n          credentials.email, \n          credentials.password, \n          {\n            firstName: credentials.userData.firstName,\n            lastName: credentials.userData.lastName,\n            institutionCode: credentials.institutionCode,\n            role: credentials.userData.role\n          }\n        );\n\n        if (!result.success) {\n          throw new Error(result.error);\n        }\n\n        // Afficher un message de succès et rediriger vers login\n        alert('Compte créé avec succès ! Veuillez vérifier votre email et vous connecter.');\n        \n      } else if (credentials.mode === 'create_institution') {\n        // Création d'institution\n        const institutionResult = await supabaseService.createInstitution(credentials.userData.institution);\n        setInstitutionCode(institutionResult.code);\n        \n        // Créer le compte administrateur\n        const adminResult = await supabaseService.signUp(\n          credentials.email,\n          credentials.password,\n          {\n            firstName: credentials.userData.admin.firstName,\n            lastName: credentials.userData.admin.lastName,\n            role: 'admin'\n          }\n        );\n\n        if (!adminResult.success) {\n          throw new Error(adminResult.error);\n        }\n\n        setCurrentView('institution_setup');\n      }\n\n    } catch (error: any) {\n      setError(error.message || 'Erreur d\\'authentification');\n      throw error;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await supabaseService.signOut();\n      setIsAuthenticated(false);\n      setCurrentUser(null);\n      setCurrentInstitution(null);\n      setCurrentView('auth');\n      \n      // Réinitialiser les données\n      setDocuments([]);\n      setAuthors([]);\n      setCategories([]);\n      setBorrowers([]);\n      setBorrowedBooks([]);\n      setStats({\n        totalBooks: 0,\n        borrowedBooks: 0,\n        availableBooks: 0,\n        totalAuthors: 0,\n        totalCategories: 0,\n        totalBorrowers: 0,\n        totalStudents: 0,\n        totalStaff: 0,\n        overdueBooks: 0\n      });\n    } catch (error) {\n      console.error('Erreur lors de la déconnexion:', error);\n    }\n  };\n\n  const handleAddDocument = async (document: Omit<Document, 'id'>) => {\n    try {\n      await supabaseService.addDocument(document);\n      await loadData();\n      setCurrentView('documents');\n    } catch (error: any) {\n      console.error('Erreur lors de l\\'ajout du document:', error);\n      throw error;\n    }\n  };\n\n  const handleBorrowDocument = async (documentId: number, borrowerId: number, expectedReturnDate: string) => {\n    if (documentId === undefined || borrowerId === undefined || !expectedReturnDate) {\n      console.error('Invalid arguments for borrowDocument:', { documentId, borrowerId, expectedReturnDate });\n      return;\n    }\n    try {\n      await supabaseService.borrowDocument(documentId, borrowerId, expectedReturnDate);\n      await loadData();\n      setShowBorrowModal(false);\n      setSelectedDocument(null);\n    } catch (error: any) {\n      console.error('Erreur lors de l\\'emprunt:', error);\n      throw error;\n    }\n  };\n\n  const handleReturnBook = async (borrowHistoryId: number, notes?: string) => {\n    if (borrowHistoryId === undefined) {\n      console.error('Invalid argument for returnBook:', { borrowHistoryId });\n      return;\n    }\n    try {\n      await supabaseService.returnBook(borrowHistoryId, notes);\n      await loadData();\n    } catch (error: any) {\n      console.error('Erreur lors du retour:', error);\n      throw error;\n    }\n  };\n\n  const handleDeleteDocument = async (documentId: number) => {\n    try {\n      await supabaseService.deleteDocument(documentId);\n      await loadData();\n    } catch (error: any) {\n      console.error('Erreur lors de la suppression:', error);\n      throw error;\n    }\n  };\n\n  const openBorrowModal = (document: Document) => {\n    setSelectedDocument(document);\n    setShowBorrowModal(true);\n  };\n\n  const closeBorrowModal = () => {\n    setShowBorrowModal(false);\n    setSelectedDocument(null);\n  };\n\n  const refreshData = async () => {\n    await loadData();\n  };\n\n  // Affichage de l'écran d'authentification\n  if (!isAuthenticated) {\n    if (currentView === 'institution_setup') {\n      return (\n        <InstitutionSetup\n          institutionCode={institutionCode}\n          institution={currentInstitution}\n          onComplete={() => {\n            setCurrentView('auth');\n            alert('Votre établissement a été créé avec succès ! Vous pouvez maintenant vous connecter.');\n          }}\n        />\n      );\n    }\n    \n    return <EnhancedAuthentication onLogin={handleAuthentication} />;\n  }\n\n  const renderCurrentView = () => {\n    switch (currentView) {\n      case 'dashboard':\n        return (\n          <Dashboard \n            stats={stats} \n            onNavigate={setCurrentView}\n            documents={documents}\n            categories={categories}\n          />\n        );\n      case 'documents':\n        return (\n          <DocumentList\n            documents={documents}\n            onAdd={() => setCurrentView('add-document')}\n            onEdit={openBorrowModal}\n            onDelete={handleDeleteDocument}\n            onRefresh={refreshData}\n            syncStatus={{} as any}\n            networkStatus={{} as any}\n          />\n        );\n      case 'borrowed':\n        return (\n          <BorrowedDocuments\n            documents={borrowedBooks.map(bh => ({\n              ...bh.book!,\n              nomEmprunteur: `${bh.borrower?.firstName} ${bh.borrower?.lastName}`,\n              dateEmprunt: bh.borrowDate,\n              dateRetourPrevu: bh.expectedReturnDate\n            }))}\n            onReturn={(documentId) => {\n              const borrowHistory = borrowedBooks.find(bh => bh.bookId === documentId);\n              if (borrowHistory) {\n                handleReturnBook(borrowHistory.id!, undefined);\n              }\n            }}\n          />\n        );\n      case 'add-document':\n        return (\n          <AddDocument\n            onAdd={handleAddDocument}\n            onCancel={() => setCurrentView('documents')}\n          />\n        );\n      case 'borrowers':\n        return (\n          <Borrowers \n            onClose={() => setCurrentView('dashboard')} \n            onRefreshData={refreshData}\n            supabaseService={supabaseService}\n          />\n        );\n      case 'history':\n        return (\n          <BorrowHistory \n            onClose={() => setCurrentView('dashboard')}\n            supabaseService={supabaseService}\n          />\n        );\n      case 'settings':\n        return (\n          <Settings \n            onClose={() => setCurrentView('dashboard')}\n            onLogout={handleLogout}\n            currentUser={currentUser}\n            currentInstitution={currentInstitution}\n            supabaseService={supabaseService}\n          />\n        );\n      case 'donation':\n        return (\n          <Donation onClose={() => setCurrentView('dashboard')} />\n        );\n      case 'about':\n        return (\n          <About onClose={() => setCurrentView('dashboard')} />\n        );\n      default:\n        return (\n          <Dashboard \n            stats={stats} \n            onNavigate={setCurrentView}\n            documents={documents}\n            categories={categories}\n          />\n        );\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      <TitleBar />\n      <div className=\"app-container\">\n        <Sidebar\n          currentView={currentView}\n          onNavigate={setCurrentView}\n          stats={stats}\n          currentUser={currentUser}\n          currentInstitution={currentInstitution}\n        />\n        <main className=\"main-content\">\n          <div className=\"content-wrapper\">\n            {isLoading && (\n              <div className=\"loading-overlay\">\n                <div className=\"loading-spinner\"></div>\n                <span>Chargement...</span>\n              </div>\n            )}\n            {error && (\n              <div className=\"error-banner\">\n                <span>{error}</span>\n                <button onClick={() => setError('')}>×</button>\n              </div>\n            )}\n            {renderCurrentView()}\n          </div>\n        </main>\n      </div>\n\n      {/* Enhanced Borrow Modal - utilise le service Supabase */}\n      {showBorrowModal && selectedDocument && (\n        <div className=\"borrow-modal-overlay\">\n          <div className=\"borrow-modal\">\n            <div className=\"modal-header\">\n              <div className=\"header-content\">\n                <div className=\"header-icon\">\n                  <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" fill=\"currentColor\">\n                    <path d=\"M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.1 3.89 23 5 23H19C20.1 23 21 22.1 21 21V9ZM19 21H5V3H13V9H19V21Z\"/>\n                  </svg>\n                </div>\n                <div className=\"header-text\">\n                  <h3>Nouvel emprunt</h3>\n                  <p>Sélectionnez un emprunteur et définissez la durée</p>\n                </div>\n              </div>\n              <button\n                className=\"modal-close\"\n                onClick={closeBorrowModal}\n              >\n                ×\n              </button>\n            </div>\n            \n            <EnhancedBorrowForm\n              document={selectedDocument}\n              borrowers={borrowers}\n              onSubmit={handleBorrowDocument}\n              onCancel={closeBorrowModal}\n              onRefreshBorrowers={refreshData}\n              supabaseService={supabaseService}\n            />\n          </div>\n        </div>\n      )}\n      \n      <style>{`\n        .app {\n          height: 100vh;\n          display: flex;\n          flex-direction: column;\n          background: #FAF9F6;\n          overflow: hidden;\n        }\n        \n        .app-container {\n          flex: 1;\n          display: flex;\n          overflow: hidden;\n        }\n        \n        .main-content {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          background: #FAF9F6;\n          overflow: hidden;\n          position: relative;\n        }\n        \n        .content-wrapper {\n          flex: 1;\n          overflow: hidden;\n          border-radius: 12px 0 0 0;\n          background: #FAF9F6;\n          box-shadow: -2px 0 8px rgba(0, 0, 0, 0.08);\n        }\n\n        .loading-overlay {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(255, 255, 255, 0.9);\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          gap: 16px;\n        }\n\n        .loading-spinner {\n          width: 40px;\n          height: 40px;\n          border: 4px solid #E5DCC2;\n          border-top: 4px solid #3E5C49;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .error-banner {\n          background: #FEF2F2;\n          border: 1px solid #FECACA;\n          color: #DC2626;\n          padding: 12px 16px;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          font-size: 14px;\n          font-weight: 500;\n        }\n\n        .error-banner button {\n          background: none;\n          border: none;\n          color: #DC2626;\n          cursor: pointer;\n          font-size: 18px;\n          padding: 0;\n          margin-left: 12px;\n        }\n\n        /* Enhanced Borrow Modal */\n        .borrow-modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.75);\n          backdrop-filter: blur(12px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 20px;\n          animation: fadeIn 0.3s ease-out;\n        }\n        \n        @keyframes fadeIn {\n          from { opacity: 0; backdrop-filter: blur(0px); }\n          to { opacity: 1; backdrop-filter: blur(12px); }\n        }\n        \n        .borrow-modal {\n          background: #FFFFFF;\n          border-radius: 24px;\n          width: 100%;\n          max-width: 700px;\n          max-height: 90vh;\n          overflow-y: auto;\n          box-shadow: \n            0 32px 64px rgba(62, 92, 73, 0.25),\n            0 16px 32px rgba(62, 92, 73, 0.15);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n          animation: slideUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n        }\n        \n        @keyframes slideUp {\n          from { \n            opacity: 0;\n            transform: translateY(32px) scale(0.95);\n          }\n          to { \n            opacity: 1;\n            transform: translateY(0) scale(1);\n          }\n        }\n        \n        .modal-header {\n          display: flex;\n          align-items: flex-start;\n          justify-content: space-between;\n          padding: 32px 32px 24px;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .modal-header::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 200px;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.1));\n          transform: skewX(-15deg);\n          transform-origin: top;\n        }\n        \n        .header-content {\n          display: flex;\n          align-items: flex-start;\n          gap: 20px;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .header-icon {\n          width: 48px;\n          height: 48px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 14px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          backdrop-filter: blur(10px);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n        }\n        \n        .header-text h3 {\n          font-size: 22px;\n          font-weight: 700;\n          color: #F3EED9;\n          margin: 0 0 6px 0;\n          letter-spacing: -0.3px;\n        }\n        \n        .header-text p {\n          font-size: 14px;\n          color: rgba(243, 238, 217, 0.9);\n          margin: 0;\n          line-height: 1.4;\n        }\n        \n        .modal-close {\n          background: rgba(243, 238, 217, 0.1);\n          border: 1px solid rgba(243, 238, 217, 0.2);\n          cursor: pointer;\n          padding: 12px;\n          border-radius: 12px;\n          color: #F3EED9;\n          font-size: 24px;\n          width: 44px;\n          height: 44px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s ease;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .modal-close:hover {\n          background: rgba(243, 238, 217, 0.2);\n          transform: scale(1.05);\n        }\n        \n        .modal-close:active {\n          transform: scale(0.95);\n        }\n        \n        /* Responsive enhancements */\n        @media (max-width: 768px) {\n          .app-container {\n            flex-direction: column;\n          }\n          \n          .content-wrapper {\n            border-radius: 0;\n            box-shadow: none;\n          }\n          \n          .borrow-modal {\n            margin: 12px;\n            border-radius: 20px;\n            max-height: calc(100vh - 24px);\n          }\n          \n          .modal-header {\n            padding: 24px 20px 20px;\n          }\n          \n          .header-content {\n            flex-direction: column;\n            gap: 16px;\n          }\n          \n          .header-icon {\n            align-self: center;\n          }\n          \n         .header-text {\n            text-align: center;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .borrow-modal-overlay {\n            padding: 8px;\n          }\n          \n          .borrow-modal {\n            border-radius: 16px;\n          }\n          \n          .modal-header {\n            padding: 20px 16px 16px;\n          }\n          \n          .header-text h3 {\n            font-size: 20px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n\n// Enhanced Borrow Form Component avec Supabase\ninterface EnhancedBorrowFormProps {\n  document: Document;\n  borrowers: Borrower[];\n  onSubmit: (documentId: number, borrowerId: number, expectedReturnDate: string) => Promise<void>;\n  onCancel: () => void;\n  onRefreshBorrowers: () => Promise<void>;\n  supabaseService: SupabaseService;\n}\n\nconst EnhancedBorrowForm: React.FC<EnhancedBorrowFormProps> = ({ \n  document, \n  borrowers, \n  onSubmit, \n  onCancel, \n  onRefreshBorrowers,\n  supabaseService \n}) => {\n  const [selectedBorrower, setSelectedBorrower] = useState<number | null>(null);\n  const [expectedReturnDate, setExpectedReturnDate] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filterType, setFilterType] = useState<'all' | 'student' | 'staff'>('all');\n  const [borrowDuration, setBorrowDuration] = useState<'1week' | '2weeks' | '1month' | 'custom'>('2weeks');\n  const [showAddBorrower, setShowAddBorrower] = useState(false);\n\n  const [newBorrowerData, setNewBorrowerData] = useState<{\n    type: 'student' | 'staff';\n    firstName: string;\n    lastName: string;\n    matricule: string;\n    classe: string;\n    cniNumber: string;\n    position: string;\n    email: string;\n    phone: string;\n  }>({\n    type: 'student',\n    firstName: '',\n    lastName: '',\n    matricule: '',\n    classe: '',\n    cniNumber: '',\n    position: '',\n    email: '',\n    phone: ''\n  });\n\n  // Calculate default date (in 2 weeks)\n  React.useEffect(() => {\n    updateDateFromDuration(borrowDuration);\n  }, [borrowDuration]);\n\n  const updateDateFromDuration = (duration: string) => {\n    const today = new Date();\n    let targetDate = new Date(today);\n    \n    switch (duration) {\n      case '1week':\n        targetDate.setDate(today.getDate() + 7);\n        break;\n      case '2weeks':\n        targetDate.setDate(today.getDate() + 14);\n        break;\n      case '1month':\n        targetDate.setMonth(today.getMonth() + 1);\n        break;\n      default:\n        return; // For 'custom', don't change\n    }\n    \n    setExpectedReturnDate(targetDate.toISOString().split('T')[0]);\n  };\n\n  const handleAddBorrower = async () => {\n    try {\n      setIsLoading(true);\n      const newId = await supabaseService.addBorrower({\n        ...newBorrowerData,\n        syncStatus: 'pending',\n        lastModified: new Date().toISOString(),\n        version: 1,\n        createdAt: new Date().toISOString()\n      });\n      setSelectedBorrower(newId);\n      setShowAddBorrower(false);\n      await onRefreshBorrowers(); // Refresh the borrowers list\n      setNewBorrowerData({\n        type: 'student',\n        firstName: '',\n        lastName: '',\n        matricule: '',\n        classe: '',\n        cniNumber: '',\n        position: '',\n        email: '',\n        phone: ''\n      });\n    } catch (error: any) {\n      alert(error.message || 'Erreur lors de l\\'ajout de l\\'emprunteur');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const filteredBorrowers = borrowers.filter(borrower => {\n    // Filter by type\n    if (filterType !== 'all' && borrower.type !== filterType) return false;\n    \n    // Filter by search\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase();\n      return (\n        borrower.firstName.toLowerCase().includes(query) ||\n        borrower.lastName.toLowerCase().includes(query) ||\n        borrower.matricule.toLowerCase().includes(query) ||\n        (borrower.classe && borrower.classe.toLowerCase().includes(query)) ||\n        (borrower.position && borrower.position.toLowerCase().includes(query))\n      );\n    }\n    \n    return true;\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!selectedBorrower || !expectedReturnDate) return;\n\n    setIsLoading(true);\n    try {\n      await onSubmit(document.id!, selectedBorrower, expectedReturnDate);\n    } catch (error) {\n      console.error('Erreur:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const selectedBorrowerData = borrowers.find(b => b.id === selectedBorrower);\n\n  return (\n    <div className=\"enhanced-borrow-form\">\n      {/* Document Info Enhanced */}\n      <div className=\"document-info-section\">\n        <div className=\"document-cover\">\n          {document.couverture ? (\n            <img src={document.couverture} alt={document.titre} />\n          ) : (\n            <div className=\"document-placeholder\">\n              <svg viewBox=\"0 0 24 24\" width=\"32\" height=\"32\" fill=\"currentColor\">\n                <path d=\"M18 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V4C20 2.9 19.1 2 18 2ZM18 20H6V4H18V20Z\"/>\n              </svg>\n            </div>\n          )}\n        </div>\n        <div className=\"document-details\">\n          <h4 className=\"document-title\">\"{document.titre}\"</h4>\n          <p className=\"document-author\">par {document.auteur}</p>\n          <div className=\"document-meta\">\n            <span className=\"document-category\">{document.descripteurs}</span>\n            {document.annee && <span className=\"document-year\">{document.annee}</span>}\n          </div>\n        </div>\n      </div>\n\n      {/* Quick Duration Selection */}\n      <div className=\"form-section\">\n        <label className=\"form-label\">Durée d'emprunt</label>\n        <div className=\"duration-selector\">\n          {[\n            { id: '1week', label: '1 semaine', recommended: false },\n            { id: '2weeks', label: '2 semaines', recommended: true },\n            { id: '1month', label: '1 mois', recommended: false },\n            { id: 'custom', label: 'Personnalisé', recommended: false }\n          ].map((duration) => (\n            <button\n              key={duration.id}\n              type=\"button\"\n              className={`duration-button ${borrowDuration === duration.id ? 'selected' : ''} ${duration.recommended ? 'recommended' : ''}`}\n              onClick={() => setBorrowDuration(duration.id as any)}\n            >\n              {duration.label}\n              {duration.recommended && <span className=\"recommended-badge\">Recommandé</span>}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Return Date */}\n      <div className=\"form-section\">\n        <label className=\"form-label\">Date de retour prévue *</label>\n        <input\n          type=\"date\"\n          value={expectedReturnDate}\n          onChange={(e) => {\n            setExpectedReturnDate(e.target.value);\n            setBorrowDuration('custom');\n          }}\n          className=\"date-input\"\n          min={new Date().toISOString().split('T')[0]}\n          required\n        />\n        <small className=\"form-hint\">\n          {borrowDuration !== 'custom' && `Durée sélectionnée : ${\n            borrowDuration === '1week' ? '7 jours' : \n            borrowDuration === '2weeks' ? '14 jours' : '1 mois'\n          }`}\n        </small>\n      </div>\n\n      {/* Enhanced Borrower Selection */}\n      <div className=\"form-section\">\n        <div className=\"section-header\">\n          <label className=\"form-label\">Emprunteur *</label>\n          <button\n            type=\"button\"\n            className=\"add-borrower-button\"\n            onClick={() => setShowAddBorrower(true)}\n          >\n            <svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"currentColor\">\n              <path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/>\n            </svg>\n            Ajouter emprunteur\n          </button>\n        </div>\n        \n        {/* Filters */}\n        <div className=\"borrower-filters\">\n          <div className=\"search-container\">\n            <input\n              type=\"text\"\n              placeholder=\"Rechercher un emprunteur...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"search-input\"\n            />\n            <svg className=\"search-icon\" viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"currentColor\">\n              <path d=\"M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3S3 5.91 3 9.5S5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14ZM9.5 14C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14Z\"/>\n            </svg>\n          </div>\n          \n          <div className=\"type-filter\">\n            <select \n              value={filterType} \n              onChange={(e) => setFilterType(e.target.value as any)}\n              className=\"filter-select\"\n            >\n              <option value=\"all\">Tous</option>\n              <option value=\"student\">Étudiants</option>\n              <option value=\"staff\">Personnel</option>\n            </select>\n          </div>\n        </div>\n        \n        {/* Borrowers List */}\n        <div className=\"borrowers-list\">\n          <div className=\"list-header\">\n            <span>Nom</span>\n            <span>Type</span>\n            <span>Matricule</span>\n            <span>Classe/Poste</span>\n          </div>\n          \n          <div className=\"list-content\">\n            {filteredBorrowers.length > 0 ? (\n              filteredBorrowers.map((borrower) => (\n                <div\n                  key={borrower.id}\n                  className={`borrower-row ${selectedBorrower === borrower.id ? 'selected' : ''}`}\n                  onClick={() => setSelectedBorrower(borrower.id!)}\n                >\n                  <div className=\"borrower-name\">\n                    <div className=\"name-main\">{borrower.firstName} {borrower.lastName}</div>\n                    <div className=\"name-sub\">{borrower.email}</div>\n                  </div>\n                  <div className=\"borrower-type\">\n                    <span className={`type-badge ${borrower.type}`}>\n                      {borrower.type === 'student' ? 'Étudiant' : 'Personnel'}\n                    </span>\n                  </div>\n                  <div className=\"borrower-matricule\">{borrower.matricule}</div>\n                  <div className=\"borrower-extra\">\n                    {borrower.type === 'student' ? borrower.classe : borrower.position}\n                  </div>\n                  <div className=\"selection-indicator\">\n                    {selectedBorrower === borrower.id && (\n                      <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"currentColor\">\n                        <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\n                      </svg>\n                    )}\n                  </div>\n                </div>\n              ))\n            ) : (\n              <div className=\"no-borrowers\">\n                <svg viewBox=\"0 0 24 24\" width=\"48\" height=\"48\" fill=\"currentColor\">\n                  <path d=\"M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.1 3.89 23 5 23H19C20.1 23 21 22.1 21 21V9Z\"/>\n                </svg>\n                <p>Aucun emprunteur trouvé</p>\n                <small>{searchQuery ? `pour \"${searchQuery}\"` : 'Essayez de modifier les filtres'}</small>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Selected Borrower Summary Enhanced */}\n      {selectedBorrowerData && (\n        <div className=\"selected-summary\">\n          <h4>Récapitulatif de l'emprunt</h4>\n          <div className=\"summary-card\">\n            <div className=\"summary-section\">\n              <div className=\"summary-icon book-icon\">\n                <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"currentColor\">\n                  <path d=\"M18 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V4C20 2.9 19.1 2 18 2Z\"/>\n                </svg>\n              </div>\n              <div className=\"summary-content\">\n                <div className=\"summary-label\">Document</div>\n                <div className=\"summary-value\">{document.titre}</div>\n                <div className=\"summary-sub\">par {document.auteur}</div>\n              </div>\n            </div>\n            \n            <div className=\"summary-section\">\n              <div className=\"summary-icon user-icon\">\n                <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"currentColor\">\n                  <path d=\"M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z\"/>\n                </svg>\n              </div>\n              <div className=\"summary-content\">\n                <div className=\"summary-label\">Emprunteur</div>\n                <div className=\"summary-value\">\n                  {selectedBorrowerData.firstName} {selectedBorrowerData.lastName}\n                </div>\n                <div className=\"summary-sub\">\n                  {selectedBorrowerData.matricule} • {selectedBorrowerData.type === 'student' ? 'Étudiant' : 'Personnel'}\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"summary-section\">\n              <div className=\"summary-icon date-icon\">\n                <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"currentColor\">\n                  <path d=\"M19 3H18V1H16V3H8V1H6V3H5C3.89 3 3.01 3.9 3.01 5L3 19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V8H19V19ZM7 10H12V15H7V10Z\"/>\n                </svg>\n              </div>\n              <div className=\"summary-content\">\n                <div className=\"summary-label\">Retour prévu</div>\n                <div className=\"summary-value\">\n                  {new Date(expectedReturnDate).toLocaleDateString('fr-FR', {\n                    weekday: 'long',\n                    year: 'numeric',\n                    month: 'long',\n                    day: 'numeric'\n                  })}\n                </div>\n                <div className=\"summary-sub\">\n                  Dans {Math.ceil((new Date(expectedReturnDate).getTime() - new Date().getTime()) / (1000 * 60 * 60 * 24))} jour(s)\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Form Actions Enhanced */}\n      <div className=\"form-actions\">\n        <button\n          type=\"button\"\n          className=\"btn-secondary\"\n          onClick={onCancel}\n          disabled={isLoading}\n        >\n          <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" fill=\"currentColor\">\n            <path d=\"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z\"/>\n          </svg>\n          Annuler\n        </button>\n        <button\n          type=\"submit\"\n          className=\"btn-primary\"\n          disabled={!selectedBorrower || !expectedReturnDate || isLoading}\n          onClick={handleSubmit}\n        >\n          {isLoading ? (\n            <>\n              <div className=\"loading-spinner\"></div>\n              Traitement...\n            </>\n          ) : (\n            <>\n              <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" fill=\"currentColor\">\n                <path d=\"M9 16.17L4.83 12L3.41 13.41L9 19L21 7L19.59 5.58L9 16.17Z\"/>\n              </svg>\n              Confirmer l'emprunt\n            </>\n          )}\n        </button>\n      </div>\n\n      {/* Add Borrower Modal */}\n      {showAddBorrower && (\n        <div className=\"add-borrower-overlay\" onClick={() => setShowAddBorrower(false)}>\n          <div className=\"add-borrower-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"add-borrower-header\">\n              <h3>Ajouter un emprunteur</h3>\n              <button\n                className=\"modal-close-small\"\n                onClick={() => setShowAddBorrower(false)}\n              >\n                ×\n              </button>\n            </div>\n            \n            <div className=\"add-borrower-content\">\n              <div className=\"type-selector\">\n                <button\n                  type=\"button\"\n                  className={`type-button ${newBorrowerData.type === 'student' ? 'active' : ''}`}\n                  onClick={() => setNewBorrowerData(prev => ({ ...prev, type: 'student' }))}\n                >\n                  🎓 Étudiant\n                </button>\n                <button\n                  type=\"button\"\n                  className={`type-button ${newBorrowerData.type === 'staff' ? 'active' : ''}`}\n                  onClick={() => setNewBorrowerData(prev => ({ ...prev, type: 'staff' }))}\n                >\n                  👔 Personnel\n                </button>\n              </div>\n\n              <div className=\"form-grid-compact\">\n                <div className=\"form-group-compact\">\n                  <label>Prénom *</label>\n                  <input\n                    type=\"text\"\n                    value={newBorrowerData.firstName}\n                    onChange={(e) => setNewBorrowerData(prev => ({ ...prev, firstName: e.target.value }))}\n                    className=\"form-input-compact\"\n                    required\n                  />\n                </div>\n                \n                <div className=\"form-group-compact\">\n                  <label>Nom *</label>\n                  <input\n                    type=\"text\"\n                    value={newBorrowerData.lastName}\n                    onChange={(e) => setNewBorrowerData(prev => ({ ...prev, lastName: e.target.value }))}\n                    className=\"form-input-compact\"\n                    required\n                  />\n                </div>\n                \n                <div className=\"form-group-compact\">\n                  <label>Matricule *</label>\n                  <input\n                    type=\"text\"\n                    value={newBorrowerData.matricule}\n                    onChange={(e) => setNewBorrowerData(prev => ({ ...prev, matricule: e.target.value }))}\n                    className=\"form-input-compact\"\n                    required\n                  />\n                </div>\n                \n                {newBorrowerData.type === 'student' ? (\n                  <div className=\"form-group-compact\">\n                    <label>Classe</label>\n                    <input\n                      type=\"text\"\n                      value={newBorrowerData.classe}\n                      onChange={(e) => setNewBorrowerData(prev => ({ ...prev, classe: e.target.value }))}\n                      className=\"form-input-compact\"\n                      placeholder=\"ex: Terminale C\"\n                    />\n                  </div>\n                ) : (\n                  <div className=\"form-group-compact\">\n                    <label>Poste</label>\n                    <input\n                      type=\"text\"\n                      value={newBorrowerData.position}\n                      onChange={(e) => setNewBorrowerData(prev => ({ ...prev, position: e.target.value }))}\n                      className=\"form-input-compact\"\n                      placeholder=\"ex: Professeur\"\n                    />\n                  </div>\n                )}\n                \n                <div className=\"form-group-compact span-full\">\n                  <label>Email</label>\n                  <input\n                    type=\"email\"\n                    value={newBorrowerData.email}\n                    onChange={(e) => setNewBorrowerData(prev => ({ ...prev, email: e.target.value }))}\n                    className=\"form-input-compact\"\n                  />\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"add-borrower-actions\">\n              <button\n                type=\"button\"\n                className=\"btn-secondary-small\"\n                onClick={() => setShowAddBorrower(false)}\n              >\n                Annuler\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn-primary-small\"\n                onClick={handleAddBorrower}\n                disabled={!newBorrowerData.firstName || !newBorrowerData.lastName || !newBorrowerData.matricule || isLoading}\n              >\n                {isLoading ? 'Ajout...' : 'Ajouter'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Styles pour le formulaire d'emprunt */}\n      <style>{`\n        /* Tous les styles CSS du formulaire d'emprunt ici */\n        /* Le CSS est identique à celui du fichier précédent */\n        /* ... (insérer ici tous les styles CSS de EnhancedBorrowForm) */\n      `}</style>\n    </div>\n  );\n};","import React, { useState } from 'react';\nimport { \n  Info, \n  X, \n  User, \n  Mail, \n  Phone, \n  MapPin,\n  GraduationCap,\n  Briefcase,\n  Code,\n  Star,\n  Award,\n  ExternalLink,\n  ArrowLeft,\n  Github,\n  Linkedin,\n  Globe,\n  Heart,\n  BookOpen,\n  Zap,\n  Users,\n  Trophy,\n  Sparkles\n} from 'lucide-react';\n\ninterface AboutProps {\n  onClose: () => void;\n}\n\nexport const About: React.FC<AboutProps> = ({ onClose }) => {\n  const [activeTab, setActiveTab] = useState<'developer' | 'project' | 'technologies'>('developer');\n\n  const developerInfo = {\n    name: 'CHEUDJEU TEFOYE CÉDRIC BASILIO',\n    title: 'Expert en Développement Informatique & Intelligence Artificielle',\n    location: 'Douala, Cameroun',\n    phone: '+237 652 761 931',\n    email: 'cedrictefoye@gmail.com',\n    currentPosition: 'Responsable Cellule Informatique - Faculté de Médecine, Université de Douala',\n    experience: '4+ ans d\\'expérience',\n    avatar: '👨‍💻'\n  };\n\n  const education = [\n    {\n      degree: 'Master en Intelligence Artificielle',\n      institution: 'Université de Dschang, Faculté des Sciences',\n      year: '2022-2023',\n      mention: 'Mention obtenue',\n      specialization: 'Machine Learning, NLP, Computer Vision'\n    },\n    {\n      degree: 'Licence en Informatique Fondamentale',\n      institution: 'Université de Dschang, Faculté des Sciences',\n      year: '2020-2021',\n      specialization: 'Génie Logiciel et Systèmes d\\'Information'\n    }\n  ];\n\n  const experience = [\n    {\n      title: 'Responsable Cellule Informatique',\n      company: 'Faculté de Médecine - Université de Douala',\n      period: 'Jan. 2024 - Présent',\n      description: 'Administration des systèmes, développement d\\'applications de gestion académique, implémentation de solutions d\\'IA'\n    },\n    {\n      title: 'Co-fondateur',\n      company: 'OVERBRAND',\n      period: 'Août 2021 - Présent',\n      description: 'Direction stratégique et technique, supervision de projets web/mobile'\n    },\n    {\n      title: 'Designer - Projet Help to Win',\n      company: 'VISIBILITY CAM SARL',\n      period: 'Mars 2023 - Présent',\n      description: 'Conception UI/UX d\\'application mobile éducative'\n    }\n  ];\n\n  const technologies = {\n    frontend: ['React.js', 'Vue.js', 'HTML5/CSS3', 'JavaScript', 'TypeScript'],\n    backend: ['Node.js', 'PHP/Laravel', 'Python', 'Express.js'],\n    mobile: ['React Native', 'Flutter'],\n    ai: ['TensorFlow', 'PyTorch', 'Scikit-Learn', 'Machine Learning', 'NLP'],\n    design: ['Figma', 'Adobe XD', 'Photoshop', 'Illustrator'],\n    database: ['MySQL', 'PostgreSQL', 'MongoDB', 'Firebase'],\n    tools: ['Git/GitHub', 'Docker', 'AWS']\n  };\n\n  const projectFeatures = [\n    {\n      icon: BookOpen,\n      title: 'Gestion complète',\n      description: 'Système complet de gestion de bibliothèque avec emprunteurs, livres et historique'\n    },\n    {\n      icon: Users,\n      title: 'Multi-utilisateurs',\n      description: 'Support pour étudiants et personnel avec différents types d\\'accès'\n    },\n    {\n      icon: Zap,\n      title: 'Interface moderne',\n      description: 'Design contemporain avec animations fluides et expérience utilisateur optimisée'\n    },\n    {\n      icon: Heart,\n      title: 'Open Source',\n      description: 'Code source libre et gratuit pour toute la communauté éducative'\n    }\n  ];\n\n  const achievements = [\n    {\n      icon: Trophy,\n      title: 'Halkaton 2022',\n      description: 'Hackathon de 24 heures'\n    },\n    {\n      icon: Award,\n      title: 'MountainHack 2020',\n      description: 'Hackathon de 24 heures, Dschang'\n    },\n    {\n      icon: Star,\n      title: 'Master avec mention',\n      description: 'Intelligence Artificielle - 2023'\n    }\n  ];\n\n  const tabs = [\n    { id: 'developer' as const, label: 'Développeur', icon: User },\n    { id: 'project' as const, label: 'Le Projet', icon: BookOpen },\n    { id: 'technologies' as const, label: 'Technologies', icon: Code }\n  ];\n\n  return (\n    <div className=\"about-page\">\n      {/* Hero Section */}\n      <div className=\"hero-section\">\n        <div className=\"hero-background\">\n          <div className=\"hero-pattern\"></div>\n        </div>\n        <div className=\"hero-content\">\n          <button className=\"back-button\" onClick={onClose}>\n            <ArrowLeft size={20} />\n            <span>Retour</span>\n          </button>\n          \n          <div className=\"hero-main\">\n            <div className=\"hero-icon\">\n              <Info size={48} />\n            </div>\n            <div className=\"hero-text\">\n              <h1 className=\"hero-title\">À propos du projet</h1>\n              <p className=\"hero-subtitle\">\n                Découvrez l'histoire, les technologies et l'équipe derrière ce système de gestion de bibliothèque\n              </p>\n            </div>\n          </div>\n          \n          {/* Project Stats */}\n          <div className=\"project-stats\">\n            <div className=\"stat-item\">\n              <Sparkles size={24} />\n              <div className=\"stat-content\">\n                <span className=\"stat-number\">2024</span>\n                <span className=\"stat-label\">Année de création</span>\n              </div>\n            </div>\n            <div className=\"stat-item\">\n              <Code size={24} />\n              <div className=\"stat-content\">\n                <span className=\"stat-number\">100%</span>\n                <span className=\"stat-label\">TypeScript</span>\n              </div>\n            </div>\n            <div className=\"stat-item\">\n              <Heart size={24} />\n              <div className=\"stat-content\">\n                <span className=\"stat-number\">MIT</span>\n                <span className=\"stat-label\">Licence libre</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"about-content\">\n        {/* Navigation Tabs */}\n        <div className=\"tabs-navigation\">\n          {tabs.map((tab) => (\n            <button\n              key={tab.id}\n              className={`tab-button ${activeTab === tab.id ? 'active' : ''}`}\n              onClick={() => setActiveTab(tab.id)}\n            >\n              <tab.icon size={20} />\n              <span>{tab.label}</span>\n            </button>\n          ))}\n        </div>\n\n        {/* Developer Tab */}\n        {activeTab === 'developer' && (\n          <div className=\"tab-content\">\n            <div className=\"developer-hero\">\n              <div className=\"developer-avatar\">\n                <span className=\"avatar-emoji\">{developerInfo.avatar}</span>\n              </div>\n              <div className=\"developer-info\">\n                <h2 className=\"developer-name\">{developerInfo.name}</h2>\n                <p className=\"developer-title\">{developerInfo.title}</p>\n                <div className=\"developer-meta\">\n                  <div className=\"meta-item\">\n                    <MapPin size={16} />\n                    <span>{developerInfo.location}</span>\n                  </div>\n                  <div className=\"meta-item\">\n                    <Briefcase size={16} />\n                    <span>{developerInfo.experience}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"content-grid\">\n              {/* Contact */}\n              <div className=\"info-card\">\n                <h3 className=\"card-title\">Contact</h3>\n                <div className=\"contact-list\">\n                  <a href={`mailto:${developerInfo.email}`} className=\"contact-item\">\n                    <Mail size={20} />\n                    <span>{developerInfo.email}</span>\n                    <ExternalLink size={16} />\n                  </a>\n                  <a href={`tel:${developerInfo.phone}`} className=\"contact-item\">\n                    <Phone size={20} />\n                    <span>{developerInfo.phone}</span>\n                    <ExternalLink size={16} />\n                  </a>\n                </div>\n              </div>\n\n              {/* Current Position */}\n              <div className=\"info-card\">\n                <h3 className=\"card-title\">Poste actuel</h3>\n                <div className=\"position-info\">\n                  <div className=\"position-title\">{developerInfo.currentPosition}</div>\n                  <p className=\"position-description\">\n                    Administration des systèmes informatiques, développement d'applications de gestion \n                    académique et implémentation de solutions d'IA pour l'optimisation des processus.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Education */}\n            <div className=\"section\">\n              <h3 className=\"section-title\">\n                <GraduationCap size={24} />\n                Formation\n              </h3>\n              <div className=\"timeline\">\n                {education.map((edu, index) => (\n                  <div key={index} className=\"timeline-item\">\n                    <div className=\"timeline-marker\"></div>\n                    <div className=\"timeline-content\">\n                      <h4 className=\"timeline-title\">{edu.degree}</h4>\n                      <p className=\"timeline-subtitle\">{edu.institution}</p>\n                      <div className=\"timeline-meta\">\n                        <span className=\"timeline-year\">{edu.year}</span>\n                        {edu.mention && <span className=\"timeline-mention\">{edu.mention}</span>}\n                      </div>\n                      <p className=\"timeline-description\">{edu.specialization}</p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Experience */}\n            <div className=\"section\">\n              <h3 className=\"section-title\">\n                <Briefcase size={24} />\n                Expérience professionnelle\n              </h3>\n              <div className=\"experience-grid\">\n                {experience.map((exp, index) => (\n                  <div key={index} className=\"experience-card\">\n                    <div className=\"experience-header\">\n                      <h4 className=\"experience-title\">{exp.title}</h4>\n                      <span className=\"experience-period\">{exp.period}</span>\n                    </div>\n                    <p className=\"experience-company\">{exp.company}</p>\n                    <p className=\"experience-description\">{exp.description}</p>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Achievements */}\n            <div className=\"section\">\n              <h3 className=\"section-title\">\n                <Award size={24} />\n                Réalisations\n              </h3>\n              <div className=\"achievements-grid\">\n                {achievements.map((achievement, index) => (\n                  <div key={index} className=\"achievement-card\">\n                    <div className=\"achievement-icon\">\n                      <achievement.icon size={24} />\n                    </div>\n                    <h4 className=\"achievement-title\">{achievement.title}</h4>\n                    <p className=\"achievement-description\">{achievement.description}</p>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Project Tab */}\n        {activeTab === 'project' && (\n          <div className=\"tab-content\">\n            <div className=\"project-intro\">\n              <h2 className=\"intro-title\">Système de Gestion de Bibliothèque</h2>\n              <p className=\"intro-description\">\n                Une solution moderne et complète pour la gestion des bibliothèques, développée avec les \n                dernières technologies web. Ce projet vise à simplifier et moderniser la gestion des \n                collections de livres, des emprunteurs et des transactions dans les établissements éducatifs.\n              </p>\n            </div>\n\n            <div className=\"features-grid\">\n              {projectFeatures.map((feature, index) => (\n                <div key={index} className=\"feature-card\">\n                  <div className=\"feature-icon\">\n                    <feature.icon size={24} />\n                  </div>\n                  <h3 className=\"feature-title\">{feature.title}</h3>\n                  <p className=\"feature-description\">{feature.description}</p>\n                </div>\n              ))}\n            </div>\n\n            <div className=\"project-details\">\n              <div className=\"detail-card\">\n                <h3 className=\"detail-title\">Objectifs du projet</h3>\n                <ul className=\"detail-list\">\n                  <li>Moderniser la gestion des bibliothèques scolaires et universitaires</li>\n                  <li>Simplifier les processus d'emprunt et de retour de livres</li>\n                  <li>Fournir des statistiques et analyses en temps réel</li>\n                  <li>Offrir une interface intuitive et accessible</li>\n                  <li>Garantir la gratuité et l'open source pour l'éducation</li>\n                </ul>\n              </div>\n\n              <div className=\"detail-card\">\n                <h3 className=\"detail-title\">Fonctionnalités principales</h3>\n                <ul className=\"detail-list\">\n                  <li>Gestion complète des livres (ajout, modification, suppression)</li>\n                  <li>Système d'emprunteurs avec différents types (étudiants, personnel)</li>\n                  <li>Processus d'emprunt et de retour simplifiés</li>\n                  <li>Historique détaillé des transactions</li>\n                  <li>Génération de rapports et exports CSV</li>\n                  <li>Interface responsive adaptée à tous les appareils</li>\n                </ul>\n              </div>\n            </div>\n\n            <div className=\"project-mission\">\n              <div className=\"mission-icon\">\n                <Heart size={32} />\n              </div>\n              <div className=\"mission-content\">\n                <h3 className=\"mission-title\">Notre mission</h3>\n                <p className=\"mission-description\">\n                  Démocratiser l'accès aux outils de gestion modernes pour les bibliothèques, \n                  en particulier dans les établissements éducatifs. Nous croyons que chaque \n                  institution, quelle que soit sa taille ou ses ressources, devrait avoir accès \n                  à des solutions technologiques de qualité pour améliorer l'expérience de ses utilisateurs.\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Technologies Tab */}\n        {activeTab === 'technologies' && (\n          <div className=\"tab-content\">\n            <div className=\"tech-intro\">\n              <h2 className=\"intro-title\">Stack Technologique</h2>\n              <p className=\"intro-description\">\n                Ce projet utilise des technologies modernes et éprouvées pour garantir performance, \n                sécurité et maintenabilité. Voici un aperçu des outils et frameworks utilisés.\n              </p>\n            </div>\n\n            <div className=\"tech-categories\">\n              <div className=\"tech-category\">\n                <h3 className=\"tech-title\">Frontend</h3>\n                <div className=\"tech-tags\">\n                  {technologies.frontend.map((tech, index) => (\n                    <span key={index} className=\"tech-tag frontend\">{tech}</span>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"tech-category\">\n                <h3 className=\"tech-title\">Backend</h3>\n                <div className=\"tech-tags\">\n                  {technologies.backend.map((tech, index) => (\n                    <span key={index} className=\"tech-tag backend\">{tech}</span>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"tech-category\">\n                <h3 className=\"tech-title\">Mobile</h3>\n                <div className=\"tech-tags\">\n                  {technologies.mobile.map((tech, index) => (\n                    <span key={index} className=\"tech-tag mobile\">{tech}</span>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"tech-category\">\n                <h3 className=\"tech-title\">Intelligence Artificielle</h3>\n                <div className=\"tech-tags\">\n                  {technologies.ai.map((tech, index) => (\n                    <span key={index} className=\"tech-tag ai\">{tech}</span>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"tech-category\">\n                <h3 className=\"tech-title\">Design</h3>\n                <div className=\"tech-tags\">\n                  {technologies.design.map((tech, index) => (\n                    <span key={index} className=\"tech-tag design\">{tech}</span>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"tech-category\">\n                <h3 className=\"tech-title\">Base de données</h3>\n                <div className=\"tech-tags\">\n                  {technologies.database.map((tech, index) => (\n                    <span key={index} className=\"tech-tag database\">{tech}</span>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"tech-category\">\n                <h3 className=\"tech-title\">Outils & DevOps</h3>\n                <div className=\"tech-tags\">\n                  {technologies.tools.map((tech, index) => (\n                    <span key={index} className=\"tech-tag tools\">{tech}</span>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"architecture-info\">\n              <h3 className=\"architecture-title\">Architecture</h3>\n              <div className=\"architecture-description\">\n                <p>\n                  Le système est construit avec une architecture moderne séparant clairement \n                  les couches de présentation, logique métier et données. L'interface utilisateur \n                  est développée en React avec TypeScript pour une meilleure maintenabilité.\n                </p>\n                <p>\n                  L'application utilise Electron pour offrir une expérience desktop native \n                  tout en conservant la flexibilité du web. La base de données SQLite garantit \n                  une installation simple et une portabilité maximale.\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <style>{`\n        .about-page {\n          height: 100%;\n          overflow-y: auto;\n          background: #FAF9F6;\n        }\n        \n        .hero-section {\n          position: relative;\n          background: linear-gradient(135deg, #607D8B 0%, #455A64 100%);\n          color: #F3EED9;\n          padding: 48px 32px;\n          overflow: hidden;\n        }\n        \n        .hero-background {\n          position: absolute;\n          inset: 0;\n          overflow: hidden;\n        }\n        \n        .hero-pattern {\n          position: absolute;\n          inset: 0;\n          background-image: \n            radial-gradient(circle at 25% 25%, rgba(243, 238, 217, 0.1) 0%, transparent 50%),\n            radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);\n          animation: drift 20s ease-in-out infinite;\n        }\n        \n        @keyframes drift {\n          0%, 100% { transform: translate(0, 0) rotate(0deg); }\n          33% { transform: translate(30px, -30px) rotate(1deg); }\n          66% { transform: translate(-20px, 20px) rotate(-1deg); }\n        }\n        \n        .hero-content {\n          position: relative;\n          z-index: 1;\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n        \n        .back-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          background: rgba(243, 238, 217, 0.15);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px 20px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          font-size: 14px;\n          font-weight: 500;\n          margin-bottom: 32px;\n          width: fit-content;\n        }\n        \n        .back-button:hover {\n          background: rgba(243, 238, 217, 0.25);\n          transform: translateX(-4px);\n        }\n        \n        .hero-main {\n          display: flex;\n          align-items: center;\n          gap: 24px;\n          margin-bottom: 40px;\n          text-align: center;\n          flex-direction: column;\n        }\n        \n        .hero-icon {\n          width: 96px;\n          height: 96px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 24px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n        }\n        \n        .hero-title {\n          font-size: 42px;\n          font-weight: 800;\n          margin: 0 0 16px 0;\n          line-height: 1.2;\n          letter-spacing: -0.5px;\n        }\n        \n        .hero-subtitle {\n          font-size: 20px;\n          opacity: 0.9;\n          margin: 0;\n          line-height: 1.5;\n          max-width: 600px;\n        }\n        \n        .project-stats {\n          display: flex;\n          justify-content: center;\n          gap: 40px;\n          flex-wrap: wrap;\n        }\n        \n        .stat-item {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          background: rgba(243, 238, 217, 0.1);\n          padding: 20px 24px;\n          border-radius: 16px;\n          backdrop-filter: blur(10px);\n          border: 1px solid rgba(243, 238, 217, 0.2);\n        }\n        \n        .stat-number {\n          font-size: 24px;\n          font-weight: 800;\n          color: #F3EED9;\n          display: block;\n          line-height: 1;\n        }\n        \n        .stat-label {\n          font-size: 14px;\n          color: rgba(243, 238, 217, 0.9);\n          margin-top: 4px;\n        }\n        \n        .about-content {\n          padding: 0 32px 48px;\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n        \n        .tabs-navigation {\n          display: flex;\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 8px;\n          margin-bottom: 32px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n          position: sticky;\n          top: 20px;\n          z-index: 10;\n        }\n        \n        .tab-button {\n          flex: 1;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n          padding: 16px 20px;\n          border: none;\n          background: transparent;\n          color: #6E6E6E;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          font-size: 14px;\n          font-weight: 600;\n        }\n        \n        .tab-button:hover {\n          background: rgba(96, 125, 139, 0.1);\n          color: #607D8B;\n        }\n        \n        .tab-button.active {\n          background: linear-gradient(135deg, #607D8B 0%, #455A64 100%);\n          color: #F3EED9;\n          box-shadow: 0 4px 12px rgba(96, 125, 139, 0.3);\n        }\n        \n        .tab-content {\n          animation: fadeIn 0.3s ease-out;\n        }\n        \n        @keyframes fadeIn {\n          from { opacity: 0; transform: translateY(20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        \n        .developer-hero {\n          display: flex;\n          align-items: center;\n          gap: 24px;\n          background: #FFFFFF;\n          border-radius: 20px;\n          padding: 32px;\n          margin-bottom: 32px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n        }\n        \n        .developer-avatar {\n          width: 80px;\n          height: 80px;\n          background: linear-gradient(135deg, #607D8B 0%, #455A64 100%);\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 32px;\n          flex-shrink: 0;\n        }\n        \n        .developer-name {\n          font-size: 28px;\n          font-weight: 800;\n          color: #2E2E2E;\n          margin: 0 0 8px 0;\n          letter-spacing: -0.3px;\n        }\n        \n        .developer-title {\n          font-size: 16px;\n          color: #607D8B;\n          margin: 0 0 16px 0;\n          font-weight: 600;\n        }\n        \n        .developer-meta {\n          display: flex;\n          gap: 24px;\n          flex-wrap: wrap;\n        }\n        \n        .meta-item {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          color: #6E6E6E;\n          font-size: 14px;\n        }\n        \n        .content-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 24px;\n          margin-bottom: 48px;\n        }\n        \n        .info-card {\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 24px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n        }\n        \n        .card-title {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 20px 0;\n        }\n        \n        .contact-list {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n        \n        .contact-item {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 12px 16px;\n          background: rgba(96, 125, 139, 0.05);\n          border-radius: 12px;\n          color: #2E2E2E;\n          text-decoration: none;\n          transition: all 0.2s ease;\n        }\n        \n        .contact-item:hover {\n          background: rgba(96, 125, 139, 0.1);\n          transform: translateY(-1px);\n        }\n        \n        .position-title {\n          font-size: 16px;\n          font-weight: 700;\n          color: #607D8B;\n          margin-bottom: 8px;\n        }\n        \n        .position-description {\n          font-size: 14px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          margin: 0;\n        }\n        \n        .section {\n          margin-bottom: 48px;\n        }\n        \n        .section-title {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          font-size: 24px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 24px 0;\n        }\n        \n        .timeline {\n          position: relative;\n          padding-left: 32px;\n        }\n        \n        .timeline::before {\n          content: '';\n          position: absolute;\n          left: 16px;\n          top: 0;\n          bottom: 0;\n          width: 2px;\n          background: linear-gradient(to bottom, #607D8B, #455A64);\n        }\n        \n        .timeline-item {\n          position: relative;\n          margin-bottom: 32px;\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 24px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n        }\n        \n        .timeline-marker {\n          position: absolute;\n          left: -40px;\n          top: 24px;\n          width: 12px;\n          height: 12px;\n          background: #607D8B;\n          border-radius: 50%;\n          border: 3px solid #FFFFFF;\n          box-shadow: 0 0 0 2px #607D8B;\n        }\n        \n        .timeline-title {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 4px 0;\n        }\n        \n        .timeline-subtitle {\n          font-size: 14px;\n          color: #607D8B;\n          margin: 0 0 8px 0;\n          font-weight: 600;\n        }\n        \n        .timeline-meta {\n          display: flex;\n          gap: 16px;\n          margin-bottom: 8px;\n        }\n        \n        .timeline-year {\n          background: rgba(96, 125, 139, 0.1);\n          color: #607D8B;\n          padding: 4px 8px;\n          border-radius: 8px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n        \n        .timeline-mention {\n          background: #4CAF50;\n          color: #FFFFFF;\n          padding: 4px 8px;\n          border-radius: 8px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n        \n        .timeline-description {\n          font-size: 14px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          margin: 0;\n        }\n        \n        .experience-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n          gap: 24px;\n        }\n        \n        .experience-card {\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 24px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n          transition: all 0.3s ease;\n        }\n        \n        .experience-card:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 8px 24px rgba(96, 125, 139, 0.15);\n        }\n        \n        .experience-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          margin-bottom: 8px;\n        }\n        \n        .experience-title {\n          font-size: 16px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0;\n          flex: 1;\n        }\n        \n        .experience-period {\n          background: rgba(96, 125, 139, 0.1);\n          color: #607D8B;\n          padding: 4px 8px;\n          border-radius: 8px;\n          font-size: 11px;\n          font-weight: 600;\n          white-space: nowrap;\n        }\n        \n        .experience-company {\n          font-size: 14px;\n          color: #607D8B;\n          font-weight: 600;\n          margin: 0 0 12px 0;\n        }\n        \n        .experience-description {\n          font-size: 14px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          margin: 0;\n        }\n        \n        .achievements-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 20px;\n        }\n        \n        .achievement-card {\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 20px;\n          text-align: center;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n          transition: all 0.3s ease;\n        }\n        \n        .achievement-card:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 8px 24px rgba(96, 125, 139, 0.15);\n        }\n        \n        .achievement-icon {\n          width: 48px;\n          height: 48px;\n          background: rgba(96, 125, 139, 0.1);\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #607D8B;\n          margin: 0 auto 16px;\n        }\n        \n        .achievement-title {\n          font-size: 16px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 8px 0;\n        }\n        \n        .achievement-description {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .project-intro {\n          background: #FFFFFF;\n          border-radius: 20px;\n          padding: 32px;\n          margin-bottom: 32px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n          text-align: center;\n        }\n        \n        .intro-title {\n          font-size: 32px;\n          font-weight: 800;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n          letter-spacing: -0.3px;\n        }\n        \n        .intro-description {\n          font-size: 16px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          margin: 0;\n          max-width: 800px;\n          margin: 0 auto;\n        }\n        \n        .features-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n          gap: 24px;\n          margin-bottom: 48px;\n        }\n        \n        .feature-card {\n          background: #FFFFFF;\n          border-radius: 20px;\n          padding: 28px;\n          text-align: center;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n          transition: all 0.3s ease;\n        }\n        \n        .feature-card:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 8px 24px rgba(96, 125, 139, 0.15);\n        }\n        \n        .feature-icon {\n          width: 56px;\n          height: 56px;\n          background: rgba(96, 125, 139, 0.1);\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #607D8B;\n          margin: 0 auto 20px;\n        }\n        \n        .feature-title {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 12px 0;\n        }\n        \n        .feature-description {\n          font-size: 14px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          margin: 0;\n        }\n        \n        .project-details {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 24px;\n          margin-bottom: 48px;\n        }\n        \n        .detail-card {\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 24px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n        }\n        \n        .detail-title {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n        }\n        \n        .detail-list {\n          list-style: none;\n          padding: 0;\n          margin: 0;\n        }\n        \n        .detail-list li {\n          padding: 8px 0;\n          border-bottom: 1px solid #F3EED9;\n          font-size: 14px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          position: relative;\n          padding-left: 20px;\n        }\n        \n        .detail-list li::before {\n          content: '•';\n          color: #607D8B;\n          position: absolute;\n          left: 0;\n          font-weight: bold;\n        }\n        \n        .detail-list li:last-child {\n          border-bottom: none;\n        }\n        \n        .project-mission {\n          display: flex;\n          gap: 24px;\n          background: linear-gradient(135deg, rgba(96, 125, 139, 0.05) 0%, rgba(69, 90, 100, 0.05) 100%);\n          border: 1px solid rgba(96, 125, 139, 0.2);\n          border-radius: 20px;\n          padding: 32px;\n        }\n        \n        .mission-icon {\n          width: 64px;\n          height: 64px;\n          background: #607D8B;\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #FFFFFF;\n          flex-shrink: 0;\n        }\n        \n        .mission-title {\n          font-size: 24px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 12px 0;\n        }\n        \n        .mission-description {\n          font-size: 16px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          margin: 0;\n        }\n        \n        .tech-intro {\n          background: #FFFFFF;\n          border-radius: 20px;\n          padding: 32px;\n          margin-bottom: 32px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n          text-align: center;\n        }\n        \n        .tech-categories {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n          gap: 24px;\n          margin-bottom: 48px;\n        }\n        \n        .tech-category {\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 24px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n        }\n        \n        .tech-title {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n        }\n        \n        .tech-tags {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 8px;\n        }\n        \n        .tech-tag {\n          padding: 6px 12px;\n          border-radius: 12px;\n          font-size: 12px;\n          font-weight: 600;\n          color: #FFFFFF;\n        }\n        \n        .tech-tag.frontend { background: #3E5C49; }\n        .tech-tag.backend { background: #C2571B; }\n        .tech-tag.mobile { background: #E91E63; }\n        .tech-tag.ai { background: #9C27B0; }\n        .tech-tag.design { background: #FF9800; }\n        .tech-tag.database { background: #607D8B; }\n        .tech-tag.tools { background: #6E6E6E; }\n        \n        .architecture-info {\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 24px;\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\n          border: 1px solid #E5DCC2;\n        }\n        \n        .architecture-title {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n        }\n        \n        .architecture-description p {\n          font-size: 14px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          margin: 0 0 16px 0;\n        }\n        \n        .architecture-description p:last-child {\n          margin-bottom: 0;\n        }\n        \n        /* Responsive Design */\n        @media (max-width: 768px) {\n          .hero-section {\n            padding: 32px 16px;\n          }\n          \n          .hero-title {\n            font-size: 32px;\n          }\n          \n          .hero-subtitle {\n            font-size: 18px;\n          }\n          \n          .project-stats {\n            flex-direction: column;\n            gap: 16px;\n          }\n          \n          .stat-item {\n            justify-content: center;\n          }\n          \n          .about-content {\n            padding: 0 16px 32px;\n          }\n          \n          .tabs-navigation {\n            flex-direction: column;\n            gap: 8px;\n          }\n          \n          .tab-button {\n            justify-content: flex-start;\n          }\n          \n          .developer-hero {\n            flex-direction: column;\n            text-align: center;\n            gap: 20px;\n          }\n          \n          .developer-meta {\n            justify-content: center;\n          }\n          \n          .content-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .timeline {\n            padding-left: 24px;\n          }\n          \n          .timeline-marker {\n            left: -32px;\n          }\n          \n          .experience-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .achievements-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .features-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .project-details {\n            grid-template-columns: 1fr;\n          }\n          \n          .project-mission {\n            flex-direction: column;\n            text-align: center;\n          }\n          \n          .tech-categories {\n            grid-template-columns: 1fr;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .hero-main {\n            gap: 16px;\n          }\n          \n          .hero-icon {\n            width: 72px;\n            height: 72px;\n          }\n          \n          .hero-title {\n            font-size: 28px;\n          }\n          \n          .intro-title {\n            font-size: 28px;\n          }\n          \n          .developer-name {\n            font-size: 24px;\n          }\n          \n          .experience-header {\n            flex-direction: column;\n            gap: 8px;\n          }\n          \n          .experience-period {\n            align-self: flex-start;\n          }\n          \n          .timeline-item {\n            padding: 20px;\n          }\n          \n          .feature-card,\n          .achievement-card {\n            padding: 20px;\n          }\n          \n          .project-mission {\n            padding: 24px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};","import React, { useState, useEffect } from 'react';\nimport { Document, Author, Category } from '../../types';\nimport { Save, X, Plus, BookOpen, User, Building, MapPin, Calendar, Tag, Hash, FileText, Image } from 'lucide-react';\n\ninterface AddDocumentProps {\n  onAdd: (document: Omit<Document, 'id'>) => Promise<void>;\n  onCancel: () => void;\n  editingDocument?: Document;\n}\n\nexport const AddDocument: React.FC<AddDocumentProps> = ({ onAdd, onCancel, editingDocument }) => {\n  const [formData, setFormData] = useState({\n    auteur: '',\n    titre: '',\n    editeur: '',\n    lieuEdition: '',\n    annee: new Date().getFullYear().toString(),\n    descripteurs: '',\n    cote: '',\n    isbn: '',\n    description: '',\n    couverture: ''\n  });\n\n  const [authors, setAuthors] = useState<Author[]>([]);\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [errors, setErrors] = useState<Record<string, string>>({});\n\n  useEffect(() => {\n    loadAuthors();\n    loadCategories();\n    \n    if (editingDocument) {\n      setFormData({\n        auteur: editingDocument.auteur,\n        titre: editingDocument.titre,\n        editeur: editingDocument.editeur,\n        lieuEdition: editingDocument.lieuEdition,\n        annee: editingDocument.annee,\n        descripteurs: editingDocument.descripteurs,\n        cote: editingDocument.cote,\n        isbn: editingDocument.isbn || '',\n        description: editingDocument.description || '',\n        couverture: editingDocument.couverture || ''\n      });\n    }\n  }, [editingDocument]);\n\n  const loadAuthors = async () => {\n    try {\n      const authorsList = await window.electronAPI.getAuthors();\n      setAuthors(authorsList);\n    } catch (error) {\n      console.error('Erreur lors du chargement des auteurs:', error);\n    }\n  };\n\n  const loadCategories = async () => {\n    try {\n      const categoriesList = await window.electronAPI.getCategories();\n      setCategories(categoriesList);\n    } catch (error) {\n      console.error('Erreur lors du chargement des catégories:', error);\n    }\n  };\n\n  const generateCote = () => {\n    if (formData.descripteurs && formData.auteur && formData.annee) {\n      const category = formData.descripteurs.split(',')[0].trim().toUpperCase();\n      const authorCode = formData.auteur.split(' ').map(name => name.substring(0, 3).toUpperCase()).join('-');\n      const yearCode = formData.annee.substring(-2);\n      const randomNum = Math.floor(Math.random() * 999).toString().padStart(3, '0');\n      \n      const generatedCote = `${category.substring(0, 3)}-${authorCode}-${yearCode}${randomNum}`;\n      setFormData(prev => ({ ...prev, cote: generatedCote }));\n    }\n  };\n\n  const validateForm = () => {\n    const newErrors: Record<string, string> = {};\n\n    // Champs obligatoires\n    if (!formData.auteur.trim()) newErrors.auteur = 'L\\'auteur est obligatoire';\n    if (!formData.titre.trim()) newErrors.titre = 'Le titre est obligatoire';\n    if (!formData.editeur.trim()) newErrors.editeur = 'L\\'éditeur est obligatoire';\n    if (!formData.lieuEdition.trim()) newErrors.lieuEdition = 'Le lieu d\\'édition est obligatoire';\n    if (!formData.annee.trim()) newErrors.annee = 'L\\'année est obligatoire';\n    if (!formData.descripteurs.trim()) newErrors.descripteurs = 'Les descripteurs sont obligatoires';\n    if (!formData.cote.trim()) newErrors.cote = 'La cote est obligatoire';\n\n    // Validation de l'année\n    const year = parseInt(formData.annee);\n    if (isNaN(year) || year < 1000 || year > new Date().getFullYear() + 10) {\n      newErrors.annee = 'Année invalide';\n    }\n\n    // Validation ISBN (optionnel mais si fourni, doit être valide)\n    if (formData.isbn && !/^(978|979)?[0-9]{9}[0-9X]$/.test(formData.isbn.replace(/-/g, ''))) {\n      newErrors.isbn = 'Format ISBN invalide';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    setIsLoading(true);\n    \n    try {\n      const documentData: Omit<Document, 'id'> = {\n        ...formData,\n        estEmprunte: false,\n        syncStatus: 'pending',\n        lastModified: new Date().toISOString(),\n        version: editingDocument ? editingDocument.version + 1 : 1\n      };\n\n      await onAdd(documentData);\n      \n      // Reset form si ce n'est pas une édition\n      if (!editingDocument) {\n        setFormData({\n          auteur: '',\n          titre: '',\n          editeur: '',\n          lieuEdition: '',\n          annee: new Date().getFullYear().toString(),\n          descripteurs: '',\n          cote: '',\n          isbn: '',\n          description: '',\n          couverture: ''\n        });\n      }\n    } catch (error) {\n      console.error('Erreur lors de l\\'ajout du document:', error);\n      setErrors({ submit: 'Erreur lors de l\\'enregistrement du document' });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleInputChange = (field: string, value: string) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    \n    // Effacer l'erreur pour ce champ\n    if (errors[field]) {\n      setErrors(prev => ({ ...prev, [field]: '' }));\n    }\n  };\n\n  const selectCoverImage = async () => {\n    try {\n      const filePath = await window.electronAPI.selectFile({\n        filters: [\n          { name: 'Images', extensions: ['jpg', 'jpeg', 'png', 'gif', 'webp'] }\n        ]\n      });\n      \n      if (filePath) {\n        setFormData(prev => ({ ...prev, couverture: filePath }));\n      }\n    } catch (error) {\n      console.error('Erreur lors de la sélection de l\\'image:', error);\n    }\n  };\n\n  return (\n    <div className=\"add-document-overlay\">\n      <div className=\"add-document-modal\">\n        <div className=\"modal-header\">\n          <div className=\"header-content\">\n            <div className=\"header-icon\">\n              <Plus size={24} />\n            </div>\n            <div className=\"header-text\">\n              <h2 className=\"modal-title\">\n                {editingDocument ? 'Modifier le document' : 'Ajouter un nouveau document'}\n              </h2>\n              <p className=\"modal-subtitle\">Enrichissez votre collection bibliothèque</p>\n            </div>\n          </div>\n          <button onClick={onCancel} className=\"close-button\">\n            <X size={20} />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"modal-content\">\n          {errors.submit && (\n            <div className=\"error-alert\">\n              {errors.submit}\n            </div>\n          )}\n\n          {/* Section 1: Informations principales */}\n          <div className=\"form-section\">\n            <div className=\"section-header\">\n              <div className=\"section-icon\">\n                <FileText size={20} />\n              </div>\n              <h3 className=\"section-title\">Informations principales</h3>\n            </div>\n            \n            <div className=\"form-grid\">\n              <div className=\"form-field\">\n                <label className=\"field-label\">\n                  <User size={16} />\n                  Auteur *\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.auteur}\n                  onChange={(e) => handleInputChange('auteur', e.target.value)}\n                  className={`form-input ${\n                    errors.auteur ? 'error' : ''\n                  }`}\n                  placeholder=\"Nom de l'auteur\"\n                  list=\"authors-list\"\n                />\n                <datalist id=\"authors-list\">\n                  {authors.map(author => (\n                    <option key={author.id} value={author.name} />\n                  ))}\n                </datalist>\n                {errors.auteur && <p className=\"field-error\">{errors.auteur}</p>}\n              </div>\n\n              <div className=\"form-field\">\n                <label className=\"field-label\">\n                  <BookOpen size={16} />\n                  Titre *\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.titre}\n                  onChange={(e) => handleInputChange('titre', e.target.value)}\n                  className={`form-input ${\n                    errors.titre ? 'error' : ''\n                  }`}\n                  placeholder=\"Titre du document\"\n                />\n                {errors.titre && <p className=\"field-error\">{errors.titre}</p>}\n              </div>\n\n              <div className=\"form-field\">\n                <label className=\"field-label\">\n                  <Building size={16} />\n                  Éditeur *\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.editeur}\n                  onChange={(e) => handleInputChange('editeur', e.target.value)}\n                  className={`form-input ${\n                    errors.editeur ? 'error' : ''\n                  }`}\n                  placeholder=\"Nom de l'éditeur\"\n                />\n                {errors.editeur && <p className=\"field-error\">{errors.editeur}</p>}\n              </div>\n\n              <div className=\"form-field\">\n                <label className=\"field-label\">\n                  <MapPin size={16} />\n                  Lieu d'édition *\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.lieuEdition}\n                  onChange={(e) => handleInputChange('lieuEdition', e.target.value)}\n                  className={`form-input ${\n                    errors.lieuEdition ? 'error' : ''\n                  }`}\n                  placeholder=\"Ville d'édition\"\n                />\n                {errors.lieuEdition && <p className=\"field-error\">{errors.lieuEdition}</p>}\n              </div>\n\n              <div className=\"form-field\">\n                <label className=\"field-label\">\n                  <Calendar size={16} />\n                  Année *\n                </label>\n                <input\n                  type=\"number\"\n                  value={formData.annee}\n                  onChange={(e) => handleInputChange('annee', e.target.value)}\n                  className={`form-input ${\n                    errors.annee ? 'error' : ''\n                  }`}\n                  placeholder=\"Année de publication\"\n                  min=\"1000\"\n                  max={new Date().getFullYear() + 10}\n                />\n                {errors.annee && <p className=\"field-error\">{errors.annee}</p>}\n              </div>\n\n              <div className=\"form-field\">\n                <label className=\"field-label\">\n                  <Hash size={16} />\n                  Cote *\n                </label>\n                <div className=\"input-with-button\">\n                  <input\n                    type=\"text\"\n                    value={formData.cote}\n                    onChange={(e) => handleInputChange('cote', e.target.value)}\n                    className={`form-input flex-1 ${\n                      errors.cote ? 'error' : ''\n                    }`}\n                    placeholder=\"Code de classification\"\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={generateCote}\n                    className=\"generate-button\"\n                    title=\"Générer automatiquement\"\n                  >\n                    <Plus size={16} />\n                  </button>\n                </div>\n                {errors.cote && <p className=\"field-error\">{errors.cote}</p>}\n              </div>\n            </div>\n          </div>\n\n          {/* Section 2: Métadonnées */}\n          <div className=\"form-section\">\n            <div className=\"section-header\">\n              <div className=\"section-icon\">\n                <Tag size={20} />\n              </div>\n              <h3 className=\"section-title\">Métadonnées et classification</h3>\n            </div>\n            \n            <div className=\"section-content\">\n              <div className=\"form-field full-width\">\n                <label className=\"field-label\">\n                  Descripteurs / Mots-clés *\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.descripteurs}\n                  onChange={(e) => handleInputChange('descripteurs', e.target.value)}\n                  className={`form-input ${\n                    errors.descripteurs ? 'error' : ''\n                  }`}\n                  placeholder=\"ex: Fiction, Roman historique, XIXe siècle (séparés par des virgules)\"\n                />\n                <p className=\"field-help\">\n                  Séparez les mots-clés par des virgules. Ces descripteurs aideront à la recherche et au classement.\n                </p>\n                {errors.descripteurs && <p className=\"field-error\">{errors.descripteurs}</p>}\n              </div>\n\n              <div className=\"form-grid\">\n                <div className=\"form-field\">\n                  <label className=\"field-label\">\n                    ISBN (optionnel)\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.isbn}\n                    onChange={(e) => handleInputChange('isbn', e.target.value)}\n                    className={`form-input ${\n                      errors.isbn ? 'error' : ''\n                    }`}\n                    placeholder=\"978-2-123456-78-9\"\n                  />\n                  {errors.isbn && <p className=\"field-error\">{errors.isbn}</p>}\n                </div>\n\n                <div className=\"form-field\">\n                  <label className=\"field-label\">\n                    <Image size={16} />\n                    Couverture (optionnel)\n                  </label>\n                  <div className=\"input-with-button\">\n                    <input\n                      type=\"text\"\n                      value={formData.couverture}\n                      onChange={(e) => handleInputChange('couverture', e.target.value)}\n                      className=\"form-input flex-1\"\n                      placeholder=\"Chemin vers l'image\"\n                      readOnly\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={selectCoverImage}\n                      className=\"browse-button\"\n                    >\n                      Parcourir\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"form-field full-width\">\n                <label className=\"field-label\">\n                  Description (optionnel)\n                </label>\n                <textarea\n                  value={formData.description}\n                  onChange={(e) => handleInputChange('description', e.target.value)}\n                  className=\"form-textarea\"\n                  rows={4}\n                  placeholder=\"Description détaillée du document...\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Boutons d'action */}\n          <div className=\"modal-actions\">\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              className=\"cancel-button\"\n            >\n              Annuler\n            </button>\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"submit-button\"\n            >\n              <Save size={16} />\n              {isLoading ? 'Enregistrement...' : (editingDocument ? 'Modifier' : 'Ajouter')}\n            </button>\n          </div>\n        </form>\n      </div>\n      \n      <style>{`\n        .add-document-overlay {\n          position: fixed;\n          inset: 0;\n          background: rgba(0, 0, 0, 0.6);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 50;\n          padding: 16px;\n          backdrop-filter: blur(8px);\n        }\n        \n        .add-document-modal {\n          background: #FFFFFF;\n          border-radius: 20px;\n          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);\n          width: 100%;\n          max-width: 900px;\n          max-height: 95vh;\n          overflow: hidden;\n          display: flex;\n          flex-direction: column;\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n        \n        .modal-header {\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n          padding: 32px;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          position: relative;\n        }\n        \n        .modal-header::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: radial-gradient(circle at 20% 80%, rgba(243, 238, 217, 0.1) 0%, transparent 50%);\n          pointer-events: none;\n        }\n        \n        .header-content {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .header-icon {\n          width: 56px;\n          height: 56px;\n          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);\n        }\n        \n        .header-text {\n          flex: 1;\n        }\n        \n        .modal-title {\n          font-size: 24px;\n          font-weight: 700;\n          margin: 0 0 4px 0;\n          line-height: 1.2;\n          letter-spacing: -0.3px;\n        }\n        \n        .modal-subtitle {\n          font-size: 14px;\n          opacity: 0.8;\n          margin: 0;\n        }\n        \n        .close-button {\n          width: 44px;\n          height: 44px;\n          border: none;\n          background: rgba(243, 238, 217, 0.1);\n          color: #F3EED9;\n          border-radius: 12px;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s ease;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .close-button:hover {\n          background: rgba(243, 238, 217, 0.2);\n          transform: scale(1.05);\n        }\n        \n        .modal-content {\n          padding: 32px;\n          overflow-y: auto;\n          display: flex;\n          flex-direction: column;\n          gap: 32px;\n        }\n        \n        .error-alert {\n          background: linear-gradient(135deg, #FEF2F2 0%, #FFFFFF 100%);\n          border: 1px solid #FCA5A5;\n          color: #DC2626;\n          padding: 16px 20px;\n          border-radius: 12px;\n          font-size: 14px;\n          font-weight: 500;\n        }\n        \n        .form-section {\n          background: rgba(243, 238, 217, 0.1);\n          border-radius: 16px;\n          padding: 24px;\n          border: 1px solid rgba(243, 238, 217, 0.2);\n        }\n        \n        .section-header {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          margin-bottom: 24px;\n        }\n        \n        .section-icon {\n          width: 40px;\n          height: 40px;\n          background: rgba(62, 92, 73, 0.1);\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #3E5C49;\n        }\n        \n        .section-title {\n          font-size: 18px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin: 0;\n        }\n        \n        .form-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n          gap: 20px;\n        }\n          .form-grid .form-field {\n          min-width: 0; /* Évite que les flex/grid items dépassent leur conteneur */\n        }\n        \n        .section-content {\n          display: flex;\n          flex-direction: column;\n          gap: 20px;\n        }\n        \n        .form-field {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        \n        .form-field.full-width {\n          grid-column: 1 / -1;\n        }\n        \n        .field-label {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 14px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin: 0;\n        }\n        \n        .form-input, .form-textarea {\n          width: 100%;\n          padding: 12px 16px;\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          font-size: 14px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          \n          /* FIX: Ajoutez ces propriétés pour éviter le chevauchement */\n          box-sizing: border-box;\n          min-width: 0; /* Permet au flexbox/grid de réduire la taille si nécessaire */\n        }\n        \n        .form-input:focus, .form-textarea:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n        \n        .form-input.error {\n          border-color: #DC2626;\n          background: #FEF2F2;\n        }\n        \n        .form-input.error:focus {\n          border-color: #DC2626;\n          box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);\n        }\n        \n        .form-textarea {\n          resize: vertical;\n          min-height: 100px;\n        }\n        \n        .input-with-button {\n          display: flex;\n          gap: 8px;\n          width: 100%;\n        }\n        .input-with-button .form-input {\n  flex: 1;\n  min-width: 0; /* Permet à l'input de se rétrécir si nécessaire */\n}\n        .generate-button, .browse-button {\n          padding: 12px 16px;\n          border: none;\n          border-radius: 8px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-shrink: 0;\n        }\n        \n        .generate-button {\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n        }\n        \n        .generate-button:hover {\n          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);\n          transform: translateY(-1px);\n          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.3);\n        }\n        \n        .browse-button {\n          background: linear-gradient(135deg, #6E6E6E 0%, #5A5A5A 100%);\n          color: #F3EED9;\n        }\n        \n        .browse-button:hover {\n          background: linear-gradient(135deg, #5A5A5A 0%, #4A4A4A 100%);\n          transform: translateY(-1px);\n          box-shadow: 0 4px 12px rgba(110, 110, 110, 0.3);\n        }\n        \n        .field-help {\n          font-size: 12px;\n          color: #6E6E6E;\n          margin: 0;\n          line-height: 1.4;\n        }\n        \n        .field-error {\n          color: #DC2626;\n          font-size: 12px;\n          font-weight: 500;\n          margin: 0;\n        }\n        \n        .modal-actions {\n          display: flex;\n          justify-content: flex-end;\n          gap: 16px;\n          padding-top: 24px;\n          border-top: 1px solid rgba(243, 238, 217, 0.3);\n        }\n        \n        .cancel-button {\n          padding: 12px 24px;\n          background: rgba(110, 110, 110, 0.1);\n          color: #6E6E6E;\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n        }\n        \n        .cancel-button:hover {\n          background: rgba(110, 110, 110, 0.2);\n          border-color: #6E6E6E;\n          transform: translateY(-1px);\n        }\n        \n        .submit-button {\n          padding: 12px 24px;\n          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);\n          color: #F3EED9;\n          border: none;\n          border-radius: 8px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n        \n        .submit-button:hover {\n          background: linear-gradient(135deg, #A8481A 0%, #8A3C18 100%);\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);\n        }\n        \n        .submit-button:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          transform: none;\n        }\n        \n        @media (max-width: 768px) {\n          .add-document-overlay {\n            padding: 8px;\n          }\n          \n          .modal-header {\n            padding: 20px;\n          }\n          \n          .header-content {\n            flex-direction: column;\n            text-align: center;\n            gap: 12px;\n          }\n          \n          .modal-title {\n            font-size: 20px;\n          }\n          \n          .modal-content {\n            padding: 20px;\n            gap: 24px;\n          }\n          \n          .form-section {\n            padding: 16px;\n          }\n          \n          .form-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n            gap: 20px;\n            width: 100%; /* Assure que la grille prend toute la largeur disponible */\n          }\n          \n          .modal-actions {\n            flex-direction: column;\n            gap: 12px;\n          }\n          \n          .cancel-button,\n          .submit-button {\n            width: 100%;\n            justify-content: center;\n          }\n        }\n          @media (max-width: 768px) {\n  .form-grid {\n    grid-template-columns: 1fr;\n    gap: 16px;\n  }\n}\n\n@media (max-width: 480px) {\n  .form-grid {\n    grid-template-columns: 1fr;\n    gap: 12px;\n  }\n  \n  .input-with-button {\n    flex-direction: column;\n    gap: 8px;\n  }\n  \n  .input-with-button .form-input {\n    flex: none;\n  }\n}\n      `}</style>\n    </div>\n  );\n};","import React, { useState, useEffect } from 'react';\nimport { \n  History, \n  Calendar,\n  Filter,\n  Download,\n  Printer,\n  Search,\n  X,\n  Clock,\n  CheckCircle,\n  AlertTriangle,\n  User,\n  Book,\n  GraduationCap,\n  Briefcase\n} from 'lucide-react';\nimport { BorrowHistory as BorrowHistoryType, HistoryFilter } from '../../types';\n\nimport { SupabaseService } from '../../services/SupabaseService';\n\ninterface BorrowHistoryProps {\n  onClose: () => void;\n  supabaseService: SupabaseService;\n}\n\nexport const BorrowHistory: React.FC<BorrowHistoryProps> = ({ onClose }) => {\n  const [history, setHistory] = useState<BorrowHistoryType[]>([]);\n  const [filteredHistory, setFilteredHistory] = useState<BorrowHistoryType[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  \n  const [filters, setFilters] = useState<HistoryFilter>({\n    startDate: '',\n    endDate: '',\n    borrowerType: 'all',\n    status: 'all'\n  });\n  \n  const [searchQuery, setSearchQuery] = useState('');\n\n  useEffect(() => {\n    loadHistory();\n  }, []);\n\n  useEffect(() => {\n    applyFilters();\n  }, [history, filters, searchQuery]);\n\n  const loadHistory = async () => {\n    setIsLoading(true);\n    try {\n      const data = await window.electronAPI.getBorrowHistory();\n      setHistory(data);\n    } catch (error) {\n      console.error('Erreur lors du chargement de l\\'historique:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const applyFilters = () => {\n    let filtered = [...history];\n\n    // Appliquer les filtres de date\n    if (filters.startDate) {\n      filtered = filtered.filter(item => \n        new Date(item.borrowDate) >= new Date(filters.startDate!)\n      );\n    }\n    \n    if (filters.endDate) {\n      filtered = filtered.filter(item => \n        new Date(item.borrowDate) <= new Date(filters.endDate! + ' 23:59:59')\n      );\n    }\n\n    // Filtre par type d'emprunteur\n    if (filters.borrowerType !== 'all') {\n      filtered = filtered.filter(item => \n        item.borrower?.type === filters.borrowerType\n      );\n    }\n\n    // Filtre par statut\n    if (filters.status !== 'all') {\n      filtered = filtered.filter(item => item.status === filters.status);\n    }\n\n    // Recherche textuelle\n    if (searchQuery.trim()) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(item =>\n        item.book?.title.toLowerCase().includes(query) ||\n        item.book?.author.toLowerCase().includes(query) ||\n        `${item.borrower?.firstName} ${item.borrower?.lastName}`.toLowerCase().includes(query) ||\n        item.borrower?.matricule.toLowerCase().includes(query)\n      );\n    }\n\n    setFilteredHistory(filtered);\n  };\n\n  const handleFilterChange = (key: keyof HistoryFilter, value: any) => {\n    setFilters(prev => ({ ...prev, [key]: value }));\n  };\n\n  const resetFilters = () => {\n    setFilters({\n      startDate: '',\n      endDate: '',\n      borrowerType: 'all',\n      status: 'all'\n    });\n    setSearchQuery('');\n  };\n\n  const handlePrint = async () => {\n    try {\n      const printData = {\n        history: filteredHistory,\n        filters,\n        stats: getFilteredStats()\n      };\n      await window.electronAPI.printBorrowHistory(printData);\n    } catch (error) {\n      console.error('Erreur lors de l\\'impression:', error);\n    }\n  };\n\n  const handleExport = async () => {\n    try {\n      const exportData = {\n        history: filteredHistory,\n        filters,\n        stats: getFilteredStats()\n      };\n      const filePath = await window.electronAPI.exportCSV(exportData);\n      if (filePath) {\n        alert(`Fichier exporté : ${filePath.split(/[/\\\\]/).pop()}`);\n      }\n    } catch (error) {\n      console.error('Erreur lors de l\\'export:', error);\n    }\n  };\n\n  const getFilteredStats = () => {\n    const total = filteredHistory.length;\n    const active = filteredHistory.filter(h => h.status === 'active').length;\n    const returned = filteredHistory.filter(h => h.status === 'returned').length;\n    const overdue = filteredHistory.filter(h => h.status === 'overdue').length;\n    const students = filteredHistory.filter(h => h.borrower?.type === 'student').length;\n    const staff = filteredHistory.filter(h => h.borrower?.type === 'staff').length;\n    \n    return { total, active, returned, overdue, students, staff };\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'active':\n        return <Clock size={16} className=\"text-blue-500\" />;\n      case 'returned':\n        return <CheckCircle size={16} className=\"text-green-500\" />;\n      case 'overdue':\n        return <AlertTriangle size={16} className=\"text-red-500\" />;\n      default:\n        return <Clock size={16} />;\n    }\n  };\n\n  const getStatusLabel = (status: string) => {\n    switch (status) {\n      case 'active':\n        return 'En cours';\n      case 'returned':\n        return 'Rendu';\n      case 'overdue':\n        return 'En retard';\n      default:\n        return status;\n    }\n  };\n\n  const stats = getFilteredStats();\n\n  return (\n    <div className=\"history-overlay\">\n      <div className=\"history-modal\">\n        {/* Header */}\n        <div className=\"modal-header\">\n          <div className=\"header-content\">\n            <div className=\"header-icon\">\n              <History size={28} />\n            </div>\n            <div className=\"header-text\">\n              <h2 className=\"modal-title\">Historique des Emprunts</h2>\n              <p className=\"modal-subtitle\">\n                {stats.total} emprunt(s) • {stats.active} actif(s) • {stats.returned} rendu(s)\n              </p>\n            </div>\n          </div>\n          <button className=\"close-button\" onClick={onClose}>\n            <X size={20} />\n          </button>\n        </div>\n\n        {/* Stats Overview */}\n        <div className=\"stats-section\">\n          <div className=\"stat-card\">\n            <div className=\"stat-icon total\">\n              <History size={20} />\n            </div>\n            <div className=\"stat-content\">\n              <span className=\"stat-value\">{stats.total}</span>\n              <span className=\"stat-label\">Total</span>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <div className=\"stat-icon active\">\n              <Clock size={20} />\n            </div>\n            <div className=\"stat-content\">\n              <span className=\"stat-value\">{stats.active}</span>\n              <span className=\"stat-label\">En cours</span>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <div className=\"stat-icon returned\">\n              <CheckCircle size={20} />\n            </div>\n            <div className=\"stat-content\">\n              <span className=\"stat-value\">{stats.returned}</span>\n              <span className=\"stat-label\">Rendus</span>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <div className=\"stat-icon overdue\">\n              <AlertTriangle size={20} />\n            </div>\n            <div className=\"stat-content\">\n              <span className=\"stat-value\">{stats.overdue}</span>\n              <span className=\"stat-label\">En retard</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Filters */}\n        <div className=\"filters-section\">\n          <div className=\"filters-row\">\n            <div className=\"search-container\">\n              <div className=\"search-input-wrapper\">\n                <Search className=\"search-icon\" size={20} />\n                <input\n                  type=\"text\"\n                  placeholder=\"Rechercher par document, auteur, emprunteur...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"search-input\"\n                />\n                {searchQuery && (\n                  <button \n                    className=\"clear-search\"\n                    onClick={() => setSearchQuery('')}\n                  >\n                    <X size={16} />\n                  </button>\n                )}\n              </div>\n            </div>\n            \n            <div className=\"filter-controls\">\n              <div className=\"filter-group\">\n                <Calendar size={16} />\n                <input\n                  type=\"date\"\n                  value={filters.startDate}\n                  onChange={(e) => handleFilterChange('startDate', e.target.value)}\n                  className=\"date-input\"\n                  placeholder=\"Date début\"\n                />\n                <span className=\"filter-separator\">à</span>\n                <input\n                  type=\"date\"\n                  value={filters.endDate}\n                  onChange={(e) => handleFilterChange('endDate', e.target.value)}\n                  className=\"date-input\"\n                  placeholder=\"Date fin\"\n                />\n              </div>\n              \n              <div className=\"filter-group\">\n                <Filter size={16} />\n                <select \n                  value={filters.borrowerType} \n                  onChange={(e) => handleFilterChange('borrowerType', e.target.value)}\n                  className=\"filter-select\"\n                >\n                  <option value=\"all\">Tous les emprunteurs</option>\n                  <option value=\"student\">Étudiants</option>\n                  <option value=\"staff\">Personnel</option>\n                </select>\n              </div>\n              \n              <div className=\"filter-group\">\n                <select \n                  value={filters.status} \n                  onChange={(e) => handleFilterChange('status', e.target.value)}\n                  className=\"filter-select\"\n                >\n                  <option value=\"all\">Tous les statuts</option>\n                  <option value=\"active\">En cours</option>\n                  <option value=\"returned\">Rendus</option>\n                  <option value=\"overdue\">En retard</option>\n                </select>\n              </div>\n              \n              <button className=\"reset-filters-btn\" onClick={resetFilters}>\n                <X size={16} />\n                Réinitialiser\n              </button>\n            </div>\n          </div>\n          \n          <div className=\"actions-row\">\n            <div className=\"results-info\">\n              {filteredHistory.length} résultat(s) affiché(s)\n            </div>\n            \n            <div className=\"export-actions\">\n              <button className=\"btn-secondary\" onClick={handleExport}>\n                <Download size={16} />\n                Exporter CSV\n              </button>\n              <button className=\"btn-primary\" onClick={handlePrint}>\n                <Printer size={16} />\n                Imprimer\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* History List */}\n        <div className=\"history-content\">\n          {isLoading ? (\n            <div className=\"loading-state\">\n              <div className=\"loading-spinner\"></div>\n              <p>Chargement de l'historique...</p>\n            </div>\n          ) : filteredHistory.length > 0 ? (\n            <div className=\"history-list\">\n              {filteredHistory.map((item) => (\n                <div key={item.id} className={`history-item ${item.status}`}>\n                  <div className=\"item-header\">\n                    <div className=\"status-section\">\n                      {getStatusIcon(item.status)}\n                      <span className=\"status-label\">{getStatusLabel(item.status)}</span>\n                    </div>\n                    \n                    <div className=\"dates-section\">\n                      <span className=\"borrow-date\">\n                        Emprunté le {new Date(item.borrowDate).toLocaleDateString('fr-FR')}\n                      </span>\n                      {item.actualReturnDate && (\n                        <span className=\"return-date\">\n                          Rendu le {new Date(item.actualReturnDate).toLocaleDateString('fr-FR')}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                  \n                  <div className=\"item-content\">\n                    <div className=\"book-section\">\n                      <div className=\"book-cover\">\n                        {item.book?.coverUrl ? (\n                          <img src={item.book.coverUrl} alt={item.book.title} />\n                        ) : (\n                          <Book size={24} />\n                        )}\n                      </div>\n                      \n                      <div className=\"book-details\">\n                        <h4 className=\"book-title\">{item.book?.title}</h4>\n                        <p className=\"book-author\">par {item.book?.author}</p>\n                        <span className=\"book-category\">{item.book?.category}</span>\n                      </div>\n                    </div>\n                    \n                    <div className=\"borrower-section\">\n                      <div className=\"borrower-type\">\n                        {item.borrower?.type === 'student' ? (\n                          <GraduationCap size={16} />\n                        ) : (\n                          <Briefcase size={16} />\n                        )}\n                        <span>{item.borrower?.type === 'student' ? 'Étudiant' : 'Personnel'}</span>\n                      </div>\n                      \n                      <div className=\"borrower-info\">\n                        <h4 className=\"borrower-name\">\n                          {item.borrower?.firstName} {item.borrower?.lastName}\n                        </h4>\n                        <p className=\"borrower-details\">\n                          {item.borrower?.matricule}\n                          {item.borrower?.type === 'student' && item.borrower.classe && \n                            ` • ${item.borrower.classe}`\n                          }\n                          {item.borrower?.type === 'staff' && item.borrower.position && \n                            ` • ${item.borrower.position}`\n                          }\n                        </p>\n                      </div>\n                    </div>\n                    \n                    <div className=\"timeline-section\">\n                      <div className=\"timeline-item\">\n                        <div className=\"timeline-dot borrow\"></div>\n                        <div className=\"timeline-content\">\n                          <div className=\"timeline-label\">Emprunt</div>\n                          <div className=\"timeline-date\">\n                            {new Date(item.borrowDate).toLocaleDateString('fr-FR')} à{' '}\n                            {new Date(item.borrowDate).toLocaleTimeString('fr-FR', { \n                              hour: '2-digit', minute: '2-digit' \n                            })}\n                          </div>\n                        </div>\n                      </div>\n                      \n                      <div className=\"timeline-item\">\n                        <div className=\"timeline-dot expected\"></div>\n                        <div className=\"timeline-content\">\n                          <div className=\"timeline-label\">Retour prévu</div>\n                          <div className=\"timeline-date\">\n                            {new Date(item.expectedReturnDate).toLocaleDateString('fr-FR')}\n                          </div>\n                        </div>\n                      </div>\n                      \n                      {item.actualReturnDate && (\n                        <div className=\"timeline-item\">\n                          <div className=\"timeline-dot return\"></div>\n                          <div className=\"timeline-content\">\n                            <div className=\"timeline-label\">Retour effectué</div>\n                            <div className=\"timeline-date\">\n                              {new Date(item.actualReturnDate).toLocaleDateString('fr-FR')} à{' '}\n                              {new Date(item.actualReturnDate).toLocaleTimeString('fr-FR', { \n                                hour: '2-digit', minute: '2-digit' \n                              })}\n                            </div>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                  \n                  {item.notes && (\n                    <div className=\"item-notes\">\n                      <strong>Notes :</strong> {item.notes}\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"empty-state\">\n              <History size={64} />\n              <h3>Aucun historique trouvé</h3>\n              <p>\n                {Object.values(filters).some(f => f && f !== 'all') || searchQuery\n                  ? 'Aucun résultat pour les critères sélectionnés'\n                  : 'L\\'historique des emprunts apparaîtra ici'\n                }\n              </p>\n              {(Object.values(filters).some(f => f && f !== 'all') || searchQuery) && (\n                <button className=\"btn-secondary\" onClick={resetFilters}>\n                  Effacer les filtres\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      <style>{`\n        .history-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.7);\n          backdrop-filter: blur(8px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 20px;\n        }\n        \n        .history-modal {\n          background: #FFFFFF;\n          border-radius: 24px;\n          width: 100%;\n          max-width: 1200px;\n          max-height: 90vh;\n          overflow: hidden;\n          display: flex;\n          flex-direction: column;\n          box-shadow: \n            0 24px 48px rgba(62, 92, 73, 0.2),\n            0 8px 24px rgba(62, 92, 73, 0.12);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n        \n        .modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 32px;\n          background: linear-gradient(135deg, #6E6E6E 0%, #5A5A5A 100%);\n          color: #F3EED9;\n        }\n        \n        .header-content {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n        }\n        \n        .header-icon {\n          width: 56px;\n          height: 56px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .modal-title {\n          font-size: 24px;\n          font-weight: 800;\n          margin: 0 0 4px 0;\n        }\n        \n        .modal-subtitle {\n          font-size: 14px;\n          opacity: 0.9;\n          margin: 0;\n        }\n        \n        .close-button {\n          background: rgba(243, 238, 217, 0.15);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n        \n        .close-button:hover {\n          background: rgba(243, 238, 217, 0.25);\n        }\n        \n        .stats-section {\n          display: flex;\n          gap: 20px;\n          padding: 24px 32px;\n          background: #F3EED9;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .stat-card {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          background: #FFFFFF;\n          padding: 16px 20px;\n          border-radius: 12px;\n          box-shadow: 0 2px 8px rgba(62, 92, 73, 0.08);\n          flex: 1;\n        }\n        \n        .stat-icon {\n          width: 40px;\n          height: 40px;\n          border-radius: 10px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #FFFFFF;\n        }\n        \n        .stat-icon.total { background: #6E6E6E; }\n        .stat-icon.active { background: #3B82F6; }\n        .stat-icon.returned { background: #3E5C49; }\n        .stat-icon.overdue { background: #DC2626; }\n        \n        .stat-value {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          display: block;\n        }\n        \n        .stat-label {\n          font-size: 12px;\n          color: #6E6E6E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .filters-section {\n          padding: 24px 32px;\n          background: #FFFFFF;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .filters-row {\n          display: flex;\n          align-items: center;\n          gap: 24px;\n          margin-bottom: 16px;\n        }\n        \n        .search-container {\n          flex: 1;\n          max-width: 400px;\n        }\n        \n        .search-input-wrapper {\n          position: relative;\n          display: flex;\n          align-items: center;\n        }\n        \n        .search-icon {\n          position: absolute;\n          left: 16px;\n          color: #6E6E6E;\n          z-index: 2;\n        }\n        \n        .search-input {\n          width: 100%;\n          height: 48px;\n          padding: 0 48px 0 48px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          font-size: 16px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n        }\n        \n        .search-input:focus {\n          outline: none;\n          border-color: #6E6E6E;\n          box-shadow: 0 0 0 3px rgba(110, 110, 110, 0.1);\n        }\n        \n        .clear-search {\n          position: absolute;\n          right: 16px;\n          background: none;\n          border: none;\n          cursor: pointer;\n          color: #6E6E6E;\n          padding: 4px;\n          border-radius: 4px;\n          transition: all 0.2s ease;\n        }\n        \n        .clear-search:hover {\n          color: #2E2E2E;\n          background: #F3EED9;\n        }\n        \n        .filter-controls {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          flex-wrap: wrap;\n        }\n        \n        .filter-group {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          color: #6E6E6E;\n        }\n        \n        .date-input, .filter-select {\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          padding: 8px 12px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          font-size: 14px;\n          cursor: pointer;\n        }\n        \n        .filter-separator {\n          margin: 0 8px;\n          color: #6E6E6E;\n          font-size: 14px;\n        }\n        \n        .reset-filters-btn {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          padding: 8px 12px;\n          background: #F3EED9;\n          border: 1px solid #E5DCC2;\n          border-radius: 8px;\n          color: #6E6E6E;\n          font-size: 12px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .reset-filters-btn:hover {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .actions-row {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n        }\n        \n        .results-info {\n          font-size: 14px;\n          color: #6E6E6E;\n        }\n        \n        .export-actions {\n          display: flex;\n          gap: 12px;\n        }\n        \n        .btn-secondary, .btn-primary {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 8px 16px;\n          border-radius: 8px;\n          font-size: 14px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          border: none;\n        }\n        \n        .btn-secondary {\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 1px solid #E5DCC2;\n        }\n        \n        .btn-secondary:hover {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .btn-primary {\n          background: #6E6E6E;\n          color: #F3EED9;\n        }\n        \n        .btn-primary:hover {\n          background: #5A5A5A;\n        }\n        \n        .history-content {\n          flex: 1;\n          overflow-y: auto;\n          padding: 24px 32px;\n        }\n        \n        .loading-state {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          padding: 80px 32px;\n          text-align: center;\n          color: #6E6E6E;\n        }\n        \n        .loading-spinner {\n          width: 40px;\n          height: 40px;\n          border: 3px solid #E5DCC2;\n          border-top: 3px solid #6E6E6E;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin-bottom: 16px;\n        }\n        \n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        .history-list {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n        \n        .history-item {\n          background: #FFFFFF;\n          border: 1px solid #E5DCC2;\n          border-radius: 16px;\n          overflow: hidden;\n          transition: all 0.3s ease;\n          position: relative;\n        }\n        \n        .history-item::before {\n          content: '';\n          position: absolute;\n          left: 0;\n          top: 0;\n          bottom: 0;\n          width: 4px;\n          background: #6E6E6E;\n        }\n        \n        .history-item.active::before { background: #3B82F6; }\n        .history-item.returned::before { background: #3E5C49; }\n        .history-item.overdue::before { background: #DC2626; }\n        \n        .history-item:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.12);\n        }\n        \n        .item-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 16px 20px;\n          background: #F9FAFB;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .status-section {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n        \n        .status-label {\n          font-size: 12px;\n          font-weight: 600;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .dates-section {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-end;\n          gap: 4px;\n        }\n        \n        .borrow-date, .return-date {\n          font-size: 12px;\n          color: #6E6E6E;\n        }\n        \n        .return-date {\n          font-weight: 600;\n          color: #3E5C49;\n        }\n        \n        .item-content {\n          display: grid;\n          grid-template-columns: 2fr 1.5fr 1fr;\n          gap: 24px;\n          padding: 20px;\n        }\n        \n        .book-section {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n        }\n        \n        .book-cover {\n          width: 48px;\n          height: 64px;\n          background: linear-gradient(135deg, #F3EED9 0%, #E5DCC2 100%);\n          border-radius: 8px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #6E6E6E;\n          flex-shrink: 0;\n          overflow: hidden;\n        }\n        \n        .book-cover img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n        \n        .book-title {\n          font-size: 16px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 4px 0;\n          line-height: 1.3;\n        }\n        \n        .book-author {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0 0 8px 0;\n        }\n        \n        .book-category {\n          background: #6E6E6E;\n          color: #F3EED9;\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 600;\n        }\n        \n        .borrower-section {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .borrower-type {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          font-size: 11px;\n          font-weight: 600;\n          color: #6E6E6E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .borrower-name {\n          font-size: 16px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 4px 0;\n        }\n        \n        .borrower-details {\n          font-size: 13px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .timeline-section {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .timeline-item {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n        }\n        \n        .timeline-dot {\n          width: 12px;\n          height: 12px;\n          border-radius: 50%;\n          flex-shrink: 0;\n        }\n        \n        .timeline-dot.borrow { background: #3B82F6; }\n        .timeline-dot.expected { background: #F59E0B; }\n        .timeline-dot.return { background: #3E5C49; }\n        \n        .timeline-label {\n          font-size: 11px;\n          font-weight: 600;\n          color: #6E6E6E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .timeline-date {\n          font-size: 12px;\n          color: #2E2E2E;\n          margin-top: 2px;\n        }\n        \n        .item-notes {\n          padding: 16px 20px;\n          background: #FEF7F0;\n          border-top: 1px solid #E5DCC2;\n          font-size: 13px;\n          color: #6E6E6E;\n        }\n        \n        .empty-state {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          padding: 80px 32px;\n          text-align: center;\n          color: #6E6E6E;\n        }\n        \n        .empty-state h3 {\n          font-size: 20px;\n          font-weight: 700;\n          margin: 16px 0 8px 0;\n          color: #2E2E2E;\n        }\n        \n        .empty-state p {\n          margin: 0 0 24px 0;\n          font-size: 14px;\n        }\n        \n        .text-blue-500 { color: #3B82F6; }\n        .text-green-500 { color: #3E5C49; }\n        .text-red-500 { color: #DC2626; }\n        \n        /* Responsive */\n        @media (max-width: 1024px) {\n          .item-content {\n            grid-template-columns: 1fr;\n            gap: 20px;\n          }\n          \n          .filters-row {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 16px;\n          }\n          \n          .filter-controls {\n            justify-content: space-between;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .history-modal {\n            margin: 12px;\n            border-radius: 20px;\n          }\n          \n          .modal-header {\n            padding: 20px;\n            flex-direction: column;\n            gap: 16px;\n            text-align: center;\n          }\n          \n          .stats-section {\n            padding: 16px 20px;\n            flex-wrap: wrap;\n            gap: 12px;\n          }\n          \n          .stat-card {\n            flex: 1;\n            min-width: calc(50% - 6px);\n          }\n          \n          .filters-section {\n            padding: 16px 20px;\n          }\n          \n          .history-content {\n            padding: 16px 20px;\n          }\n          \n          .book-section {\n            flex-direction: column;\n            text-align: center;\n          }\n          \n          .timeline-section {\n            align-items: center;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};","import React, { useState, useMemo } from 'react';\nimport { \n  Clock, \n  User, \n  Calendar, \n  CheckCircle,\n  AlertTriangle,\n  Search,\n  X,\n  RotateCcw\n} from 'lucide-react';\n\n// Types\ninterface Document {\n  id?: number;\n  titre: string;\n  auteur: string;\n  editeur: string;\n  annee: string;\n  nomEmprunteur?: string;\n  dateEmprunt?: string;\n  dateRetourPrevu?: string;\n}\n\ninterface BorrowedDocumentsProps {\n  documents: Document[];\n  onReturn: (documentId: number) => void;\n}\n\ntype SortBy = 'borrower' | 'date' | 'title' | 'status';\ntype FilterStatus = 'all' | 'normal' | 'warning' | 'overdue';\n\ninterface StatusInfo {\n  status: string;\n  label: string;\n  className: string;\n  icon: React.ComponentType<any>;\n}\n\n// Utility functions\nconst getStatusInfo = (document: Document): StatusInfo => {\n  const expectedDate = new Date(document.dateRetourPrevu!);\n  const today = new Date();\n  const diffDays = Math.floor((expectedDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24));\n  \n  if (diffDays < 0) {\n    return {\n      status: 'overdue',\n      label: `En retard de ${Math.abs(diffDays)} jour(s)`,\n      className: 'status-overdue',\n      icon: AlertTriangle\n    };\n  } else if (diffDays <= 3) {\n    return {\n      status: 'warning', \n      label: diffDays === 0 ? 'À rendre aujourd\\'hui' : `${diffDays} jour(s) restant(s)`,\n      className: 'status-warning',\n      icon: Clock\n    };\n  } else {\n    return {\n      status: 'normal',\n      label: `${diffDays} jour(s) restant(s)`,\n      className: 'status-normal', \n      icon: CheckCircle\n    };\n  }\n};\n\nconst getStatusPriority = (doc: Document): number => {\n  const expectedDate = new Date(doc.dateRetourPrevu!);\n  const today = new Date();\n  const diffDays = Math.floor((expectedDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24));\n  if (diffDays < 0) return 3; // overdue\n  if (diffDays <= 3) return 2; // warning\n  return 1; // normal\n};\n\n// Sub-components\nconst SearchBar: React.FC<{\n  searchQuery: string;\n  onSearchChange: (query: string) => void;\n}> = ({ searchQuery, onSearchChange }) => (\n  <div className=\"search-container\">\n    <div className=\"search-input-wrapper\">\n      <Search className=\"search-icon\" size={20} />\n      <input\n        type=\"text\"\n        placeholder=\"Rechercher par document, auteur, emprunteur...\"\n        value={searchQuery}\n        onChange={(e) => onSearchChange(e.target.value)}\n        className=\"search-input\"\n      />\n      {searchQuery && (\n        <button \n          className=\"clear-search\"\n          onClick={() => onSearchChange('')}\n        >\n          <X size={18} />\n        </button>\n      )}\n    </div>\n  </div>\n);\n\nconst FilterControls: React.FC<{\n  sortBy: SortBy;\n  filterStatus: FilterStatus;\n  onSortChange: (sort: SortBy) => void;\n  onFilterChange: (filter: FilterStatus) => void;\n}> = ({ sortBy, filterStatus, onSortChange, onFilterChange }) => (\n  <div className=\"filter-controls\">\n    <select \n      value={sortBy} \n      onChange={(e) => onSortChange(e.target.value as SortBy)}\n      className=\"filter-select\"\n    >\n      <option value=\"date\">Trier par date d'emprunt</option>\n      <option value=\"title\">Trier par titre</option>\n      <option value=\"borrower\">Trier par emprunteur</option>\n      <option value=\"status\">Trier par statut</option>\n    </select>\n\n    <select \n      value={filterStatus} \n      onChange={(e) => onFilterChange(e.target.value as FilterStatus)}\n      className=\"filter-select\"\n    >\n      <option value=\"all\">Tous les statuts</option>\n      <option value=\"overdue\">En retard</option>\n      <option value=\"warning\">À rendre bientôt</option>\n      <option value=\"normal\">Dans les temps</option>\n    </select>\n  </div>\n);\n\nconst DocumentCard: React.FC<{\n  document: Document;\n  onReturn: (doc: Document) => void;\n}> = ({ document, onReturn }) => {\n  const statusInfo = getStatusInfo(document);\n  const StatusIcon = statusInfo.icon;\n  \n  return (\n    <div className={`document-card ${statusInfo.className}`}>\n      <div className=\"document-header\">\n        <div className=\"document-info\">\n          <h3 className=\"document-title\">{document.titre}</h3>\n          <p className=\"document-author\">{document.auteur}</p>\n          <p className=\"document-details\">\n            {document.editeur} • {document.annee}\n          </p>\n        </div>\n        <div className=\"document-status\">\n          <StatusIcon size={20} />\n        </div>\n      </div>\n\n      <div className=\"borrower-info\">\n        <div className=\"borrower-details\">\n          <div className=\"borrower-name\">\n            <User size={16} />\n            <span>{document.nomEmprunteur}</span>\n          </div>\n          <div className=\"borrow-dates\">\n            <div className=\"date-info\">\n              <Calendar size={14} />\n              <span>Emprunté le {new Date(document.dateEmprunt!).toLocaleDateString('fr-FR')}</span>\n            </div>\n            <div className=\"date-info\">\n              <Clock size={14} />\n              <span>À rendre le {new Date(document.dateRetourPrevu!).toLocaleDateString('fr-FR')}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"document-status-bar\">\n        <div className={`status-badge ${statusInfo.className}`}>\n          <StatusIcon size={16} />\n          <span>{statusInfo.label}</span>\n        </div>\n      </div>\n\n      <div className=\"document-actions\">\n        <button\n          onClick={() => onReturn(document)}\n          className=\"return-button\"\n          title=\"Marquer comme rendu\"\n        >\n          <RotateCcw size={16} />\n          Retour\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst EmptyState: React.FC<{\n  hasDocuments: boolean;\n  searchQuery: string;\n  filterStatus: FilterStatus;\n  onClearFilters: () => void;\n}> = ({ hasDocuments, searchQuery, filterStatus, onClearFilters }) => (\n  <div className=\"empty-state\">\n    <div className=\"empty-icon\">\n      {searchQuery ? (\n        <Search size={80} />\n      ) : (\n        <Clock size={80} />\n      )}\n    </div>\n    <h3 className=\"empty-title\">\n      {!hasDocuments ? 'Aucun document emprunté' : 'Aucun résultat'}\n    </h3>\n    <p className=\"empty-description\">\n      {!hasDocuments \n        ? 'Tous les documents sont actuellement disponibles dans la bibliothèque.'\n        : searchQuery \n        ? `Aucun résultat pour \"${searchQuery}\"`\n        : 'Aucun document ne correspond aux filtres sélectionnés.'\n      }\n    </p>\n    {(searchQuery || filterStatus !== 'all') && (\n      <button \n        className=\"clear-filters\"\n        onClick={onClearFilters}\n      >\n        Effacer les filtres\n      </button>\n    )}\n  </div>\n);\n\n// Main Component\nexport const BorrowedDocuments: React.FC<BorrowedDocumentsProps> = ({ documents, onReturn }) => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [sortBy, setSortBy] = useState<SortBy>('date');\n  const [filterStatus, setFilterStatus] = useState<FilterStatus>('all');\n\n  const handleReturn = (document: Document) => {\n    if (window.confirm(`Confirmer le retour de \"${document.titre}\" emprunté par ${document.nomEmprunteur} ?`)) {\n      onReturn(document.id!);\n    }\n  };\n\n  const handleClearFilters = () => {\n    setSearchQuery('');\n    setFilterStatus('all');\n  };\n\n  // Processed documents with memoization for performance\n  const processedDocuments = useMemo(() => {\n    return documents\n      .filter(doc => {\n        if (!searchQuery) return true;\n        const query = searchQuery.toLowerCase();\n        return (\n          doc.titre.toLowerCase().includes(query) ||\n          doc.auteur.toLowerCase().includes(query) ||\n          doc.nomEmprunteur?.toLowerCase().includes(query)\n        );\n      })\n      .filter(doc => {\n        if (filterStatus === 'all') return true;\n        \n        const expectedDate = new Date(doc.dateRetourPrevu!);\n        const today = new Date();\n        const diffDays = Math.floor((expectedDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24));\n        \n        switch (filterStatus) {\n          case 'overdue': return diffDays < 0;\n          case 'warning': return diffDays >= 0 && diffDays <= 3;\n          case 'normal': return diffDays > 3;\n          default: return true;\n        }\n      })\n      .sort((a, b) => {\n        switch (sortBy) {\n          case 'title': return a.titre.localeCompare(b.titre);\n          case 'borrower': return (a.nomEmprunteur || '').localeCompare(b.nomEmprunteur || '');\n          case 'date': return new Date(a.dateEmprunt!).getTime() - new Date(b.dateEmprunt!).getTime();\n          case 'status': return getStatusPriority(b) - getStatusPriority(a);\n          default: return 0;\n        }\n      });\n  }, [documents, searchQuery, filterStatus, sortBy]);\n\n  return (\n    <div className=\"borrowed-documents-container\">\n      <div className=\"page-content\">\n        {/* Header Section */}\n        <div className=\"page-header\">\n          <div className=\"header-main\">\n            <div className=\"header-icon\">\n              <Clock size={36} />\n            </div>\n            <div className=\"header-text\">\n              <h1 className=\"page-title\">Documents empruntés</h1>\n              <p className=\"page-subtitle\">\n                {documents.length} document(s) actuellement en circulation\n              </p>\n            </div>\n          </div>\n          \n          {/* Controls Section */}\n          <div className=\"enhanced-controls\">\n            <div className=\"controls-row\">\n              <SearchBar \n                searchQuery={searchQuery}\n                onSearchChange={setSearchQuery}\n              />\n              <FilterControls\n                sortBy={sortBy}\n                filterStatus={filterStatus}\n                onSortChange={setSortBy}\n                onFilterChange={setFilterStatus}\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Results Summary */}\n        {searchQuery && (\n          <div className=\"results-summary\">\n            <span className=\"results-count\">\n              {processedDocuments.length} résultat(s) pour \"{searchQuery}\"\n            </span>\n          </div>\n        )}\n\n        {/* Content Section */}\n        {processedDocuments.length > 0 ? (\n          <div className=\"documents-grid\">\n            {processedDocuments.map(document => (\n              <DocumentCard\n                key={document.id}\n                document={document}\n                onReturn={handleReturn}\n              />\n            ))}\n          </div>\n        ) : (\n          <EmptyState\n            hasDocuments={documents.length > 0}\n            searchQuery={searchQuery}\n            filterStatus={filterStatus}\n            onClearFilters={handleClearFilters}\n          />\n        )}\n      </div>\n\n      <style>{`\n        .borrowed-documents-container {\n          height: 100%;\n          overflow-y: auto;\n          background: #FAF9F6;\n        }\n\n        .page-content {\n          padding: 32px;\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n\n        /* Header Styles */\n        .page-header {\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 32px;\n          margin-bottom: 24px;\n          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n\n        .header-main {\n          display: flex;\n          align-items: center;\n          gap: 24px;\n          margin-bottom: 32px;\n        }\n\n        .header-icon {\n          width: 72px;\n          height: 72px;\n          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);\n        }\n\n        .page-title {\n          font-size: 28px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 8px 0;\n          letter-spacing: -0.5px;\n        }\n\n        .page-subtitle {\n          font-size: 16px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n\n        /* Controls Styles */\n        .enhanced-controls {\n          border-top: 1px solid rgba(243, 238, 217, 0.3);\n          padding-top: 24px;\n        }\n\n        .controls-row {\n          display: flex;\n          gap: 24px;\n          align-items: center;\n          justify-content: space-between;\n          flex-wrap: wrap;\n        }\n\n        .search-container {\n          flex: 1;\n          min-width: 300px;\n        }\n\n        .search-input-wrapper {\n          position: relative;\n          display: flex;\n          align-items: center;\n        }\n\n        .search-icon {\n          position: absolute;\n          left: 16px;\n          color: #6E6E6E;\n          z-index: 2;\n        }\n\n        .search-input {\n          width: 100%;\n          padding: 16px 16px 16px 48px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          font-size: 14px;\n          background: #FFFFFF;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          color: #2E2E2E;\n        }\n\n        .search-input:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n\n        .clear-search {\n          position: absolute;\n          right: 12px;\n          padding: 4px;\n          border: none;\n          background: transparent;\n          color: #6E6E6E;\n          cursor: pointer;\n          border-radius: 4px;\n          transition: all 0.2s ease;\n        }\n\n        .clear-search:hover {\n          background: #f5f5f5;\n          color: #2E2E2E;\n        }\n\n        .filter-controls {\n          display: flex;\n          gap: 12px;\n        }\n\n        .filter-select {\n          padding: 12px 16px;\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          background: #FFFFFF;\n          font-size: 14px;\n          color: #2E2E2E;\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          min-width: 180px;\n        }\n\n        .filter-select:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n\n        /* Results Summary */\n        .results-summary {\n          background: #FFFFFF;\n          border-radius: 12px;\n          padding: 16px 24px;\n          margin-bottom: 16px;\n          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.04);\n          border: 1px solid rgba(243, 238, 217, 0.2);\n        }\n\n        .results-count {\n          font-size: 14px;\n          color: #6E6E6E;\n          font-weight: 500;\n        }\n\n        /* Documents Grid */\n        .documents-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));\n          gap: 20px;\n        }\n\n        /* Document Card Styles */\n        .document-card {\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 24px;\n          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          border-left: 4px solid #E5DCC2;\n          border: 1px solid rgba(229, 220, 194, 0.2);\n        }\n\n        .document-card:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 12px 40px rgba(0, 0, 0, 0.08);\n        }\n\n        .document-card.status-overdue {\n          border-left-color: #DC2626;\n          background: linear-gradient(135deg, #FEF2F2 0%, #FFFFFF 100%);\n        }\n\n        .document-card.status-warning {\n          border-left-color: #F59E0B;\n          background: linear-gradient(135deg, #FFFBEB 0%, #FFFFFF 100%);\n        }\n\n        .document-card.status-normal {\n          border-left-color: #10B981;\n          background: linear-gradient(135deg, #F0FDF4 0%, #FFFFFF 100%);\n        }\n\n        .document-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          margin-bottom: 20px;\n        }\n\n        .document-title {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 8px 0;\n          line-height: 1.3;\n        }\n\n        .document-author {\n          font-size: 14px;\n          color: #3E5C49;\n          font-weight: 600;\n          margin: 0 0 4px 0;\n        }\n\n        .document-details {\n          font-size: 12px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n\n        .document-status {\n          padding: 8px;\n          border-radius: 8px;\n          background: rgba(243, 238, 217, 0.5);\n        }\n\n        .borrower-info {\n          padding: 16px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 12px;\n          margin-bottom: 16px;\n          border: 1px solid rgba(243, 238, 217, 0.3);\n        }\n\n        .borrower-name {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin-bottom: 12px;\n        }\n\n        .borrow-dates {\n          display: flex;\n          flex-direction: column;\n          gap: 6px;\n        }\n\n        .date-info {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 13px;\n          color: #6E6E6E;\n        }\n\n        .document-status-bar {\n          margin-bottom: 16px;\n        }\n\n        .status-badge {\n          display: inline-flex;\n          align-items: center;\n          gap: 6px;\n          padding: 6px 12px;\n          border-radius: 20px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n\n        .status-badge.status-overdue {\n          background: #FEE2E2;\n          color: #DC2626;\n        }\n\n        .status-badge.status-warning {\n          background: #FEF3C7;\n          color: #F59E0B;\n        }\n\n        .status-badge.status-normal {\n          background: #D1FAE5;\n          color: #10B981;\n        }\n\n        .document-actions {\n          display: flex;\n          justify-content: flex-end;\n        }\n\n        .return-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 20px;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n          border: none;\n          border-radius: 8px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n        }\n\n        .return-button:hover {\n          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);\n          transform: translateY(-1px);\n          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.3);\n        }\n\n        /* Empty State */\n        .empty-state {\n          text-align: center;\n          padding: 80px 40px;\n          background: #FFFFFF;\n          border-radius: 16px;\n          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);\n          border: 1px solid rgba(229, 220, 194, 0.2);\n        }\n\n        .empty-icon {\n          margin-bottom: 24px;\n          color: #E5DCC2;\n        }\n\n        .empty-title {\n          font-size: 24px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n        }\n\n        .empty-description {\n          font-size: 16px;\n          color: #6E6E6E;\n          margin: 0 0 32px 0;\n          line-height: 1.5;\n        }\n\n        .clear-filters {\n          padding: 12px 24px;\n          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);\n          color: #F3EED9;\n          border: none;\n          border-radius: 8px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n        }\n\n        .clear-filters:hover {\n          background: linear-gradient(135deg, #A8481A 0%, #8A3C18 100%);\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);\n        }\n\n        /* Responsive Design */\n        @media (max-width: 768px) {\n          .page-content {\n            padding: 16px;\n          }\n\n          .page-header {\n            padding: 20px;\n          }\n\n          .header-main {\n            flex-direction: column;\n            text-align: center;\n            gap: 16px;\n          }\n\n          .controls-row {\n            flex-direction: column;\n            gap: 16px;\n          }\n\n          .search-container {\n            min-width: unset;\n          }\n\n          .filter-controls {\n            width: 100%;\n            justify-content: space-between;\n          }\n\n          .filter-select {\n            flex: 1;\n            min-width: unset;\n          }\n\n          .documents-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .document-card {\n            padding: 20px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};","import React, { useState, useEffect } from 'react';\nimport { \n  Users, \n  GraduationCap, \n  Briefcase,\n  Search, \n  Plus,\n  Edit,\n  Trash2,\n  X,\n  Save,\n  User,\n  Hash,\n  School,\n  Building,\n  Mail,\n  Phone,\n  Eye,\n  Filter\n} from 'lucide-react';\nimport { Borrower } from '../../types';\n\nimport { SupabaseService } from '../../services/SupabaseService';\n\ninterface BorrowersProps {\n  onClose: () => void;\n  onRefreshData?: () => Promise<void>; // Callback pour rafraîchir les données\n  supabaseService: SupabaseService;\n}\n\nexport const Borrowers: React.FC<BorrowersProps> = ({ onClose, onRefreshData }) => {\n  const [borrowers, setBorrowers] = useState<Borrower[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filterType, setFilterType] = useState<'all' | 'student' | 'staff'>('all');\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [editingBorrower, setEditingBorrower] = useState<Borrower | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [borrower, setBorrower] = useState<Omit<Borrower, 'id'>>({\n  type: 'student',\n  firstName: '',\n  lastName: '',\n  matricule: '',\n  classe: '',\n  cniNumber: '',\n  position: '',\n  email: '',\n  phone: '',\n  syncStatus: 'pending',\n  lastModified: new Date().toISOString(),\n  version: 1\n});\n\n  const [formErrors, setFormErrors] = useState<{ [key: string]: string }>({});\n\n  useEffect(() => {\n    loadBorrowers();\n  }, []);\n\n  const loadBorrowers = async () => {\n    try {\n      const data = await window.electronAPI.getBorrowers();\n      setBorrowers(data);\n    } catch (error) {\n      console.error('Erreur lors du chargement des emprunteurs:', error);\n    }\n  };\n\n  const validateForm = () => {\n    const errors: { [key: string]: string } = {};\n\n    if (!borrower.firstName.trim()) {\n      errors.firstName = 'Le prénom est requis';\n    }\n    if (!borrower.lastName.trim()) {\n      errors.lastName = 'Le nom est requis';\n    }\n    if (!borrower.matricule.trim()) {\n      errors.matricule = 'Le matricule est requis';\n    }\n    if (borrower.email && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(borrower.email)) {\n      errors.email = 'Format email invalide';\n    }\n    if (borrower.phone && !/^[\\d\\s\\+\\-\\(\\)]{6,}$/.test(borrower.phone)) {\n      errors.phone = 'Format téléphone invalide';\n    }\n\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleSearch = async (query: string) => {\n    setSearchQuery(query);\n    if (query.trim()) {\n      try {\n        const results = await window.electronAPI.searchBorrowers(query);\n        setBorrowers(results);\n      } catch (error) {\n        console.error('Erreur lors de la recherche:', error);\n      }\n    } else {\n      loadBorrowers();\n    }\n  };\n\n  const resetForm = () => {\n    setBorrower({\n  type: 'student',\n  firstName: '',\n  lastName: '',\n  matricule: '',\n  classe: '',\n  cniNumber: '',\n  position: '',\n  email: '',\n  phone: '',\n  syncStatus: 'pending',\n  lastModified: new Date().toISOString(),\n  version: 1\n});\n    setFormErrors({});\n    setEditingBorrower(null);\n  };\n\n  const handleAddBorrower = () => {\n    resetForm();\n    setShowAddModal(true);\n  };\n\n  const handleEditBorrower = (editBorrower: Borrower) => {\n    setBorrower({\n      type: editBorrower.type,\n      firstName: editBorrower.firstName,\n      lastName: editBorrower.lastName,\n      matricule: editBorrower.matricule,\n      classe: editBorrower.classe || '',\n      cniNumber: editBorrower.cniNumber || '',\n      position: editBorrower.position || '',\n      email: editBorrower.email || '',\n      phone: editBorrower.phone || '',\n      syncStatus: editBorrower.syncStatus,\n      lastModified: new Date().toISOString(),\n      version: (editBorrower.version || 1) + 1\n    });\n    setFormErrors({});\n    setEditingBorrower(editBorrower);\n    setShowAddModal(true);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      if (editingBorrower) {\n        await window.electronAPI.updateBorrower({ ...borrower, id: editingBorrower.id });\n      } else {\n        await window.electronAPI.addBorrower(borrower);\n      }\n      \n      setShowAddModal(false);\n      resetForm();\n      await loadBorrowers();\n      \n      // Rafraîchir les données dans le parent si callback fourni\n      if (onRefreshData) {\n        await onRefreshData();\n      }\n    } catch (error: any) {\n      console.error('Erreur:', error);\n      if (error.message && error.message.includes('matricule')) {\n        setFormErrors({ matricule: 'Un emprunteur avec ce matricule existe déjà' });\n      } else {\n        alert(error.message || 'Erreur lors de l\\'opération');\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDelete = async (borrower: Borrower) => {\n    if (window.confirm(`Êtes-vous sûr de vouloir supprimer ${borrower.firstName} ${borrower.lastName} ?`)) {\n      try {\n        await window.electronAPI.deleteBorrower(borrower.id!);\n        await loadBorrowers();\n        \n        // Rafraîchir les données dans le parent si callback fourni\n        if (onRefreshData) {\n          await onRefreshData();\n        }\n      } catch (error: any) {\n        alert(error.message || 'Erreur lors de la suppression');\n      }\n    }\n  };\n\n  const filteredBorrowers = borrowers.filter(borrower => {\n    if (filterType !== 'all' && borrower.type !== filterType) return false;\n    return true;\n  });\n\n  const studentCount = borrowers.filter(b => b.type === 'student').length;\n  const staffCount = borrowers.filter(b => b.type === 'staff').length;\n\n  return (\n    <div className=\"borrowers-overlay\">\n      <div className=\"borrowers-modal\">\n        {/* Header */}\n        <div className=\"modal-header\">\n          <div className=\"header-content\">\n            <div className=\"header-icon\">\n              <Users size={28} />\n            </div>\n            <div className=\"header-text\">\n              <h2 className=\"modal-title\">Gestion des Emprunteurs</h2>\n              <p className=\"modal-subtitle\">\n                {borrowers.length} emprunteur(s) • {studentCount} étudiant(s) • {staffCount} personnel(s)\n              </p>\n            </div>\n          </div>\n          <button className=\"close-button\" onClick={onClose}>\n            <X size={20} />\n          </button>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"stats-section\">\n          <div className=\"stat-card\">\n            <div className=\"stat-icon student\">\n              <GraduationCap size={20} />\n            </div>\n            <div className=\"stat-content\">\n              <span className=\"stat-value\">{studentCount}</span>\n              <span className=\"stat-label\">Étudiants</span>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <div className=\"stat-icon staff\">\n              <Briefcase size={20} />\n            </div>\n            <div className=\"stat-content\">\n              <span className=\"stat-value\">{staffCount}</span>\n              <span className=\"stat-label\">Personnel</span>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <div className=\"stat-icon total\">\n              <Users size={20} />\n            </div>\n            <div className=\"stat-content\">\n              <span className=\"stat-value\">{borrowers.length}</span>\n              <span className=\"stat-label\">Total</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Controls */}\n        <div className=\"controls-section\">\n          <div className=\"search-container\">\n            <div className=\"search-input-wrapper\">\n              <Search className=\"search-icon\" size={20} />\n              <input\n                type=\"text\"\n                placeholder=\"Rechercher par nom, prénom, matricule...\"\n                value={searchQuery}\n                onChange={(e) => handleSearch(e.target.value)}\n                className=\"search-input\"\n              />\n              {searchQuery && (\n                <button \n                  className=\"clear-search\"\n                  onClick={() => handleSearch('')}\n                >\n                  <X size={16} />\n                </button>\n              )}\n            </div>\n          </div>\n          \n          <div className=\"controls-right\">\n            <div className=\"filter-group\">\n              <Filter size={16} />\n              <select \n                value={filterType} \n                onChange={(e) => setFilterType(e.target.value as any)}\n                className=\"filter-select\"\n              >\n                <option value=\"all\">Tous</option>\n                <option value=\"student\">Étudiants</option>\n                <option value=\"staff\">Personnel</option>\n              </select>\n            </div>\n            \n            <button className=\"btn-primary\" onClick={handleAddBorrower}>\n              <Plus size={18} />\n              Ajouter\n            </button>\n          </div>\n        </div>\n\n        {/* Borrowers List */}\n        <div className=\"borrowers-content\">\n          {filteredBorrowers.length > 0 ? (\n            <div className=\"borrowers-grid\">\n              {filteredBorrowers.map((borrower) => (\n                <div key={borrower.id} className={`borrower-card ${borrower.type}`}>\n                  <div className=\"card-header\">\n                    <div className=\"borrower-type\">\n                      {borrower.type === 'student' ? (\n                        <GraduationCap size={20} />\n                      ) : (\n                        <Briefcase size={20} />\n                      )}\n                      <span>{borrower.type === 'student' ? 'Étudiant' : 'Personnel'}</span>\n                    </div>\n                    \n                    <div className=\"card-actions\">\n                      <button \n                        className=\"action-btn view\"\n                        onClick={() => {}}\n                        title=\"Voir détails\"\n                      >\n                        <Eye size={16} />\n                      </button>\n                      <button \n                        className=\"action-btn edit\"\n                        onClick={() => handleEditBorrower(borrower)}\n                        title=\"Modifier\"\n                      >\n                        <Edit size={16} />\n                      </button>\n                      <button \n                        className=\"action-btn delete\"\n                        onClick={() => handleDelete(borrower)}\n                        title=\"Supprimer\"\n                      >\n                        <Trash2 size={16} />\n                      </button>\n                    </div>\n                  </div>\n                  \n                  <div className=\"card-content\">\n                    <h3 className=\"borrower-name\">\n                      {borrower.firstName} {borrower.lastName}\n                    </h3>\n                    \n                    <div className=\"borrower-details\">\n                      <div className=\"detail-item\">\n                        <Hash size={14} />\n                        <span>{borrower.matricule}</span>\n                      </div>\n                      \n                      {borrower.type === 'student' && borrower.classe && (\n                        <div className=\"detail-item\">\n                          <School size={14} />\n                          <span>{borrower.classe}</span>\n                        </div>\n                      )}\n                      \n                      {borrower.type === 'staff' && borrower.position && (\n                        <div className=\"detail-item\">\n                          <Building size={14} />\n                          <span>{borrower.position}</span>\n                        </div>\n                      )}\n                      \n                      {borrower.email && (\n                        <div className=\"detail-item\">\n                          <Mail size={14} />\n                          <span>{borrower.email}</span>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"empty-state\">\n              <Users size={64} />\n              <h3>Aucun emprunteur trouvé</h3>\n              <p>\n                {searchQuery || filterType !== 'all'\n                  ? 'Aucun résultat pour les critères sélectionnés'\n                  : 'Commencez par ajouter des emprunteurs'\n                }\n              </p>\n            </div>\n          )}\n        </div>\n\n        {/* Add/Edit Modal */}\n        {showAddModal && (\n          <div className=\"add-modal-overlay\" onClick={() => setShowAddModal(false)}>\n            <div className=\"add-modal\" onClick={(e) => e.stopPropagation()}>\n              <div className=\"add-modal-header\">\n                <h3>{editingBorrower ? 'Modifier' : 'Ajouter'} un emprunteur</h3>\n                <button\n                  className=\"modal-close\"\n                  onClick={() => setShowAddModal(false)}\n                >\n                  <X size={20} />\n                </button>\n              </div>\n              \n              <form onSubmit={handleSubmit} className=\"add-form\">\n                <div className=\"form-section\">\n                  <label className=\"form-label\">Type d'emprunteur *</label>\n                  <div className=\"type-selector\">\n                    <button\n                      type=\"button\"\n                      className={`type-button ${borrower.type === 'student' ? 'active' : ''}`}\n                      onClick={() => setBorrower(prev => ({ ...prev, type: 'student' }))}\n                    >\n                      <GraduationCap size={20} />\n                      Étudiant\n                    </button>\n                    <button\n                      type=\"button\"\n                      className={`type-button ${borrower.type === 'staff' ? 'active' : ''}`}\n                      onClick={() => setBorrower(prev => ({ ...prev, type: 'staff' }))}\n                    >\n                      <Briefcase size={20} />\n                      Personnel\n                    </button>\n                  </div>\n                </div>\n\n                <div className=\"form-grid\">\n                  <div className=\"form-group\">\n                    <label className=\"form-label\">Prénom *</label>\n                    <input\n                      type=\"text\"\n                      value={borrower.firstName}\n                      onChange={(e) => {\n                        setBorrower(prev => ({ ...prev, firstName: e.target.value }));\n                        if (formErrors.firstName) {\n                          setFormErrors(prev => ({ ...prev, firstName: '' }));\n                        }\n                      }}\n                      className={`form-input ${formErrors.firstName ? 'error' : ''}`}\n                      required\n                    />\n                    {formErrors.firstName && <span className=\"error-text\">{formErrors.firstName}</span>}\n                  </div>\n                  \n                  <div className=\"form-group\">\n                    <label className=\"form-label\">Nom *</label>\n                    <input\n                      type=\"text\"\n                      value={borrower.lastName}\n                      onChange={(e) => {\n                        setBorrower(prev => ({ ...prev, lastName: e.target.value }));\n                        if (formErrors.lastName) {\n                          setFormErrors(prev => ({ ...prev, lastName: '' }));\n                        }\n                      }}\n                      className={`form-input ${formErrors.lastName ? 'error' : ''}`}\n                      required\n                    />\n                    {formErrors.lastName && <span className=\"error-text\">{formErrors.lastName}</span>}\n                  </div>\n                  \n                  <div className=\"form-group\">\n                    <label className=\"form-label\">Matricule *</label>\n                    <input\n                      type=\"text\"\n                      value={borrower.matricule}\n                      onChange={(e) => {\n                        setBorrower(prev => ({ ...prev, matricule: e.target.value }));\n                        if (formErrors.matricule) {\n                          setFormErrors(prev => ({ ...prev, matricule: '' }));\n                        }\n                      }}\n                      className={`form-input ${formErrors.matricule ? 'error' : ''}`}\n                      required\n                    />\n                    {formErrors.matricule && <span className=\"error-text\">{formErrors.matricule}</span>}\n                  </div>\n                  \n                  {borrower.type === 'student' ? (\n                    <div className=\"form-group\">\n                      <label className=\"form-label\">Classe</label>\n                      <input\n                        type=\"text\"\n                        value={borrower.classe}\n                        onChange={(e) => setBorrower(prev => ({ ...prev, classe: e.target.value }))}\n                        className=\"form-input\"\n                        placeholder=\"ex: Terminale C\"\n                      />\n                    </div>\n                  ) : (\n                    <>\n                      <div className=\"form-group\">\n                        <label className=\"form-label\">N° CNI</label>\n                        <input\n                          type=\"text\"\n                          value={borrower.cniNumber}\n                          onChange={(e) => setBorrower(prev => ({ ...prev, cniNumber: e.target.value }))}\n                          className=\"form-input\"\n                        />\n                      </div>\n                      <div className=\"form-group span-full\">\n                        <label className=\"form-label\">Poste</label>\n                        <input\n                          type=\"text\"\n                          value={borrower.position}\n                          onChange={(e) => setBorrower(prev => ({ ...prev, position: e.target.value }))}\n                          className=\"form-input\"\n                          placeholder=\"ex: Professeur de Mathématiques\"\n                        />\n                      </div>\n                    </>\n                  )}\n                  \n                  <div className=\"form-group\">\n                    <label className=\"form-label\">Email</label>\n                    <input\n                      type=\"email\"\n                      value={borrower.email}\n                      onChange={(e) => {\n                        setBorrower(prev => ({ ...prev, email: e.target.value }));\n                        if (formErrors.email) {\n                          setFormErrors(prev => ({ ...prev, email: '' }));\n                        }\n                      }}\n                      className={`form-input ${formErrors.email ? 'error' : ''}`}\n                    />\n                    {formErrors.email && <span className=\"error-text\">{formErrors.email}</span>}\n                  </div>\n                  \n                  <div className=\"form-group\">\n                    <label className=\"form-label\">Téléphone</label>\n                    <input\n                      type=\"tel\"\n                      value={borrower.phone}\n                      onChange={(e) => {\n                        setBorrower(prev => ({ ...prev, phone: e.target.value }));\n                        if (formErrors.phone) {\n                          setFormErrors(prev => ({ ...prev, phone: '' }));\n                        }\n                      }}\n                      className={`form-input ${formErrors.phone ? 'error' : ''}`}\n                    />\n                    {formErrors.phone && <span className=\"error-text\">{formErrors.phone}</span>}\n                  </div>\n                </div>\n                \n                <div className=\"form-actions\">\n                  <button\n                    type=\"button\"\n                    className=\"btn-secondary\"\n                    onClick={() => setShowAddModal(false)}\n                    disabled={isLoading}\n                  >\n                    Annuler\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"btn-primary\"\n                    disabled={isLoading}\n                  >\n                    <Save size={16} />\n                    {isLoading ? 'Enregistrement...' : editingBorrower ? 'Modifier' : 'Ajouter'}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <style>{`\n        .borrowers-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.7);\n          backdrop-filter: blur(8px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 20px;\n        }\n        \n        .borrowers-modal {\n          background: #FFFFFF;\n          border-radius: 24px;\n          width: 100%;\n          max-width: 1200px;\n          max-height: 90vh;\n          overflow: hidden;\n          display: flex;\n          flex-direction: column;\n          box-shadow: \n            0 24px 48px rgba(62, 92, 73, 0.2),\n            0 8px 24px rgba(62, 92, 73, 0.12);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n        \n        .modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 32px;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n        }\n        \n        .header-content {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n        }\n        \n        .header-icon {\n          width: 56px;\n          height: 56px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .modal-title {\n          font-size: 24px;\n          font-weight: 800;\n          margin: 0 0 4px 0;\n        }\n        \n        .modal-subtitle {\n          font-size: 14px;\n          opacity: 0.9;\n          margin: 0;\n        }\n        \n        .close-button {\n          background: rgba(243, 238, 217, 0.15);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n        \n        .close-button:hover {\n          background: rgba(243, 238, 217, 0.25);\n        }\n        \n        .stats-section {\n          display: flex;\n          gap: 20px;\n          padding: 24px 32px;\n          background: #F3EED9;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .stat-card {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          background: #FFFFFF;\n          padding: 16px 20px;\n          border-radius: 12px;\n          box-shadow: 0 2px 8px rgba(62, 92, 73, 0.08);\n          flex: 1;\n        }\n        \n        .stat-icon {\n          width: 40px;\n          height: 40px;\n          border-radius: 10px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #FFFFFF;\n        }\n        \n        .stat-icon.student {\n          background: #3E5C49;\n        }\n        \n        .stat-icon.staff {\n          background: #C2571B;\n        }\n        \n        .stat-icon.total {\n          background: #6E6E6E;\n        }\n        \n        .stat-value {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          display: block;\n        }\n        \n        .stat-label {\n          font-size: 12px;\n          color: #6E6E6E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .controls-section {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 24px 32px;\n          border-bottom: 1px solid #E5DCC2;\n          background: #FFFFFF;\n        }\n        \n        .search-container {\n          flex: 1;\n          max-width: 400px;\n        }\n        \n        .search-input-wrapper {\n          position: relative;\n          display: flex;\n          align-items: center;\n        }\n        \n        .search-icon {\n          position: absolute;\n          left: 16px;\n          color: #6E6E6E;\n          z-index: 2;\n        }\n        \n        .search-input {\n          width: 100%;\n          height: 48px;\n          padding: 0 48px 0 48px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          font-size: 16px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n        }\n        \n        .search-input:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n        \n        .clear-search {\n          position: absolute;\n          right: 16px;\n          background: none;\n          border: none;\n          cursor: pointer;\n          color: #6E6E6E;\n          padding: 4px;\n          border-radius: 4px;\n          transition: all 0.2s ease;\n        }\n        \n        .clear-search:hover {\n          color: #2E2E2E;\n          background: #F3EED9;\n        }\n        \n        .controls-right {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n        }\n        \n        .filter-group {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          color: #6E6E6E;\n        }\n        \n        .filter-select {\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          padding: 8px 12px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          font-size: 14px;\n          cursor: pointer;\n        }\n        \n        .filter-select:focus {\n          outline: none;\n          border-color: #3E5C49;\n        }\n        \n        .btn-primary {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 20px;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n          border: none;\n          border-radius: 12px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n        \n        .btn-primary:hover {\n          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);\n          transform: translateY(-1px);\n        }\n        \n        .borrowers-content {\n          flex: 1;\n          overflow-y: auto;\n          padding: 32px;\n        }\n        \n        .borrowers-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n          gap: 20px;\n        }\n        \n        .borrower-card {\n          background: #FFFFFF;\n          border-radius: 16px;\n          border: 1px solid #E5DCC2;\n          overflow: hidden;\n          transition: all 0.3s ease;\n          position: relative;\n        }\n        \n        .borrower-card::before {\n          content: '';\n          position: absolute;\n          left: 0;\n          top: 0;\n          bottom: 0;\n          width: 4px;\n          background: #3E5C49;\n        }\n        \n        .borrower-card.staff::before {\n          background: #C2571B;\n        }\n        \n        .borrower-card:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 12px 32px rgba(62, 92, 73, 0.15);\n        }\n        \n        .card-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 16px 20px;\n          background: #F3EED9;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .borrower-type {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 12px;\n          font-weight: 600;\n          color: #6E6E6E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .card-actions {\n          display: flex;\n          gap: 4px;\n        }\n        \n        .action-btn {\n          width: 32px;\n          height: 32px;\n          border: none;\n          border-radius: 8px;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s ease;\n        }\n        \n        .action-btn.view {\n          background: #F3EED9;\n          color: #6E6E6E;\n        }\n        \n        .action-btn.view:hover {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .action-btn.edit {\n          background: rgba(62, 92, 73, 0.1);\n          color: #3E5C49;\n        }\n        \n        .action-btn.edit:hover {\n          background: #3E5C49;\n          color: #F3EED9;\n        }\n        \n        .action-btn.delete {\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n        }\n        \n        .action-btn.delete:hover {\n          background: #C2571B;\n          color: #F3EED9;\n        }\n        \n        .card-content {\n          padding: 20px;\n        }\n        \n        .borrower-name {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n        }\n        \n        .borrower-details {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        \n        .detail-item {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 14px;\n          color: #6E6E6E;\n        }\n        \n        .empty-state {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          padding: 80px 32px;\n          text-align: center;\n          color: #6E6E6E;\n        }\n        \n        .empty-state h3 {\n          font-size: 20px;\n          font-weight: 700;\n          margin: 16px 0 8px 0;\n          color: #2E2E2E;\n        }\n        \n        .empty-state p {\n          margin: 0;\n          font-size: 14px;\n        }\n        \n        /* Add Modal */\n        .add-modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.8);\n          backdrop-filter: blur(4px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1100;\n          padding: 20px;\n        }\n        \n        .add-modal {\n          background: #FFFFFF;\n          border-radius: 20px;\n          width: 100%;\n          max-width: 600px;\n          max-height: 90vh;\n          overflow-y: auto;\n          box-shadow: 0 20px 40px rgba(62, 92, 73, 0.2);\n        }\n        \n        .add-modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 24px 32px;\n          border-bottom: 1px solid #E5DCC2;\n          background: #F3EED9;\n        }\n        \n        .add-modal-header h3 {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0;\n        }\n        \n        .modal-close {\n          background: rgba(110, 110, 110, 0.1);\n          border: none;\n          cursor: pointer;\n          padding: 8px;\n          border-radius: 8px;\n          color: #6E6E6E;\n          transition: all 0.2s ease;\n        }\n        \n        .modal-close:hover {\n          background: rgba(110, 110, 110, 0.2);\n          color: #2E2E2E;\n        }\n        \n        .add-form {\n          padding: 32px;\n        }\n        \n        .form-section {\n          margin-bottom: 24px;\n        }\n        \n        .form-label {\n          display: block;\n          font-size: 14px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin-bottom: 8px;\n        }\n        \n        .type-selector {\n          display: flex;\n          gap: 12px;\n        }\n        \n        .type-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 16px 20px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          background: #FFFFFF;\n          color: #6E6E6E;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-size: 14px;\n          font-weight: 500;\n          flex: 1;\n          justify-content: center;\n        }\n        \n        .type-button:hover {\n          border-color: #3E5C49;\n          color: #3E5C49;\n        }\n        \n        .type-button.active {\n          border-color: #3E5C49;\n          background: #3E5C49;\n          color: #F3EED9;\n        }\n        \n        .form-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 20px;\n          margin-bottom: 24px;\n        }\n        \n        .form-group {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        \n        .form-group.span-full {\n          grid-column: 1 / -1;\n        }\n        \n        .form-input {\n          width: 100%;\n          padding: 12px 16px;\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          font-size: 14px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n        }\n        \n        .form-input:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n        \n        .form-input.error {\n          border-color: #C2571B;\n          background: rgba(194, 87, 27, 0.05);\n        }\n        \n        .error-text {\n          font-size: 12px;\n          color: #C2571B;\n          font-weight: 500;\n        }\n        \n        .form-actions {\n          display: flex;\n          gap: 12px;\n          justify-content: flex-end;\n          padding-top: 24px;\n          border-top: 1px solid #E5DCC2;\n        }\n        \n        .btn-secondary {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 20px;\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          font-size: 14px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .btn-secondary:hover:not(:disabled) {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .btn-primary:disabled,\n        .btn-secondary:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n        \n        /* Responsive */\n        @media (max-width: 768px) {\n          .borrowers-modal {\n            margin: 12px;\n            border-radius: 20px;\n          }\n          \n          .modal-header {\n            padding: 20px;\n            flex-direction: column;\n            gap: 16px;\n            text-align: center;\n          }\n          \n          .stats-section {\n            padding: 16px 20px;\n            flex-direction: column;\n            gap: 12px;\n          }\n          \n          .controls-section {\n            padding: 16px 20px;\n            flex-direction: column;\n            gap: 16px;\n            align-items: stretch;\n          }\n          \n          .controls-right {\n            justify-content: space-between;\n          }\n          \n          .borrowers-content {\n            padding: 16px 20px;\n          }\n          \n          .borrowers-grid {\n            grid-template-columns: 1fr;\n            gap: 16px;\n          }\n          \n          .form-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .type-selector {\n            flex-direction: column;\n          }\n          \n          .form-actions {\n            flex-direction: column-reverse;\n          }\n          \n          .btn-primary,\n          .btn-secondary {\n            width: 100%;\n            justify-content: center;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .add-modal {\n            margin: 8px;\n            border-radius: 16px;\n          }\n          \n          .add-modal-header,\n          .add-form {\n            padding: 20px 16px;\n          }\n          \n          .borrower-card {\n            border-radius: 12px;\n          }\n          \n          .card-header,\n          .card-content {\n            padding: 16px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};","import React, { useState } from 'react';\nimport { \n  Book, \n  BookOpen, \n  Users, \n  Tag, \n  TrendingUp, \n  Clock,\n  Plus,\n  Search,\n  Printer,\n  ArrowRight,\n  Star,\n  Activity,\n  Calendar,\n  Eye\n} from 'lucide-react';\nimport { Stats } from '../../types';\nimport { PrintManager } from './PrintManager';\n\ninterface DashboardProps {\n  stats: Stats;\n  onNavigate: (view: 'dashboard' | 'documents' | 'borrowed' | 'add-document') => void;\n  documents?: any[];\n  categories?: any[];\n}\n\nexport const Dashboard: React.FC<DashboardProps> = ({ \n  stats, \n  onNavigate, \n  documents = [], \n  categories = [] \n}) => {\n  const [showPrintManager, setShowPrintManager] = useState(false);\n\n  const heroActions = [\n    {\n      title: 'Ajouter un document',\n      description: 'Enrichissez votre collection',\n      icon: Plus,\n      action: () => onNavigate('add-document'),\n      primary: true\n    },\n    {\n      title: 'Parcourir la collection',\n      description: 'Explorer tous les documents',\n      icon: Search,\n      action: () => onNavigate('documents'),\n      primary: false\n    }\n  ];\n\n  const quickActions = [\n    {\n      title: 'Collection complète',\n      description: `${stats.totalBooks} documents disponibles`,\n      icon: Book,\n      action: () => onNavigate('documents'),\n      color: '#3E5C49'\n    },\n    {\n      title: 'Gérer les emprunts',\n      description: `${stats.borrowedBooks} document(s) emprunté(s)`,\n      icon: BookOpen,\n      action: () => onNavigate('borrowed'),\n      color: '#C2571B',\n      badge: stats.borrowedBooks > 0\n    },\n    {\n      title: 'Rapports & Export',\n      description: 'Imprimer les inventaires',\n      icon: Printer,\n      action: () => setShowPrintManager(true),\n      color: '#6E6E6E'\n    }\n  ];\n\n  const mainStats = [\n    {\n      title: 'Total des documents',\n      value: stats.totalBooks,\n      icon: Book,\n      color: '#3E5C49',\n      trend: '+2 ce mois'\n    },\n    {\n      title: 'Disponibles',\n      value: stats.availableBooks,\n      icon: BookOpen,\n      color: '#3E5C49',\n      percentage: stats.totalBooks > 0 ? ((stats.availableBooks / stats.totalBooks) * 100).toFixed(0) : 0\n    },\n    {\n      title: 'Empruntés',\n      value: stats.borrowedBooks,\n      icon: Clock,\n      color: '#C2571B',\n      percentage: stats.totalBooks > 0 ? ((stats.borrowedBooks / stats.totalBooks) * 100).toFixed(0) : 0\n    },\n    {\n      title: 'Auteurs',\n      value: stats.totalAuthors,\n      icon: Users,\n      color: '#6E6E6E',\n      trend: 'Actifs'\n    }\n  ];\n\n  const recentActivity = [\n    {\n      type: 'add',\n      title: 'Nouveau document ajouté',\n      description: 'Les Misérables par Victor Hugo',\n      time: 'Il y a 2 heures',\n      icon: Plus\n    },\n    {\n      type: 'borrow',\n      title: 'Document emprunté',\n      description: 'Fondation par Isaac Asimov',\n      time: 'Il y a 1 jour',\n      icon: BookOpen\n    },\n    {\n      type: 'return',\n      title: 'Document rendu',\n      description: 'L\\'Étranger par Albert Camus',\n      time: 'Il y a 2 jours',\n      icon: Activity\n    }\n  ];\n\n  const borrowRate = stats.totalBooks > 0 ? (stats.borrowedBooks / stats.totalBooks * 100).toFixed(1) : 0;\n\n  return (\n    <div className=\"dashboard\">\n      {/* Hero Section */}\n      <div className=\"hero-section\">\n        <div className=\"hero-content\">\n          <div className=\"hero-text\">\n            <h1 className=\"hero-title\">Bienvenue dans votre bibliothèque</h1>\n            <p className=\"hero-subtitle\">\n              Gérez votre collection de {stats.totalBooks} documents avec facilité et élégance\n            </p>\n            <div className=\"hero-actions\">\n              {heroActions.map((action, index) => (\n                <button\n                  key={index}\n                  className={`hero-button ${action.primary ? 'primary' : 'secondary'}`}\n                  onClick={action.action}\n                >\n                  <action.icon size={18} />\n                  <span>{action.title}</span>\n                  <ArrowRight size={16} />\n                </button>\n              ))}\n            </div>\n          </div>\n          \n          <div className=\"hero-visual\">\n            <div className=\"floating-card\">\n              <div className=\"card-header\">\n                <BookOpen size={24} />\n                <span>Collection</span>\n              </div>\n              <div className=\"card-stats\">\n                <div className=\"stat\">\n                  <span className=\"stat-number\">{stats.totalBooks}</span>\n                  <span className=\"stat-label\">Documents</span>\n                </div>\n                <div className=\"stat\">\n                  <span className=\"stat-number\">{stats.borrowedBooks}</span>\n                  <span className=\"stat-label\">Empruntés</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"dashboard-content\">\n        {/* Main Stats Grid */}\n        <div className=\"stats-section\">\n          <div className=\"section-header\">\n            <h2 className=\"section-title\">Vue d'ensemble</h2>\n            <div className=\"section-subtitle\">Statistiques de votre bibliothèque</div>\n          </div>\n          \n          <div className=\"stats-grid\">\n            {mainStats.map((stat, index) => (\n              <div key={index} className=\"stat-card card-elevated\">\n                <div className=\"stat-header\">\n                  <div className=\"stat-icon\" style={{ color: stat.color }}>\n                    <stat.icon size={24} />\n                  </div>\n                  \n                </div>\n                <div className=\"stat-content\">\n                    {stat.trend && <span className=\"stat-trend\">{stat.trend}</span>}\n                    {stat.percentage && <span className=\"stat-percentage\">{stat.percentage}%</span>}\n                  <div className=\"stat-value\">{stat.value}</div>\n                  <div className=\"stat-title\">{stat.title}</div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"dashboard-grid\">\n          {/* Quick Actions */}\n          <div className=\"quick-actions-section\">\n            <div className=\"section-header\">\n              <h3 className=\"section-title\">Actions rapides</h3>\n            </div>\n            \n            <div className=\"actions-grid\">\n              {quickActions.map((action, index) => (\n                <button\n                  key={index}\n                  className=\"action-card card-elevated\"\n                  onClick={action.action}\n                >\n                  <div className=\"action-icon\" style={{ backgroundColor: action.color }}>\n                    <action.icon size={20} />\n                    {action.badge && <div className=\"action-badge\"></div>}\n                  </div>\n                  <div className=\"action-content\">\n                    <div className=\"action-title\">{action.title}</div>\n                    <div className=\"action-description\">{action.description}</div>\n                  </div>\n                  <ArrowRight size={16} className=\"action-arrow\" />\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Progress Overview */}\n          <div className=\"progress-section\">\n            <div className=\"section-header\">\n              <h3 className=\"section-title\">Utilisation</h3>\n            </div>\n            \n            <div className=\"progress-card card\">\n              <div className=\"progress-item\">\n                <div className=\"progress-header\">\n                  <span className=\"progress-label\">Taux d'emprunt</span>\n                  <span className=\"progress-value\">{borrowRate}%</span>\n                </div>\n                <div className=\"progress-bar\">\n                  <div \n                    className=\"progress-fill\" \n                    style={{ width: `${borrowRate}%` }}\n                  ></div>\n                </div>\n              </div>\n              \n              <div className=\"progress-metrics\">\n                <div className=\"metric\">\n                  <TrendingUp size={16} />\n                  <span>Tendance stable</span>\n                </div>\n                <div className=\"metric\">\n                  <Calendar size={16} />\n                  <span>Mis à jour maintenant</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Recent Activity */}\n        <div className=\"activity-section\">\n          <div className=\"section-header\">\n            <h3 className=\"section-title\">Activité récente</h3>\n            <button className=\"view-all-button\">\n              <Eye size={16} />\n              Voir tout\n            </button>\n          </div>\n          \n          <div className=\"activity-list card\">\n            {recentActivity.map((activity, index) => (\n              <div key={index} className=\"activity-item\">\n                <div className=\"activity-icon\">\n                  <activity.icon size={16} />\n                </div>\n                <div className=\"activity-content\">\n                  <div className=\"activity-title\">{activity.title}</div>\n                  <div className=\"activity-description\">{activity.description}</div>\n                </div>\n                <div className=\"activity-time\">{activity.time}</div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {showPrintManager && (\n        <PrintManager\n          books={documents}\n          stats={stats}\n          categories={categories}\n          onClose={() => setShowPrintManager(false)}\n        />\n      )}\n\n      <style>{`\n        .dashboard {\n          height: 100%;\n          overflow-y: auto;\n          background: #FAF9F6;\n        }\n        \n        .hero-section {\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n          padding: 48px 32px;\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .hero-section::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 50%;\n          height: 100%;\n          background: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><defs><pattern id=\"grain\" width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\"><circle cx=\"20\" cy=\"20\" r=\"1\" fill=\"%23F3EED9\" opacity=\"0.05\"/><circle cx=\"60\" cy=\"40\" r=\"1\" fill=\"%23F3EED9\" opacity=\"0.03\"/><circle cx=\"80\" cy=\"80\" r=\"1\" fill=\"%23F3EED9\" opacity=\"0.04\"/></pattern></defs><rect width=\"100\" height=\"100\" fill=\"url(%23grain)\"/></svg>');\n          opacity: 0.3;\n        }\n        \n        .hero-content {\n          display: grid;\n          grid-template-columns: 1fr 300px;\n          gap: 48px;\n          align-items: center;\n          max-width: 1200px;\n          margin: 0 auto;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .hero-title {\n          font-size: 36px;\n          font-weight: 800;\n          margin: 0 0 16px 0;\n          line-height: 1.2;\n          letter-spacing: -0.5px;\n        }\n        \n        .hero-subtitle {\n          font-size: 18px;\n          opacity: 0.9;\n          margin: 0 0 32px 0;\n          line-height: 1.5;\n        }\n        \n        .hero-actions {\n          display: flex;\n          gap: 16px;\n          flex-wrap: wrap;\n        }\n        \n        .hero-button {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 24px;\n          border: none;\n          border-radius: 12px;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .hero-button.primary {\n          background: #C2571B;\n          color: #F3EED9;\n        }\n        \n        .hero-button.primary:hover {\n          background: #A8481A;\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);\n        }\n        \n        .hero-button.secondary {\n          background: rgba(243, 238, 217, 0.15);\n          color: #F3EED9;\n          border: 1px solid rgba(243, 238, 217, 0.3);\n        }\n        \n        .hero-button.secondary:hover {\n          background: rgba(243, 238, 217, 0.25);\n          transform: translateY(-2px);\n        }\n        \n        .hero-visual {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n        }\n        \n        .floating-card {\n          background: rgba(243, 238, 217, 0.1);\n          backdrop-filter: blur(10px);\n          border: 1px solid rgba(243, 238, 217, 0.2);\n          border-radius: 16px;\n          padding: 24px;\n          width: 100%;\n          animation: float 6s ease-in-out infinite;\n        }\n        \n        @keyframes float {\n          0%, 100% { transform: translateY(0px); }\n          50% { transform: translateY(-10px); }\n        }\n        \n        .card-header {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          margin-bottom: 20px;\n          font-weight: 600;\n          font-size: 16px;\n        }\n        \n        .card-stats {\n          display: flex;\n          justify-content: space-between;\n        }\n        \n        .stat {\n          text-align: center;\n        }\n        \n        .stat-number {\n          display: block;\n          font-size: 28px;\n          font-weight: 800;\n          line-height: 1;\n          margin-bottom: 4px;\n        }\n        \n        .stat-label {\n          font-size: 12px;\n          opacity: 0.8;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .dashboard-content {\n          padding: 32px;\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n        \n        .section-header {\n          margin-bottom: 24px;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n        }\n        \n        .section-title {\n          font-size: 24px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0;\n          letter-spacing: -0.3px;\n        }\n        \n        .section-subtitle {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin-top: 4px;\n        }\n        \n        .stats-section {\n          margin-bottom: 48px;\n        }\n        \n        .stats-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n          gap: 24px;\n        }\n        \n        .stat-card {\n          padding: 24px;\n          border-radius: 16px;\n          background: #FFFFFF;\n        }\n        \n        .stat-header {\n          display: flex;\n          align-items: flex-start;\n          justify-content: space-between;\n          margin-bottom: 16px;\n        }\n        \n        .stat-icon {\n          padding: 12px;\n          background: rgba(62, 92, 73, 0.1);\n          border-radius: 12px;\n        }\n        \n        .stat-meta {\n          text-align: right;\n          font-size: 12px;\n        }\n        \n        .stat-trend {\n          color: #3E5C49;\n          font-weight: 600;\n        }\n        \n        .stat-percentage {\n          color: #6E6E6E;\n          font-weight: 600;\n        }\n        \n        .stat-value {\n          font-size: 32px;\n          font-weight: 800;\n          color: #2E2E2E;\n          line-height: 1;\n          margin-bottom: 8px;\n        }\n        \n        .stat-title {\n          font-size: 14px;\n          color: #6E6E6E;\n          font-weight: 500;\n        }\n        \n        .dashboard-grid {\n          display: grid;\n          grid-template-columns: 2fr 1fr;\n          gap: 32px;\n          margin-bottom: 48px;\n        }\n        \n        .actions-grid {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n        \n        .action-card {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n          padding: 20px;\n          background: #FFFFFF;\n          border: none;\n          border-radius: 16px;\n          cursor: pointer;\n          text-align: left;\n          transition: all 0.3s ease;\n          position: relative;\n        }\n        \n        .action-card:hover {\n          transform: translateX(4px);\n        }\n        \n        .action-icon {\n          width: 48px;\n          height: 48px;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #FFFFFF;\n          flex-shrink: 0;\n          position: relative;\n        }\n        \n        .action-badge {\n          position: absolute;\n          top: -4px;\n          right: -4px;\n          width: 12px;\n          height: 12px;\n          background: #C2571B;\n          border-radius: 50%;\n          border: 2px solid #FFFFFF;\n          animation: pulse 2s infinite;\n        }\n        \n        .action-content {\n          flex: 1;\n        }\n        \n        .action-title {\n          font-size: 16px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin-bottom: 4px;\n        }\n        \n        .action-description {\n          font-size: 14px;\n          color: #6E6E6E;\n        }\n        \n        .action-arrow {\n          color: #6E6E6E;\n          transition: transform 0.2s ease;\n        }\n        \n        .action-card:hover .action-arrow {\n          transform: translateX(4px);\n        }\n        \n        .progress-card {\n          padding: 24px;\n          background: #FFFFFF;\n          border-radius: 16px;\n        }\n        \n        .progress-item {\n          margin-bottom: 20px;\n        }\n        \n        .progress-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 12px;\n        }\n        \n        .progress-label {\n          font-size: 14px;\n          font-weight: 500;\n          color: #2E2E2E;\n        }\n        \n        .progress-value {\n          font-size: 18px;\n          font-weight: 700;\n          color: #3E5C49;\n        }\n        \n        .progress-bar {\n          width: 100%;\n          height: 8px;\n          background: #F3EED9;\n          border-radius: 4px;\n          overflow: hidden;\n        }\n        \n        .progress-fill {\n          height: 100%;\n          background: linear-gradient(90deg, #3E5C49, #C2571B);\n          transition: width 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n        }\n        \n        .progress-metrics {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .metric {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 12px;\n          color: #6E6E6E;\n        }\n        \n        .activity-list {\n          background: #FFFFFF;\n          border-radius: 16px;\n          overflow: hidden;\n        }\n        \n        .activity-item {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          padding: 20px;\n          border-bottom: 1px solid #F3EED9;\n        }\n        \n        .activity-item:last-child {\n          border-bottom: none;\n        }\n        \n        .activity-icon {\n          width: 40px;\n          height: 40px;\n          background: #F3EED9;\n          border-radius: 10px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #3E5C49;\n          flex-shrink: 0;\n        }\n        \n        .activity-content {\n          flex: 1;\n        }\n        \n        .activity-title {\n          font-size: 14px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin-bottom: 4px;\n        }\n        \n        .activity-description {\n          font-size: 13px;\n          color: #6E6E6E;\n        }\n        \n        .activity-time {\n          font-size: 12px;\n          color: #6E6E6E;\n          text-align: right;\n        }\n        \n        .view-all-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 8px 16px;\n          background: #F3EED9;\n          border: none;\n          border-radius: 8px;\n          color: #3E5C49;\n          font-size: 14px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .view-all-button:hover {\n          background: #EAEADC;\n          transform: translateY(-1px);\n        }\n        \n        /* Responsive Design */\n        @media (max-width: 1024px) {\n          .hero-content {\n            grid-template-columns: 1fr;\n            gap: 32px;\n            text-align: center;\n          }\n          \n          .dashboard-grid {\n            grid-template-columns: 1fr;\n            gap: 24px;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .hero-section {\n            padding: 32px 16px;\n          }\n          \n          .hero-title {\n            font-size: 28px;\n          }\n          \n          .hero-subtitle {\n            font-size: 16px;\n          }\n          \n          .hero-actions {\n            justify-content: center;\n          }\n          \n          .dashboard-content {\n            padding: 16px;\n          }\n          \n          .stats-grid {\n            grid-template-columns: 1fr;\n            gap: 16px;\n          }\n          \n          .section-title {\n            font-size: 20px;\n          }\n          \n          .floating-card {\n            padding: 16px;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .hero-button {\n            width: 100%;\n            justify-content: center;\n          }\n          \n          .action-card {\n            padding: 16px;\n          }\n          \n          .activity-item {\n            padding: 16px;\n          }\n          \n          .stat-card {\n            padding: 16px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};","import React, { useState, useEffect } from 'react';\nimport { Document, SyncStatus, NetworkStatus } from '../../types';\nimport { \n  Search, \n  Plus, \n  Edit, \n  Trash2, \n  BookOpen, \n  User, \n  Building, \n  MapPin, \n  Calendar, \n  Tag, \n  Hash,\n  Download,\n  Upload,\n  Wifi,\n  WifiOff,\n  Clock,\n  CheckCircle,\n  AlertCircle,\n  Loader2,\n  Filter\n} from 'lucide-react';\n\ninterface DocumentListProps {\n  documents: Document[];\n  onAdd: () => void;\n  onEdit: (document: Document) => void;\n  onDelete: (id: number) => void;\n  onRefresh: () => void;\n  syncStatus: SyncStatus;\n  networkStatus: NetworkStatus;\n}\n\nexport const DocumentList: React.FC<DocumentListProps> = ({\n  documents,\n  onAdd,\n  onEdit,\n  onDelete,\n  onRefresh,\n  syncStatus,\n  networkStatus\n}) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [selectedSyncStatus, setSelectedSyncStatus] = useState('all');\n  const [filteredDocuments, setFilteredDocuments] = useState<Document[]>([]);\n\n  useEffect(() => {\n    filterDocuments();\n  }, [documents, searchTerm, selectedCategory, selectedSyncStatus]);\n\n  const filterDocuments = () => {\n    let filtered = documents;\n\n    // Filtrage par terme de recherche\n    if (searchTerm) {\n      const term = searchTerm.toLowerCase();\n      filtered = filtered.filter(doc =>\n        doc.titre.toLowerCase().includes(term) ||\n        doc.auteur.toLowerCase().includes(term) ||\n        doc.editeur.toLowerCase().includes(term) ||\n        doc.descripteurs.toLowerCase().includes(term) ||\n        doc.cote.toLowerCase().includes(term) ||\n        (doc.isbn && doc.isbn.toLowerCase().includes(term))\n      );\n    }\n\n    // Filtrage par catégorie (utilise les descripteurs)\n    if (selectedCategory !== 'all') {\n      filtered = filtered.filter(doc =>\n        doc.descripteurs.toLowerCase().includes(selectedCategory.toLowerCase())\n      );\n    }\n\n    // Filtrage par statut de sync\n    if (selectedSyncStatus !== 'all') {\n      filtered = filtered.filter(doc => doc.syncStatus === selectedSyncStatus);\n    }\n\n    setFilteredDocuments(filtered);\n  };\n\n  const getUniqueCategories = () => {\n    const categories = new Set<string>();\n    documents.forEach(doc => {\n      doc.descripteurs.split(',').forEach(desc => {\n        categories.add(desc.trim());\n      });\n    });\n    return Array.from(categories).sort();\n  };\n\n  const getSyncStatusIcon = (status: Document['syncStatus']) => {\n    switch (status) {\n      case 'synced':\n        return <CheckCircle className=\"sync-icon synced\" />;\n      case 'pending':\n        return <Clock className=\"sync-icon pending\" />;\n      case 'error':\n        return <AlertCircle className=\"sync-icon error\" />;\n      case 'conflict':\n        return <AlertCircle className=\"sync-icon conflict\" />;\n      default:\n        return <Clock className=\"sync-icon default\" />;\n    }\n  };\n\n  const getNetworkStatusDisplay = () => {\n    return (\n      <div className=\"network-status\">\n        {networkStatus.isOnline ? (\n          <div className=\"status-item online\">\n            <Wifi size={16} />\n            En ligne\n          </div>\n        ) : (\n          <div className=\"status-item offline\">\n            <WifiOff size={16} />\n            Hors ligne\n          </div>\n        )}\n        \n        {syncStatus.syncInProgress && (\n          <div className=\"status-item syncing\">\n            <Loader2 size={16} className=\"animate-spin\" />\n            Synchronisation...\n          </div>\n        )}\n        \n        {syncStatus.pendingOperations > 0 && (\n          <div className=\"status-item pending-ops\">\n            {syncStatus.pendingOperations} en attente\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"document-list-container\">\n      {/* En-tête principal */}\n      <div className=\"page-header\">\n        <div className=\"header-content\">\n          <div className=\"header-main\">\n            <div className=\"header-icon\">\n              <BookOpen size={28} />\n            </div>\n            <div className=\"header-text\">\n              <h1 className=\"page-title\">\n                Bibliothèque Numérique\n              </h1>\n              <p className=\"page-subtitle\">\n                {filteredDocuments.length} document{filteredDocuments.length !== 1 ? 's' : ''} dans votre collection\n              </p>\n            </div>\n          </div>\n          \n          <div className=\"header-actions\">\n            {getNetworkStatusDisplay()}\n            <button onClick={onAdd} className=\"add-button\">\n              <Plus size={18} />\n              Nouveau document\n            </button>\n          </div>\n        </div>\n        \n        {syncStatus.lastSync && (\n          <div className=\"sync-info\">\n            <Clock size={14} />\n            Dernière synchronisation: {new Date(syncStatus.lastSync).toLocaleString('fr-FR')}\n          </div>\n        )}\n      </div>\n\n      {/* Section de filtrage */}\n      <div className=\"filters-section\">\n        <div className=\"section-header\">\n          <div className=\"section-icon\">\n            <Filter size={20} />\n          </div>\n          <h3 className=\"section-title\">Filtres et recherche</h3>\n        </div>\n        \n        <div className=\"filters-grid\">\n          <div className=\"filter-field search-field\">\n            <label className=\"filter-label\">\n              <Search size={16} />\n              Rechercher\n            </label>\n            <input\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"filter-input\"\n              placeholder=\"Titre, auteur, éditeur, cote, ISBN...\"\n            />\n          </div>\n\n          <div className=\"filter-field\">\n            <label className=\"filter-label\">\n              <Tag size={16} />\n              Catégorie\n            </label>\n            <select\n              value={selectedCategory}\n              onChange={(e) => setSelectedCategory(e.target.value)}\n              className=\"filter-select\"\n            >\n              <option value=\"all\">Toutes les catégories</option>\n              {getUniqueCategories().map(category => (\n                <option key={category} value={category}>{category}</option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"filter-field\">\n            <label className=\"filter-label\">\n              <CheckCircle size={16} />\n              Statut sync\n            </label>\n            <select\n              value={selectedSyncStatus}\n              onChange={(e) => setSelectedSyncStatus(e.target.value)}\n              className=\"filter-select\"\n            >\n              <option value=\"all\">Tous les statuts</option>\n              <option value=\"synced\">Synchronisé</option>\n              <option value=\"pending\">En attente</option>\n              <option value=\"error\">Erreur</option>\n              <option value=\"conflict\">Conflit</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Grille des documents */}\n      {filteredDocuments.length > 0 ? (\n        <div className=\"documents-grid\">\n          {filteredDocuments.map((document) => (\n            <div key={document.id} className=\"document-card\">\n              {/* Image de couverture */}\n              {document.couverture && (\n                <div className=\"document-cover\">\n                  <img\n                    src={document.couverture}\n                    alt={`Couverture de ${document.titre}`}\n                    className=\"cover-image\"\n                    onError={(e) => {\n                      e.currentTarget.style.display = 'none';\n                    }}\n                  />\n                </div>\n              )}\n              \n              <div className=\"document-content\">\n                {/* En-tête avec statut */}\n                <div className=\"document-header\">\n                  <div className=\"document-title-section\">\n                    <h3 className=\"document-title\" title={document.titre}>\n                      {document.titre}\n                    </h3>\n                    <p className=\"document-author\" title={document.auteur}>\n                      <User size={14} />\n                      {document.auteur}\n                    </p>\n                  </div>\n                  <div className=\"document-status\">\n                    {getSyncStatusIcon(document.syncStatus)}\n                    {document.estEmprunte && (\n                      <div className=\"borrowed-indicator\" title=\"Emprunté\" />\n                    )}\n                  </div>\n                </div>\n\n                {/* Informations détaillées */}\n                <div className=\"document-details\">\n                  <div className=\"detail-item\">\n                    <Building size={14} />\n                    <span className=\"detail-text\">{document.editeur}</span>\n                  </div>\n                  \n                  <div className=\"detail-item\">\n                    <MapPin size={14} />\n                    <span className=\"detail-text\">{document.lieuEdition}</span>\n                  </div>\n                  \n                  <div className=\"detail-item\">\n                    <Calendar size={14} />\n                    <span className=\"detail-text\">{document.annee}</span>\n                  </div>\n                  \n                  <div className=\"detail-item\">\n                    <Hash size={14} />\n                    <span className=\"detail-text document-cote\">{document.cote}</span>\n                  </div>\n                  \n                  <div className=\"detail-item tags-item\">\n                    <Tag size={14} />\n                    <div className=\"tags-container\">\n                      {document.descripteurs.split(',').slice(0, 3).map((desc, index) => (\n                        <span\n                          key={index}\n                          className=\"tag-badge\"\n                          title={desc.trim()}\n                        >\n                          {desc.trim()}\n                        </span>\n                      ))}\n                      {document.descripteurs.split(',').length > 3 && (\n                        <span className=\"tags-more\">\n                          +{document.descripteurs.split(',').length - 3}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                </div>\n\n                {/* Description */}\n                {document.description && (\n                  <p className=\"document-description\" title={document.description}>\n                    {document.description}\n                  </p>\n                )}\n\n                {/* Pied de carte avec actions */}\n                <div className=\"document-footer\">\n                  <div className=\"document-meta\">\n                    <span className=\"version-info\">v{document.version}</span>\n                    <span className=\"date-info\">\n                      {new Date(document.lastModified).toLocaleDateString('fr-FR')}\n                    </span>\n                  </div>\n                  \n                  <div className=\"document-actions\">\n                    <button\n                      onClick={() => onEdit(document)}\n                      className=\"action-button edit-button\"\n                      title=\"Modifier\"\n                    >\n                      <Edit size={16} />\n                    </button>\n                    <button\n                      onClick={() => document.id && onDelete(document.id)}\n                      className=\"action-button delete-button\"\n                      title=\"Supprimer\"\n                    >\n                      <Trash2 size={16} />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      ) : (\n        /* Message vide */\n        <div className=\"empty-state\">\n          <div className=\"empty-icon\">\n            <BookOpen size={64} />\n          </div>\n          <h3 className=\"empty-title\">\n            {searchTerm || selectedCategory !== 'all' || selectedSyncStatus !== 'all'\n              ? 'Aucun document trouvé'\n              : 'Votre bibliothèque est vide'\n            }\n          </h3>\n          <p className=\"empty-description\">\n            {searchTerm || selectedCategory !== 'all' || selectedSyncStatus !== 'all'\n              ? 'Essayez de modifier vos critères de recherche pour trouver ce que vous cherchez.'\n              : 'Commencez par ajouter votre premier document pour enrichir votre collection.'\n            }\n          </p>\n          <button onClick={onAdd} className=\"empty-action-button\">\n            <Plus size={18} />\n            Ajouter un document\n          </button>\n        </div>\n      )}\n\n      <style>{`\n        .document-list-container {\n          padding: 24px;\n          background: linear-gradient(135deg, #F8F6F0 0%, #FFFFFF 100%);\n          min-height: 100vh;\n          display: flex;\n          flex-direction: column;\n          gap: 24px;\n        }\n\n        /* En-tête principal */\n        .page-header {\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          border-radius: 20px;\n          padding: 32px;\n          color: #F3EED9;\n          position: relative;\n          overflow: hidden;\n          box-shadow: 0 12px 32px rgba(62, 92, 73, 0.15);\n        }\n\n        .page-header::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: radial-gradient(circle at 80% 20%, rgba(243, 238, 217, 0.1) 0%, transparent 50%);\n          pointer-events: none;\n        }\n\n        .header-content {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          position: relative;\n          z-index: 1;\n          gap: 24px;\n        }\n\n        .header-main {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n        }\n\n        .header-icon {\n          width: 64px;\n          height: 64px;\n          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);\n          border-radius: 18px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);\n        }\n\n        .header-text {\n          flex: 1;\n        }\n\n        .page-title {\n          font-size: 28px;\n          font-weight: 700;\n          margin: 0 0 6px 0;\n          line-height: 1.2;\n          letter-spacing: -0.4px;\n        }\n\n        .page-subtitle {\n          font-size: 16px;\n          opacity: 0.9;\n          margin: 0;\n          font-weight: 400;\n        }\n\n        .header-actions {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n        }\n\n        .network-status {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          font-size: 14px;\n        }\n\n        .status-item {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          padding: 6px 12px;\n          border-radius: 8px;\n          background: rgba(243, 238, 217, 0.1);\n          font-weight: 500;\n        }\n\n        .status-item.online { color: #10B981; }\n        .status-item.offline { color: #EF4444; }\n        .status-item.syncing { color: #3B82F6; }\n        .status-item.pending-ops { color: #F59E0B; }\n\n        .add-button {\n          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);\n          color: #F3EED9;\n          border: none;\n          padding: 12px 20px;\n          border-radius: 12px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          box-shadow: 0 4px 16px rgba(194, 87, 27, 0.2);\n        }\n\n        .add-button:hover {\n          background: linear-gradient(135deg, #A8481A 0%, #8A3C18 100%);\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);\n        }\n\n        .sync-info {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          margin-top: 16px;\n          font-size: 13px;\n          opacity: 0.8;\n          position: relative;\n          z-index: 1;\n        }\n\n        /* Section des filtres */\n        .filters-section {\n          background: #FFFFFF;\n          border-radius: 16px;\n          padding: 24px;\n          border: 1px solid rgba(229, 220, 194, 0.3);\n          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.04);\n        }\n\n        .section-header {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          margin-bottom: 20px;\n        }\n\n        .section-icon {\n          width: 40px;\n          height: 40px;\n          background: rgba(62, 92, 73, 0.1);\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #3E5C49;\n        }\n\n        .section-title {\n          font-size: 18px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin: 0;\n        }\n\n        .filters-grid {\n          display: grid;\n          grid-template-columns: 2fr 1fr 1fr;\n          gap: 20px;\n        }\n\n        .filter-field {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n\n        .filter-field.search-field {\n          position: relative;\n        }\n\n        .filter-label {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 14px;\n          font-weight: 600;\n          color: #2E2E2E;\n        }\n\n        .filter-input,\n        .filter-select {\n          padding: 12px 16px;\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          font-size: 14px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          box-sizing: border-box;\n        }\n\n        .filter-input:focus,\n        .filter-select:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n\n        /* Grille des documents */\n        .documents-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));\n          gap: 24px;\n        }\n\n        .document-card {\n          background: #FFFFFF;\n          border-radius: 16px;\n          overflow: hidden;\n          border: 1px solid rgba(229, 220, 194, 0.3);\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.04);\n          display: flex;\n          flex-direction: column;\n        }\n\n        .document-card:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 12px 32px rgba(0, 0, 0, 0.1);\n          border-color: rgba(62, 92, 73, 0.2);\n        }\n\n        .document-cover {\n          height: 200px;\n          background: linear-gradient(135deg, #F8F6F0 0%, #E5DCC2 100%);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          overflow: hidden;\n        }\n\n        .cover-image {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          transition: transform 0.3s ease;\n        }\n\n        .document-card:hover .cover-image {\n          transform: scale(1.05);\n        }\n\n        .document-content {\n          padding: 20px;\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n          flex: 1;\n        }\n\n        .document-header {\n          display: flex;\n          align-items: flex-start;\n          justify-content: space-between;\n          gap: 12px;\n        }\n\n        .document-title-section {\n          flex: 1;\n          min-width: 0;\n        }\n\n        .document-title {\n          font-size: 16px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin: 0 0 6px 0;\n          line-height: 1.3;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: -webkit-box;\n          -webkit-line-clamp: 2;\n          -webkit-box-orient: vertical;\n        }\n\n        .document-author {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n\n        .document-status {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          flex-shrink: 0;\n        }\n\n        .sync-icon {\n          width: 16px;\n          height: 16px;\n        }\n\n        .sync-icon.synced { color: #10B981; }\n        .sync-icon.pending { color: #F59E0B; }\n        .sync-icon.error { color: #EF4444; }\n        .sync-icon.conflict { color: #F97316; }\n        .sync-icon.default { color: #6B7280; }\n\n        .borrowed-indicator {\n          width: 8px;\n          height: 8px;\n          background: #F97316;\n          border-radius: 50%;\n        }\n\n        .document-details {\n          display: flex;\n          flex-direction: column;\n          gap: 10px;\n        }\n\n        .detail-item {\n          display: flex;\n          align-items: flex-start;\n          gap: 8px;\n          font-size: 13px;\n          color: #6E6E6E;\n          min-height: 20px;\n        }\n\n        .detail-item svg {\n          flex-shrink: 0;\n          margin-top: 1px;\n        }\n\n        .detail-text {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          flex: 1;\n        }\n\n        .document-cote {\n          font-family: 'Monaco', 'Menlo', 'Consolas', monospace;\n          font-size: 12px;\n          font-weight: 500;\n        }\n\n        .tags-item {\n          align-items: flex-start;\n        }\n\n        .tags-container {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 6px;\n          flex: 1;\n        }\n\n        .tag-badge {\n          background: rgba(62, 92, 73, 0.1);\n          color: #3E5C49;\n          font-size: 11px;\n          padding: 4px 8px;\n          border-radius: 12px;\n          font-weight: 500;\n          max-width: 80px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n\n        .tags-more {\n          font-size: 11px;\n          color: #9CA3AF;\n          font-weight: 500;\n        }\n\n        .document-description {\n          font-size: 13px;\n          color: #6E6E6E;\n          line-height: 1.4;\n          margin: 0;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: -webkit-box;\n          -webkit-line-clamp: 2;\n          -webkit-box-orient: vertical;\n        }\n\n        .document-footer {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding-top: 16px;\n          border-top: 1px solid rgba(229, 220, 194, 0.3);\n          margin-top: auto;\n        }\n\n        .document-meta {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 11px;\n          color: #9CA3AF;\n        }\n\n        .version-info {\n          font-weight: 600;\n        }\n\n        .document-actions {\n          display: flex;\n          gap: 8px;\n        }\n\n        .action-button {\n          width: 32px;\n          height: 32px;\n          border: none;\n          border-radius: 8px;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n        }\n\n        .edit-button {\n          background: rgba(62, 92, 73, 0.1);\n          color: #3E5C49;\n        }\n\n        .edit-button:hover {\n          background: rgba(62, 92, 73, 0.2);\n          transform: translateY(-1px);\n        }\n\n        .delete-button {\n          background: rgba(239, 68, 68, 0.1);\n          color: #EF4444;\n        }\n\n        .delete-button:hover {\n          background: rgba(239, 68, 68, 0.2);\n          transform: translateY(-1px);\n        }\n\n        /* État vide */\n        .empty-state {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          text-align: center;\n          padding: 60px 20px;\n          background: #FFFFFF;\n          border-radius: 16px;\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n\n        .empty-icon {\n          width: 80px;\n          height: 80px;\n          background: rgba(62, 92, 73, 0.1);\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #3E5C49;\n          margin-bottom: 24px;\n        }\n\n        .empty-title {\n          font-size: 20px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin: 0 0 12px 0;\n        }\n\n        .empty-description {\n          font-size: 16px;\n          color: #6E6E6E;\n          margin: 0 0 32px 0;\n          max-width: 480px;\n          line-height: 1.5;\n        }\n\n        .empty-action-button {\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n          border: none;\n          padding: 14px 28px;\n          border-radius: 12px;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.2);\n        }\n\n        .empty-action-button:hover {\n          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.3);\n        }\n\n        /* Animation de rotation */\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n\n        .animate-spin {\n          animation: spin 1s linear infinite;\n        }\n\n        /* Responsive */\n        @media (max-width: 1024px) {\n          .filters-grid {\n            grid-template-columns: 1fr;\n            gap: 16px;\n          }\n\n          .documents-grid {\n            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n            gap: 20px;\n          }\n        }\n\n        @media (max-width: 768px) {\n          .document-list-container {\n            padding: 16px;\n            gap: 16px;\n          }\n\n          .page-header {\n            padding: 24px;\n          }\n\n          .header-content {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 20px;\n          }\n\n          .header-main {\n            flex-direction: column;\n            text-align: center;\n            gap: 16px;\n          }\n\n          .header-actions {\n            justify-content: center;\n            flex-wrap: wrap;\n          }\n\n          .network-status {\n            justify-content: center;\n            flex-wrap: wrap;\n          }\n\n          .filters-section {\n            padding: 20px;\n          }\n\n          .documents-grid {\n            grid-template-columns: 1fr;\n            gap: 16px;\n          }\n\n          .document-card {\n            border-radius: 12px;\n          }\n\n          .document-content {\n            padding: 16px;\n            gap: 12px;\n          }\n\n          .document-title {\n            font-size: 15px;\n          }\n\n          .empty-state {\n            padding: 40px 16px;\n          }\n\n          .empty-title {\n            font-size: 18px;\n          }\n\n          .empty-description {\n            font-size: 14px;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .document-list-container {\n            padding: 12px;\n          }\n\n          .page-header {\n            padding: 20px;\n            border-radius: 16px;\n          }\n\n          .header-icon {\n            width: 48px;\n            height: 48px;\n            border-radius: 12px;\n          }\n\n          .page-title {\n            font-size: 24px;\n          }\n\n          .page-subtitle {\n            font-size: 14px;\n          }\n\n          .add-button {\n            padding: 10px 16px;\n            font-size: 13px;\n          }\n\n          .section-title {\n            font-size: 16px;\n          }\n\n          .filters-section {\n            padding: 16px;\n          }\n\n          .document-cover {\n            height: 160px;\n          }\n\n          .document-content {\n            padding: 14px;\n          }\n\n          .document-title {\n            font-size: 14px;\n          }\n\n          .document-author {\n            font-size: 13px;\n          }\n\n          .detail-item {\n            font-size: 12px;\n          }\n\n          .tag-badge {\n            font-size: 10px;\n            padding: 3px 6px;\n            max-width: 60px;\n          }\n\n          .empty-state {\n            padding: 32px 12px;\n          }\n\n          .empty-icon {\n            width: 64px;\n            height: 64px;\n            border-radius: 16px;\n            margin-bottom: 20px;\n          }\n\n          .empty-title {\n            font-size: 16px;\n          }\n\n          .empty-description {\n            font-size: 13px;\n            margin-bottom: 24px;\n          }\n\n          .empty-action-button {\n            padding: 12px 20px;\n            font-size: 14px;\n          }\n        }\n\n        /* États de focus pour accessibilité */\n        .add-button:focus-visible,\n        .empty-action-button:focus-visible,\n        .action-button:focus-visible {\n          outline: 2px solid #3E5C49;\n          outline-offset: 2px;\n        }\n\n        .filter-input:focus-visible,\n        .filter-select:focus-visible {\n          outline: none;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.2);\n        }\n\n        /* Animation d'entrée pour les cartes */\n        @keyframes cardSlideIn {\n          from {\n            opacity: 0;\n            transform: translateY(20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        .document-card {\n          animation: cardSlideIn 0.4s ease-out forwards;\n        }\n\n        .document-card:nth-child(1) { animation-delay: 0ms; }\n        .document-card:nth-child(2) { animation-delay: 50ms; }\n        .document-card:nth-child(3) { animation-delay: 100ms; }\n        .document-card:nth-child(4) { animation-delay: 150ms; }\n        .document-card:nth-child(5) { animation-delay: 200ms; }\n        .document-card:nth-child(6) { animation-delay: 250ms; }\n\n        /* Animation pour les filtres */\n        .filters-section {\n          animation: cardSlideIn 0.3s ease-out;\n        }\n\n        /* Amélioration du contraste pour l'accessibilité */\n        @media (prefers-contrast: high) {\n          .document-card {\n            border: 2px solid #2E2E2E;\n          }\n\n          .tag-badge {\n            background: #3E5C49;\n            color: #FFFFFF;\n          }\n\n          .detail-item {\n            color: #2E2E2E;\n          }\n        }\n\n        /* Respect des préférences de mouvement réduit */\n        @media (prefers-reduced-motion: reduce) {\n          .document-card,\n          .filters-section,\n          .add-button,\n          .empty-action-button,\n          .action-button,\n          .cover-image {\n            animation: none;\n            transition: none;\n          }\n\n          .animate-spin {\n            animation: none;\n          }\n        }\n\n        /* Dark mode support (optionnel) */\n        @media (prefers-color-scheme: dark) {\n          .document-list-container {\n            background: linear-gradient(135deg, #1A1A1A 0%, #2D2D2D 100%);\n          }\n\n          .page-header {\n            background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);\n          }\n\n          .filters-section,\n          .document-card,\n          .empty-state {\n            background: #2D2D2D;\n            border-color: rgba(255, 255, 255, 0.1);\n          }\n\n          .document-title,\n          .section-title,\n          .empty-title {\n            color: #FFFFFF;\n          }\n\n          .document-author,\n          .detail-item,\n          .document-description,\n          .empty-description {\n            color: #B0B0B0;\n          }\n\n          .filter-input,\n          .filter-select {\n            background: #2D2D2D;\n            border-color: rgba(255, 255, 255, 0.2);\n            color: #FFFFFF;\n          }\n\n          .filter-label {\n            color: #FFFFFF;\n          }\n\n          .tag-badge {\n            background: rgba(62, 92, 73, 0.3);\n            color: #A8D5BA;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};","import React, { useState } from 'react';\nimport { \n  Heart, \n  X, \n  Coffee, \n  Gift, \n  Star,\n  CreditCard,\n  Smartphone,\n  Copy,\n  Check,\n  ArrowLeft,\n  Sparkles,\n  Users,\n  BookOpen,\n  Code\n} from 'lucide-react';\n\ninterface DonationProps {\n  onClose: () => void;\n}\n\nexport const Donation: React.FC<DonationProps> = ({ onClose }) => {\n  const [selectedAmount, setSelectedAmount] = useState<number | null>(1000);\n  const [customAmount, setCustomAmount] = useState('');\n  const [paymentMethod, setPaymentMethod] = useState<'momo' | 'card'>('momo');\n  const [copied, setCopied] = useState<string | null>(null);\n\n  const predefinedAmounts = [\n    { value: 500, label: '500 FCFA', icon: Coffee, description: 'Un café pour le dev' },\n    { value: 1000, label: '1 000 FCFA', icon: Heart, description: 'Petit soutien', popular: true },\n    { value: 2500, label: '2 500 FCFA', icon: Gift, description: 'Généreux donateur' },\n    { value: 5000, label: '5 000 FCFA', icon: Star, description: 'Super supporter' }\n  ];\n\n  const paymentMethods = [\n    {\n      id: 'momo' as const,\n      name: 'Mobile Money',\n      icon: Smartphone,\n      networks: [\n        { name: 'MTN MoMo', number: '+237 652 761 931', color: '#FFCC00' },\n        { name: 'Orange Money', number: '+237 652 761 931', color: '#FF6600' }\n      ]\n    },\n    {\n      id: 'card' as const,\n      name: 'Carte bancaire',\n      icon: CreditCard,\n      description: 'Paiement sécurisé via PayPal ou Stripe',\n      comingSoon: true\n    }\n  ];\n\n  const handleCopy = async (text: string, type: string) => {\n    try {\n      await navigator.clipboard.writeText(text);\n      setCopied(type);\n      setTimeout(() => setCopied(null), 2000);\n    } catch (err) {\n      console.error('Erreur lors de la copie:', err);\n    }\n  };\n\n  const finalAmount = selectedAmount || parseInt(customAmount) || 0;\n\n  return (\n    <div className=\"donation-page\">\n      {/* Hero Section */}\n      <div className=\"hero-section\">\n        <div className=\"hero-background\">\n          <div className=\"hero-pattern\"></div>\n        </div>\n        <div className=\"hero-content\">\n          <button className=\"back-button\" onClick={onClose}>\n            <ArrowLeft size={20} />\n            <span>Retour</span>\n          </button>\n          \n          <div className=\"hero-main\">\n            <div className=\"hero-icon\">\n              <Heart size={48} />\n            </div>\n            <div className=\"hero-text\">\n              <h1 className=\"hero-title\">Soutenez le projet Bibliothèque</h1>\n              <p className=\"hero-subtitle\">\n                Votre contribution aide à maintenir et améliorer ce système de gestion de bibliothèque gratuit\n              </p>\n            </div>\n          </div>\n          \n          {/* Impact Stats */}\n          <div className=\"impact-stats\">\n            <div className=\"impact-item\">\n              <Users size={24} />\n              <div className=\"impact-content\">\n                <span className=\"impact-number\">500+</span>\n                <span className=\"impact-label\">Bibliothèques utilisatrices</span>\n              </div>\n            </div>\n            <div className=\"impact-item\">\n              <BookOpen size={24} />\n              <div className=\"impact-content\">\n                <span className=\"impact-number\">10K+</span>\n                <span className=\"impact-label\">Livres gérés</span>\n              </div>\n            </div>\n            <div className=\"impact-item\">\n              <Code size={24} />\n              <div className=\"impact-content\">\n                <span className=\"impact-number\">100%</span>\n                <span className=\"impact-label\">Open Source</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"donation-content\">\n        {/* Amount Selection */}\n        <div className=\"section\">\n          <h2 className=\"section-title\">Choisir le montant</h2>\n          <p className=\"section-description\">\n            Chaque contribution, même petite, fait une grande différence pour le développement du projet\n          </p>\n          \n          <div className=\"amounts-grid\">\n            {predefinedAmounts.map((amount) => (\n              <button\n                key={amount.value}\n                className={`amount-card ${selectedAmount === amount.value ? 'selected' : ''} ${amount.popular ? 'popular' : ''}`}\n                onClick={() => {\n                  setSelectedAmount(amount.value);\n                  setCustomAmount('');\n                }}\n              >\n                {amount.popular && (\n                  <div className=\"popular-badge\">\n                    <Sparkles size={12} />\n                    Populaire\n                  </div>\n                )}\n                <div className=\"amount-icon\">\n                  <amount.icon size={24} />\n                </div>\n                <div className=\"amount-value\">{amount.label}</div>\n                <div className=\"amount-description\">{amount.description}</div>\n              </button>\n            ))}\n          </div>\n          \n          <div className=\"custom-amount\">\n            <label className=\"custom-label\">Ou entrez un montant personnalisé</label>\n            <div className=\"custom-input-group\">\n              <input\n                type=\"number\"\n                value={customAmount}\n                onChange={(e) => {\n                  setCustomAmount(e.target.value);\n                  setSelectedAmount(null);\n                }}\n                placeholder=\"0\"\n                className=\"custom-input\"\n                min=\"100\"\n              />\n              <span className=\"currency\">FCFA</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Payment Methods */}\n        <div className=\"section\">\n          <h2 className=\"section-title\">Méthode de paiement</h2>\n          <p className=\"section-description\">\n            Choisissez votre mode de paiement préféré\n          </p>\n          \n          <div className=\"payment-methods\">\n            {paymentMethods.map((method) => (\n              <button\n                key={method.id}\n                className={`payment-method ${paymentMethod === method.id ? 'selected' : ''} ${method.comingSoon ? 'disabled' : ''}`}\n                onClick={() => !method.comingSoon && setPaymentMethod(method.id)}\n                disabled={method.comingSoon}\n              >\n                <div className=\"payment-icon\">\n                  <method.icon size={24} />\n                </div>\n                <div className=\"payment-content\">\n                  <div className=\"payment-name\">{method.name}</div>\n                  {method.description && (\n                    <div className=\"payment-description\">{method.description}</div>\n                  )}\n                  {method.comingSoon && (\n                    <div className=\"coming-soon-badge\">Bientôt disponible</div>\n                  )}\n                </div>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Payment Details */}\n        {finalAmount > 0 && paymentMethod === 'momo' && (\n          <div className=\"section\">\n            <h2 className=\"section-title\">Détails de paiement</h2>\n            <p className=\"section-description\">\n              Utilisez les informations ci-dessous pour effectuer votre don de {finalAmount.toLocaleString()} FCFA\n            </p>\n            \n            <div className=\"payment-networks\">\n              {paymentMethods[0].networks?.map((network, index) => (\n                <div key={index} className=\"network-card\">\n                  <div className=\"network-header\">\n                    <div \n                      className=\"network-indicator\"\n                      style={{ backgroundColor: network.color }}\n                    ></div>\n                    <span className=\"network-name\">{network.name}</span>\n                  </div>\n                  \n                  <div className=\"network-details\">\n                    <div className=\"detail-item\">\n                      <span className=\"detail-label\">Numéro</span>\n                      <div className=\"detail-value\">\n                        <span className=\"phone-number\">{network.number}</span>\n                        <button\n                          className=\"copy-button\"\n                          onClick={() => handleCopy(network.number.replace(/\\s/g, ''), `${network.name}-number`)}\n                        >\n                          {copied === `${network.name}-number` ? (\n                            <Check size={16} />\n                          ) : (\n                            <Copy size={16} />\n                          )}\n                        </button>\n                      </div>\n                    </div>\n                    \n                    <div className=\"detail-item\">\n                      <span className=\"detail-label\">Nom</span>\n                      <div className=\"detail-value\">\n                        <span>CHEUDJEU TEFOYE CEDRIC BASILIO</span>\n                        <button\n                          className=\"copy-button\"\n                          onClick={() => handleCopy('CHEUDJEU TEFOYE CEDRIC BASILIO', `${network.name}-name`)}\n                        >\n                          {copied === `${network.name}-name` ? (\n                            <Check size={16} />\n                          ) : (\n                            <Copy size={16} />\n                          )}\n                        </button>\n                      </div>\n                    </div>\n                    \n                    <div className=\"detail-item\">\n                      <span className=\"detail-label\">Montant</span>\n                      <div className=\"detail-value amount-highlight\">\n                        {finalAmount.toLocaleString()} FCFA\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n            \n            <div className=\"payment-note\">\n              <div className=\"note-icon\">\n                <Heart size={20} />\n              </div>\n              <div className=\"note-content\">\n                <h4>Merci pour votre soutien !</h4>\n                <p>\n                  Après votre transfert, n'hésitez pas à me contacter pour confirmer votre don et recevoir \n                  un reçu si nécessaire. Votre contribution sera utilisée pour améliorer et maintenir \n                  ce projet open source.\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Why Donate */}\n        <div className=\"section\">\n          <h2 className=\"section-title\">Pourquoi faire un don ?</h2>\n          \n          <div className=\"why-donate-grid\">\n            <div className=\"why-card\">\n              <div className=\"why-icon\">\n                <Code size={24} />\n              </div>\n              <h3>Développement continu</h3>\n              <p>Financer de nouvelles fonctionnalités et l'amélioration du système</p>\n            </div>\n            \n            <div className=\"why-card\">\n              <div className=\"why-icon\">\n                <Heart size={24} />\n              </div>\n              <h3>Gratuit pour tous</h3>\n              <p>Maintenir le projet accessible gratuitement pour toutes les bibliothèques</p>\n            </div>\n            \n            <div className=\"why-card\">\n              <div className=\"why-icon\">\n                <Users size={24} />\n              </div>\n              <h3>Support communautaire</h3>\n              <p>Fournir une assistance technique et des formations aux utilisateurs</p>\n            </div>\n            \n            <div className=\"why-card\">\n              <div className=\"why-icon\">\n                <Sparkles size={24} />\n              </div>\n              <h3>Innovation</h3>\n              <p>Intégrer les dernières technologies pour une meilleure expérience</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <style>{`\n        .donation-page {\n          height: 100%;\n          overflow-y: auto;\n          background: #FAF9F6;\n        }\n        \n        .hero-section {\n          position: relative;\n          background: linear-gradient(135deg, #E91E63 0%, #C2185B 100%);\n          color: #F3EED9;\n          padding: 48px 32px;\n          overflow: hidden;\n        }\n        \n        .hero-background {\n          position: absolute;\n          inset: 0;\n          overflow: hidden;\n        }\n        \n        .hero-pattern {\n          position: absolute;\n          inset: 0;\n          background-image: \n            radial-gradient(circle at 25% 25%, rgba(243, 238, 217, 0.1) 0%, transparent 50%),\n            radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);\n          animation: drift 20s ease-in-out infinite;\n        }\n        \n        @keyframes drift {\n          0%, 100% { transform: translate(0, 0) rotate(0deg); }\n          33% { transform: translate(30px, -30px) rotate(1deg); }\n          66% { transform: translate(-20px, 20px) rotate(-1deg); }\n        }\n        \n        .hero-content {\n          position: relative;\n          z-index: 1;\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n        \n        .back-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          background: rgba(243, 238, 217, 0.15);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px 20px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          font-size: 14px;\n          font-weight: 500;\n          margin-bottom: 32px;\n          width: fit-content;\n        }\n        \n        .back-button:hover {\n          background: rgba(243, 238, 217, 0.25);\n          transform: translateX(-4px);\n        }\n        \n        .hero-main {\n          display: flex;\n          align-items: center;\n          gap: 24px;\n          margin-bottom: 40px;\n          text-align: center;\n          flex-direction: column;\n        }\n        \n        .hero-icon {\n          width: 96px;\n          height: 96px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 24px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n          animation: heartbeat 3s ease-in-out infinite;\n        }\n        \n        .hero-title {\n          font-size: 42px;\n          font-weight: 800;\n          margin: 0 0 16px 0;\n          line-height: 1.2;\n          letter-spacing: -0.5px;\n        }\n        \n        .hero-subtitle {\n          font-size: 20px;\n          opacity: 0.9;\n          margin: 0;\n          line-height: 1.5;\n          max-width: 600px;\n        }\n        \n        .impact-stats {\n          display: flex;\n          justify-content: center;\n          gap: 40px;\n          flex-wrap: wrap;\n        }\n        \n        .impact-item {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          background: rgba(243, 238, 217, 0.1);\n          padding: 20px 24px;\n          border-radius: 16px;\n          backdrop-filter: blur(10px);\n          border: 1px solid rgba(243, 238, 217, 0.2);\n        }\n        \n        .impact-number {\n          font-size: 24px;\n          font-weight: 800;\n          color: #F3EED9;\n          display: block;\n          line-height: 1;\n        }\n        \n        .impact-label {\n          font-size: 14px;\n          color: rgba(243, 238, 217, 0.9);\n          margin-top: 4px;\n        }\n        \n        .donation-content {\n          padding: 48px 32px;\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n        \n        .section {\n          margin-bottom: 56px;\n        }\n        \n        .section-title {\n          font-size: 28px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 8px 0;\n          letter-spacing: -0.3px;\n        }\n        \n        .section-description {\n          font-size: 16px;\n          color: #6E6E6E;\n          margin: 0 0 32px 0;\n          line-height: 1.6;\n        }\n        \n        .amounts-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 20px;\n          margin-bottom: 32px;\n        }\n        \n        .amount-card {\n          background: #FFFFFF;\n          border: 2px solid #E5DCC2;\n          border-radius: 20px;\n          padding: 24px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          text-align: center;\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .amount-card:hover {\n          border-color: #E91E63;\n          transform: translateY(-4px);\n          box-shadow: 0 12px 32px rgba(233, 30, 99, 0.15);\n        }\n        \n        .amount-card.selected {\n          border-color: #E91E63;\n          background: rgba(233, 30, 99, 0.05);\n          box-shadow: 0 8px 24px rgba(233, 30, 99, 0.2);\n        }\n        \n        .amount-card.popular {\n          border-color: #E91E63;\n        }\n        \n        .popular-badge {\n          position: absolute;\n          top: -8px;\n          left: 50%;\n          transform: translateX(-50%);\n          background: #E91E63;\n          color: #FFFFFF;\n          padding: 4px 12px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 700;\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .amount-icon {\n          width: 48px;\n          height: 48px;\n          background: rgba(233, 30, 99, 0.1);\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #E91E63;\n          margin: 0 auto 16px;\n        }\n        \n        .amount-value {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin-bottom: 8px;\n        }\n        \n        .amount-description {\n          font-size: 14px;\n          color: #6E6E6E;\n        }\n        \n        .custom-amount {\n          background: #FFFFFF;\n          border: 2px solid #E5DCC2;\n          border-radius: 16px;\n          padding: 24px;\n        }\n        \n        .custom-label {\n          display: block;\n          font-size: 16px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin-bottom: 12px;\n        }\n        \n        .custom-input-group {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n        }\n        \n        .custom-input {\n          flex: 1;\n          padding: 16px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          font-size: 18px;\n          font-weight: 600;\n          text-align: right;\n        }\n        \n        .custom-input:focus {\n          outline: none;\n          border-color: #E91E63;\n        }\n        \n        .currency {\n          font-size: 18px;\n          font-weight: 600;\n          color: #6E6E6E;\n        }\n        \n        .payment-methods {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n        \n        .payment-method {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n          background: #FFFFFF;\n          border: 2px solid #E5DCC2;\n          border-radius: 16px;\n          padding: 20px 24px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          text-align: left;\n        }\n        \n        .payment-method.selected {\n          border-color: #E91E63;\n          background: rgba(233, 30, 99, 0.05);\n        }\n        \n        .payment-method.disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n        \n        .payment-icon {\n          width: 48px;\n          height: 48px;\n          background: rgba(233, 30, 99, 0.1);\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #E91E63;\n        }\n        \n        .payment-content {\n          flex: 1;\n        }\n        \n        .payment-name {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin-bottom: 4px;\n        }\n        \n        .payment-description {\n          font-size: 14px;\n          color: #6E6E6E;\n        }\n        \n        .coming-soon-badge {\n          background: #FFB400;\n          color: #FFFFFF;\n          padding: 2px 8px;\n          border-radius: 8px;\n          font-size: 11px;\n          font-weight: 600;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n          margin-top: 8px;\n          display: inline-block;\n        }\n        \n        .payment-networks {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n          gap: 24px;\n        }\n        \n        .network-card {\n          background: #FFFFFF;\n          border: 2px solid #E5DCC2;\n          border-radius: 20px;\n          padding: 24px;\n          box-shadow: 0 4px 16px rgba(233, 30, 99, 0.1);\n        }\n        \n        .network-header {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          margin-bottom: 20px;\n        }\n        \n        .network-indicator {\n          width: 12px;\n          height: 12px;\n          border-radius: 50%;\n        }\n        \n        .network-name {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n        }\n        \n        .network-details {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n        \n        .detail-item {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n        \n        .detail-label {\n          font-size: 14px;\n          font-weight: 600;\n          color: #6E6E6E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .detail-value {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 16px;\n          font-weight: 600;\n          color: #2E2E2E;\n        }\n        \n        .detail-value.amount-highlight {\n          font-size: 20px;\n          color: #E91E63;\n          font-weight: 800;\n        }\n        \n        .phone-number {\n          font-family: 'Courier New', monospace;\n          background: rgba(233, 30, 99, 0.1);\n          padding: 4px 8px;\n          border-radius: 6px;\n        }\n        \n        .copy-button {\n          background: #F3EED9;\n          border: 1px solid #E5DCC2;\n          color: #6E6E6E;\n          padding: 6px;\n          border-radius: 6px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .copy-button:hover {\n          background: #E91E63;\n          color: #FFFFFF;\n          border-color: #E91E63;\n        }\n        \n        .payment-note {\n          display: flex;\n          gap: 16px;\n          background: rgba(233, 30, 99, 0.05);\n          border: 1px solid rgba(233, 30, 99, 0.2);\n          border-radius: 16px;\n          padding: 24px;\n          margin-top: 32px;\n        }\n        \n        .note-icon {\n          width: 40px;\n          height: 40px;\n          background: #E91E63;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #FFFFFF;\n          flex-shrink: 0;\n        }\n        \n        .note-content h4 {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 8px 0;\n        }\n        \n        .note-content p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n          line-height: 1.6;\n        }\n        \n        .why-donate-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n          gap: 24px;\n        }\n        \n        .why-card {\n          background: #FFFFFF;\n          border: 1px solid #E5DCC2;\n          border-radius: 20px;\n          padding: 28px;\n          text-align: center;\n          transition: all 0.3s ease;\n        }\n        \n        .why-card:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 12px 32px rgba(233, 30, 99, 0.1);\n          border-color: rgba(233, 30, 99, 0.3);\n        }\n        \n        .why-icon {\n          width: 56px;\n          height: 56px;\n          background: rgba(233, 30, 99, 0.1);\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #E91E63;\n          margin: 0 auto 20px;\n        }\n        \n        .why-card h3 {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 12px 0;\n        }\n        \n        .why-card p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n          line-height: 1.6;\n        }\n        \n        /* Responsive Design */\n        @media (max-width: 768px) {\n          .hero-section {\n            padding: 32px 16px;\n          }\n          \n          .hero-title {\n            font-size: 32px;\n          }\n          \n          .hero-subtitle {\n            font-size: 18px;\n          }\n          \n          .impact-stats {\n            flex-direction: column;\n            gap: 16px;\n          }\n          \n          .impact-item {\n            justify-content: center;\n          }\n          \n          .donation-content {\n            padding: 32px 16px;\n          }\n          \n          .amounts-grid {\n            grid-template-columns: 1fr 1fr;\n            gap: 16px;\n          }\n          \n          .payment-networks {\n            grid-template-columns: 1fr;\n          }\n          \n          .why-donate-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .detail-item {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 8px;\n          }\n          \n          .detail-value {\n            justify-content: space-between;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .hero-main {\n            gap: 16px;\n          }\n          \n          .hero-icon {\n            width: 72px;\n            height: 72px;\n          }\n          \n          .hero-title {\n            font-size: 28px;\n          }\n          \n          .amounts-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .amount-card {\n            padding: 20px;\n          }\n          \n          .payment-method {\n            padding: 16px 20px;\n          }\n          \n          .network-card {\n            padding: 20px;\n          }\n          \n          .payment-note {\n            flex-direction: column;\n            gap: 12px;\n            text-align: center;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};","// src/renderer/components/EnhancedAuthentication.tsx\nimport React, { useState } from 'react';\nimport { \n  Book, \n  User, \n  Lock, \n  Eye, \n  EyeOff, \n  Shield,\n  Sparkles,\n  Users,\n  BarChart3,\n  Globe,\n  Wifi,\n  WifiOff,\n  Building,\n  KeyRound,\n  UserPlus,\n  LogIn,\n  ArrowRight,\n  CheckCircle,\n  AlertCircle,\n  Mail,\n  Phone,\n  MapPin\n} from 'lucide-react';\n\ninterface EnhancedAuthenticationProps {\n  onLogin: (credentials: { \n    email: string; \n    password: string; \n    institutionCode?: string;\n    mode: 'login' | 'register' | 'create_institution';\n    userData?: any;\n  }) => Promise<void>;\n}\n\nexport const EnhancedAuthentication: React.FC<EnhancedAuthenticationProps> = ({ onLogin }) => {\n  const [mode, setMode] = useState<'login' | 'register' | 'create_institution'>('login');\n  const [step, setStep] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [isOnline, setIsOnline] = useState(navigator.onLine);\n\n  // Données du formulaire\n  const [loginData, setLoginData] = useState({\n    email: '',\n    password: '',\n    institutionCode: ''\n  });\n\n  const [registerData, setRegisterData] = useState({\n    email: '',\n    password: '',\n    confirmPassword: '',\n    firstName: '',\n    lastName: '',\n    institutionCode: '',\n    role: 'user' as 'admin' | 'librarian' | 'user'\n  });\n\n  const [institutionData, setInstitutionData] = useState({\n    name: '',\n    type: 'library' as 'school' | 'university' | 'library' | 'other',\n    address: '',\n    city: '',\n    country: 'Cameroun',\n    phone: '',\n    email: '',\n    website: '',\n    description: '',\n    director: '',\n    adminEmail: '',\n    adminPassword: '',\n    adminFirstName: '',\n    adminLastName: ''\n  });\n\n  React.useEffect(() => {\n    const handleOnlineStatus = () => {\n      setIsOnline(navigator.onLine);\n    };\n\n    window.addEventListener('online', handleOnlineStatus);\n    window.addEventListener('offline', handleOnlineStatus);\n\n    return () => {\n      window.removeEventListener('online', handleOnlineStatus);\n      window.removeEventListener('offline', handleOnlineStatus);\n    };\n  }, []);\n\n  // Connexion rapide pour le développement\n  const handleDevLogin = async () => {\n    setError('');\n    setSuccess('');\n    setIsLoading(true);\n\n    try {\n      await onLogin({\n        email: 'admin@bibliotheque-dev.local',\n        password: 'dev123456',\n        institutionCode: 'DEV-BIBLIO',\n        mode: 'login'\n      });\n    } catch (error) {\n      console.error('Connexion dev échouée:', error);\n      setError('Erreur de connexion développement');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n    setIsLoading(true);\n\n    try {\n      if (mode === 'login') {\n        await onLogin({\n          email: loginData.email,\n          password: loginData.password,\n          institutionCode: loginData.institutionCode,\n          mode: 'login'\n        });\n      } else if (mode === 'register') {\n        if (registerData.password !== registerData.confirmPassword) {\n          throw new Error('Les mots de passe ne correspondent pas');\n        }\n        \n        await onLogin({\n          email: registerData.email,\n          password: registerData.password,\n          institutionCode: registerData.institutionCode,\n          mode: 'register',\n          userData: {\n            firstName: registerData.firstName,\n            lastName: registerData.lastName,\n            role: registerData.role\n          }\n        });\n      } else if (mode === 'create_institution') {\n        if (step === 2) {\n          await onLogin({\n            email: institutionData.adminEmail,\n            password: institutionData.adminPassword,\n            mode: 'create_institution',\n            userData: {\n              institution: institutionData,\n              admin: {\n                firstName: institutionData.adminFirstName,\n                lastName: institutionData.adminLastName\n              }\n            }\n          });\n        }\n      }\n    } catch (err: any) {\n      setError(err.message || 'Erreur de connexion');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const validateStep1 = () => {\n    return institutionData.name && \n           institutionData.type && \n           institutionData.city && \n           institutionData.country;\n  };\n\n  const validateStep2 = () => {\n    return institutionData.adminEmail &&\n           institutionData.adminPassword &&\n           institutionData.adminFirstName &&\n           institutionData.adminLastName &&\n           institutionData.adminPassword.length >= 6;\n  };\n\n  const nextStep = () => {\n    if (step === 1 && validateStep1()) {\n      setStep(2);\n    }\n  };\n\n  const previousStep = () => {\n    if (step === 2) {\n      setStep(1);\n    }\n  };\n\n  const institutionTypes = [\n    { value: 'school', label: 'École/Lycée', icon: '🏫' },\n    { value: 'university', label: 'Université', icon: '🎓' },\n    { value: 'library', label: 'Bibliothèque', icon: '📚' },\n    { value: 'other', label: 'Autre', icon: '🏢' }\n  ];\n\n  const roles = [\n    { value: 'user', label: 'Utilisateur', description: 'Accès de base à la bibliothèque' },\n    { value: 'librarian', label: 'Bibliothécaire', description: 'Gestion des livres et emprunts' },\n    { value: 'admin', label: 'Administrateur', description: 'Accès complet au système' }\n  ];\n\n  return (\n    <div className=\"enhanced-auth\">\n      <div className=\"auth-background\">\n        <div className=\"auth-pattern\"></div>\n        <div className=\"floating-elements\">\n          <div className=\"floating-book\"></div>\n          <div className=\"floating-book\"></div>\n          <div className=\"floating-book\"></div>\n        </div>\n      </div>\n\n      <div className=\"auth-content\">\n        {/* Left Side - Branding */}\n        <div className=\"auth-branding\">\n          <div className=\"brand-logo\">\n            <Book size={48} />\n          </div>\n          <h1 className=\"brand-title\">Bibliothèque Cloud</h1>\n          <p className=\"brand-subtitle\">Système de gestion moderne et collaboratif</p>\n          \n          <div className=\"features-list\">\n            <div className=\"feature-item\">\n              <Users size={20} />\n              <span>Multi-établissements</span>\n            </div>\n            <div className=\"feature-item\">\n              <BarChart3 size={20} />\n              <span>Synchronisation cloud</span>\n            </div>\n            <div className=\"feature-item\">\n              <Shield size={20} />\n              <span>Sécurisé et fiable</span>\n            </div>\n            <div className=\"feature-item\">\n              <Globe size={20} />\n              <span>Accessible partout</span>\n            </div>\n          </div>\n\n          {/* Connection Status */}\n          <div className={`connection-status ${isOnline ? 'online' : 'offline'}`}>\n            {isOnline ? <Wifi size={16} /> : <WifiOff size={16} />}\n            <span>{isOnline ? 'En ligne' : 'Hors ligne'}</span>\n          </div>\n        </div>\n\n        {/* Right Side - Authentication */}\n        <div className=\"auth-form-container\">\n          <div className=\"auth-card\">\n            <div className=\"auth-header\">\n              <div className=\"auth-tabs\">\n                <button\n                  className={`auth-tab ${mode === 'login' ? 'active' : ''}`}\n                  onClick={() => { setMode('login'); setStep(1); }}\n                >\n                  <LogIn size={16} />\n                  Connexion\n                </button>\n                <button\n                  className={`auth-tab ${mode === 'register' ? 'active' : ''}`}\n                  onClick={() => { setMode('register'); setStep(1); }}\n                >\n                  <UserPlus size={16} />\n                  Inscription\n                </button>\n                <button\n                  className={`auth-tab ${mode === 'create_institution' ? 'active' : ''}`}\n                  onClick={() => { setMode('create_institution'); setStep(1); }}\n                >\n                  <Building size={16} />\n                  Créer établissement\n                </button>\n              </div>\n              \n              <div className=\"mode-indicator\">\n                <Sparkles size={16} />\n                <span>\n                  {mode === 'login' && 'Connectez-vous à votre établissement'}\n                  {mode === 'register' && 'Rejoignez un établissement existant'}\n                  {mode === 'create_institution' && `Créez votre établissement ${step === 2 ? '- Administrateur' : '- Informations'}`}\n                </span>\n              </div>\n\n              {/* Progress bar for institution creation */}\n              {mode === 'create_institution' && (\n                <div className=\"progress-bar\">\n                  <div className=\"progress-steps\">\n                    <div className={`progress-step ${step >= 1 ? 'active' : ''}`}>\n                      <div className=\"step-number\">1</div>\n                      <span>Établissement</span>\n                    </div>\n                    <div className=\"progress-line\"></div>\n                    <div className={`progress-step ${step >= 2 ? 'active' : ''}`}>\n                      <div className=\"step-number\">2</div>\n                      <span>Administrateur</span>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {error && (\n              <div className=\"error-message\">\n                <AlertCircle size={16} />\n                <span>{error}</span>\n              </div>\n            )}\n\n            {success && (\n              <div className=\"success-message\">\n                <CheckCircle size={16} />\n                <span>{success}</span>\n              </div>\n            )}\n\n            {/* Login Form */}\n            {mode === 'login' && (\n              <form onSubmit={handleSubmit} className=\"auth-form\">\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Email</label>\n                  <div className=\"input-wrapper\">\n                    <Mail size={20} />\n                    <input\n                      type=\"email\"\n                      value={loginData.email}\n                      onChange={(e) => setLoginData(prev => ({ ...prev, email: e.target.value }))}\n                      className=\"auth-input\"\n                      placeholder=\"votre@email.com\"\n                      required\n                      disabled={isLoading}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Mot de passe</label>\n                  <div className=\"input-wrapper\">\n                    <Lock size={20} />\n                    <input\n                      type={showPassword ? 'text' : 'password'}\n                      value={loginData.password}\n                      onChange={(e) => setLoginData(prev => ({ ...prev, password: e.target.value }))}\n                      className=\"auth-input\"\n                      placeholder=\"Votre mot de passe\"\n                      required\n                      disabled={isLoading}\n                    />\n                    <button\n                      type=\"button\"\n                      className=\"password-toggle\"\n                      onClick={() => setShowPassword(!showPassword)}\n                    >\n                      {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                    </button>\n                  </div>\n                </div>\n\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Code de l'établissement</label>\n                  <div className=\"input-wrapper\">\n                    <KeyRound size={20} />\n                    <input\n                      type=\"text\"\n                      value={loginData.institutionCode}\n                      onChange={(e) => setLoginData(prev => ({ ...prev, institutionCode: e.target.value.toUpperCase() }))}\n                      className=\"auth-input\"\n                      placeholder=\"CODE123\"\n                      required\n                      disabled={isLoading}\n                      maxLength={8}\n                    />\n                  </div>\n                  <small className=\"form-hint\">\n                    8 caractères fournis par votre établissement\n                  </small>\n                </div>\n\n                <button\n                  type=\"submit\"\n                  className=\"auth-button primary\"\n                  disabled={isLoading || !loginData.email || !loginData.password || !loginData.institutionCode}\n                >\n                  {isLoading ? (\n                    <>\n                      <div className=\"loading-spinner\"></div>\n                      Connexion...\n                    </>\n                  ) : (\n                    <>\n                      <LogIn size={18} />\n                      Se connecter\n                      <ArrowRight size={16} />\n                    </>\n                  )}\n                </button>\n\n                {/* Bouton de développement - affiché uniquement en mode dev */}\n                {process.env.NODE_ENV !== 'production' && (\n                  <div className=\"dev-section\">\n                    <div className=\"dev-separator\">\n                      <span>MODE DÉVELOPPEMENT</span>\n                    </div>\n                    <button\n                      type=\"button\"\n                      onClick={handleDevLogin}\n                      className=\"auth-button dev-button\"\n                      disabled={isLoading}\n                    >\n                      {isLoading ? (\n                        <>\n                          <div className=\"loading-spinner\"></div>\n                          Connexion...\n                        </>\n                      ) : (\n                        <>\n                          <Sparkles size={18} />\n                          Connexion rapide (Dev)\n                          <ArrowRight size={16} />\n                        </>\n                      )}\n                    </button>\n                    <small className=\"dev-hint\">\n                      Compte : admin@bibliotheque-dev.local | Code : DEV-BIBLIO\n                    </small>\n                  </div>\n                )}\n              </form>\n            )}\n\n            {/* Register Form */}\n            {mode === 'register' && (\n              <form onSubmit={handleSubmit} className=\"auth-form\">\n                <div className=\"form-grid\">\n                  <div className=\"form-group\">\n                    <label className=\"form-label\">Prénom</label>\n                    <div className=\"input-wrapper\">\n                      <User size={20} />\n                      <input\n                        type=\"text\"\n                        value={registerData.firstName}\n                        onChange={(e) => setRegisterData(prev => ({ ...prev, firstName: e.target.value }))}\n                        className=\"auth-input\"\n                        placeholder=\"Votre prénom\"\n                        required\n                        disabled={isLoading}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label className=\"form-label\">Nom</label>\n                    <div className=\"input-wrapper\">\n                      <User size={20} />\n                      <input\n                        type=\"text\"\n                        value={registerData.lastName}\n                        onChange={(e) => setRegisterData(prev => ({ ...prev, lastName: e.target.value }))}\n                        className=\"auth-input\"\n                        placeholder=\"Votre nom\"\n                        required\n                        disabled={isLoading}\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Email</label>\n                  <div className=\"input-wrapper\">\n                    <Mail size={20} />\n                    <input\n                      type=\"email\"\n                      value={registerData.email}\n                      onChange={(e) => setRegisterData(prev => ({ ...prev, email: e.target.value }))}\n                      className=\"auth-input\"\n                      placeholder=\"votre@email.com\"\n                      required\n                      disabled={isLoading}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Rôle souhaité</label>\n                  <div className=\"role-selector\">\n                    {roles.map((role) => (\n                      <label key={role.value} className=\"role-option\">\n                        <input\n                          type=\"radio\"\n                          name=\"role\"\n                          value={role.value}\n                          checked={registerData.role === role.value}\n                          onChange={(e) => setRegisterData(prev => ({ ...prev, role: e.target.value as any }))}\n                          disabled={isLoading}\n                        />\n                        <div className=\"role-content\">\n                          <span className=\"role-title\">{role.label}</span>\n                          <span className=\"role-description\">{role.description}</span>\n                        </div>\n                      </label>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"form-group\">\n                  <label className=\"form-label\">Code de l'établissement</label>\n                  <div className=\"input-wrapper\">\n                    <KeyRound size={20} />\n                    <input\n                      type=\"text\"\n                      value={registerData.institutionCode}\n                      onChange={(e) => setRegisterData(prev => ({ ...prev, institutionCode: e.target.value.toUpperCase() }))}\n                      className=\"auth-input\"\n                      placeholder=\"CODE123\"\n                      required\n                      disabled={isLoading}\n                      maxLength={8}\n                    />\n                  </div>\n                  <small className=\"form-hint\">\n                    Demandez ce code à votre administrateur\n                  </small>\n                </div>\n\n                <div className=\"form-grid\">\n                  <div className=\"form-group\">\n                    <label className=\"form-label\">Mot de passe</label>\n                    <div className=\"input-wrapper\">\n                      <Lock size={20} />\n                      <input\n                        type={showPassword ? 'text' : 'password'}\n                        value={registerData.password}\n                        onChange={(e) => setRegisterData(prev => ({ ...prev, password: e.target.value }))}\n                        className=\"auth-input\"\n                        placeholder=\"Mot de passe\"\n                        required\n                        disabled={isLoading}\n                        minLength={6}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label className=\"form-label\">Confirmer</label>\n                    <div className=\"input-wrapper\">\n                      <Lock size={20} />\n                      <input\n                        type={showPassword ? 'text' : 'password'}\n                        value={registerData.confirmPassword}\n                        onChange={(e) => setRegisterData(prev => ({ ...prev, confirmPassword: e.target.value }))}\n                        className=\"auth-input\"\n                        placeholder=\"Confirmer\"\n                        required\n                        disabled={isLoading}\n                      />\n                      <button\n                        type=\"button\"\n                        className=\"password-toggle\"\n                        onClick={() => setShowPassword(!showPassword)}\n                      >\n                        {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n\n                <button\n                  type=\"submit\"\n                  className=\"auth-button primary\"\n                  disabled={isLoading || !registerData.email || !registerData.password || !registerData.firstName || !registerData.lastName || !registerData.institutionCode}\n                >\n                  {isLoading ? (\n                    <>\n                      <div className=\"loading-spinner\"></div>\n                      Création...\n                    </>\n                  ) : (\n                    <>\n                      <UserPlus size={18} />\n                      Créer le compte\n                      <ArrowRight size={16} />\n                    </>\n                  )}\n                </button>\n              </form>\n            )}\n\n            {/* Create Institution Form */}\n            {mode === 'create_institution' && (\n              <form onSubmit={handleSubmit} className=\"auth-form\">\n                {step === 1 && (\n                  <div className=\"institution-step\">\n                    <div className=\"step-header\">\n                      <Building size={24} />\n                      <h3>Informations de l'établissement</h3>\n                      <p>Créez votre établissement et obtenez votre code unique</p>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label className=\"form-label\">Nom de l'établissement *</label>\n                      <div className=\"input-wrapper\">\n                        <Building size={20} />\n                        <input\n                          type=\"text\"\n                          value={institutionData.name}\n                          onChange={(e) => setInstitutionData(prev => ({ ...prev, name: e.target.value }))}\n                          className=\"auth-input\"\n                          placeholder=\"Lycée Moderne de Douala\"\n                          required\n                          disabled={isLoading}\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label className=\"form-label\">Type d'établissement *</label>\n                      <div className=\"type-selector\">\n                        {institutionTypes.map((type) => (\n                          <label key={type.value} className=\"type-option\">\n                            <input\n                              type=\"radio\"\n                              name=\"type\"\n                              value={type.value}\n                              checked={institutionData.type === type.value}\n                              onChange={(e) => setInstitutionData(prev => ({ ...prev, type: e.target.value as any }))}\n                              disabled={isLoading}\n                            />\n                            <div className=\"type-content\">\n                              <span className=\"type-icon\">{type.icon}</span>\n                              <span className=\"type-label\">{type.label}</span>\n                            </div>\n                          </label>\n                        ))}\n                      </div>\n                    </div>\n\n                    <div className=\"form-grid\">\n                      <div className=\"form-group\">\n                        <label className=\"form-label\">Ville *</label>\n                        <div className=\"input-wrapper\">\n                          <MapPin size={20} />\n                          <input\n                            type=\"text\"\n                            value={institutionData.city}\n                            onChange={(e) => setInstitutionData(prev => ({ ...prev, city: e.target.value }))}\n                            className=\"auth-input\"\n                            placeholder=\"Douala\"\n                            required\n                            disabled={isLoading}\n                          />\n                        </div>\n                      </div>\n\n                      <div className=\"form-group\">\n                        <label className=\"form-label\">Pays *</label>\n                        <div className=\"input-wrapper\">\n                          <Globe size={20} />\n                          <input\n                            type=\"text\"\n                            value={institutionData.country}\n                            onChange={(e) => setInstitutionData(prev => ({ ...prev, country: e.target.value }))}\n                            className=\"auth-input\"\n                            placeholder=\"Cameroun\"\n                            required\n                            disabled={isLoading}\n                          />\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label className=\"form-label\">Adresse</label>\n                      <div className=\"input-wrapper\">\n                        <MapPin size={20} />\n                        <input\n                          type=\"text\"\n                          value={institutionData.address}\n                          onChange={(e) => setInstitutionData(prev => ({ ...prev, address: e.target.value }))}\n                          className=\"auth-input\"\n                          placeholder=\"Avenue de la Liberté\"\n                          disabled={isLoading}\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-grid\">\n                      <div className=\"form-group\">\n                        <label className=\"form-label\">Téléphone</label>\n                        <div className=\"input-wrapper\">\n                          <Phone size={20} />\n                          <input\n                            type=\"tel\"\n                            value={institutionData.phone}\n                            onChange={(e) => setInstitutionData(prev => ({ ...prev, phone: e.target.value }))}\n                            className=\"auth-input\"\n                            placeholder=\"+237 XXX XXX XXX\"\n                            disabled={isLoading}\n                          />\n                        </div>\n                      </div>\n\n                      <div className=\"form-group\">\n                        <label className=\"form-label\">Email</label>\n                        <div className=\"input-wrapper\">\n                          <Mail size={20} />\n                          <input\n                            type=\"email\"\n                            value={institutionData.email}\n                            onChange={(e) => setInstitutionData(prev => ({ ...prev, email: e.target.value }))}\n                            className=\"auth-input\"\n                            placeholder=\"contact@etablissement.com\"\n                            disabled={isLoading}\n                          />\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label className=\"form-label\">Description</label>\n                      <textarea\n                        value={institutionData.description}\n                        onChange={(e) => setInstitutionData(prev => ({ ...prev, description: e.target.value }))}\n                        className=\"auth-textarea\"\n                        placeholder=\"Brève description de votre établissement...\"\n                        rows={3}\n                        disabled={isLoading}\n                      />\n                    </div>\n\n                    <button\n                      type=\"button\"\n                      className=\"auth-button primary\"\n                      onClick={nextStep}\n                      disabled={!validateStep1() || isLoading}\n                    >\n                      Continuer\n                      <ArrowRight size={16} />\n                    </button>\n                  </div>\n                )}\n\n                {step === 2 && (\n                  <div className=\"admin-step\">\n                    <div className=\"step-header\">\n                      <Shield size={24} />\n                      <h3>Compte administrateur</h3>\n                      <p>Créez le compte administrateur principal</p>\n                    </div>\n\n                    <div className=\"form-grid\">\n                      <div className=\"form-group\">\n                        <label className=\"form-label\">Prénom *</label>\n                        <div className=\"input-wrapper\">\n                          <User size={20} />\n                          <input\n                            type=\"text\"\n                            value={institutionData.adminFirstName}\n                            onChange={(e) => setInstitutionData(prev => ({ ...prev, adminFirstName: e.target.value }))}\n                            className=\"auth-input\"\n                            placeholder=\"Prénom\"\n                            required\n                            disabled={isLoading}\n                          />\n                        </div>\n                      </div>\n\n                      <div className=\"form-group\">\n                        <label className=\"form-label\">Nom *</label>\n                        <div className=\"input-wrapper\">\n                          <User size={20} />\n                          <input\n                            type=\"text\"\n                            value={institutionData.adminLastName}\n                            onChange={(e) => setInstitutionData(prev => ({ ...prev, adminLastName: e.target.value }))}\n                            className=\"auth-input\"\n                            placeholder=\"Nom\"\n                            required\n                            disabled={isLoading}\n                          />\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label className=\"form-label\">Email administrateur *</label>\n                      <div className=\"input-wrapper\">\n                        <Mail size={20} />\n                        <input\n                          type=\"email\"\n                          value={institutionData.adminEmail}\n                          onChange={(e) => setInstitutionData(prev => ({ ...prev, adminEmail: e.target.value }))}\n                          className=\"auth-input\"\n                          placeholder=\"admin@etablissement.com\"\n                          required\n                          disabled={isLoading}\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label className=\"form-label\">Mot de passe *</label>\n                      <div className=\"input-wrapper\">\n                        <Lock size={20} />\n                        <input\n                          type={showPassword ? 'text' : 'password'}\n                          value={institutionData.adminPassword}\n                          onChange={(e) => setInstitutionData(prev => ({ ...prev, adminPassword: e.target.value }))}\n                          className=\"auth-input\"\n                          placeholder=\"Mot de passe sécurisé\"\n                          required\n                          disabled={isLoading}\n                          minLength={6}\n                        />\n                        <button\n                          type=\"button\"\n                          className=\"password-toggle\"\n                          onClick={() => setShowPassword(!showPassword)}\n                        >\n                          {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                        </button>\n                      </div>\n                      <small className=\"form-hint\">\n                        Minimum 6 caractères\n                      </small>\n                    </div>\n\n                    <div className=\"form-actions\">\n                      <button\n                        type=\"button\"\n                        className=\"auth-button secondary\"\n                        onClick={previousStep}\n                        disabled={isLoading}\n                      >\n                        Précédent\n                      </button>\n                      <button\n                        type=\"submit\"\n                        className=\"auth-button primary\"\n                        disabled={!validateStep2() || isLoading}\n                      >\n                        {isLoading ? (\n                          <>\n                            <div className=\"loading-spinner\"></div>\n                            Création...\n                          </>\n                        ) : (\n                          <>\n                            <Building size={18} />\n                            Créer l'établissement\n                          </>\n                        )}\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </form>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <style>{`\n        .enhanced-auth {\n          height: 100vh;\n          display: flex;\n          position: relative;\n          overflow: hidden;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n        }\n        \n        .auth-background {\n          position: absolute;\n          inset: 0;\n          overflow: hidden;\n        }\n        \n        .auth-pattern {\n          position: absolute;\n          inset: 0;\n          background-image: \n            radial-gradient(circle at 25% 25%, rgba(243, 238, 217, 0.08) 0%, transparent 50%),\n            radial-gradient(circle at 75% 75%, rgba(194, 87, 27, 0.06) 0%, transparent 50%);\n          animation: drift 25s ease-in-out infinite;\n        }\n        \n        @keyframes drift {\n          0%, 100% { transform: translate(0, 0) rotate(0deg); }\n          33% { transform: translate(30px, -30px) rotate(1deg); }\n          66% { transform: translate(-20px, 20px) rotate(-1deg); }\n        }\n        \n        .floating-elements {\n          position: absolute;\n          inset: 0;\n          pointer-events: none;\n        }\n        \n        .floating-book {\n          position: absolute;\n          width: 24px;\n          height: 32px;\n          background: rgba(243, 238, 217, 0.1);\n          border-radius: 4px;\n          animation: float 8s ease-in-out infinite;\n        }\n        \n        .floating-book:nth-child(1) {\n          top: 20%;\n          left: 10%;\n          animation-delay: 0s;\n        }\n        \n        .floating-book:nth-child(2) {\n          top: 60%;\n          left: 15%;\n          animation-delay: 2s;\n        }\n        \n        .floating-book:nth-child(3) {\n          top: 40%;\n          left: 5%;\n          animation-delay: 4s;\n        }\n        \n        @keyframes float {\n          0%, 100% { transform: translateY(0px) rotate(0deg); }\n          50% { transform: translateY(-20px) rotate(2deg); }\n        }\n        \n        .auth-content {\n          display: flex;\n          width: 100%;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .auth-branding {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          padding: 60px;\n          color: #F3EED9;\n          max-width: 500px;\n        }\n        \n        .brand-logo {\n          width: 80px;\n          height: 80px;\n          background: rgba(243, 238, 217, 0.15);\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin-bottom: 32px;\n          border: 1px solid rgba(243, 238, 217, 0.2);\n          backdrop-filter: blur(10px);\n        }\n        \n        .brand-title {\n          font-size: 48px;\n          font-weight: 800;\n          margin: 0 0 16px 0;\n          letter-spacing: -1px;\n        }\n        \n        .brand-subtitle {\n          font-size: 20px;\n          opacity: 0.9;\n          margin: 0 0 48px 0;\n          line-height: 1.5;\n        }\n        \n        .features-list {\n          display: flex;\n          flex-direction: column;\n          gap: 20px;\n          margin-bottom: 40px;\n        }\n        \n        .feature-item {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          font-size: 16px;\n          opacity: 0.9;\n        }\n        \n        .connection-status {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 16px;\n          border-radius: 12px;\n          font-size: 14px;\n          font-weight: 600;\n          width: fit-content;\n        }\n        \n        .connection-status.online {\n          background: rgba(76, 175, 80, 0.2);\n          color: #4CAF50;\n          border: 1px solid rgba(76, 175, 80, 0.3);\n        }\n        \n        .connection-status.offline {\n          background: rgba(255, 152, 0, 0.2);\n          color: #FF9800;\n          border: 1px solid rgba(255, 152, 0, 0.3);\n        }\n        \n        .auth-form-container {\n          flex: 1;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 40px;\n          background: rgba(255, 255, 255, 0.05);\n          backdrop-filter: blur(10px);\n          max-width: 600px;\n        }\n        \n        .auth-card {\n          width: 100%;\n          background: rgba(255, 255, 255, 0.95);\n          border-radius: 24px;\n          padding: 0;\n          box-shadow: \n            0 24px 48px rgba(62, 92, 73, 0.2),\n            0 8px 24px rgba(62, 92, 73, 0.12);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n          backdrop-filter: blur(20px);\n          overflow: hidden;\n          max-height: 90vh;\n          overflow-y: auto;\n        }\n        \n        .auth-header {\n          padding: 32px 32px 24px;\n          background: linear-gradient(135deg, #F3EED9 0%, #EAEADC 100%);\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .auth-tabs {\n          display: flex;\n          gap: 4px;\n          background: rgba(62, 92, 73, 0.1);\n          border-radius: 12px;\n          padding: 4px;\n          margin-bottom: 20px;\n        }\n        \n        .auth-tab {\n          flex: 1;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n          padding: 12px 16px;\n          border: none;\n          background: transparent;\n          color: #6E6E6E;\n          font-size: 14px;\n          font-weight: 600;\n          border-radius: 8px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .auth-tab.active {\n          background: #3E5C49;\n          color: #F3EED9;\n          box-shadow: 0 2px 8px rgba(62, 92, 73, 0.2);\n        }\n        \n        .mode-indicator {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          color: #3E5C49;\n          font-size: 16px;\n          font-weight: 600;\n          margin-bottom: 16px;\n        }\n        \n        .progress-bar {\n          margin-top: 16px;\n        }\n        \n        .progress-steps {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 16px;\n        }\n        \n        .progress-step {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 8px;\n          opacity: 0.5;\n          transition: opacity 0.3s ease;\n        }\n        \n        .progress-step.active {\n          opacity: 1;\n        }\n        \n        .step-number {\n          width: 32px;\n          height: 32px;\n          border-radius: 50%;\n          background: rgba(62, 92, 73, 0.2);\n          color: #3E5C49;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-weight: 600;\n          font-size: 14px;\n        }\n        \n        .progress-step.active .step-number {\n          background: #3E5C49;\n          color: #F3EED9;\n        }\n        \n        .progress-line {\n          width: 40px;\n          height: 2px;\n          background: rgba(62, 92, 73, 0.2);\n        }\n        \n        .error-message,\n        .success-message {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 32px;\n          font-size: 14px;\n          font-weight: 600;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .error-message {\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n        }\n        \n        .success-message {\n          background: rgba(62, 92, 73, 0.1);\n          color: #3E5C49;\n        }\n        \n        .auth-form {\n          padding: 32px;\n        }\n        \n        .form-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 20px;\n        }\n        \n        .form-group {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n          margin-bottom: 20px;\n        }\n        \n        .form-label {\n          font-size: 14px;\n          font-weight: 600;\n          color: #2E2E2E;\n        }\n        \n        .input-wrapper {\n          position: relative;\n          display: flex;\n          align-items: center;\n        }\n        \n        .input-wrapper svg {\n          position: absolute;\n          left: 16px;\n          color: #6E6E6E;\n          z-index: 2;\n        }\n        \n        .auth-input,\n        .auth-textarea {\n          width: 100%;\n          padding: 16px 16px 16px 48px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          font-size: 16px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n        }\n        \n        .auth-textarea {\n          padding: 16px;\n          resize: vertical;\n          min-height: 80px;\n        }\n        \n        .auth-input:focus,\n        .auth-textarea:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n        \n        .auth-input:disabled,\n        .auth-textarea:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          background: #F3EED9;\n        }\n        \n        .password-toggle {\n          position: absolute;\n          right: 16px;\n          background: none;\n          border: none;\n          cursor: pointer;\n          color: #6E6E6E;\n          padding: 4px;\n          border-radius: 4px;\n          transition: all 0.2s ease;\n          z-index: 2;\n        }\n        \n        .password-toggle:hover {\n          color: #2E2E2E;\n          background: rgba(110, 110, 110, 0.1);\n        }\n        \n        .role-selector,\n        .type-selector {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .role-option,\n        .type-option {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          background: #FFFFFF;\n        }\n        \n        .role-option:hover,\n        .type-option:hover {\n          border-color: #3E5C49;\n          background: rgba(62, 92, 73, 0.05);\n        }\n        \n        .role-option input:checked + .role-content,\n        .type-option input:checked + .type-content {\n          color: #3E5C49;\n        }\n        \n        .role-option input:checked,\n        .type-option input:checked {\n          accent-color: #3E5C49;\n        }\n        \n        .role-content,\n        .type-content {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n        \n        .type-content {\n          flex-direction: row;\n          align-items: center;\n          gap: 12px;\n        }\n        \n        .role-title,\n        .type-label {\n          font-weight: 600;\n          color: #2E2E2E;\n        }\n        \n        .role-description {\n          font-size: 13px;\n          color: #6E6E6E;\n        }\n        \n        .type-icon {\n          font-size: 20px;\n        }\n        \n        .form-hint {\n          font-size: 12px;\n          color: #6E6E6E;\n          font-style: italic;\n        }\n        \n        .auth-button {\n          width: 100%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n          padding: 16px 24px;\n          border-radius: 12px;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          border: none;\n          margin-bottom: 12px;\n        }\n        \n        .auth-button.primary {\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.3);\n        }\n        \n        .auth-button.primary:hover:not(:disabled) {\n          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.4);\n        }\n        \n        .auth-button.secondary {\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 2px solid #E5DCC2;\n        }\n        \n        .auth-button.secondary:hover:not(:disabled) {\n          background: #EAEADC;\n          color: #2E2E2E;\n          transform: translateY(-1px);\n        }\n        \n        .auth-button:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          transform: none;\n          box-shadow: none;\n        }\n        \n        .loading-spinner {\n          width: 18px;\n          height: 18px;\n          border: 2px solid rgba(243, 238, 217, 0.3);\n          border-top: 2px solid #F3EED9;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n        }\n        \n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        /* Styles pour le mode développement */\n        .dev-section {\n          margin-top: 24px;\n          padding-top: 20px;\n          border-top: 1px solid rgba(62, 92, 73, 0.1);\n        }\n\n        .dev-separator {\n          text-align: center;\n          margin-bottom: 16px;\n          position: relative;\n        }\n\n        .dev-separator span {\n          background: #F3EED9;\n          padding: 0 12px;\n          font-size: 11px;\n          font-weight: 600;\n          color: #C2571B;\n          text-transform: uppercase;\n          letter-spacing: 1px;\n        }\n\n        .dev-separator::before {\n          content: '';\n          position: absolute;\n          top: 50%;\n          left: 0;\n          right: 0;\n          height: 1px;\n          background: linear-gradient(90deg, transparent, #C2571B, transparent);\n          z-index: -1;\n        }\n\n        .auth-button.dev-button {\n          background: linear-gradient(135deg, #C2571B 0%, #A3461A 100%);\n          color: #F3EED9;\n          box-shadow: 0 4px 16px rgba(194, 87, 27, 0.3);\n          border: 2px solid rgba(194, 87, 27, 0.2);\n        }\n\n        .auth-button.dev-button:hover:not(:disabled) {\n          background: linear-gradient(135deg, #A3461A 0%, #8A3C18 100%);\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.4);\n        }\n\n        .dev-hint {\n          display: block;\n          text-align: center;\n          margin-top: 8px;\n          font-size: 10px;\n          color: #6E6E6E;\n          background: rgba(194, 87, 27, 0.05);\n          padding: 6px 12px;\n          border-radius: 16px;\n          border: 1px solid rgba(194, 87, 27, 0.1);\n        }\n        \n        .institution-step,\n        .admin-step {\n          display: flex;\n          flex-direction: column;\n          gap: 24px;\n        }\n        \n        .step-header {\n          text-align: center;\n          margin-bottom: 24px;\n        }\n        \n        .step-header h3 {\n          font-size: 24px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 16px 0 8px 0;\n        }\n        \n        .step-header p {\n          color: #6E6E6E;\n          margin: 0;\n          font-size: 16px;\n        }\n        \n        .form-actions {\n          display: flex;\n          gap: 16px;\n          margin-top: 24px;\n        }\n        \n        .form-actions .auth-button {\n          margin-bottom: 0;\n        }\n        \n        /* Responsive Design */\n        @media (max-width: 1024px) {\n          .auth-content {\n            flex-direction: column;\n          }\n          \n          .auth-branding {\n            padding: 40px;\n            text-align: center;\n            flex: none;\n            max-width: none;\n          }\n          \n          .brand-title {\n            font-size: 36px;\n          }\n          \n          .brand-subtitle {\n            font-size: 18px;\n          }\n          \n          .features-list {\n            flex-direction: row;\n            flex-wrap: wrap;\n            justify-content: center;\n            gap: 16px;\n          }\n          \n          .feature-item {\n            flex-direction: column;\n            text-align: center;\n            gap: 8px;\n            min-width: 120px;\n          }\n          \n          .auth-form-container {\n            max-width: none;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .auth-branding {\n            padding: 32px 20px;\n          }\n          \n          .auth-form-container {\n            padding: 20px;\n          }\n          \n          .auth-card {\n            max-width: none;\n            border-radius: 20px;\n            max-height: none;\n          }\n          \n          .auth-header {\n            padding: 24px 20px 20px;\n          }\n          \n          .auth-form {\n            padding: 24px 20px;\n          }\n          \n          .form-grid {\n            grid-template-columns: 1fr;\n            gap: 16px;\n          }\n          \n          .brand-title {\n            font-size: 28px;\n          }\n          \n          .brand-subtitle {\n            font-size: 16px;\n          }\n          \n          .features-list {\n            flex-direction: column;\n            gap: 12px;\n          }\n          \n          .feature-item {\n            flex-direction: row;\n            justify-content: center;\n          }\n          \n          .auth-tabs {\n            flex-direction: column;\n            gap: 8px;\n          }\n          \n          .auth-tab {\n            flex: none;\n          }\n          \n          .progress-steps {\n            gap: 12px;\n          }\n          \n          .progress-line {\n            width: 30px;\n          }\n          \n          .type-selector {\n            grid-template-columns: 1fr 1fr;\n            display: grid;\n            gap: 12px;\n          }\n          \n          .form-actions {\n            flex-direction: column-reverse;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .auth-branding {\n            padding: 24px 16px;\n          }\n          \n          .auth-form-container {\n            padding: 16px;\n          }\n          \n          .auth-header,\n          .auth-form {\n            padding: 20px 16px;\n          }\n          \n          .brand-logo {\n            width: 64px;\n            height: 64px;\n            margin-bottom: 24px;\n          }\n          \n          .brand-title {\n            font-size: 24px;\n          }\n          \n          .auth-input,\n          .auth-textarea {\n            font-size: 14px;\n          }\n          \n          .type-selector {\n            grid-template-columns: 1fr;\n          }\n          \n          .progress-steps {\n            flex-direction: column;\n            gap: 16px;\n          }\n          \n          .progress-line {\n            width: 2px;\n            height: 20px;\n          }\n        }\n        \n        /* Animation enhancements */\n        .auth-card {\n          animation: slideUp 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n        }\n        \n        @keyframes slideUp {\n          from {\n            opacity: 0;\n            transform: translateY(40px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        \n        .auth-branding {\n          animation: fadeInLeft 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n        }\n        \n        @keyframes fadeInLeft {\n          from {\n            opacity: 0;\n            transform: translateX(-40px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n        \n        /* Accessibility improvements */\n        @media (prefers-reduced-motion: reduce) {\n          .auth-card,\n          .auth-branding,\n          .floating-book,\n          .auth-pattern {\n            animation: none;\n          }\n          \n          .auth-button,\n          .role-option,\n          .type-option {\n            transition: none;\n          }\n          \n          .auth-button:hover,\n          .role-option:hover,\n          .type-option:hover {\n            transform: none;\n          }\n        }\n        \n        /* High contrast mode */\n        @media (prefers-contrast: high) {\n          .auth-input,\n          .auth-textarea,\n          .auth-button {\n            border-width: 3px;\n          }\n          \n          .auth-tab.active {\n            border: 2px solid #F3EED9;\n          }\n          \n          .role-option,\n          .type-option {\n            border-width: 3px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};","// src/renderer/components/InstitutionSetup.tsx\nimport React, { useState } from 'react';\nimport { \n  Building,\n  Key,\n  Users,\n  CheckCircle,\n  Copy,\n  Download,\n  Mail,\n  Share,\n  QrCode,\n  Printer,\n  ArrowRight,\n  Sparkles,\n  Shield,\n  Globe,\n  BookOpen,\n  User,\n  Zap\n} from 'lucide-react';\nimport { Institution } from '../../services/SupabaseService';\n\ninterface InstitutionSetupProps {\n  institutionCode: string;\n  institution: Institution | null;\n  onComplete: () => void;\n}\n\nexport const InstitutionSetup: React.FC<InstitutionSetupProps> = ({\n  institutionCode,\n  institution,\n  onComplete\n}) => {\n  const [currentStep, setCurrentStep] = useState(1);\n  const [copied, setCopied] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleCopyCode = async () => {\n    try {\n      await navigator.clipboard.writeText(institutionCode);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    } catch (error) {\n      console.error('Erreur lors de la copie:', error);\n    }\n  };\n\n  const handleDownloadInfo = () => {\n    const content = `\nINFORMATIONS DE VOTRE ÉTABLISSEMENT\n=====================================\n\nNom: ${institution?.name || 'Non spécifié'}\nCode d'accès: ${institutionCode}\nType: ${institution?.type || 'Non spécifié'}\nVille: ${institution?.city || 'Non spécifié'}\nPays: ${institution?.country || 'Non spécifié'}\n\nINSTRUCTIONS POUR VOS UTILISATEURS:\n====================================\n\n1. Téléchargez l'application Bibliothèque Cloud\n2. Choisissez \"Inscription\" \n3. Entrez le code d'établissement: ${institutionCode}\n4. Remplissez vos informations personnelles\n5. Attendez la validation de votre compte\n\nLIEN DE TÉLÉCHARGEMENT:\n======================\n[Insérez ici le lien de téléchargement de votre application]\n\nDate de création: ${new Date().toLocaleDateString('fr-FR')}\n    `.trim();\n\n    const blob = new Blob([content], { type: 'text/plain' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${institution?.name?.replace(/[^a-zA-Z0-9]/g, '_') || 'institution'}_info.txt`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  const generateQRCode = () => {\n    // Simuler la génération d'un QR Code\n    // En production, vous utiliseriez une vraie bibliothèque QR\n    const qrContent = `Institution: ${institution?.name}\\nCode: ${institutionCode}`;\n    alert(`QR Code généré pour:\\n${qrContent}`);\n  };\n\n  const sendInvitation = () => {\n    const subject = encodeURIComponent(`Invitation - ${institution?.name}`);\n    const body = encodeURIComponent(`\nBonjour,\n\nVous êtes invité(e) à rejoindre ${institution?.name} sur l'application Bibliothèque Cloud.\n\nCode d'établissement: ${institutionCode}\n\nInstructions:\n1. Téléchargez l'application Bibliothèque Cloud\n2. Créez votre compte en utilisant le code ci-dessus\n3. Attendez la validation de votre accès\n\nCordialement,\nL'équipe de ${institution?.name}\n    `);\n    \n    window.open(`mailto:?subject=${subject}&body=${body}`);\n  };\n\n  const nextStep = () => {\n    if (currentStep < 3) {\n      setCurrentStep(currentStep + 1);\n    } else {\n      onComplete();\n    }\n  };\n\n  const previousStep = () => {\n    if (currentStep > 1) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  const steps = [\n    {\n      number: 1,\n      title: \"Félicitations !\",\n      subtitle: \"Votre établissement a été créé\",\n      icon: CheckCircle\n    },\n    {\n      number: 2,\n      title: \"Partagez le code\",\n      subtitle: \"Invitez vos utilisateurs\",\n      icon: Users\n    },\n    {\n      number: 3,\n      title: \"Prêt à commencer\",\n      subtitle: \"Accédez à votre bibliothèque\",\n      icon: BookOpen\n    }\n  ];\n\n  return (\n    <div className=\"institution-setup\">\n      <div className=\"setup-background\">\n        <div className=\"background-pattern\"></div>\n        <div className=\"floating-elements\">\n          <div className=\"floating-icon\">📚</div>\n          <div className=\"floating-icon\">🎓</div>\n          <div className=\"floating-icon\">👥</div>\n          <div className=\"floating-icon\">🔑</div>\n        </div>\n      </div>\n\n      <div className=\"setup-container\">\n        <div className=\"setup-header\">\n          <div className=\"header-logo\">\n            <Building size={48} />\n          </div>\n          <h1 className=\"setup-title\">Configuration de votre établissement</h1>\n          \n          {/* Progress indicator */}\n          <div className=\"progress-container\">\n            <div className=\"progress-steps\">\n              {steps.map((step, index) => (\n                <div key={step.number} className={`progress-step ${currentStep >= step.number ? 'active' : ''} ${currentStep === step.number ? 'current' : ''}`}>\n                  <div className=\"step-circle\">\n                    <step.icon size={20} />\n                  </div>\n                  <div className=\"step-info\">\n                    <span className=\"step-title\">{step.title}</span>\n                    <span className=\"step-subtitle\">{step.subtitle}</span>\n                  </div>\n                  {index < steps.length - 1 && <div className=\"step-connector\"></div>}\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"setup-content\">\n          {/* Step 1: Success */}\n          {currentStep === 1 && (\n            <div className=\"step-content success-step\">\n              <div className=\"success-animation\">\n                <div className=\"success-circle\">\n                  <CheckCircle size={64} />\n                </div>\n                <div className=\"success-sparkles\">\n                  <Sparkles className=\"sparkle sparkle-1\" />\n                  <Sparkles className=\"sparkle sparkle-2\" />\n                  <Sparkles className=\"sparkle sparkle-3\" />\n                </div>\n              </div>\n              \n              <h2 className=\"step-title\">Félicitations ! 🎉</h2>\n              <p className=\"step-description\">\n                Votre établissement <strong>{institution?.name}</strong> a été créé avec succès.\n                Vous êtes maintenant l'administrateur principal et pouvez commencer à gérer votre bibliothèque.\n              </p>\n\n              <div className=\"institution-card\">\n                <div className=\"card-header\">\n                  <Building size={24} />\n                  <h3>Informations de l'établissement</h3>\n                </div>\n                <div className=\"card-content\">\n                  <div className=\"info-row\">\n                    <span className=\"info-label\">Nom:</span>\n                    <span className=\"info-value\">{institution?.name}</span>\n                  </div>\n                  <div className=\"info-row\">\n                    <span className=\"info-label\">Type:</span>\n                    <span className=\"info-value\">\n                      {institution?.type === 'school' && '🏫 École/Lycée'}\n                      {institution?.type === 'university' && '🎓 Université'}\n                      {institution?.type === 'library' && '📚 Bibliothèque'}\n                      {institution?.type === 'other' && '🏢 Autre'}\n                    </span>\n                  </div>\n                  <div className=\"info-row\">\n                    <span className=\"info-label\">Localisation:</span>\n                    <span className=\"info-value\">{institution?.city}, {institution?.country}</span>\n                  </div>\n                  <div className=\"info-row highlight\">\n                    <span className=\"info-label\">Code d'accès:</span>\n                    <span className=\"info-value code-value\">{institutionCode}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"features-preview\">\n                <h3>Ce que vous pouvez faire maintenant :</h3>\n                <div className=\"features-grid\">\n                  <div className=\"feature-item\">\n                    <BookOpen size={20} />\n                    <span>Gérer vos livres</span>\n                  </div>\n                  <div className=\"feature-item\">\n                    <Users size={20} />\n                    <span>Inviter des utilisateurs</span>\n                  </div>\n                  <div className=\"feature-item\">\n                    <Shield size={20} />\n                    <span>Contrôler les accès</span>\n                  </div>\n                  <div className=\"feature-item\">\n                    <Globe size={20} />\n                    <span>Synchroniser en ligne</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Step 2: Share Code */}\n          {currentStep === 2 && (\n            <div className=\"step-content share-step\">\n              <div className=\"share-header\">\n                <div className=\"share-icon\">\n                  <Key size={48} />\n                </div>\n                <h2 className=\"step-title\">Partagez votre code d'établissement</h2>\n                <p className=\"step-description\">\n                  Utilisez ce code unique pour permettre à vos utilisateurs de rejoindre votre établissement.\n                  Gardez-le confidentiel et ne le partagez qu'avec les personnes autorisées.\n                </p>\n              </div>\n\n              <div className=\"code-display\">\n                <div className=\"code-container\">\n                  <div className=\"code-label\">Code d'établissement</div>\n                  <div className=\"code-value-large\">{institutionCode}</div>\n                  <button \n                    className={`copy-button ${copied ? 'copied' : ''}`}\n                    onClick={handleCopyCode}\n                  >\n                    {copied ? <CheckCircle size={18} /> : <Copy size={18} />}\n                    <span>{copied ? 'Copié !' : 'Copier'}</span>\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"sharing-options\">\n                <h3>Options de partage</h3>\n                <div className=\"sharing-grid\">\n                  <button className=\"sharing-option\" onClick={handleDownloadInfo}>\n                    <div className=\"option-icon\">\n                      <Download size={24} />\n                    </div>\n                    <div className=\"option-content\">\n                      <span className=\"option-title\">Télécharger les infos</span>\n                      <span className=\"option-description\">Fichier avec toutes les informations</span>\n                    </div>\n                  </button>\n\n                  <button className=\"sharing-option\" onClick={sendInvitation}>\n                    <div className=\"option-icon\">\n                      <Mail size={24} />\n                    </div>\n                    <div className=\"option-content\">\n                      <span className=\"option-title\">Envoyer par email</span>\n                      <span className=\"option-description\">Invitation pré-rédigée</span>\n                    </div>\n                  </button>\n\n                  <button className=\"sharing-option\" onClick={generateQRCode}>\n                    <div className=\"option-icon\">\n                      <QrCode size={24} />\n                    </div>\n                    <div className=\"option-content\">\n                      <span className=\"option-title\">Générer QR Code</span>\n                      <span className=\"option-description\">Pour un partage rapide</span>\n                    </div>\n                  </button>\n\n                  <button className=\"sharing-option\" onClick={() => window.print()}>\n                    <div className=\"option-icon\">\n                      <Printer size={24} />\n                    </div>\n                    <div className=\"option-content\">\n                      <span className=\"option-title\">Imprimer</span>\n                      <span className=\"option-description\">Affichage physique</span>\n                    </div>\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"instructions-card\">\n                <h4>Instructions pour vos utilisateurs :</h4>\n                <ol className=\"instructions-list\">\n                  <li>Télécharger l'application Bibliothèque Cloud</li>\n                  <li>Choisir \"Inscription\" sur l'écran de connexion</li>\n                  <li>Entrer le code d'établissement : <code>{institutionCode}</code></li>\n                  <li>Remplir leurs informations personnelles</li>\n                  <li>Attendre la validation de leur compte par un administrateur</li>\n                </ol>\n              </div>\n            </div>\n          )}\n\n          {/* Step 3: Ready to Start */}\n          {currentStep === 3 && (\n            <div className=\"step-content ready-step\">\n              <div className=\"ready-animation\">\n                <div className=\"ready-icon\">\n                  <Zap size={64} />\n                </div>\n              </div>\n\n              <h2 className=\"step-title\">Tout est prêt ! 🚀</h2>\n              <p className=\"step-description\">\n                Votre établissement est configuré et prêt à être utilisé. \n                Vous allez maintenant être connecté en tant qu'administrateur principal.\n              </p>\n\n              <div className=\"quick-actions\">\n                <h3>Prochaines étapes recommandées :</h3>\n                <div className=\"actions-list\">\n                  <div className=\"action-item\">\n                    <div className=\"action-number\">1</div>\n                    <div className=\"action-content\">\n                      <span className=\"action-title\">Ajoutez vos premiers livres</span>\n                      <span className=\"action-description\">Commencez à construire votre catalogue</span>\n                    </div>\n                  </div>\n                  <div className=\"action-item\">\n                    <div className=\"action-number\">2</div>\n                    <div className=\"action-content\">\n                      <span className=\"action-title\">Invitez vos bibliothécaires</span>\n                      <span className=\"action-description\">Donnez-leur un accès administrateur</span>\n                    </div>\n                  </div>\n                  <div className=\"action-item\">\n                    <div className=\"action-number\">3</div>\n                    <div className=\"action-content\">\n                      <span className=\"action-title\">Configurez vos paramètres</span>\n                      <span className=\"action-description\">Personnalisez selon vos besoins</span>\n                    </div>\n                  </div>\n                  <div className=\"action-item\">\n                    <div className=\"action-number\">4</div>\n                    <div className=\"action-content\">\n                      <span className=\"action-title\">Partagez le code d'accès</span>\n                      <span className=\"action-description\">Permettez aux utilisateurs de s'inscrire</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"support-info\">\n                <h4>Besoin d'aide ?</h4>\n                <p>\n                  Consultez notre documentation en ligne ou contactez notre support technique \n                  pour vous accompagner dans la prise en main de votre nouvelle bibliothèque.\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Navigation */}\n        <div className=\"setup-navigation\">\n          {currentStep > 1 && (\n            <button \n              className=\"nav-button secondary\"\n              onClick={previousStep}\n              disabled={isLoading}\n            >\n              Précédent\n            </button>\n          )}\n          \n          <button \n            className=\"nav-button primary\"\n            onClick={nextStep}\n            disabled={isLoading}\n          >\n            {isLoading ? (\n              <>\n                <div className=\"loading-spinner\"></div>\n                Chargement...\n              </>\n            ) : (\n              <>\n                {currentStep === 3 ? 'Accéder à ma bibliothèque' : 'Continuer'}\n                <ArrowRight size={18} />\n              </>\n            )}\n          </button>\n        </div>\n      </div>\n\n      <style>{`\n        .institution-setup {\n          height: 100vh;\n          display: flex;\n          flex-direction: column;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          position: relative;\n          overflow: hidden;\n        }\n\n        .setup-background {\n          position: absolute;\n          inset: 0;\n          overflow: hidden;\n        }\n\n        .background-pattern {\n          position: absolute;\n          inset: 0;\n          background-image: \n            radial-gradient(circle at 25% 25%, rgba(243, 238, 217, 0.08) 0%, transparent 50%),\n            radial-gradient(circle at 75% 75%, rgba(194, 87, 27, 0.06) 0%, transparent 50%);\n          animation: drift 25s ease-in-out infinite;\n        }\n\n        .floating-elements {\n          position: absolute;\n          inset: 0;\n          pointer-events: none;\n        }\n\n        .floating-icon {\n          position: absolute;\n          font-size: 24px;\n          opacity: 0.2;\n          animation: float 8s ease-in-out infinite;\n        }\n\n        .floating-icon:nth-child(1) {\n          top: 20%;\n          left: 10%;\n          animation-delay: 0s;\n        }\n\n        .floating-icon:nth-child(2) {\n          top: 60%;\n          right: 15%;\n          animation-delay: 2s;\n        }\n\n        .floating-icon:nth-child(3) {\n          bottom: 30%;\n          left: 20%;\n          animation-delay: 4s;\n        }\n\n        .floating-icon:nth-child(4) {\n          top: 40%;\n          right: 30%;\n          animation-delay: 6s;\n        }\n\n        @keyframes drift {\n          0%, 100% { transform: translate(0, 0) rotate(0deg); }\n          33% { transform: translate(30px, -30px) rotate(1deg); }\n          66% { transform: translate(-20px, 20px) rotate(-1deg); }\n        }\n\n        @keyframes float {\n          0%, 100% { transform: translateY(0px) rotate(0deg); }\n          50% { transform: translateY(-20px) rotate(5deg); }\n        }\n\n        .setup-container {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          max-width: 1000px;\n          margin: 0 auto;\n          padding: 40px;\n          position: relative;\n          z-index: 1;\n        }\n\n        .setup-header {\n          text-align: center;\n          margin-bottom: 40px;\n          color: #F3EED9;\n        }\n\n        .header-logo {\n          width: 80px;\n          height: 80px;\n          background: rgba(243, 238, 217, 0.15);\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin: 0 auto 24px;\n          border: 1px solid rgba(243, 238, 217, 0.2);\n          backdrop-filter: blur(10px);\n        }\n\n        .setup-title {\n          font-size: 32px;\n          font-weight: 800;\n          margin: 0 0 32px 0;\n          letter-spacing: -0.5px;\n        }\n\n        .progress-container {\n          margin-bottom: 20px;\n        }\n\n        .progress-steps {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          gap: 40px;\n          position: relative;\n        }\n\n        .progress-step {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 12px;\n          opacity: 0.5;\n          transition: all 0.3s ease;\n          position: relative;\n        }\n\n        .progress-step.active {\n          opacity: 1;\n        }\n\n        .progress-step.current {\n          transform: scale(1.1);\n        }\n\n        .step-circle {\n          width: 56px;\n          height: 56px;\n          border-radius: 50%;\n          background: rgba(243, 238, 217, 0.15);\n          border: 2px solid rgba(243, 238, 217, 0.3);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.3s ease;\n        }\n\n        .progress-step.active .step-circle {\n          background: rgba(243, 238, 217, 0.3);\n          border-color: rgba(243, 238, 217, 0.6);\n        }\n\n        .progress-step.current .step-circle {\n          background: #C2571B;\n          border-color: #C2571B;\n          color: #F3EED9;\n          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);\n        }\n\n        .step-info {\n          text-align: center;\n        }\n\n        .step-title {\n          font-size: 14px;\n          font-weight: 600;\n          margin: 0 0 4px 0;\n        }\n\n        .step-subtitle {\n          font-size: 12px;\n          opacity: 0.8;\n        }\n\n        .step-connector {\n          position: absolute;\n          top: 28px;\n          left: 100%;\n          width: 40px;\n          height: 2px;\n          background: rgba(243, 238, 217, 0.2);\n          z-index: -1;\n        }\n\n        .setup-content {\n          flex: 1;\n          background: rgba(255, 255, 255, 0.95);\n          border-radius: 24px;\n          padding: 40px;\n          margin-bottom: 32px;\n          box-shadow: \n            0 24px 48px rgba(62, 92, 73, 0.2),\n            0 8px 24px rgba(62, 92, 73, 0.12);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n          backdrop-filter: blur(20px);\n          overflow-y: auto;\n        }\n\n        .step-content {\n          max-width: 800px;\n          margin: 0 auto;\n        }\n\n        /* Success Step */\n        .success-step {\n          text-align: center;\n        }\n\n        .success-animation {\n          position: relative;\n          margin-bottom: 32px;\n        }\n\n        .success-circle {\n          color: #3E5C49;\n          animation: bounce 0.6s ease-out;\n        }\n\n        .success-sparkles {\n          position: absolute;\n          inset: 0;\n          pointer-events: none;\n        }\n\n        .sparkle {\n          position: absolute;\n          color: #C2571B;\n          animation: sparkle 2s ease-in-out infinite;\n        }\n\n        .sparkle-1 {\n          top: 10%;\n          left: 20%;\n          animation-delay: 0s;\n        }\n\n        .sparkle-2 {\n          top: 20%;\n          right: 15%;\n          animation-delay: 0.5s;\n        }\n\n        .sparkle-3 {\n          bottom: 15%;\n          left: 15%;\n          animation-delay: 1s;\n        }\n\n        @keyframes bounce {\n          0%, 20%, 53%, 80%, 100% { transform: translate3d(0, 0, 0); }\n          40%, 43% { transform: translate3d(0, -30px, 0); }\n          70% { transform: translate3d(0, -15px, 0); }\n          90% { transform: translate3d(0, -4px, 0); }\n        }\n\n        @keyframes sparkle {\n          0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }\n          50% { opacity: 1; transform: scale(1) rotate(180deg); }\n        }\n\n        .step-title {\n          font-size: 28px;\n          font-weight: 800;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n          letter-spacing: -0.5px;\n        }\n\n        .step-description {\n          font-size: 16px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          margin-bottom: 32px;\n        }\n\n        .institution-card {\n          background: #F3EED9;\n          border: 1px solid #E5DCC2;\n          border-radius: 16px;\n          margin-bottom: 32px;\n          overflow: hidden;\n        }\n\n        .card-header {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 20px 24px;\n          background: rgba(62, 92, 73, 0.1);\n          border-bottom: 1px solid #E5DCC2;\n        }\n\n        .card-header h3 {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0;\n        }\n\n        .card-content {\n          padding: 24px;\n        }\n\n        .info-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 16px;\n          padding-bottom: 16px;\n          border-bottom: 1px solid rgba(229, 220, 194, 0.5);\n        }\n\n        .info-row:last-child {\n          margin-bottom: 0;\n          padding-bottom: 0;\n          border-bottom: none;\n        }\n\n        .info-row.highlight {\n          background: rgba(62, 92, 73, 0.05);\n          padding: 16px;\n          border-radius: 12px;\n          border: 1px solid rgba(62, 92, 73, 0.2);\n          border-bottom: 1px solid rgba(62, 92, 73, 0.2);\n        }\n\n        .info-label {\n          font-weight: 600;\n          color: #6E6E6E;\n        }\n\n        .info-value {\n          font-weight: 600;\n          color: #2E2E2E;\n        }\n\n        .code-value {\n          font-family: 'Monaco', 'Consolas', monospace;\n          background: #3E5C49;\n          color: #F3EED9;\n          padding: 8px 12px;\n          border-radius: 8px;\n          font-size: 16px;\n          letter-spacing: 2px;\n        }\n\n        .features-preview h3 {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n          text-align: left;\n        }\n\n        .features-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 16px;\n        }\n\n        .feature-item {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px;\n          background: rgba(62, 92, 73, 0.05);\n          border: 1px solid rgba(62, 92, 73, 0.1);\n          border-radius: 12px;\n          color: #3E5C49;\n          font-weight: 500;\n        }\n\n        /* Share Step */\n        .share-step {\n          text-align: center;\n        }\n\n        .share-header {\n          margin-bottom: 32px;\n        }\n\n        .share-icon {\n          color: #C2571B;\n          margin-bottom: 24px;\n        }\n\n        .code-display {\n          margin-bottom: 40px;\n        }\n\n        .code-container {\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          border-radius: 20px;\n          padding: 32px;\n          color: #F3EED9;\n          position: relative;\n          overflow: hidden;\n        }\n\n        .code-container::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 100px;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.1));\n          transform: skewX(-15deg);\n        }\n\n        .code-label {\n          font-size: 14px;\n          opacity: 0.9;\n          margin-bottom: 16px;\n          text-transform: uppercase;\n          letter-spacing: 1px;\n        }\n\n        .code-value-large {\n          font-size: 48px;\n          font-weight: 800;\n          letter-spacing: 8px;\n          font-family: 'Monaco', 'Consolas', monospace;\n          margin-bottom: 24px;\n          position: relative;\n          z-index: 1;\n        }\n\n        .copy-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          background: rgba(243, 238, 217, 0.2);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px 24px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 600;\n          margin: 0 auto;\n          position: relative;\n          z-index: 1;\n        }\n\n        .copy-button:hover {\n          background: rgba(243, 238, 217, 0.3);\n          transform: translateY(-1px);\n        }\n\n        .copy-button.copied {\n          background: rgba(194, 87, 27, 0.8);\n          border-color: rgba(194, 87, 27, 0.8);\n          color: #F3EED9;\n          cursor: default;\n          pointer-events: none;\n        }\n\n        .sharing-options {\n          margin-bottom: 40px;\n        }\n\n        .sharing-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 24px;\n        }\n\n        .sharing-option {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          padding: 20px;\n          background: rgba(62, 92, 73, 0.05);\n          border: 1px solid rgba(62, 92, 73, 0.1);\n          border-radius: 16px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          color: #3E5C49;\n          font-weight: 600;\n        }\n\n        .sharing-option:hover {\n          background: rgba(62, 92, 73, 0.1);\n          border-color: rgba(62, 92, 73, 0.2);\n        }\n\n        .option-icon {\n          width: 48px;\n          height: 48px;\n          background: #C2571B;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n          flex-shrink: 0;\n        }\n\n        .option-content {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        .option-title {\n          font-size: 16px;\n          font-weight: 700;\n        }\n\n        .option-description {\n          font-size: 12px;\n          color: #6E6E6E;\n        }\n\n        .instructions-card {\n          background: #F3EED9;\n          border: 1px solid #E5DCC2;\n          border-radius: 16px;\n          padding: 24px;\n          color: #3E5C49;\n          font-weight: 600;\n          text-align: left;\n          max-width: 600px;\n          margin: 0 auto;\n        }\n\n        .instructions-list {\n          margin: 0;\n          padding-left: 20px;\n          list-style-type: decimal;\n        }\n\n        .instructions-list li {\n          margin-bottom: 8px;\n          font-weight: 500;\n          font-size: 14px;\n        }\n\n        .setup-navigation {\n          display: flex;\n          justify-content: flex-end;\n          gap: 16px;\n          padding: 0 40px 40px;\n        }\n\n        .nav-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 24px;\n          border-radius: 12px;\n          font-weight: 700;\n          font-size: 14px;\n          cursor: pointer;\n          border: none;\n          transition: all 0.2s ease;\n        }\n\n        .nav-button.primary {\n          background: #C2571B;\n          color: #F3EED9;\n        }\n\n        .nav-button.primary:hover:not(:disabled) {\n          background: #A8481A;\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);\n        }\n\n        .nav-button.secondary {\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 1px solid #E5DCC2;\n        }\n\n        .nav-button.secondary:hover:not(:disabled) {\n          background: #EAEADC;\n          color: #2E2E2E;\n          transform: translateY(-1px);\n        }\n\n        .nav-button:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          transform: none;\n          box-shadow: none;\n        }\n\n        .loading-spinner {\n          width: 24px;\n          height: 24px;\n          border: 3px solid rgba(243, 238, 217, 0.3);\n          border-top: 3px solid #C2571B;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin: 0 auto;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `}</style>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { \n  Printer, \n  Download, \n  FileText, \n  BookOpen, \n  Clock,\n  X,\n  Check,\n  AlertCircle,\n  Eye,\n  Zap,\n  BarChart3\n} from 'lucide-react';\nimport { Book, Stats, Category } from '../../types';\n\ninterface PrintManagerProps {\n  books: Book[];\n  stats: Stats;\n  categories: Category[];\n  onClose: () => void;\n}\n\ntype PrintType = 'inventory' | 'available' | 'borrowed';\n\nexport const PrintManager: React.FC<PrintManagerProps> = ({ \n  books, \n  stats, \n  categories, \n  onClose \n}) => {\n  const [selectedType, setSelectedType] = useState<PrintType>('inventory');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\n\n  const printOptions = [\n    {\n      id: 'inventory' as PrintType,\n      title: 'Inventaire Complet',\n      description: 'Liste détaillée de tous les documents avec statuts',\n      icon: FileText,\n      color: '#3E5C49',\n      gradient: 'linear-gradient(135deg, #3E5C49 0%, #2E453A 100%)',\n      count: stats.totalBooks,\n      features: ['Informations complètes', 'Statuts des emprunts', 'Métadonnées']\n    },\n    {\n      id: 'available' as PrintType,\n      title: 'Documents Disponibles',\n      description: 'Collection des ouvrages disponibles à l\\'emprunt',\n      icon: BookOpen,\n      color: '#3E5C49',\n      gradient: 'linear-gradient(135deg, #3E5C49 0%, #4A6B57 100%)',\n      count: stats.availableBooks,\n      features: ['Documents en rayon', 'Prêts à emprunter', 'Tri par catégorie']\n    },\n    {\n      id: 'borrowed' as PrintType,\n      title: 'Documents Empruntés',\n      description: 'Suivi des emprunts en cours avec emprunteurs',\n      icon: Clock,\n      color: '#C2571B',\n      gradient: 'linear-gradient(135deg, #C2571B 0%, #A8481A 100%)',\n      count: stats.borrowedBooks,\n      features: ['Noms des emprunteurs', 'Dates d\\'emprunt', 'Alertes retard']\n    }\n  ];\n\n  const showMessage = (type: 'success' | 'error', text: string) => {\n    setMessage({ type, text });\n    setTimeout(() => setMessage(null), 5000);\n  };\n\n  const handlePrint = async () => {\n    setIsProcessing(true);\n    try {\n      const printData = { books, stats, categories };\n\n      let success = false;\n      switch (selectedType) {\n        case 'inventory':\n          success = await window.electronAPI.printInventory(printData);\n          break;\n        case 'available':\n          success = await window.electronAPI.printAvailableBooks(printData);\n          break;\n        case 'borrowed':\n          success = await window.electronAPI.printBorrowedBooks(printData);\n          break;\n      }\n\n      if (success) {\n        showMessage('success', 'Document envoyé à l\\'imprimante avec succès');\n      } else {\n        showMessage('error', 'Erreur lors de l\\'impression');\n      }\n    } catch (error) {\n      console.error('Print error:', error);\n      showMessage('error', 'Erreur lors de l\\'impression');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const handleExportCSV = async () => {\n    setIsProcessing(true);\n    try {\n      const exportData = { books, stats, categories };\n      const filePath = await window.electronAPI.exportCSV(exportData);\n      \n      if (filePath) {\n        showMessage('success', `Fichier CSV exporté : ${filePath.split(/[/\\\\]/).pop()}`);\n      } else {\n        showMessage('error', 'Export annulé ou erreur');\n      }\n    } catch (error) {\n      console.error('Export error:', error);\n      showMessage('error', 'Erreur lors de l\\'export CSV');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const getPreviewData = () => {\n    switch (selectedType) {\n      case 'inventory':\n        return {\n          title: 'Inventaire Complet',\n          items: books,\n          description: `${stats.totalBooks} document(s) au total`,\n          icon: BarChart3\n        };\n      case 'available':\n        return {\n          title: 'Documents Disponibles',\n          items: books.filter(book => !book.isBorrowed),\n          description: `${stats.availableBooks} document(s) disponible(s)`,\n          icon: BookOpen\n        };\n      case 'borrowed':\n        return {\n          title: 'Documents Empruntés',\n          items: books.filter(book => book.isBorrowed),\n          description: `${stats.borrowedBooks} document(s) emprunté(s)`,\n          icon: Clock\n        };\n    }\n  };\n\n  const previewData = getPreviewData();\n  const selectedOption = printOptions.find(opt => opt.id === selectedType);\n  if (!selectedOption) {\n    return <div>Erreur: option sélectionnée invalide</div>;\n  }\n\n  return (\n    <div className=\"print-manager-overlay\">\n      <div className=\"print-manager-modal\">\n        {/* Header */}\n        <div className=\"modal-header\">\n          <div className=\"header-content\">\n            <div className=\"header-icon\">\n              <Printer size={28} />\n            </div>\n            <div className=\"header-text\">\n              <h2 className=\"modal-title\">Impression & Export</h2>\n              <p className=\"modal-subtitle\">Générez des rapports professionnels de votre bibliothèque</p>\n            </div>\n          </div>\n          <button className=\"close-button\" onClick={onClose}>\n            <X size={20} />\n          </button>\n        </div>\n\n        {/* Message */}\n        {message && (\n          <div className={`message ${message.type}`}>\n            {message.type === 'success' ? <Check size={20} /> : <AlertCircle size={20} />}\n            <span>{message.text}</span>\n          </div>\n        )}\n\n        <div className=\"modal-content\">\n          {/* Options Selection */}\n          <div className=\"options-section\">\n            <div className=\"section-header\">\n              <h3 className=\"section-title\">Choisir le type de rapport</h3>\n              <p className=\"section-description\">Sélectionnez le contenu à inclure dans votre document</p>\n            </div>\n            \n            <div className=\"print-options\">\n              {printOptions.map((option) => (\n                <div\n                  key={option.id}\n                  className={`option-card ${selectedType === option.id ? 'selected' : ''}`}\n                  onClick={() => setSelectedType(option.id)}\n                >\n                  <div className=\"option-header\">\n                    <div \n                      className=\"option-icon\"\n                      style={{ background: option.gradient }}\n                    >\n                      <option.icon size={24} />\n                    </div>\n                    <div className=\"option-badge\">\n                      {option.count} élément{option.count > 1 ? 's' : ''}\n                    </div>\n                  </div>\n                  \n                  <div className=\"option-content\">\n                    <h4 className=\"option-title\">{option.title}</h4>\n                    <p className=\"option-description\">{option.description}</p>\n                    \n                    <div className=\"option-features\">\n                      {option.features.map((feature, index) => (\n                        <span key={index} className=\"feature-tag\">\n                          {feature}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n                  \n                  <div className=\"option-indicator\">\n                    {selectedType === option.id && <Check size={16} />}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* Preview Section */}\n          <div className=\"preview-section\">\n            <div className=\"section-header\">\n              <div className=\"preview-title-section\">\n                <h3 className=\"section-title\">Aperçu du contenu</h3>\n                <div className=\"preview-stats\">\n                  <previewData.icon size={16} />\n                  <span>{previewData.description}</span>\n                </div>\n              </div>\n              <button className=\"preview-button\">\n                <Eye size={16} />\n                Prévisualiser\n              </button>\n            </div>\n            \n            <div className=\"preview-card\">\n              <div className=\"preview-header\">\n                <div \n                  className=\"preview-icon\"\n                  style={{ background: selectedOption?.gradient }}\n                >\n                  <selectedOption.icon size={20} />\n                </div>\n                <div className=\"preview-info\">\n                  <h4 className=\"preview-title\">{previewData.title}</h4>\n                  <p className=\"preview-subtitle\">Généré le {new Date().toLocaleDateString('fr-FR')}</p>\n                </div>\n              </div>\n              \n              <div className=\"preview-content\">\n                <div className=\"preview-table\">\n                  <div className=\"table-header\">\n                    <div className=\"header-cell\">Titre</div>\n                    <div className=\"header-cell\">Auteur</div>\n                    <div className=\"header-cell\">Catégorie</div>\n                    {selectedType === 'borrowed' && (\n                      <>\n                        <div className=\"header-cell\">Emprunteur</div>\n                        <div className=\"header-cell\">Date</div>\n                      </>\n                    )}\n                    {selectedType !== 'borrowed' && (\n                      <div className=\"header-cell\">Statut</div>\n                    )}\n                  </div>\n                  \n                  <div className=\"table-body\">\n                    {previewData.items.slice(0, 4).map((book, index) => (\n                      <div key={index} className=\"table-row\">\n                        <div className=\"table-cell\">\n                          <div className=\"cell-content\">\n                            <div className=\"book-title\">{book.title}</div>\n                          </div>\n                        </div>\n                        <div className=\"table-cell\">{book.author}</div>\n                        <div className=\"table-cell\">\n                          <span className=\"category-badge\">{book.category}</span>\n                        </div>\n                        {selectedType === 'borrowed' && (\n                          <>\n                            <div className=\"table-cell\">\n                              <strong>{book.borrowerName}</strong>\n                            </div>\n                            <div className=\"table-cell\">\n                              {book.borrowDate ? new Date(book.borrowDate).toLocaleDateString('fr-FR') : '-'}\n                            </div>\n                          </>\n                        )}\n                        {selectedType !== 'borrowed' && (\n                          <div className=\"table-cell\">\n                            <span className={`status-badge ${book.isBorrowed ? 'borrowed' : 'available'}`}>\n                              {book.isBorrowed ? 'Emprunté' : 'Disponible'}\n                            </span>\n                          </div>\n                        )}\n                      </div>\n                    ))}\n                    \n                    {previewData.items.length > 4 && (\n                      <div className=\"table-row more-items\">\n                        <div className=\"table-cell more-text\">\n                          ... et {previewData.items.length - 4} autre(s) élément(s)\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"modal-footer\">\n          <div className=\"footer-info\">\n            <div className=\"info-item\">\n              <FileText size={16} />\n              <span>Format PDF professionnel</span>\n            </div>\n            <div className=\"info-item\">\n              <Download size={16} />\n              <span>Export CSV pour données</span>\n            </div>\n          </div>\n          \n          <div className=\"footer-actions\">\n            <button \n              className=\"btn-secondary\"\n              onClick={handleExportCSV}\n              disabled={isProcessing}\n            >\n              <Download size={18} />\n              {isProcessing ? 'Export...' : 'Exporter CSV'}\n            </button>\n            <button \n              className=\"btn-primary\"\n              onClick={handlePrint}\n              disabled={isProcessing}\n            >\n              {isProcessing ? (\n                <>\n                  <Zap size={18} />\n                  Génération...\n                </>\n              ) : (\n                <>\n                  <Printer size={18} />\n                  Imprimer\n                </>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <style>{`\n        .print-manager-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.7);\n          backdrop-filter: blur(8px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 20px;\n        }\n        \n        .print-manager-modal {\n          background: #FFFFFF;\n          border-radius: 24px;\n          width: 100%;\n          max-width: 1000px;\n          max-height: 90vh;\n          overflow: hidden;\n          display: flex;\n          flex-direction: column;\n          box-shadow: \n            0 24px 48px rgba(62, 92, 73, 0.2),\n            0 8px 24px rgba(62, 92, 73, 0.12);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n        \n        .modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 32px;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .modal-header::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 200px;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.1));\n          transform: skewX(-15deg);\n          transform-origin: top;\n        }\n        \n        .header-content {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .header-icon {\n          width: 56px;\n          height: 56px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          backdrop-filter: blur(10px);\n        }\n        \n        .modal-title {\n          font-size: 24px;\n          font-weight: 800;\n          margin: 0 0 4px 0;\n          letter-spacing: -0.3px;\n        }\n        \n        .modal-subtitle {\n          font-size: 14px;\n          opacity: 0.9;\n          margin: 0;\n          line-height: 1.4;\n        }\n        \n        .close-button {\n          background: rgba(243, 238, 217, 0.15);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .close-button:hover {\n          background: rgba(243, 238, 217, 0.25);\n          transform: scale(1.05);\n        }\n        \n        .message {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 32px;\n          font-size: 14px;\n          font-weight: 600;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .message.success {\n          background: rgba(62, 92, 73, 0.1);\n          color: #3E5C49;\n        }\n        \n        .message.error {\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n        }\n        \n        .modal-content {\n          flex: 1;\n          overflow-y: auto;\n          padding: 32px;\n          display: flex;\n          flex-direction: column;\n          gap: 40px;\n        }\n        \n        .section-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 24px;\n        }\n        \n        .section-title {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 4px 0;\n        }\n        \n        .section-description {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .preview-title-section {\n          flex: 1;\n        }\n        \n        .preview-stats {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 14px;\n          color: #6E6E6E;\n          margin-top: 4px;\n        }\n        \n        .preview-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 8px 16px;\n          background: #F3EED9;\n          border: 1px solid #E5DCC2;\n          border-radius: 8px;\n          color: #6E6E6E;\n          font-size: 14px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .preview-button:hover {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .print-options {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n          gap: 20px;\n        }\n        \n        .option-card {\n          background: #FFFFFF;\n          border: 2px solid #E5DCC2;\n          border-radius: 16px;\n          padding: 24px;\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .option-card::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: linear-gradient(135deg, transparent 0%, rgba(62, 92, 73, 0.02) 100%);\n          opacity: 0;\n          transition: opacity 0.3s ease;\n        }\n        \n        .option-card:hover::before {\n          opacity: 1;\n        }\n        \n        .option-card:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 12px 32px rgba(62, 92, 73, 0.15);\n          border-color: #3E5C49;\n        }\n        \n        .option-card.selected {\n          border-color: #3E5C49;\n          background: rgba(62, 92, 73, 0.02);\n          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.12);\n        }\n        \n        .option-card.selected::before {\n          opacity: 1;\n        }\n        \n        .option-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 16px;\n        }\n        \n        .option-icon {\n          width: 48px;\n          height: 48px;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n        }\n        \n        .option-badge {\n          background: #F3EED9;\n          color: #6E6E6E;\n          padding: 4px 12px;\n          border-radius: 20px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n        \n        .option-title {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 8px 0;\n        }\n        \n        .option-description {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0 0 16px 0;\n          line-height: 1.5;\n        }\n        \n        .option-features {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 8px;\n        }\n        \n        .feature-tag {\n          background: #F3EED9;\n          color: #6E6E6E;\n          padding: 4px 8px;\n          border-radius: 8px;\n          font-size: 11px;\n          font-weight: 500;\n        }\n        \n        .option-indicator {\n          position: absolute;\n          top: 16px;\n          right: 16px;\n          width: 24px;\n          height: 24px;\n          background: #3E5C49;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n          opacity: 0;\n          transform: scale(0.8);\n          transition: all 0.3s ease;\n        }\n        \n        .option-card.selected .option-indicator {\n          opacity: 1;\n          transform: scale(1);\n        }\n        \n        .preview-card {\n          background: #FEFEFE;\n          border: 1px solid #E5DCC2;\n          border-radius: 16px;\n          overflow: hidden;\n        }\n        \n        .preview-header {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          padding: 20px 24px;\n          background: #F3EED9;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .preview-icon {\n          width: 40px;\n          height: 40px;\n          border-radius: 10px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n        }\n        \n        .preview-title {\n          font-size: 16px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 2px 0;\n        }\n        \n        .preview-subtitle {\n          font-size: 12px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .preview-content {\n          padding: 24px;\n        }\n        \n        .preview-table {\n          background: #FFFFFF;\n          border-radius: 12px;\n          overflow: hidden;\n          border: 1px solid #E5DCC2;\n        }\n        \n        .table-header {\n          display: grid;\n          grid-template-columns: 2fr 1.5fr 1fr 1fr 1fr;\n          background: #F3EED9;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .header-cell {\n          padding: 16px 20px;\n          font-size: 12px;\n          font-weight: 700;\n          color: #2E2E2E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .table-body {\n          max-height: 240px;\n          overflow-y: auto;\n        }\n        \n        .table-row {\n          display: grid;\n          grid-template-columns: 2fr 1.5fr 1fr 1fr 1fr;\n          border-bottom: 1px solid #F3EED9;\n          transition: background 0.2s ease;\n        }\n        \n        .table-row:hover {\n          background: #FEFEFE;\n        }\n        \n        .table-row:last-child {\n          border-bottom: none;\n        }\n        \n        .table-row.more-items {\n          grid-template-columns: 1fr;\n          background: #F3EED9;\n        }\n        \n        .table-cell {\n          padding: 16px 20px;\n          font-size: 14px;\n          color: #2E2E2E;\n          display: flex;\n          align-items: center;\n          overflow: hidden;\n        }\n        \n        .cell-content {\n          width: 100%;\n        }\n        \n        .book-title {\n          font-weight: 600;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        \n        .more-text {\n          text-align: center;\n          font-style: italic;\n          color: #6E6E6E;\n          justify-content: center;\n        }\n        \n        .category-badge {\n          background: #3E5C49;\n          color: #F3EED9;\n          padding: 4px 10px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 600;\n        }\n        \n        .status-badge {\n          padding: 4px 10px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 600;\n        }\n        \n        .status-badge.available {\n          background: rgba(62, 92, 73, 0.1);\n          color: #3E5C49;\n        }\n        \n        .status-badge.borrowed {\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n        }\n        \n        .modal-footer {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 24px 32px;\n          border-top: 1px solid #E5DCC2;\n          background: #FEFEFE;\n        }\n        \n        .footer-info {\n          display: flex;\n          gap: 32px;\n        }\n        \n        .info-item {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 12px;\n          color: #6E6E6E;\n        }\n        \n        .footer-actions {\n          display: flex;\n          gap: 12px;\n        }\n        \n        .btn-secondary, .btn-primary {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 16px 24px;\n          border-radius: 12px;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          border: none;\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .btn-secondary {\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 2px solid #E5DCC2;\n        }\n        \n        .btn-secondary:hover:not(:disabled) {\n          background: #EAEADC;\n          color: #2E2E2E;\n          transform: translateY(-1px);\n        }\n        \n        .btn-primary {\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.3);\n        }\n        \n        .btn-primary:hover:not(:disabled) {\n          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.4);\n        }\n        \n        .btn-secondary:disabled,\n        .btn-primary:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          transform: none;\n        }\n        \n        /* Responsive Design */\n        @media (max-width: 1024px) {\n          .print-options {\n            grid-template-columns: 1fr;\n            gap: 16px;\n          }\n          \n          .table-header,\n          .table-row {\n            grid-template-columns: 1fr;\n          }\n          \n          .header-cell,\n          .table-cell {\n            padding: 12px 16px;\n          }\n          \n          .modal-content {\n            padding: 24px;\n            gap: 32px;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .print-manager-overlay {\n            padding: 12px;\n          }\n          \n          .print-manager-modal {\n            border-radius: 20px;\n          }\n          \n          .modal-header {\n            padding: 24px 20px;\n            flex-direction: column;\n            gap: 16px;\n            text-align: center;\n          }\n          \n          .header-content {\n            flex-direction: column;\n            gap: 16px;\n          }\n          \n          .modal-content {\n            padding: 20px;\n          }\n          \n          .section-header {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 12px;\n          }\n          \n          .footer-info {\n            display: none;\n          }\n          \n          .footer-actions {\n            width: 100%;\n            justify-content: stretch;\n          }\n          \n          .btn-secondary,\n          .btn-primary {\n            flex: 1;\n            justify-content: center;\n          }\n          \n          .option-card {\n            padding: 20px;\n          }\n          \n          .preview-content {\n            padding: 16px;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .modal-header {\n            padding: 20px 16px;\n          }\n          \n          .modal-content {\n            padding: 16px;\n            gap: 24px;\n          }\n          \n          .modal-footer {\n            padding: 16px;\n            flex-direction: column;\n            gap: 16px;\n          }\n          \n          .footer-actions {\n            flex-direction: column;\n          }\n          \n          .option-header {\n            flex-direction: column;\n            gap: 12px;\n            align-items: stretch;\n          }\n          \n          .option-badge {\n            text-align: center;\n          }\n          \n          .table-header,\n          .table-row {\n            display: block;\n          }\n          \n          .header-cell,\n          .table-cell {\n            display: block;\n            padding: 8px 16px;\n            border-bottom: 1px solid #F3EED9;\n          }\n          \n          .header-cell {\n            background: #E5DCC2;\n            font-weight: 700;\n          }\n          \n          .table-cell:last-child {\n            border-bottom: none;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};","import React, { useState, useEffect } from 'react';\nimport { \n  Settings as SettingsIcon, \n  Building,\n  Upload,\n  Save,\n  X,\n  Camera,\n  User,\n  Mail,\n  Phone,\n  MapPin,\n  Globe,\n  Database,\n  Download,\n  UploadCloud,\n  Shield,\n  LogOut,\n  Trash2,\n  RefreshCw,\n  HardDrive,\n  Cloud,\n  Lock,\n  Eye,\n  EyeOff,\n  CheckCircle,\n  AlertCircle\n} from 'lucide-react';\n\nimport { SupabaseService, User as SupabaseUser, Institution as SupabaseInstitution } from '../../services/SupabaseService';\n\ninterface SettingsProps {\n  onClose: () => void;\n  onLogout: () => void;\n  currentUser: SupabaseUser | null;\n  currentInstitution: SupabaseInstitution | null;\n  supabaseService: SupabaseService;\n}\n\ninterface InstitutionSettings {\n  name: string;\n  address: string;\n  city: string;\n  country: string;\n  phone: string;\n  email: string;\n  website: string;\n  logo: string;\n  description: string;\n}\n\ninterface BackupSettings {\n  autoBackup: boolean;\n  backupFrequency: 'daily' | 'weekly' | 'monthly';\n  lastBackup: string;\n  cloudSync: boolean;\n  cloudProvider: 'google' | 'dropbox' | 'onedrive';\n}\n\ninterface SecuritySettings {\n  requireAuth: boolean;\n  sessionTimeout: number;\n  passwordPolicy: {\n    minLength: number;\n    requireNumbers: boolean;\n    requireSymbols: boolean;\n  };\n}\n\nexport const Settings: React.FC<SettingsProps> = ({ onClose, onLogout }) => {\n  const [activeTab, setActiveTab] = useState<'institution' | 'backup' | 'security' | 'about'>('institution');\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\n\n  const [institutionSettings, setInstitutionSettings] = useState<InstitutionSettings>({\n    name: 'Lycée Moderne de Douala',\n    address: 'Avenue de la Liberté',\n    city: 'Douala',\n    country: 'Cameroun',\n    phone: '+237 233 42 15 67',\n    email: 'contact@lyceemoderne.cm',\n    website: 'www.lyceemoderne.cm',\n    logo: '',\n    description: 'Établissement d\\'enseignement secondaire général et technique'\n  });\n\n  const [backupSettings, setBackupSettings] = useState<BackupSettings>({\n    autoBackup: true,\n    backupFrequency: 'weekly',\n    lastBackup: new Date().toISOString(),\n    cloudSync: false,\n    cloudProvider: 'google'\n  });\n\n  const [securitySettings, setSecuritySettings] = useState<SecuritySettings>({\n    requireAuth: true,\n    sessionTimeout: 60,\n    passwordPolicy: {\n      minLength: 6,\n      requireNumbers: true,\n      requireSymbols: false\n    }\n  });\n\n  const [showConfirmLogout, setShowConfirmLogout] = useState(false);\n\n  useEffect(() => {\n    loadSettings();\n  }, []);\n\n  const loadSettings = async () => {\n    try {\n      // Simulate loading settings from storage\n      const settings = await window.electronAPI.getSettings();\n      if (settings) {\n        setInstitutionSettings(settings.institution || institutionSettings);\n        setBackupSettings(settings.backup || backupSettings);\n        setSecuritySettings(settings.security || securitySettings);\n      }\n    } catch (error) {\n      console.error('Error loading settings:', error);\n    }\n  };\n\n  const saveSettings = async () => {\n    setIsLoading(true);\n    try {\n      await window.electronAPI.saveSettings({\n        institution: institutionSettings,\n        backup: backupSettings,\n        security: securitySettings\n      });\n      showMessage('success', 'Paramètres sauvegardés avec succès');\n    } catch (error) {\n      showMessage('error', 'Erreur lors de la sauvegarde');\n      console.error('Error saving settings:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const showMessage = (type: 'success' | 'error', text: string) => {\n    setMessage({ type, text });\n    setTimeout(() => setMessage(null), 5000);\n  };\n\n  const handleLogoUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        setInstitutionSettings(prev => ({\n          ...prev,\n          logo: e.target?.result as string\n        }));\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleBackup = async () => {\n    setIsLoading(true);\n    try {\n      await window.electronAPI.createBackup();\n      setBackupSettings(prev => ({\n        ...prev,\n        lastBackup: new Date().toISOString()\n      }));\n      showMessage('success', 'Sauvegarde créée avec succès');\n    } catch (error) {\n      showMessage('error', 'Erreur lors de la sauvegarde');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleRestore = async () => {\n    if (window.confirm('Êtes-vous sûr de vouloir restaurer une sauvegarde ? Cela remplacera toutes les données actuelles.')) {\n      setIsLoading(true);\n      try {\n        await window.electronAPI.restoreBackup();\n        showMessage('success', 'Données restaurées avec succès');\n      } catch (error) {\n        showMessage('error', 'Erreur lors de la restauration');\n      } finally {\n        setIsLoading(false);\n      }\n    }\n  };\n\n  const handleClearData = async () => {\n    if (window.confirm('⚠️ ATTENTION: Cette action supprimera définitivement toutes les données. Êtes-vous absolument sûr ?')) {\n      if (window.confirm('Dernière confirmation: Voulez-vous vraiment supprimer TOUTES les données ?')) {\n        setIsLoading(true);\n        try {\n          await window.electronAPI.clearAllData();\n          showMessage('success', 'Toutes les données ont été supprimées');\n        } catch (error) {\n          showMessage('error', 'Erreur lors de la suppression');\n        } finally {\n          setIsLoading(false);\n        }\n      }\n    }\n  };\n\n  const tabs = [\n    { id: 'institution', label: 'Établissement', icon: Building },\n    { id: 'backup', label: 'Sauvegardes', icon: Database },\n    { id: 'security', label: 'Sécurité', icon: Shield },\n    { id: 'about', label: 'À propos', icon: SettingsIcon }\n  ];\n\n  return (\n    <div className=\"settings-overlay\">\n      <div className=\"settings-modal\">\n        {/* Header */}\n        <div className=\"modal-header\">\n          <div className=\"header-content\">\n            <div className=\"header-icon\">\n              <SettingsIcon size={28} />\n            </div>\n            <div className=\"header-text\">\n              <h2 className=\"modal-title\">Paramètres</h2>\n              <p className=\"modal-subtitle\">Configuration de l'application</p>\n            </div>\n          </div>\n          <button className=\"close-button\" onClick={onClose}>\n            <X size={20} />\n          </button>\n        </div>\n\n        {/* Message */}\n        {message && (\n          <div className={`message ${message.type}`}>\n            {message.type === 'success' ? <CheckCircle size={20} /> : <AlertCircle size={20} />}\n            <span>{message.text}</span>\n          </div>\n        )}\n\n        <div className=\"settings-content\">\n          {/* Sidebar */}\n          <div className=\"settings-sidebar\">\n            <nav className=\"settings-nav\">\n              {tabs.map((tab) => (\n                <button\n                  key={tab.id}\n                  className={`nav-button ${activeTab === tab.id ? 'active' : ''}`}\n                  onClick={() => setActiveTab(tab.id as any)}\n                >\n                  <tab.icon size={20} />\n                  <span>{tab.label}</span>\n                </button>\n              ))}\n            </nav>\n\n            <div className=\"logout-section\">\n              <button \n                className=\"logout-button\"\n                onClick={() => setShowConfirmLogout(true)}\n              >\n                <LogOut size={18} />\n                Se déconnecter\n              </button>\n            </div>\n          </div>\n\n          {/* Main Content */}\n          <div className=\"settings-main\">\n            {activeTab === 'institution' && (\n              <div className=\"settings-section\">\n                <div className=\"section-header\">\n                  <Building size={24} />\n                  <div>\n                    <h3>Informations de l'établissement</h3>\n                    <p>Configurez les détails de votre institution</p>\n                  </div>\n                </div>\n\n                <div className=\"form-section\">\n                  <div className=\"logo-section\">\n                    <div className=\"logo-preview\">\n                      {institutionSettings.logo ? (\n                        <img src={institutionSettings.logo} alt=\"Logo\" />\n                      ) : (\n                        <div className=\"logo-placeholder\">\n                          <Camera size={32} />\n                          <span>Logo</span>\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"logo-actions\">\n                      <label className=\"upload-button\">\n                        <Upload size={16} />\n                        Changer le logo\n                        <input\n                          type=\"file\"\n                          accept=\"image/*\"\n                          onChange={handleLogoUpload}\n                          style={{ display: 'none' }}\n                        />\n                      </label>\n                      {institutionSettings.logo && (\n                        <button\n                          className=\"remove-button\"\n                          onClick={() => setInstitutionSettings(prev => ({ ...prev, logo: '' }))}\n                        >\n                          <Trash2 size={16} />\n                          Supprimer\n                        </button>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className=\"form-grid\">\n                    <div className=\"form-group\">\n                      <label>Nom de l'établissement</label>\n                      <div className=\"input-wrapper\">\n                        <Building size={18} />\n                        <input\n                          type=\"text\"\n                          value={institutionSettings.name}\n                          onChange={(e) => setInstitutionSettings(prev => ({ ...prev, name: e.target.value }))}\n                          className=\"form-input\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label>Téléphone</label>\n                      <div className=\"input-wrapper\">\n                        <Phone size={18} />\n                        <input\n                          type=\"tel\"\n                          value={institutionSettings.phone}\n                          onChange={(e) => setInstitutionSettings(prev => ({ ...prev, phone: e.target.value }))}\n                          className=\"form-input\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label>Email</label>\n                      <div className=\"input-wrapper\">\n                        <Mail size={18} />\n                        <input\n                          type=\"email\"\n                          value={institutionSettings.email}\n                          onChange={(e) => setInstitutionSettings(prev => ({ ...prev, email: e.target.value }))}\n                          className=\"form-input\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label>Site web</label>\n                      <div className=\"input-wrapper\">\n                        <Globe size={18} />\n                        <input\n                          type=\"url\"\n                          value={institutionSettings.website}\n                          onChange={(e) => setInstitutionSettings(prev => ({ ...prev, website: e.target.value }))}\n                          className=\"form-input\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label>Adresse</label>\n                      <div className=\"input-wrapper\">\n                        <MapPin size={18} />\n                        <input\n                          type=\"text\"\n                          value={institutionSettings.address}\n                          onChange={(e) => setInstitutionSettings(prev => ({ ...prev, address: e.target.value }))}\n                          className=\"form-input\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label>Ville</label>\n                      <div className=\"input-wrapper\">\n                        <MapPin size={18} />\n                        <input\n                          type=\"text\"\n                          value={institutionSettings.city}\n                          onChange={(e) => setInstitutionSettings(prev => ({ ...prev, city: e.target.value }))}\n                          className=\"form-input\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-group span-full\">\n                      <label>Description</label>\n                      <textarea\n                        value={institutionSettings.description}\n                        onChange={(e) => setInstitutionSettings(prev => ({ ...prev, description: e.target.value }))}\n                        className=\"form-textarea\"\n                        rows={3}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {activeTab === 'backup' && (\n              <div className=\"settings-section\">\n                <div className=\"section-header\">\n                  <Database size={24} />\n                  <div>\n                    <h3>Gestion des sauvegardes</h3>\n                    <p>Protégez vos données avec des sauvegardes automatiques</p>\n                  </div>\n                </div>\n\n                <div className=\"backup-status\">\n                  <div className=\"status-card\">\n                    <div className=\"status-icon success\">\n                      <CheckCircle size={24} />\n                    </div>\n                    <div className=\"status-content\">\n                      <h4>Dernière sauvegarde</h4>\n                      <p>{new Date(backupSettings.lastBackup).toLocaleDateString('fr-FR', {\n                        year: 'numeric',\n                        month: 'long',\n                        day: 'numeric',\n                        hour: '2-digit',\n                        minute: '2-digit'\n                      })}</p>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"form-section\">\n                  <div className=\"setting-group\">\n                    <div className=\"setting-header\">\n                      <h4>Sauvegarde automatique</h4>\n                      <label className=\"toggle-switch\">\n                        <input\n                          type=\"checkbox\"\n                          checked={backupSettings.autoBackup}\n                          onChange={(e) => setBackupSettings(prev => ({ ...prev, autoBackup: e.target.checked }))}\n                        />\n                        <span className=\"toggle-slider\"></span>\n                      </label>\n                    </div>\n                    <p>Créer automatiquement des sauvegardes selon la fréquence définie</p>\n                  </div>\n\n                  {backupSettings.autoBackup && (\n                    <div className=\"setting-group\">\n                      <h4>Fréquence</h4>\n                      <div className=\"radio-group\">\n                        {[\n                          { value: 'daily', label: 'Quotidienne' },\n                          { value: 'weekly', label: 'Hebdomadaire' },\n                          { value: 'monthly', label: 'Mensuelle' }\n                        ].map((option) => (\n                          <label key={option.value} className=\"radio-option\">\n                            <input\n                              type=\"radio\"\n                              name=\"frequency\"\n                              value={option.value}\n                              checked={backupSettings.backupFrequency === option.value}\n                              onChange={(e) => setBackupSettings(prev => ({ ...prev, backupFrequency: e.target.value as any }))}\n                            />\n                            <span className=\"radio-label\">{option.label}</span>\n                          </label>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  <div className=\"setting-group\">\n                    <div className=\"setting-header\">\n                      <h4>Synchronisation cloud</h4>\n                      <label className=\"toggle-switch\">\n                        <input\n                          type=\"checkbox\"\n                          checked={backupSettings.cloudSync}\n                          onChange={(e) => setBackupSettings(prev => ({ ...prev, cloudSync: e.target.checked }))}\n                        />\n                        <span className=\"toggle-slider\"></span>\n                      </label>\n                    </div>\n                    <p>Synchroniser automatiquement vos sauvegardes avec le cloud</p>\n                  </div>\n\n                  <div className=\"backup-actions\">\n                    <button \n                      className=\"action-button primary\"\n                      onClick={handleBackup}\n                      disabled={isLoading}\n                    >\n                      <HardDrive size={18} />\n                      Créer une sauvegarde maintenant\n                    </button>\n                    \n                    <button \n                      className=\"action-button secondary\"\n                      onClick={handleRestore}\n                      disabled={isLoading}\n                    >\n                      <Download size={18} />\n                      Restaurer une sauvegarde\n                    </button>\n                    \n                    <button \n                      className=\"action-button danger\"\n                      onClick={handleClearData}\n                      disabled={isLoading}\n                    >\n                      <Trash2 size={18} />\n                      Effacer toutes les données\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {activeTab === 'security' && (\n              <div className=\"settings-section\">\n                <div className=\"section-header\">\n                  <Shield size={24} />\n                  <div>\n                    <h3>Paramètres de sécurité</h3>\n                    <p>Configurez la sécurité et l'authentification</p>\n                  </div>\n                </div>\n\n                <div className=\"form-section\">\n                  <div className=\"setting-group\">\n                    <div className=\"setting-header\">\n                      <h4>Authentification requise</h4>\n                      <label className=\"toggle-switch\">\n                        <input\n                          type=\"checkbox\"\n                          checked={securitySettings.requireAuth}\n                          onChange={(e) => setSecuritySettings(prev => ({ ...prev, requireAuth: e.target.checked }))}\n                        />\n                        <span className=\"toggle-slider\"></span>\n                      </label>\n                    </div>\n                    <p>Exiger une connexion pour accéder à l'application</p>\n                  </div>\n\n                  <div className=\"setting-group\">\n                    <h4>Délai d'expiration de session (minutes)</h4>\n                    <div className=\"input-wrapper\">\n                      <Lock size={18} />\n                      <input\n                        type=\"number\"\n                        min=\"5\"\n                        max=\"480\"\n                        value={securitySettings.sessionTimeout}\n                        onChange={(e) => setSecuritySettings(prev => ({ ...prev, sessionTimeout: parseInt(e.target.value) }))}\n                        className=\"form-input\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"setting-group\">\n                    <h4>Politique de mot de passe</h4>\n                    \n                    <div className=\"sub-setting\">\n                      <label>Longueur minimale</label>\n                      <div className=\"input-wrapper\">\n                        <Lock size={18} />\n                        <input\n                          type=\"number\"\n                          min=\"4\"\n                          max=\"20\"\n                          value={securitySettings.passwordPolicy.minLength}\n                          onChange={(e) => setSecuritySettings(prev => ({\n                            ...prev,\n                            passwordPolicy: {\n                              ...prev.passwordPolicy,\n                              minLength: parseInt(e.target.value)\n                            }\n                          }))}\n                          className=\"form-input\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"checkbox-group\">\n                      <label className=\"checkbox-option\">\n                        <input\n                          type=\"checkbox\"\n                          checked={securitySettings.passwordPolicy.requireNumbers}\n                          onChange={(e) => setSecuritySettings(prev => ({\n                            ...prev,\n                            passwordPolicy: {\n                              ...prev.passwordPolicy,\n                              requireNumbers: e.target.checked\n                            }\n                          }))}\n                        />\n                        <span className=\"checkbox-label\">Exiger des chiffres</span>\n                      </label>\n\n                      <label className=\"checkbox-option\">\n                        <input\n                          type=\"checkbox\"\n                          checked={securitySettings.passwordPolicy.requireSymbols}\n                          onChange={(e) => setSecuritySettings(prev => ({\n                            ...prev,\n                            passwordPolicy: {\n                              ...prev.passwordPolicy,\n                              requireSymbols: e.target.checked\n                            }\n                          }))}\n                        />\n                        <span className=\"checkbox-label\">Exiger des symboles</span>\n                      </label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {activeTab === 'about' && (\n              <div className=\"settings-section\">\n                <div className=\"section-header\">\n                  <SettingsIcon size={24} />\n                  <div>\n                    <h3>À propos de l'application</h3>\n                    <p>Informations sur la version et les crédits</p>\n                  </div>\n                </div>\n\n                <div className=\"about-content\">\n                  <div className=\"app-info\">\n                    <div className=\"app-logo\">\n                      <Building size={48} />\n                    </div>\n                    <h3>Bibliothèque v2.0.0</h3>\n                    <p>Système de gestion moderne pour bibliothèques</p>\n                  </div>\n\n                  <div className=\"info-cards\">\n                    <div className=\"info-card\">\n                      <h4>Développé par</h4>\n                      <p>Votre équipe de développement</p>\n                    </div>\n                    \n                    <div className=\"info-card\">\n                      <h4>Technologies utilisées</h4>\n                      <div className=\"tech-list\">\n                        <span>Electron</span>\n                        <span>React</span>\n                        <span>TypeScript</span>\n                        <span>SQLite</span>\n                      </div>\n                    </div>\n                    \n                    <div className=\"info-card\">\n                      <h4>Licence</h4>\n                      <p>MIT License</p>\n                    </div>\n                  </div>\n\n                  <div className=\"system-info\">\n                    <h4>Informations système</h4>\n                    <div className=\"system-details\">\n                      <div className=\"detail-item\">\n                        <span>Version de l'application</span>\n                        <span>2.0.0</span>\n                      </div>\n                      <div className=\"detail-item\">\n                        <span>Base de données</span>\n                        <span>SQLite v3.39.0</span>\n                      </div>\n                      <div className=\"detail-item\">\n                        <span>Plateforme</span>\n                        <span>Windows/macOS/Linux</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Footer Actions */}\n        <div className=\"settings-footer\">\n          <button \n            className=\"btn-secondary\"\n            onClick={onClose}\n            disabled={isLoading}\n          >\n            Annuler\n          </button>\n          <button \n            className=\"btn-primary\"\n            onClick={saveSettings}\n            disabled={isLoading}\n          >\n            {isLoading ? (\n              <>\n                <RefreshCw size={16} className=\"spinning\" />\n                Sauvegarde...\n              </>\n            ) : (\n              <>\n                <Save size={16} />\n                Sauvegarder\n              </>\n            )}\n          </button>\n        </div>\n      </div>\n\n      {/* Logout Confirmation Modal */}\n      {showConfirmLogout && (\n        <div className=\"logout-overlay\" onClick={() => setShowConfirmLogout(false)}>\n          <div className=\"logout-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"logout-header\">\n              <LogOut size={24} />\n              <h3>Confirmer la déconnexion</h3>\n            </div>\n            <p>Êtes-vous sûr de vouloir vous déconnecter ? Toutes les données non sauvegardées seront perdues.</p>\n            <div className=\"logout-actions\">\n              <button \n                className=\"btn-secondary\"\n                onClick={() => setShowConfirmLogout(false)}\n              >\n                Annuler\n              </button>\n              <button \n                className=\"btn-danger\"\n                onClick={() => {\n                  setShowConfirmLogout(false);\n                  onLogout();\n                }}\n              >\n                <LogOut size={16} />\n                Se déconnecter\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <style>{`\n        .settings-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.7);\n          backdrop-filter: blur(8px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 20px;\n        }\n        \n        .settings-modal {\n          background: #FFFFFF;\n          border-radius: 24px;\n          width: 100%;\n          max-width: 1200px;\n          max-height: 90vh;\n          overflow: hidden;\n          display: flex;\n          flex-direction: column;\n          box-shadow: \n            0 24px 48px rgba(62, 92, 73, 0.2),\n            0 8px 24px rgba(62, 92, 73, 0.12);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n        \n        .modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 32px;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n        }\n        \n        .header-content {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n        }\n        \n        .header-icon {\n          width: 56px;\n          height: 56px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .modal-title {\n          font-size: 24px;\n          font-weight: 800;\n          margin: 0 0 4px 0;\n        }\n        \n        .modal-subtitle {\n          font-size: 14px;\n          opacity: 0.9;\n          margin: 0;\n        }\n        \n        .close-button {\n          background: rgba(243, 238, 217, 0.15);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n        \n        .close-button:hover {\n          background: rgba(243, 238, 217, 0.25);\n        }\n        \n        .message {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 32px;\n          font-size: 14px;\n          font-weight: 600;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .message.success {\n          background: rgba(62, 92, 73, 0.1);\n          color: #3E5C49;\n        }\n        \n        .message.error {\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n        }\n        \n        .settings-content {\n          flex: 1;\n          display: flex;\n          overflow: hidden;\n        }\n        \n        .settings-sidebar {\n          width: 280px;\n          background: #F3EED9;\n          border-right: 1px solid #E5DCC2;\n          padding: 24px 0;\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n        }\n        \n        .settings-nav {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n          padding: 0 24px;\n        }\n        \n        .nav-button {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 20px;\n          border: none;\n          background: transparent;\n          color: #6E6E6E;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-size: 14px;\n          font-weight: 500;\n          text-align: left;\n        }\n        \n        .nav-button:hover {\n          background: rgba(62, 92, 73, 0.08);\n          color: #3E5C49;\n        }\n        \n        .nav-button.active {\n          background: #3E5C49;\n          color: #F3EED9;\n          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.2);\n        }\n        \n        .logout-section {\n          padding: 0 24px;\n          border-top: 1px solid #E5DCC2;\n          padding-top: 24px;\n        }\n        \n        .logout-button {\n          width: 100%;\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 20px;\n          border: none;\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-size: 14px;\n          font-weight: 600;\n        }\n        \n        .logout-button:hover {\n          background: rgba(194, 87, 27, 0.15);\n          color: #A8481A;\n        }\n        \n        .settings-main {\n          flex: 1;\n          overflow-y: auto;\n          padding: 32px;\n        }\n        \n        .settings-section {\n          max-width: 800px;\n        }\n        \n        .section-header {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          margin-bottom: 32px;\n          padding-bottom: 16px;\n          border-bottom: 2px solid #E5DCC2;\n        }\n        \n        .section-header h3 {\n          font-size: 24px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 4px 0;\n        }\n        \n        .section-header p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .form-section {\n          display: flex;\n          flex-direction: column;\n          gap: 24px;\n        }\n        \n        .logo-section {\n          display: flex;\n          align-items: center;\n          gap: 24px;\n          padding: 24px;\n          background: #F3EED9;\n          border-radius: 16px;\n          border: 1px solid #E5DCC2;\n          margin-bottom: 32px;\n        }\n        \n        .logo-preview {\n          width: 120px;\n          height: 120px;\n          border-radius: 16px;\n          overflow: hidden;\n          border: 2px solid #E5DCC2;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background: #FFFFFF;\n        }\n        \n        .logo-preview img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n        \n        .logo-placeholder {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 8px;\n          color: #6E6E6E;\n          text-align: center;\n        }\n        \n        .logo-actions {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .upload-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 16px;\n          background: #3E5C49;\n          color: #F3EED9;\n          border: none;\n          border-radius: 8px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 600;\n          transition: all 0.2s ease;\n        }\n        \n        .upload-button:hover {\n          background: #2E453A;\n        }\n        \n        .remove-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 16px;\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n          border: 1px solid rgba(194, 87, 27, 0.2);\n          border-radius: 8px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 600;\n          transition: all 0.2s ease;\n        }\n        \n        .remove-button:hover {\n          background: rgba(194, 87, 27, 0.15);\n        }\n        \n        .form-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 20px;\n        }\n        \n        .form-group {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        \n        .form-group.span-full {\n          grid-column: 1 / -1;\n        }\n        \n        .form-group label {\n          font-size: 14px;\n          font-weight: 600;\n          color: #2E2E2E;\n        }\n        \n        .input-wrapper {\n          position: relative;\n          display: flex;\n          align-items: center;\n        }\n        \n        .input-wrapper svg {\n          position: absolute;\n          left: 16px;\n          color: #6E6E6E;\n          z-index: 2;\n        }\n        \n        .form-input {\n          width: 100%;\n          padding: 12px 16px 12px 48px;\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          font-size: 14px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n        }\n        \n        .form-input:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n        \n        .form-textarea {\n          width: 100%;\n          padding: 12px 16px;\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          font-size: 14px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n          resize: vertical;\n          min-height: 80px;\n        }\n        \n        .form-textarea:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n        \n        .backup-status {\n          margin-bottom: 32px;\n        }\n        \n        .status-card {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          padding: 20px;\n          background: rgba(62, 92, 73, 0.05);\n          border: 1px solid rgba(62, 92, 73, 0.1);\n          border-radius: 12px;\n        }\n        \n        .status-icon {\n          width: 48px;\n          height: 48px;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .status-icon.success {\n          background: rgba(62, 92, 73, 0.1);\n          color: #3E5C49;\n        }\n        \n        .status-content h4 {\n          font-size: 16px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin: 0 0 4px 0;\n        }\n        \n        .status-content p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .setting-group {\n          padding: 20px;\n          background: #FEFEFE;\n          border: 1px solid #E5DCC2;\n          border-radius: 12px;\n        }\n        \n        .setting-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 8px;\n        }\n        \n        .setting-header h4 {\n          font-size: 16px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin: 0;\n        }\n        \n        .setting-group p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n          line-height: 1.4;\n        }\n        \n        .toggle-switch {\n          position: relative;\n          display: inline-block;\n          width: 44px;\n          height: 24px;\n        }\n        \n        .toggle-switch input {\n          opacity: 0;\n          width: 0;\n          height: 0;\n        }\n        \n        .toggle-slider {\n          position: absolute;\n          cursor: pointer;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: #E5DCC2;\n          transition: 0.3s;\n          border-radius: 24px;\n        }\n        \n        .toggle-slider:before {\n          position: absolute;\n          content: \"\";\n          height: 20px;\n          width: 20px;\n          left: 2px;\n          bottom: 2px;\n          background: #FFFFFF;\n          transition: 0.3s;\n          border-radius: 50%;\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        input:checked + .toggle-slider {\n          background: #3E5C49;\n        }\n        \n        input:checked + .toggle-slider:before {\n          transform: translateX(20px);\n        }\n        \n        .radio-group {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n          margin-top: 12px;\n        }\n        \n        .radio-option {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          cursor: pointer;\n        }\n        \n        .radio-option input {\n          margin: 0;\n        }\n        \n        .radio-label {\n          font-size: 14px;\n          color: #2E2E2E;\n        }\n        \n        .checkbox-group {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n          margin-top: 12px;\n        }\n        \n        .checkbox-option {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          cursor: pointer;\n        }\n        \n        .checkbox-option input {\n          margin: 0;\n        }\n        \n        .checkbox-label {\n          font-size: 14px;\n          color: #2E2E2E;\n        }\n        \n        .sub-setting {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n          margin-top: 16px;\n        }\n        \n        .sub-setting label {\n          font-size: 13px;\n          font-weight: 500;\n          color: #6E6E6E;\n        }\n        \n        .backup-actions {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n          margin-top: 24px;\n        }\n        \n        .action-button {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 20px;\n          border: none;\n          border-radius: 12px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 600;\n          transition: all 0.2s ease;\n          text-align: left;\n        }\n        \n        .action-button.primary {\n          background: #3E5C49;\n          color: #F3EED9;\n        }\n        \n        .action-button.primary:hover:not(:disabled) {\n          background: #2E453A;\n        }\n        \n        .action-button.secondary {\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 1px solid #E5DCC2;\n        }\n        \n        .action-button.secondary:hover:not(:disabled) {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .action-button.danger {\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n          border: 1px solid rgba(194, 87, 27, 0.2);\n        }\n        \n        .action-button.danger:hover:not(:disabled) {\n          background: rgba(194, 87, 27, 0.15);\n        }\n        \n        .action-button:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n        \n        .about-content {\n          display: flex;\n          flex-direction: column;\n          gap: 32px;\n        }\n        \n        .app-info {\n          text-align: center;\n          padding: 32px;\n          background: #F3EED9;\n          border-radius: 16px;\n          border: 1px solid #E5DCC2;\n        }\n        \n        .app-logo {\n          width: 80px;\n          height: 80px;\n          background: #3E5C49;\n          color: #F3EED9;\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin: 0 auto 20px;\n        }\n        \n        .app-info h3 {\n          font-size: 24px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 8px 0;\n        }\n        \n        .app-info p {\n          font-size: 16px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .info-cards {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n          gap: 20px;\n        }\n        \n        .info-card {\n          padding: 20px;\n          background: #FFFFFF;\n          border: 1px solid #E5DCC2;\n          border-radius: 12px;\n        }\n        \n        .info-card h4 {\n          font-size: 16px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin: 0 0 12px 0;\n        }\n        \n        .info-card p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .tech-list {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 8px;\n        }\n        \n        .tech-list span {\n          background: #3E5C49;\n          color: #F3EED9;\n          padding: 4px 12px;\n          border-radius: 16px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n        \n        .system-info {\n          padding: 24px;\n          background: #FEFEFE;\n          border: 1px solid #E5DCC2;\n          border-radius: 12px;\n        }\n        \n        .system-info h4 {\n          font-size: 18px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n        }\n        \n        .system-details {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .detail-item {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 12px 0;\n          border-bottom: 1px solid #F3EED9;\n        }\n        \n        .detail-item:last-child {\n          border-bottom: none;\n        }\n        \n        .detail-item span:first-child {\n          font-size: 14px;\n          color: #6E6E6E;\n        }\n        \n        .detail-item span:last-child {\n          font-size: 14px;\n          font-weight: 600;\n          color: #2E2E2E;\n        }\n        \n        .settings-footer {\n          display: flex;\n          justify-content: flex-end;\n          gap: 16px;\n          padding: 24px 32px;\n          border-top: 1px solid #E5DCC2;\n          background: #FEFEFE;\n        }\n        \n        .btn-secondary, .btn-primary {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 24px;\n          border-radius: 12px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          border: none;\n        }\n        \n        .btn-secondary {\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 2px solid #E5DCC2;\n        }\n        \n        .btn-secondary:hover:not(:disabled) {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .btn-primary {\n          background: #3E5C49;\n          color: #F3EED9;\n        }\n        \n        .btn-primary:hover:not(:disabled) {\n          background: #2E453A;\n        }\n        \n        .btn-secondary:disabled,\n        .btn-primary:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n        \n        .spinning {\n          animation: spin 1s linear infinite;\n        }\n        \n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        /* Logout Modal */\n        .logout-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.8);\n          backdrop-filter: blur(4px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1001;\n          padding: 20px;\n        }\n        \n        .logout-modal {\n          background: #FFFFFF;\n          border-radius: 16px;\n          width: 100%;\n          max-width: 400px;\n          padding: 24px;\n          box-shadow: 0 20px 40px rgba(62, 92, 73, 0.2);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n        \n        .logout-header {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          margin-bottom: 16px;\n          color: #C2571B;\n        }\n        \n        .logout-header h3 {\n          font-size: 18px;\n          font-weight: 700;\n          margin: 0;\n        }\n        \n        .logout-modal p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0 0 24px 0;\n          line-height: 1.5;\n        }\n        \n        .logout-actions {\n          display: flex;\n          gap: 12px;\n          justify-content: flex-end;\n        }\n        \n        .btn-danger {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 20px;\n          background: #C2571B;\n          color: #F3EED9;\n          border: none;\n          border-radius: 8px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .btn-danger:hover {\n          background: #A8481A;\n        }\n        \n        /* Responsive Design */\n        @media (max-width: 1024px) {\n          .settings-content {\n            flex-direction: column;\n          }\n          \n          .settings-sidebar {\n            width: 100%;\n            flex-direction: row;\n            justify-content: space-between;\n            padding: 16px 24px;\n            border-right: none;\n            border-bottom: 1px solid #E5DCC2;\n          }\n          \n          .settings-nav {\n            flex-direction: row;\n            gap: 12px;\n            padding: 0;\n            overflow-x: auto;\n          }\n          \n          .nav-button {\n            white-space: nowrap;\n            min-width: 120px;\n            justify-content: center;\n          }\n          \n          .logout-section {\n            border-top: none;\n            border-left: 1px solid #E5DCC2;\n            padding-top: 0;\n            padding-left: 24px;\n          }\n          \n          .logout-button {\n            width: auto;\n            min-width: 140px;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .settings-modal {\n            margin: 12px;\n            border-radius: 20px;\n            max-height: calc(100vh - 24px);\n          }\n          \n          .modal-header {\n            padding: 20px;\n            flex-direction: column;\n            gap: 16px;\n            text-align: center;\n          }\n          \n          .settings-main {\n            padding: 20px;\n          }\n          \n          .form-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .logo-section {\n            flex-direction: column;\n            text-align: center;\n          }\n          \n          .info-cards {\n            grid-template-columns: 1fr;\n          }\n          \n          .settings-footer {\n            padding: 16px 20px;\n            flex-direction: column-reverse;\n          }\n          \n          .btn-secondary,\n          .btn-primary {\n            width: 100%;\n            justify-content: center;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .settings-sidebar {\n            flex-direction: column;\n            gap: 16px;\n          }\n          \n          .settings-nav {\n            flex-direction: column;\n          }\n          \n          .logout-section {\n            border-left: none;\n            border-top: 1px solid #E5DCC2;\n            padding-left: 0;\n            padding-top: 16px;\n          }\n          \n          .backup-actions {\n            gap: 8px;\n          }\n          \n          .action-button {\n            padding: 12px 16px;\n            font-size: 13px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};","import React, { useState } from 'react';\nimport { \n  Home, \n  Book, \n  BookOpen, \n  Plus, \n  BarChart3,\n  ChevronLeft,\n  ChevronRight,\n  Clock,\n  GraduationCap,\n  Briefcase,\n  TrendingUp,\n  Star,\n  Zap,\n  Heart,\n  Info,\n  Users,\n  History,\n  Settings\n} from 'lucide-react';\nimport { Stats } from '../../types';\n\nimport { SupabaseService, User, Institution } from '../../services/SupabaseService';\n\ninterface SidebarProps {\n  currentView: string;\n  onNavigate: (view: 'dashboard' | 'documents' | 'borrowed' | 'add-document' | 'borrowers' | 'history' | 'donation' | 'about') => void;\n  stats: Stats;\n  currentUser: User | null;\n  currentInstitution: Institution | null;\n}\n\n// Types pour les items de menu\ninterface BaseMenuItem {\n  id: string;\n  label: string;\n  icon: any;\n  description: string;\n  gradient: string;\n}\n\ninterface MenuItem extends BaseMenuItem {\n  count?: number;\n  badge?: boolean;\n  urgent?: boolean;\n  accent?: boolean;\n  highlight?: boolean;\n  support?: boolean;\n}\n\nexport const Sidebar: React.FC<SidebarProps> = ({ currentView, onNavigate, stats }) => {\n  const [isCollapsed, setIsCollapsed] = useState(false);\n\n  const menuItems: MenuItem[] = [\n    { \n      id: 'dashboard', \n      label: 'Tableau de bord', \n      icon: Home,\n      description: 'Vue d\\'ensemble et statistiques',\n      gradient: 'linear-gradient(135deg, #3E5C49 0%, #2E453A 100%)'\n    },\n    { \n      id: 'documents', \n      label: 'Ma Collection', \n      icon: Book,\n      description: 'Parcourir tous les documents',\n      count: stats.totalBooks,\n      gradient: 'linear-gradient(135deg, #3E5C49 0%, #4A6B57 100%)'\n    },\n    { \n      id: 'borrowed', \n      label: 'Emprunts Actifs', \n      icon: BookOpen,\n      description: 'Documents actuellement empruntés',\n      count: stats.borrowedBooks,\n      badge: stats.borrowedBooks > 0,\n      urgent: stats.overdueBooks > 0,\n      gradient: 'linear-gradient(135deg, #C2571B 0%, #A8481A 100%)'\n    }\n  ];\n\n  const actionItems: MenuItem[] = [\n    { \n      id: 'add-document', \n      label: 'Nouveau Document', \n      icon: Plus,\n      description: 'Ajouter à la collection',\n      accent: true,\n      gradient: 'linear-gradient(135deg, #C2571B 0%, #E65100 100%)',\n      highlight: true\n    },\n    { \n      id: 'borrowers', \n      label: 'Gestion Emprunteurs', \n      icon: Users,\n      description: 'Gérer les utilisateurs',\n      count: stats.totalBorrowers,\n      badge: stats.totalBorrowers > 0,\n      gradient: 'linear-gradient(135deg, #6E6E6E 0%, #5A5A5A 100%)'\n    }\n  ];\n\n  const reportItems: MenuItem[] = [\n    { \n      id: 'history', \n      label: 'Historique Complet', \n      icon: History,\n      description: 'Tous les emprunts et retours',\n      gradient: 'linear-gradient(135deg, #607D8B 0%, #455A64 100%)'\n    }\n  ];\n\n  const supportItems: MenuItem[] = [\n    {\n      id: 'donation',\n      label: 'Soutenir le projet',\n      icon: Heart,\n      description: 'Faire une donation',\n      gradient: 'linear-gradient(135deg, #E91E63 0%, #C2185B 100%)',\n      support: true\n    },\n    {\n      id: 'about',\n      label: 'À propos',\n      icon: Info,\n      description: 'Développeur & crédits',\n      gradient: 'linear-gradient(135deg, #607D8B 0%, #455A64 100%)'\n    }\n  ];\n\n  const quickStats = [\n    {\n      label: 'Collection',\n      value: stats.totalBooks,\n      icon: Book,\n      color: '#3E5C49',\n      trend: '+2 ce mois'\n    },\n    {\n      label: 'Disponibles',\n      value: stats.availableBooks,\n      icon: BookOpen,\n      color: '#3E5C49',\n      percentage: stats.totalBooks > 0 ? Math.round((stats.availableBooks / stats.totalBooks) * 100) : 0\n    },\n    {\n      label: 'Empruntés',\n      value: stats.borrowedBooks,\n      icon: BarChart3,\n      color: '#C2571B',\n      percentage: stats.totalBooks > 0 ? Math.round((stats.borrowedBooks / stats.totalBooks) * 100) : 0\n    },\n    {\n      label: 'En retard',\n      value: stats.overdueBooks,\n      icon: Clock,\n      color: '#DC2626',\n      urgent: stats.overdueBooks > 0\n    }\n  ];\n\n  const userStats = [\n    {\n      label: 'Étudiants',\n      value: stats.totalStudents,\n      icon: GraduationCap,\n      color: '#3E5C49'\n    },\n    {\n      label: 'Personnel',\n      value: stats.totalStaff,\n      icon: Briefcase,\n      color: '#C2571B'\n    }\n  ];\n\n  const getPopularityScore = () => {\n    if (stats.totalBooks === 0) return 0;\n    return Math.round((stats.borrowedBooks / stats.totalBooks) * 100);\n  };\n\n  return (\n    <div className={`sidebar ${isCollapsed ? 'collapsed' : ''}`}>\n      {/* Enhanced Header */}\n      <div className=\"sidebar-header\">\n        <div className=\"sidebar-toggle\">\n          <button \n            className=\"toggle-button\"\n            onClick={() => setIsCollapsed(!isCollapsed)}\n            title={isCollapsed ? 'Développer le menu' : 'Réduire le menu'}\n          >\n            {isCollapsed ? <ChevronRight size={18} /> : <ChevronLeft size={18} />}\n          </button>\n        </div>\n        \n        {!isCollapsed && (\n          <div className=\"sidebar-brand\">\n            <div className=\"brand-logo\">\n              <Book size={24} />\n            </div>\n            <div className=\"brand-text\">\n              <h2 className=\"brand-title\">Bibliothèque</h2>\n              <p className=\"brand-subtitle\">Système de gestion moderne</p>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <div className=\"sidebar-content\">\n        {/* Main Navigation */}\n        <nav className=\"sidebar-nav\">\n          <div className=\"nav-section\">\n            {!isCollapsed && <h3 className=\"nav-title\">Principal</h3>}\n            <ul className=\"nav-list\">\n              {menuItems.map((item) => (\n                <li key={item.id} className=\"nav-item\">\n                  <button\n                    className={`nav-button ${currentView === item.id ? 'active' : ''} ${item.accent ? 'accent' : ''} ${item.urgent ? 'urgent' : ''} ${item.highlight ? 'highlight' : ''}`}\n                    onClick={() => onNavigate(item.id as any)}\n                    title={isCollapsed ? item.label : ''}\n                    style={{\n                      '--item-gradient': item.gradient\n                    } as React.CSSProperties}\n                  >\n                    <div className=\"nav-icon\">\n                      <item.icon size={20} />\n                    </div>\n                    \n                    {!isCollapsed && (\n                      <>\n                        <div className=\"nav-content\">\n                          <span className=\"nav-label\">{item.label}</span>\n                          <span className=\"nav-description\">{item.description}</span>\n                        </div>\n                        \n                        {item.count !== undefined && item.count > 0 && (\n                          <div className={`nav-count ${item.badge ? 'badge' : ''} ${item.urgent ? 'urgent' : ''}`}>\n                            {item.count}\n                          </div>\n                        )}\n                        \n                        {item.highlight && (\n                          <div className=\"nav-highlight\">\n                            <Zap size={14} />\n                          </div>\n                        )}\n                      </>\n                    )}\n                    \n                    {isCollapsed && item.badge && stats.borrowedBooks > 0 && (\n                      <div className={`nav-indicator ${item.urgent ? 'urgent' : ''}`}></div>\n                    )}\n                  </button>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Actions Section */}\n          <div className=\"nav-section\">\n            {!isCollapsed && <h3 className=\"nav-title\">Actions</h3>}\n            <ul className=\"nav-list\">\n              {actionItems.map((item) => (\n                <li key={item.id} className=\"nav-item\">\n                  <button\n                    className={`nav-button ${currentView === item.id ? 'active' : ''} ${item.accent ? 'accent' : ''} ${item.highlight ? 'highlight' : ''}`}\n                    onClick={() => onNavigate(item.id as any)}\n                    title={isCollapsed ? item.label : ''}\n                    style={{\n                      '--item-gradient': item.gradient\n                    } as React.CSSProperties}\n                  >\n                    <div className=\"nav-icon\">\n                      <item.icon size={20} />\n                    </div>\n                    \n                    {!isCollapsed && (\n                      <>\n                        <div className=\"nav-content\">\n                          <span className=\"nav-label\">{item.label}</span>\n                          <span className=\"nav-description\">{item.description}</span>\n                        </div>\n                        \n                        {item.count !== undefined && item.count > 0 && (\n                          <div className={`nav-count ${item.badge ? 'badge' : ''}`}>\n                            {item.count}\n                          </div>\n                        )}\n                        \n                        {item.highlight && (\n                          <div className=\"nav-highlight\">\n                            <Zap size={14} />\n                          </div>\n                        )}\n                      </>\n                    )}\n                  </button>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Reports Section */}\n          <div className=\"nav-section\">\n            {!isCollapsed && <h3 className=\"nav-title\">Rapports</h3>}\n            <ul className=\"nav-list\">\n              {reportItems.map((item) => (\n                <li key={item.id} className=\"nav-item\">\n                  <button\n                    className={`nav-button ${currentView === item.id ? 'active' : ''}`}\n                    onClick={() => onNavigate(item.id as any)}\n                    title={isCollapsed ? item.label : ''}\n                    style={{\n                      '--item-gradient': item.gradient\n                    } as React.CSSProperties}\n                  >\n                    <div className=\"nav-icon\">\n                      <item.icon size={20} />\n                    </div>\n                    \n                    {!isCollapsed && (\n                      <div className=\"nav-content\">\n                        <span className=\"nav-label\">{item.label}</span>\n                        <span className=\"nav-description\">{item.description}</span>\n                      </div>\n                    )}\n                  </button>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Support Section */}\n          <div className=\"nav-section\">\n            {!isCollapsed && <h3 className=\"nav-title\">Communauté</h3>}\n            <ul className=\"nav-list\">\n              {supportItems.map((item) => (\n                <li key={item.id} className=\"nav-item\">\n                  <button\n                    className={`nav-button ${currentView === item.id ? 'active' : ''} ${item.support ? 'support' : ''}`}\n                    onClick={() => onNavigate(item.id as any)}\n                    title={isCollapsed ? item.label : ''}\n                    style={{\n                      '--item-gradient': item.gradient\n                    } as React.CSSProperties}\n                  >\n                    <div className=\"nav-icon\">\n                      <item.icon size={20} />\n                    </div>\n                    \n                    {!isCollapsed && (\n                      <div className=\"nav-content\">\n                        <span className=\"nav-label\">{item.label}</span>\n                        <span className=\"nav-description\">{item.description}</span>\n                      </div>\n                    )}\n                  </button>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </nav>\n        \n        {!isCollapsed && (\n          <>\n            {/* Collection Statistics */}\n            <div className=\"stats-section\">\n              <div className=\"stats-header\">\n                <h3 className=\"stats-title\">Statistiques de collection</h3>\n                <div className=\"popularity-score\">\n                  <TrendingUp size={14} />\n                  <span>{getPopularityScore()}% popularité</span>\n                </div>\n              </div>\n              <div className=\"stats-grid\">\n                {quickStats.map((stat, index) => (\n                  <div key={index} className={`stat-card ${stat.urgent ? 'urgent' : ''}`}>\n                    <div className=\"stat-icon\" style={{ color: stat.color }}>\n                      <stat.icon size={16} />\n                    </div>\n                    <div className=\"stat-content\">\n                      <div className=\"stat-value\">{stat.value}</div>\n                      <div className=\"stat-label\">{stat.label}</div>\n                      {stat.trend && (\n                        <div className=\"stat-trend\">{stat.trend}</div>\n                      )}\n                      {stat.percentage !== undefined && (\n                        <div className=\"stat-percentage\">{stat.percentage}%</div>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Users Overview */}\n            <div className=\"stats-section\">\n              <h3 className=\"stats-title\">Utilisateurs</h3>\n              <div className=\"users-stats\">\n                {userStats.map((stat, index) => (\n                  <div key={index} className=\"user-stat\">\n                    <div className=\"user-stat-icon\" style={{ color: stat.color }}>\n                      <stat.icon size={18} />\n                    </div>\n                    <div className=\"user-stat-content\">\n                      <div className=\"user-stat-value\">{stat.value}</div>\n                      <div className=\"user-stat-label\">{stat.label}</div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              \n              <div className=\"total-users\">\n                <span className=\"total-label\">Total des utilisateurs</span>\n                <span className=\"total-value\">{stats.totalBorrowers}</span>\n              </div>\n            </div>\n\n            {/* Activity Indicator */}\n            <div className=\"activity-section\">\n              <div className=\"activity-header\">\n                <h3 className=\"stats-title\">Activité récente</h3>\n                <div className=\"activity-pulse\"></div>\n              </div>\n              <div className=\"activity-summary\">\n                <div className=\"activity-item\">\n                  <div className=\"activity-dot available\"></div>\n                  <span>{stats.availableBooks} documents prêts à emprunter</span>\n                </div>\n                <div className=\"activity-item\">\n                  <div className=\"activity-dot borrowed\"></div>\n                  <span>{stats.borrowedBooks} emprunts en cours</span>\n                </div>\n                {stats.overdueBooks > 0 && (\n                  <div className=\"activity-item urgent\">\n                    <div className=\"activity-dot overdue\"></div>\n                    <span>{stats.overdueBooks} document(s) en retard</span>\n                  </div>\n                )}\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n      \n      <style>{`\n        .sidebar {\n          width: 300px;\n          background: linear-gradient(180deg, #3E5C49 0%, #2E453A 100%);\n          display: flex;\n          flex-direction: column;\n          position: relative;\n          transition: width 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          border-right: 1px solid rgba(46, 69, 58, 0.3);\n          box-shadow: 4px 0 16px rgba(62, 92, 73, 0.1);\n        }\n        \n        .sidebar.collapsed {\n          width: 72px;\n        }\n        \n        .sidebar::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: \n            radial-gradient(circle at 20% 80%, rgba(243, 238, 217, 0.03) 0%, transparent 50%),\n            radial-gradient(circle at 80% 20%, rgba(194, 87, 27, 0.02) 0%, transparent 50%);\n          pointer-events: none;\n        }\n        \n        .sidebar-header {\n          padding: 24px 20px;\n          border-bottom: 1px solid rgba(243, 238, 217, 0.1);\n          position: relative;\n          z-index: 1;\n        }\n        \n        .sidebar-toggle {\n          display: flex;\n          justify-content: flex-end;\n          margin-bottom: 16px;\n        }\n        \n        .toggle-button {\n          width: 40px;\n          height: 40px;\n          border: none;\n          background: rgba(243, 238, 217, 0.1);\n          color: #F3EED9;\n          border-radius: 12px;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s ease;\n          backdrop-filter: blur(10px);\n          border: 1px solid rgba(243, 238, 217, 0.2);\n        }\n        \n        .toggle-button:hover {\n          background: rgba(243, 238, 217, 0.2);\n          transform: scale(1.05);\n        }\n        \n        .sidebar-brand {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          opacity: 1;\n          transition: opacity 0.2s ease;\n        }\n        \n        .collapsed .sidebar-brand {\n          opacity: 0;\n          pointer-events: none;\n        }\n        \n        .brand-logo {\n          width: 48px;\n          height: 48px;\n          background: rgba(243, 238, 217, 0.15);\n          border-radius: 14px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n          border: 1px solid rgba(243, 238, 217, 0.2);\n        }\n        \n        .brand-title {\n          font-size: 20px;\n          font-weight: 800;\n          color: #F3EED9;\n          margin: 0 0 4px 0;\n          letter-spacing: -0.3px;\n        }\n        \n        .brand-subtitle {\n          font-size: 13px;\n          color: rgba(243, 238, 217, 0.7);\n          margin: 0;\n          line-height: 1.3;\n        }\n        \n        .sidebar-content {\n          flex: 1;\n          overflow-y: auto;\n          padding: 8px 20px 20px;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .collapsed .sidebar-content {\n          padding: 8px 12px 20px;\n        }\n        \n        .nav-section {\n          margin-bottom: 32px;\n        }\n        \n        .nav-title {\n          font-size: 11px;\n          font-weight: 700;\n          text-transform: uppercase;\n          letter-spacing: 1px;\n          color: rgba(243, 238, 217, 0.6);\n          margin-bottom: 16px;\n          margin-top: 0;\n          padding: 0 4px;\n        }\n        \n        .nav-list {\n          list-style: none;\n          padding: 0;\n          margin: 0;\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        \n        .nav-item {\n          width: 100%;\n        }\n        \n        .nav-button {\n          width: 100%;\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          padding: 16px;\n          border: none;\n          background: transparent;\n          color: #F3EED9;\n          cursor: pointer;\n          border-radius: 16px;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          font-size: 14px;\n          position: relative;\n          text-align: left;\n          overflow: hidden;\n          border: 1px solid transparent;\n        }\n        \n        .collapsed .nav-button {\n          justify-content: center;\n          padding: 16px 12px;\n        }\n        \n        .nav-button::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(243, 238, 217, 0.08);\n          border-radius: 16px;\n          transform: scaleX(0);\n          transform-origin: left;\n          transition: transform 0.3s ease;\n        }\n        \n        .nav-button:hover::before {\n          transform: scaleX(1);\n        }\n        \n        .nav-button:hover {\n          color: #FFFFFF;\n          transform: translateX(4px);\n          border-color: rgba(243, 238, 217, 0.2);\n        }\n        \n        .collapsed .nav-button:hover {\n          transform: scale(1.05);\n        }\n        \n        .nav-button.active {\n          background: var(--item-gradient, rgba(243, 238, 217, 0.15));\n          color: #FFFFFF;\n          box-shadow: \n            0 8px 24px rgba(0, 0, 0, 0.15),\n            0 4px 12px rgba(62, 92, 73, 0.2);\n          border-color: rgba(243, 238, 217, 0.3);\n        }\n        \n        .nav-button.active::before {\n          transform: scaleX(1);\n          background: rgba(243, 238, 217, 0.1);\n        }\n        \n        .nav-button.highlight {\n          background: var(--item-gradient);\n          animation: pulse-highlight 3s ease-in-out infinite;\n        }\n        \n        .nav-button.highlight:hover {\n          background: linear-gradient(135deg, #A8481A 0%, #D84315 100%);\n          transform: translateX(4px) translateY(-2px);\n          box-shadow: 0 12px 32px rgba(194, 87, 27, 0.4);\n        }\n        \n        .nav-button.support {\n          position: relative;\n        }\n        \n        .nav-button.support::after {\n          content: '♥';\n          position: absolute;\n          top: 8px;\n          right: 8px;\n          font-size: 12px;\n          color: #E91E63;\n          animation: heartbeat 2s ease-in-out infinite;\n        }\n        \n        @keyframes heartbeat {\n          0%, 100% {\n            transform: scale(1);\n            opacity: 0.8;\n          }\n          50% {\n            transform: scale(1.2);\n            opacity: 1;\n          }\n        }\n        \n        @keyframes pulse-highlight {\n          0%, 100% {\n            box-shadow: 0 4px 16px rgba(194, 87, 27, 0.3);\n          }\n          50% {\n            box-shadow: 0 8px 24px rgba(194, 87, 27, 0.5);\n          }\n        }\n        \n        .nav-button.urgent {\n          position: relative;\n        }\n        \n        .nav-button.urgent::after {\n          content: '';\n          position: absolute;\n          top: 12px;\n          right: 12px;\n          width: 8px;\n          height: 8px;\n          background: #DC2626;\n          border-radius: 50%;\n          animation: pulse-urgent 2s infinite;\n        }\n        \n        @keyframes pulse-urgent {\n          0%, 100% {\n            opacity: 1;\n            transform: scale(1);\n          }\n          50% {\n            opacity: 0.7;\n            transform: scale(1.2);\n          }\n        }\n        \n        .nav-icon {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 24px;\n          height: 24px;\n          flex-shrink: 0;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .nav-content {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          min-width: 0;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .nav-label {\n          font-weight: 700;\n          line-height: 1.2;\n          margin-bottom: 3px;\n          font-size: 15px;\n        }\n        \n        .nav-description {\n          font-size: 12px;\n          opacity: 0.8;\n          line-height: 1.2;\n        }\n        \n        .nav-count {\n          background: rgba(243, 238, 217, 0.2);\n          color: #F3EED9;\n          font-size: 12px;\n          font-weight: 700;\n          padding: 4px 8px;\n          border-radius: 10px;\n          min-width: 20px;\n          text-align: center;\n          flex-shrink: 0;\n          position: relative;\n          z-index: 1;\n          border: 1px solid rgba(243, 238, 217, 0.3);\n        }\n        \n        .nav-count.badge {\n          background: #C2571B;\n          color: #FFFFFF;\n          animation: pulse-badge 2s infinite;\n          border-color: rgba(255, 255, 255, 0.3);\n        }\n        \n        .nav-count.urgent {\n          background: #DC2626;\n          color: #FFFFFF;\n          animation: pulse-urgent 1.5s infinite;\n          border-color: rgba(255, 255, 255, 0.3);\n        }\n        \n        @keyframes pulse-badge {\n          0%, 100% {\n            opacity: 1;\n            transform: scale(1);\n          }\n          50% {\n            opacity: 0.8;\n            transform: scale(1.05);\n          }\n        }\n        \n        .nav-highlight {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 28px;\n          height: 28px;\n          background: rgba(255, 255, 255, 0.2);\n          border-radius: 50%;\n          color: #F3EED9;\n          animation: sparkle 2s ease-in-out infinite;\n        }\n        \n        @keyframes sparkle {\n          0%, 100% {\n            opacity: 0.7;\n            transform: rotate(0deg) scale(1);\n          }\n          50% {\n            opacity: 1;\n            transform: rotate(180deg) scale(1.1);\n          }\n        }\n        \n        .nav-indicator {\n          width: 10px;\n          height: 10px;\n          background: #C2571B;\n          border-radius: 50%;\n          position: absolute;\n          top: 12px;\n          right: 12px;\n          animation: pulse-badge 2s infinite;\n          border: 2px solid rgba(243, 238, 217, 0.3);\n        }\n        \n        .nav-indicator.urgent {\n          background: #DC2626;\n          animation: pulse-urgent 1.5s infinite;\n        }\n        \n        .stats-section {\n          margin-bottom: 24px;\n          padding-top: 20px;\n          border-top: 1px solid rgba(243, 238, 217, 0.1);\n          position: relative;\n          isolation: isolate;\n        }\n        \n        .stats-section:first-of-type {\n          border-top: none;\n          padding-top: 0;\n        }\n        \n        .stats-header {\n          display: flex !important;\n          align-items: center !important;\n          justify-content: space-between !important;\n          margin-bottom: 16px !important;\n          position: relative !important;\n          z-index: 10 !important;\n        }\n        \n        .stats-title {\n          font-size: 11px !important;\n          font-weight: 700 !important;\n          text-transform: uppercase !important;\n          letter-spacing: 1px !important;\n          color: rgba(243, 238, 217, 0.6) !important;\n          margin: 0 !important;\n          font-family: inherit !important;\n        }\n        \n        .popularity-score {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          font-size: 10px;\n          color: rgba(243, 238, 217, 0.8);\n          font-weight: 600;\n        }\n        \n        .stats-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 12px;\n        }\n        \n        .stat-card {\n          background: rgba(243, 238, 217, 0.08) !important;\n          border-radius: 12px !important;\n          padding: 14px 12px !important;\n          display: flex !important;\n          align-items: center !important;\n          gap: 12px !important;\n          transition: all 0.2s ease !important;\n          border: 1px solid rgba(243, 238, 217, 0.1) !important;\n          position: relative !important;\n          overflow: hidden !important;\n          isolation: isolate !important;\n        }\n        \n        .stat-card::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: linear-gradient(135deg, rgba(243, 238, 217, 0.05) 0%, transparent 100%);\n          opacity: 0;\n          transition: opacity 0.2s ease;\n        }\n        \n        .stat-card:hover {\n          background: rgba(243, 238, 217, 0.12);\n          transform: translateY(-1px);\n        }\n        \n        .stat-card:hover::before {\n          opacity: 1;\n        }\n        \n        .stat-card.urgent {\n          background: rgba(220, 38, 38, 0.15);\n          border-color: rgba(220, 38, 38, 0.3);\n          animation: pulse-card 3s ease-in-out infinite;\n        }\n        \n        @keyframes pulse-card {\n          0%, 100% {\n            background: rgba(220, 38, 38, 0.15);\n          }\n          50% {\n            background: rgba(220, 38, 38, 0.2);\n          }\n        }\n        \n        .stat-icon {\n          opacity: 0.9;\n          flex-shrink: 0;\n        }\n        \n        .stat-content {\n          flex: 1;\n          min-width: 0;\n        }\n        \n        .stat-value {\n          font-size: 18px !important;\n          font-weight: 800 !important;\n          line-height: 1.2 !important;\n          color: #F3EED9 !important;\n          margin-bottom: 2px !important;\n          font-family: inherit !important;\n        }\n        \n        .stat-label {\n          font-size: 10px !important;\n          color: rgba(243, 238, 217, 0.7) !important;\n          line-height: 1.2 !important;\n          text-transform: uppercase !important;\n          letter-spacing: 0.5px !important;\n          font-weight: 600 !important;\n          font-family: inherit !important;\n        }\n        \n        .stat-trend {\n          font-size: 9px;\n          color: #4CAF50;\n          font-weight: 600;\n          margin-top: 2px;\n        }\n        \n        .stat-percentage {\n          font-size: 9px;\n          color: rgba(243, 238, 217, 0.8);\n          font-weight: 600;\n          margin-top: 2px;\n        }\n        \n        .users-stats {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n          margin-bottom: 16px;\n        }\n        \n        .user-stat {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          background: rgba(243, 238, 217, 0.06);\n          border-radius: 10px;\n          padding: 12px;\n          border: 1px solid rgba(243, 238, 217, 0.1);\n        }\n        \n        .user-stat-icon {\n          opacity: 0.9;\n        }\n        \n        .user-stat-content {\n          flex: 1;\n        }\n        \n        .user-stat-value {\n          font-size: 16px;\n          font-weight: 700;\n          color: #F3EED9;\n          line-height: 1.2;\n        }\n        \n        .user-stat-label {\n          font-size: 11px;\n          color: rgba(243, 238, 217, 0.7);\n          font-weight: 500;\n        }\n        \n        .total-users {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 12px 16px;\n          background: rgba(243, 238, 217, 0.1);\n          border-radius: 12px;\n          border: 1px solid rgba(243, 238, 217, 0.2);\n        }\n        \n        .total-label {\n          font-size: 12px;\n          color: rgba(243, 238, 217, 0.8);\n          font-weight: 600;\n        }\n        \n        .total-value {\n          font-size: 16px;\n          font-weight: 800;\n          color: #F3EED9;\n        }\n        \n        .activity-section {\n          margin-top: auto;\n        }\n        \n        .activity-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 16px;\n        }\n        \n        .activity-pulse {\n          width: 8px;\n          height: 8px;\n          background: #4CAF50;\n          border-radius: 50%;\n          animation: pulse-activity 2s ease-in-out infinite;\n        }\n        \n        @keyframes pulse-activity {\n          0%, 100% {\n            opacity: 1;\n            transform: scale(1);\n          }\n          50% {\n            opacity: 0.6;\n            transform: scale(1.3);\n          }\n        }\n        \n        .activity-summary {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        \n        .activity-item {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 11px;\n          color: rgba(243, 238, 217, 0.8);\n          line-height: 1.3;\n        }\n        \n        .activity-item.urgent {\n          color: #FFCDD2;\n        }\n        \n        .activity-dot {\n          width: 6px;\n          height: 6px;\n          border-radius: 50%;\n          flex-shrink: 0;\n        }\n        \n        .activity-dot.available {\n          background: #4CAF50;\n        }\n        \n        .activity-dot.borrowed {\n          background: #FF9800;\n        }\n        \n        .activity-dot.overdue {\n          background: #F44336;\n          animation: pulse-urgent 1.5s infinite;\n        }\n        \n        /* Enhanced scrollbar */\n        .sidebar-content::-webkit-scrollbar {\n          width: 4px;\n        }\n        \n        .sidebar-content::-webkit-scrollbar-track {\n          background: rgba(243, 238, 217, 0.1);\n          border-radius: 2px;\n        }\n        \n        .sidebar-content::-webkit-scrollbar-thumb {\n          background: rgba(243, 238, 217, 0.3);\n          border-radius: 2px;\n        }\n        \n        .sidebar-content::-webkit-scrollbar-thumb:hover {\n          background: rgba(243, 238, 217, 0.5);\n        }\n        \n        /* Responsive Design */\n        @media (max-width: 768px) {\n          .sidebar {\n            width: 100%;\n            height: auto;\n            flex-direction: row;\n            border-right: none;\n            border-bottom: 1px solid rgba(46, 69, 58, 0.3);\n            overflow-x: auto;\n            background: linear-gradient(90deg, #3E5C49 0%, #2E453A 100%);\n          }\n          \n          .sidebar.collapsed {\n            width: 100%;\n          }\n          \n          .sidebar-header {\n            display: none;\n          }\n          \n          .sidebar-content {\n            flex: 1;\n            padding: 16px 20px;\n            overflow-x: auto;\n            display: flex;\n            gap: 20px;\n            overflow-y: visible;\n          }\n          \n          .nav-section {\n            margin-bottom: 0;\n            flex-shrink: 0;\n          }\n          \n          .nav-list {\n            flex-direction: row;\n            gap: 12px;\n          }\n          \n          .nav-button {\n            flex-direction: column;\n            gap: 6px;\n            padding: 12px 16px;\n            min-width: 80px;\n            white-space: nowrap;\n            border-radius: 12px;\n          }\n          \n          .nav-content {\n            align-items: center;\n            text-align: center;\n          }\n          \n          .nav-label {\n            font-size: 12px;\n          }\n          \n          .nav-description {\n            display: none;\n          }\n          \n          .nav-count {\n            position: absolute;\n            top: 8px;\n            right: 8px;\n            font-size: 10px;\n            padding: 2px 6px;\n            min-width: 16px;\n          }\n          \n          .stats-section,\n          .activity-section {\n            display: none;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .sidebar-content {\n            padding: 12px 16px;\n            gap: 16px;\n          }\n          \n          .nav-button {\n            min-width: 70px;\n            padding: 10px 12px;\n          }\n          \n          .nav-label {\n            font-size: 11px;\n          }\n          \n          .nav-count {\n            font-size: 9px;\n            padding: 1px 4px;\n          }\n        }\n        \n        /* Performance optimizations */\n        .nav-button {\n          contain: layout style paint;\n        }\n        \n        .stat-card {\n          contain: layout style paint;\n        }\n        \n        /* Accessibility improvements */\n        @media (prefers-reduced-motion: reduce) {\n          .nav-button,\n          .stat-card,\n          .toggle-button,\n          .activity-pulse,\n          .nav-highlight {\n            transition: none;\n            animation: none;\n          }\n          \n          .nav-button:hover {\n            transform: none;\n          }\n        }\n        \n        /* High contrast mode */\n        @media (prefers-contrast: high) {\n          .nav-button {\n            border: 2px solid rgba(243, 238, 217, 0.5);\n          }\n          \n          .nav-button.active {\n            border-color: #F3EED9;\n          }\n          \n          .stat-card {\n            border-width: 2px;\n          }\n        }\n      `}</style>\n      \n      {/* Emergency Alert for Overdue Books */}\n      {!isCollapsed && stats.overdueBooks > 0 && (\n        <div className=\"emergency-alert\">\n          <div className=\"alert-icon\">\n            <Clock size={16} />\n          </div>\n          <div className=\"alert-content\">\n            <div className=\"alert-title\">Action requise</div>\n            <div className=\"alert-message\">\n              {stats.overdueBooks} document(s) en retard\n            </div>\n          </div>\n        </div>\n      )}\n      \n      <style>{`\n        .emergency-alert {\n          margin: 16px 20px;\n          background: linear-gradient(135deg, #DC2626 0%, #B91C1C 100%);\n          color: #FFFFFF;\n          padding: 16px;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          animation: pulse-alert 3s ease-in-out infinite;\n          border: 1px solid rgba(255, 255, 255, 0.2);\n          box-shadow: 0 4px 16px rgba(220, 38, 38, 0.3);\n        }\n        \n        @keyframes pulse-alert {\n          0%, 100% {\n            box-shadow: 0 4px 16px rgba(220, 38, 38, 0.3);\n          }\n          50% {\n            box-shadow: 0 8px 24px rgba(220, 38, 38, 0.5);\n          }\n        }\n        \n        .alert-icon {\n          width: 32px;\n          height: 32px;\n          background: rgba(255, 255, 255, 0.2);\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-shrink: 0;\n        }\n        \n        .alert-content {\n          flex: 1;\n        }\n        \n        .alert-title {\n          font-size: 12px;\n          font-weight: 700;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n          margin-bottom: 2px;\n          opacity: 0.9;\n        }\n        \n        .alert-message {\n          font-size: 13px;\n          font-weight: 600;\n          line-height: 1.3;\n        }\n      `}</style>\n    </div>\n  );\n};","import React from 'react';\nimport { Minus, Square, X, BookOpen } from 'lucide-react';\n\nexport const TitleBar: React.FC = () => {\n  const handleMinimize = () => {\n    try {\n      if (window.electronAPI && window.electronAPI.minimizeWindow) {\n        window.electronAPI.minimizeWindow();\n      } else {\n        console.warn('electronAPI.minimizeWindow non disponible');\n      }\n    } catch (error) {\n      console.error('Erreur lors de la minimisation:', error);\n    }\n  };\n\n  const handleMaximize = () => {\n    try {\n      if (window.electronAPI && window.electronAPI.maximizeWindow) {\n        window.electronAPI.maximizeWindow();\n      } else {\n        console.warn('electronAPI.maximizeWindow non disponible');\n      }\n    } catch (error) {\n      console.error('Erreur lors de la maximisation:', error);\n    }\n  };\n\n  const handleClose = () => {\n    try {\n      if (window.electronAPI && window.electronAPI.closeWindow) {\n        window.electronAPI.closeWindow();\n      } else {\n        console.warn('electronAPI.closeWindow non disponible');\n        // Fallback pour fermer la fenêtre\n        if (window.close) {\n          window.close();\n        }\n      }\n    } catch (error) {\n      console.error('Erreur lors de la fermeture:', error);\n    }\n  };\n\n  return (\n    <div className=\"titlebar\">\n      <div className=\"titlebar-content\">\n        <div className=\"titlebar-left\">\n          <div className=\"app-logo\">\n            <BookOpen size={18} />\n          </div>\n          <span className=\"app-title\">Bibliothèque</span>\n          <div className=\"title-separator\"></div>\n          <span className=\"app-subtitle\">Gestion moderne de collection</span>\n        </div>\n        \n        <div className=\"titlebar-center\">\n          {/* Search bar could go here in future */}\n        </div>\n        \n        <div className=\"titlebar-controls\">\n          <button className=\"control-button minimize\" onClick={handleMinimize} title=\"Réduire\">\n            <Minus size={12} />\n          </button>\n          <button className=\"control-button maximize\" onClick={handleMaximize} title=\"Agrandir\">\n            <Square size={10} />\n          </button>\n          <button className=\"control-button close\" onClick={handleClose} title=\"Fermer\">\n            <X size={12} />\n          </button>\n        </div>\n      </div>\n      \n      <style>{`\n        .titlebar {\n          height: 48px;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          border-bottom: 1px solid rgba(46, 69, 58, 0.2);\n          -webkit-app-region: drag;\n          position: relative;\n          z-index: 1000;\n        }\n        \n        .titlebar::after {\n          content: '';\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          height: 1px;\n          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.3), transparent);\n        }\n        \n        .titlebar-content {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          height: 100%;\n          padding: 0 8px 0 16px;\n          position: relative;\n        }\n        \n        .titlebar-left {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          flex: 1;\n          min-width: 0;\n        }\n        \n        .app-logo {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 32px;\n          height: 32px;\n          background: rgba(243, 238, 217, 0.15);\n          border-radius: 8px;\n          color: #F3EED9;\n          flex-shrink: 0;\n        }\n        \n        .app-title {\n          font-size: 14px;\n          font-weight: 700;\n          color: #F3EED9;\n          letter-spacing: -0.2px;\n          flex-shrink: 0;\n        }\n        \n        .title-separator {\n          width: 1px;\n          height: 16px;\n          background: rgba(243, 238, 217, 0.3);\n          flex-shrink: 0;\n        }\n        \n        .app-subtitle {\n          font-size: 12px;\n          font-weight: 400;\n          color: rgba(243, 238, 217, 0.8);\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        \n        .titlebar-center {\n          flex: 2;\n          display: flex;\n          justify-content: center;\n          margin: 0 16px;\n        }\n        \n        .titlebar-controls {\n          display: flex;\n          align-items: center;\n          -webkit-app-region: no-drag;\n          flex-shrink: 0;\n        }\n        \n        .control-button {\n          width: 44px;\n          height: 32px;\n          border: none;\n          background: transparent;\n          color: #F3EED9;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-radius: 4px;\n          transition: all 0.15s ease;\n          opacity: 0.8;\n          position: relative;\n        }\n        \n        .control-button::before {\n          content: '';\n          position: absolute;\n          inset: 4px;\n          border-radius: 2px;\n          background: transparent;\n          transition: background 0.15s ease;\n        }\n        \n        .control-button:hover {\n          opacity: 1;\n        }\n        \n        .control-button:hover::before {\n          background: rgba(243, 238, 217, 0.1);\n        }\n        \n        .control-button:active::before {\n          background: rgba(243, 238, 217, 0.2);\n        }\n        \n        .control-button.close:hover::before {\n          background: #E81123;\n        }\n        \n        .control-button.close:hover {\n          color: #FFFFFF;\n        }\n        \n        .control-button.close:active::before {\n          background: #C50E1F;\n        }\n        \n        /* Responsive adjustments */\n        @media (max-width: 768px) {\n          .app-subtitle {\n            display: none;\n          }\n          \n          .title-separator {\n            display: none;\n          }\n          \n          .titlebar-content {\n            padding: 0 4px 0 12px;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .titlebar-left {\n            gap: 8px;\n          }\n          \n          .app-title {\n            font-size: 13px;\n          }\n          \n          .control-button {\n            width: 40px;\n            height: 30px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};","import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { App } from './App';\n\nconst container = document.getElementById('root');\nconst root = createRoot(container!);\n\nroot.render(<App />);","// src/services/SupabaseService.ts\r\nimport { createClient, SupabaseClient } from '@supabase/supabase-js';\r\nimport { Book, Author, Category, Stats, Borrower, BorrowHistory, HistoryFilter, Document } from '../preload';\r\n\r\nexport interface Institution {\r\n  id: string;\r\n  code: string;\r\n  name: string;\r\n  address: string;\r\n  city: string;\r\n  country: string;\r\n  phone: string;\r\n  email: string;\r\n  website: string;\r\n  logo: string;\r\n  description: string;\r\n  type: 'school' | 'university' | 'library' | 'other';\r\n  director?: string;\r\n  capacity?: number;\r\n  established_year?: string;\r\n  status: 'active' | 'inactive' | 'suspended';\r\n  subscription_plan: 'basic' | 'premium' | 'enterprise';\r\n  max_books: number;\r\n  max_users: number;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface User {\r\n  id: string;\r\n  email: string;\r\n  first_name: string;\r\n  last_name: string;\r\n  role: 'super_admin' | 'admin' | 'librarian' | 'user';\r\n  institution_id?: string;\r\n  avatar_url?: string;\r\n  phone?: string;\r\n  is_active: boolean;\r\n  last_login?: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface DatabaseBook extends Omit<Book, 'id'> {\r\n  id: string;\r\n  institution_id: string;\r\n  created_by: string;\r\n  updated_by?: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface DatabaseBorrower extends Omit<Borrower, 'id'> {\r\n  id: string;\r\n  institution_id: string;\r\n  created_by: string;\r\n  updated_by?: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface DatabaseBorrowHistory extends Omit<BorrowHistory, 'id' | 'book' | 'borrower'> {\r\n  id: string;\r\n  institution_id: string;\r\n  book_id: string;\r\n  borrower_id: string;\r\n  created_by: string;\r\n  updated_by?: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\n// Service Supabase pour la gestion de la bibliothèque\r\nexport class SupabaseService {\r\n  private supabase: SupabaseClient;\r\n  private currentUser: User | null = null;\r\n  private currentInstitution: Institution | null = null;\r\n\r\n  constructor() {\r\n    // Configuration Supabase avec les vraies clés\r\n    const supabaseUrl = 'https://krojphsvzuwtgxxkjklj.supabase.co';\r\n    const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtyb2pwaHN2enV3dGd4eGtqa2xqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI0NzMwMTMsImV4cCI6MjA2ODA0OTAxM30.U8CvDXnn84ow2984GIiZqMcAE1-Pc6lGavTVqm_fLtQ';\r\n    \r\n    this.supabase = createClient(supabaseUrl, supabaseKey);\r\n    this.initializeAuth();\r\n  }\r\n\r\n  private async initializeAuth() {\r\n    try {\r\n      const { data: { session } } = await this.supabase.auth.getSession();\r\n      if (session?.user) {\r\n        await this.loadUserProfile(session.user.id);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur lors de l\\'initialisation de l\\'authentification:', error);\r\n    }\r\n  }\r\n\r\n  // Authentication\r\n  async signUp(email: string, password: string, userData: {\r\n    firstName: string;\r\n    lastName: string;\r\n    institutionCode?: string;\r\n    role?: 'admin' | 'librarian' | 'user';\r\n  }): Promise<{ success: boolean; user?: User; error?: string }> {\r\n    try {\r\n      const { data, error } = await this.supabase.auth.signUp({\r\n        email,\r\n        password,\r\n        options: {\r\n          data: {\r\n            first_name: userData.firstName,\r\n            last_name: userData.lastName,\r\n            role: userData.role || 'user'\r\n          }\r\n        }\r\n      });\r\n\r\n      if (error) throw error;\r\n\r\n      if (data.user) {\r\n        // Si un code d'établissement est fourni, associer l'utilisateur\r\n        if (userData.institutionCode) {\r\n          const institution = await this.getInstitutionByCode(userData.institutionCode);\r\n          if (!institution) {\r\n            throw new Error('Code d\\'établissement invalide');\r\n          }\r\n        }\r\n\r\n        // Créer le profil utilisateur\r\n        const userProfile = await this.createUserProfile(data.user.id, {\r\n          email: data.user.email!,\r\n          first_name: userData.firstName,\r\n          last_name: userData.lastName,\r\n          role: userData.role || 'user',\r\n          institution_id: userData.institutionCode ? (await this.getInstitutionByCode(userData.institutionCode))?.id : undefined,\r\n          is_active: true\r\n        });\r\n\r\n        return { success: true, user: userProfile };\r\n      }\r\n\r\n      return { success: false, error: 'Erreur lors de la création du compte' };\r\n    } catch (error: any) {\r\n      return { success: false, error: error.message };\r\n    }\r\n  }\r\n\r\n  async signIn(email: string, password: string): Promise<{ success: boolean; user?: User; institution?: Institution; error?: string }> {\r\n    try {\r\n      const { data, error } = await this.supabase.auth.signInWithPassword({\r\n        email,\r\n        password\r\n      });\r\n\r\n      if (error) throw error;\r\n\r\n      if (data.user) {\r\n        const userProfile = await this.loadUserProfile(data.user.id);\r\n        if (userProfile && userProfile.institution_id) {\r\n          this.currentInstitution = await this.getInstitution(userProfile.institution_id);\r\n        }\r\n\r\n        return { \r\n          success: true, \r\n          user: userProfile!, \r\n          institution: this.currentInstitution || undefined \r\n        };\r\n      }\r\n\r\n      return { success: false, error: 'Erreur de connexion' };\r\n    } catch (error: any) {\r\n      return { success: false, error: error.message };\r\n    }\r\n  }\r\n\r\n  async signOut(): Promise<boolean> {\r\n    try {\r\n      const { error } = await this.supabase.auth.signOut();\r\n      if (error) throw error;\r\n      \r\n      this.currentUser = null;\r\n      this.currentInstitution = null;\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Erreur lors de la déconnexion:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Institution Management\r\n  async createInstitution(institutionData: Omit<Institution, 'id' | 'code' | 'created_at' | 'updated_at'>): Promise<{ institution: Institution; code: string }> {\r\n    const code = this.generateInstitutionCode();\r\n    \r\n    const { data, error } = await this.supabase\r\n      .from('institutions')\r\n      .insert({\r\n        ...institutionData,\r\n        code,\r\n        status: 'active',\r\n        subscription_plan: 'basic',\r\n        max_books: 1000,\r\n        max_users: 10\r\n      })\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n\r\n    // Associer l'utilisateur actuel comme admin de cette institution\r\n    if (this.currentUser) {\r\n      await this.supabase\r\n        .from('users')\r\n        .update({\r\n          institution_id: data.id,\r\n          role: 'admin'\r\n        })\r\n        .eq('id', this.currentUser.id);\r\n    }\r\n\r\n    return { institution: data, code };\r\n  }\r\n\r\n  private generateInstitutionCode(): string {\r\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n    let result = '';\r\n    for (let i = 0; i < 8; i++) {\r\n      result += chars.charAt(Math.floor(Math.random() * chars.length));\r\n    }\r\n    return result;\r\n  }\r\n\r\n  async getInstitutionByCode(code: string): Promise<Institution | null> {\r\n    const { data, error } = await this.supabase\r\n      .from('institutions')\r\n      .select('*')\r\n      .eq('code', code.toUpperCase())\r\n      .eq('status', 'active')\r\n      .single();\r\n\r\n    if (error) return null;\r\n    return data;\r\n  }\r\n\r\n  async getInstitution(id: string): Promise<Institution | null> {\r\n    const { data, error } = await this.supabase\r\n      .from('institutions')\r\n      .select('*')\r\n      .eq('id', id)\r\n      .single();\r\n\r\n    if (error) return null;\r\n    return data;\r\n  }\r\n\r\n  // User Profile Management\r\n  private async createUserProfile(userId: string, profileData: Omit<User, 'id' | 'created_at' | 'updated_at'>): Promise<User> {\r\n    const { data, error } = await this.supabase\r\n      .from('users')\r\n      .insert({\r\n        id: userId,\r\n        ...profileData,\r\n        is_active: true\r\n      })\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  }\r\n\r\n  private async loadUserProfile(userId: string): Promise<User | null> {\r\n    const { data, error } = await this.supabase\r\n      .from('users')\r\n      .select('*')\r\n      .eq('id', userId)\r\n      .single();\r\n\r\n    if (error) return null;\r\n    \r\n    this.currentUser = data;\r\n    return data;\r\n  }\r\n\r\n  // Books Management - Méthodes simplifiées pour le test\r\n  async getBooks(): Promise<Book[]> {\r\n    // Pour l'instant, retourner un tableau vide pour éviter les erreurs de table manquante\r\n    console.log('getBooks appelé - retour de données de test');\r\n    return [];\r\n  }\r\n\r\n  async addBook(book: Omit<Book, 'id'>): Promise<number> {\r\n    console.log('addBook appelé avec:', book);\r\n    return 1; // ID fictif pour le test\r\n  }\r\n\r\n  async updateBook(book: Book): Promise<boolean> {\r\n    console.log('updateBook appelé avec:', book);\r\n    return true;\r\n  }\r\n\r\n  async deleteBook(id: number): Promise<boolean> {\r\n    console.log('deleteBook appelé avec ID:', id);\r\n    return true;\r\n  }\r\n\r\n  async searchBooks(query: string): Promise<Book[]> {\r\n    console.log('searchBooks appelé avec query:', query);\r\n    return [];\r\n  }\r\n\r\n  // Documents Management - Nouvelles méthodes pour le modèle Document\r\n  async getDocuments(): Promise<Document[]> {\r\n    console.log('getDocuments appelé - retour de données de test');\r\n    return [];\r\n  }\r\n\r\n  async addDocument(document: Omit<Document, 'id'>): Promise<number> {\r\n    console.log('addDocument appelé avec:', document);\r\n    return 1; // ID fictif pour le test\r\n  }\r\n\r\n  async updateDocument(document: Document): Promise<boolean> {\r\n    console.log('updateDocument appelé avec:', document);\r\n    return true;\r\n  }\r\n\r\n  async deleteDocument(id: number): Promise<boolean> {\r\n    console.log('deleteDocument appelé avec ID:', id);\r\n    return true;\r\n  }\r\n\r\n  async searchDocuments(query: string): Promise<Document[]> {\r\n    console.log('searchDocuments appelé avec query:', query);\r\n    return [];\r\n  }\r\n\r\n  async borrowDocument(documentId: number, borrowerId: number, expectedReturnDate: string): Promise<number> {\r\n    console.log('borrowDocument appelé avec:', { documentId, borrowerId, expectedReturnDate });\r\n    return 1; // ID de l'emprunt fictif\r\n  }\r\n\r\n  // Borrowers Management - Méthodes simplifiées\r\n  async getBorrowers(): Promise<Borrower[]> {\r\n    console.log('getBorrowers appelé');\r\n    return [];\r\n  }\r\n\r\n  async addBorrower(borrower: Omit<Borrower, 'id'>): Promise<number> {\r\n    console.log('addBorrower appelé avec:', borrower);\r\n    return 1;\r\n  }\r\n\r\n  async updateBorrower(borrower: Borrower): Promise<boolean> {\r\n    console.log('updateBorrower appelé avec:', borrower);\r\n    return true;\r\n  }\r\n\r\n  async deleteBorrower(id: number): Promise<boolean> {\r\n    console.log('deleteBorrower appelé avec ID:', id);\r\n    return true;\r\n  }\r\n\r\n  async searchBorrowers(query: string): Promise<Borrower[]> {\r\n    console.log('searchBorrowers appelé avec query:', query);\r\n    return [];\r\n  }\r\n\r\n  // Borrow Management - Méthodes simplifiées\r\n  async borrowBook(bookId: number, borrowerId: number, expectedReturnDate: string): Promise<number> {\r\n    console.log('borrowBook appelé avec:', { bookId, borrowerId, expectedReturnDate });\r\n    return 1;\r\n  }\r\n\r\n  async returnBook(borrowHistoryId: number, notes?: string): Promise<boolean> {\r\n    console.log('returnBook appelé avec:', { borrowHistoryId, notes });\r\n    return true;\r\n  }\r\n\r\n  async getBorrowedBooks(): Promise<BorrowHistory[]> {\r\n    console.log('getBorrowedBooks appelé');\r\n    return [];\r\n  }\r\n\r\n  async getBorrowHistory(filter?: HistoryFilter): Promise<BorrowHistory[]> {\r\n    console.log('getBorrowHistory appelé avec filter:', filter);\r\n    return [];\r\n  }\r\n\r\n  // Authors and Categories - Méthodes simplifiées\r\n  async getAuthors(): Promise<Author[]> {\r\n    console.log('getAuthors appelé');\r\n    return [];\r\n  }\r\n\r\n  async addAuthor(author: Omit<Author, 'id'>): Promise<number> {\r\n    console.log('addAuthor appelé avec:', author);\r\n    return 1;\r\n  }\r\n\r\n  async getCategories(): Promise<Category[]> {\r\n    console.log('getCategories appelé');\r\n    return [];\r\n  }\r\n\r\n  async addCategory(category: Omit<Category, 'id'>): Promise<number> {\r\n    console.log('addCategory appelé avec:', category);\r\n    return 1;\r\n  }\r\n\r\n  // Statistics - Méthodes simplifiées\r\n  async getStats(): Promise<Stats> {\r\n    console.log('getStats appelé');\r\n    return {\r\n      totalBooks: 0,\r\n      borrowedBooks: 0,\r\n      availableBooks: 0,\r\n      totalAuthors: 0,\r\n      totalCategories: 0,\r\n      totalBorrowers: 0,\r\n      totalStudents: 0,\r\n      totalStaff: 0,\r\n      overdueBooks: 0\r\n    };\r\n  }\r\n\r\n  // Getters\r\n  getCurrentUser(): User | null {\r\n    return this.currentUser;\r\n  }\r\n\r\n  getCurrentInstitution(): Institution | null {\r\n    return this.currentInstitution;\r\n  }\r\n\r\n  // Utility methods\r\n  isAuthenticated(): boolean {\r\n    return this.currentUser !== null;\r\n  }\r\n\r\n  async switchInstitution(institutionCode: string): Promise<boolean> {\r\n    try {\r\n      const institution = await this.getInstitutionByCode(institutionCode);\r\n      if (!institution) return false;\r\n\r\n      // Vérifier que l'utilisateur a accès à cette institution\r\n      if (this.currentUser && this.currentUser.institution_id !== institution.id) {\r\n        // Seuls les super_admin peuvent changer d'institution\r\n        if (this.currentUser.role !== 'super_admin') {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      this.currentInstitution = institution;\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Erreur lors du changement d\\'institution:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  async clearAllData(): Promise<boolean> {\r\n    console.log('clearAllData appelé');\r\n    return true;\r\n  }\r\n\r\n  // Méthodes CRUD supplémentaires pour la compatibilité\r\n  async createDocument(document: Omit<Document, 'id'>): Promise<Document | null> {\r\n    console.log('createDocument appelé avec:', document);\r\n    return null;\r\n  }\r\n\r\n\r\n  async createAuthor(author: Omit<Author, 'id'>): Promise<Author | null> {\r\n    console.log('createAuthor appelé avec:', author);\r\n    return null;\r\n  }\r\n\r\n  async updateAuthor(author: Author): Promise<boolean> {\r\n    console.log('updateAuthor appelé avec:', author);\r\n    return true;\r\n  }\r\n\r\n  async deleteAuthor(id: string): Promise<boolean> {\r\n    console.log('deleteAuthor appelé avec ID:', id);\r\n    return true;\r\n  }\r\n\r\n  async createCategory(category: Omit<Category, 'id'>): Promise<Category | null> {\r\n    console.log('createCategory appelé avec:', category);\r\n    return null;\r\n  }\r\n\r\n  async updateCategory(category: Category): Promise<boolean> {\r\n    console.log('updateCategory appelé avec:', category);\r\n    return true;\r\n  }\r\n\r\n  async deleteCategory(id: string): Promise<boolean> {\r\n    console.log('deleteCategory appelé avec ID:', id);\r\n    return true;\r\n  }\r\n\r\n  async createBorrower(borrower: Omit<Borrower, 'id'>): Promise<Borrower | null> {\r\n    console.log('createBorrower appelé avec:', borrower);\r\n    return null;\r\n  }\r\n\r\n  async createBorrowHistory(borrowHistory: Omit<BorrowHistory, 'id'>): Promise<BorrowHistory | null> {\r\n    console.log('createBorrowHistory appelé avec:', borrowHistory);\r\n    return null;\r\n  }\r\n\r\n  async updateBorrowHistory(borrowHistory: BorrowHistory): Promise<boolean> {\r\n    console.log('updateBorrowHistory appelé avec:', borrowHistory);\r\n    return true;\r\n  }\r\n\r\n  async deleteBorrowHistory(id: string): Promise<boolean> {\r\n    console.log('deleteBorrowHistory appelé avec ID:', id);\r\n    return true;\r\n  }\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"main\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = global[\"webpackChunkbibliotheque_app\"] = global[\"webpackChunkbibliotheque_app\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendors\"], () => (__webpack_require__(\"./src/renderer/index.tsx\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":[],"sourceRoot":""}