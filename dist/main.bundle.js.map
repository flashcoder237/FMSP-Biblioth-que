{"version":3,"file":"main.bundle.js","mappings":"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KAAK,CAAC,mBAAmB,CAAC,aAAwC;QAChE,OAAO,CAAC,GAAG,CAAC,kCAAkC,EAAE,aAAa,CAAC,CAAC;QAC/D,OAAO,IAAI,CAAC;IACd,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,aAA4B;QACpD,OAAO,CAAC,GAAG,CAAC,kCAAkC,EAAE,aAAa,CAAC,CAAC;QAC/D,OAAO,IAAI,CAAC;IACd,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,EAAU;QAClC,OAAO,CAAC,GAAG,CAAC,qCAAqC,EAAE,EAAE,CAAC,CAAC;QACvD,OAAO,IAAI,CAAC;IACd,CAAC;CACF;;;;;;;;;;;ACpfD,qC;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,E;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;WCNA;WACA;WACA;WACA;WACA,E;;;;;WCJA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA,4G;;;;;UEhDA;UACA;UACA;UACA;UACA","sources":["webpack://bibliotheque-app/./src/preload.ts","webpack://bibliotheque-app/./src/renderer/App.tsx","webpack://bibliotheque-app/./src/renderer/components/About.tsx","webpack://bibliotheque-app/./src/renderer/components/AddBook.tsx","webpack://bibliotheque-app/./src/renderer/components/BookList.tsx","webpack://bibliotheque-app/./src/renderer/components/BorrowHistory.tsx","webpack://bibliotheque-app/./src/renderer/components/BorrowedBooks.tsx","webpack://bibliotheque-app/./src/renderer/components/Borrowers.tsx","webpack://bibliotheque-app/./src/renderer/components/Dashboard.tsx","webpack://bibliotheque-app/./src/renderer/components/Donation.tsx","webpack://bibliotheque-app/./src/renderer/components/EnhancedAuthentication.tsx","webpack://bibliotheque-app/./src/renderer/components/InstitutionSetup.tsx","webpack://bibliotheque-app/./src/renderer/components/PrintManager.tsx","webpack://bibliotheque-app/./src/renderer/components/Settings.tsx","webpack://bibliotheque-app/./src/renderer/components/Sidebar.tsx","webpack://bibliotheque-app/./src/renderer/components/TitleBar.tsx","webpack://bibliotheque-app/./src/renderer/index.tsx","webpack://bibliotheque-app/./src/services/SupabaseService.ts","webpack://bibliotheque-app/external node-commonjs \"electron\"","webpack://bibliotheque-app/webpack/bootstrap","webpack://bibliotheque-app/webpack/runtime/chunk loaded","webpack://bibliotheque-app/webpack/runtime/compat get default export","webpack://bibliotheque-app/webpack/runtime/define property getters","webpack://bibliotheque-app/webpack/runtime/hasOwnProperty shorthand","webpack://bibliotheque-app/webpack/runtime/make namespace object","webpack://bibliotheque-app/webpack/runtime/node module decorator","webpack://bibliotheque-app/webpack/runtime/jsonp chunk loading","webpack://bibliotheque-app/webpack/before-startup","webpack://bibliotheque-app/webpack/startup","webpack://bibliotheque-app/webpack/after-startup"],"sourcesContent":["// src/preload.ts - Version corrigée pour Electron\r\ndeclare global {\r\n  interface Window {\r\n    electronAPI: typeof electronAPI;\r\n  }\r\n}\r\n\r\nimport { contextBridge, ipcRenderer } from 'electron';\r\n\r\n// Debug amélioré\r\nconsole.log('=== Preload Script Debug ===');\r\nconsole.log('Process type:', process?.type);\r\nconsole.log('Process versions:', process?.versions);\r\nconsole.log('contextBridge available:', typeof contextBridge !== 'undefined');\r\nconsole.log('ipcRenderer available:', typeof ipcRenderer !== 'undefined');\r\nconsole.log('sandbox:', process?.sandboxed);\r\n\r\n// Vérification plus robuste du contexte\r\nif (typeof contextBridge === 'undefined') {\r\n  console.error('❌ contextBridge is undefined');\r\n  console.error('Current context:', {\r\n    nodeIntegration: process?.env?.ELECTRON_ENABLE_NODE_INTEGRATION,\r\n    contextIsolation: process?.env?.ELECTRON_CONTEXT_ISOLATION,\r\n    sandbox: process?.sandboxed,\r\n    type: process?.type\r\n  });\r\n  \r\n  // Ne pas lancer d'erreur fatale, permettre de continuer\r\n  console.warn('⚠️ Running without contextBridge - this may indicate a configuration issue');\r\n} else {\r\n  console.log('✅ contextBridge is available');\r\n}\r\n\r\nif (typeof ipcRenderer === 'undefined') {\r\n  console.error('❌ ipcRenderer is undefined');\r\n} else {\r\n  console.log('✅ ipcRenderer is available');\r\n}\r\n\r\nexport interface Document {\r\n  id?: number;\r\n  // Champs principaux requis\r\n  auteur: string;           // AUTEUR\r\n  titre: string;            // TITRE  \r\n  editeur: string;          // EDITEUR\r\n  lieuEdition: string;      // LIEU D'EDITION\r\n  annee: string;            // ANNEE\r\n  descripteurs: string;     // DESCRIPTEURS (mots-clés séparés par des virgules)\r\n  cote: string;             // COTE (référence de classification)\r\n  \r\n  // Champs optionnels\r\n  isbn?: string;\r\n  description?: string;\r\n  couverture?: string;      // URL de la couverture\r\n  \r\n  // Statut d'emprunt\r\n  estEmprunte: boolean;\r\n  emprunteurId?: number;\r\n  dateEmprunt?: string;\r\n  dateRetourPrevu?: string;\r\n  dateRetour?: string;\r\n  nomEmprunteur?: string;\r\n  \r\n  // Métadonnées de synchronisation\r\n  localId?: string;         // ID unique local pour la sync\r\n  remoteId?: string;        // ID sur le serveur distant\r\n  syncStatus: 'synced' | 'pending' | 'conflict' | 'error';\r\n  lastModified: string;     // Timestamp de dernière modification\r\n  version: number;          // Version pour gérer les conflits\r\n  deletedAt?: string;       // Soft delete\r\n  createdAt?: string;\r\n}\r\n\r\n// Alias pour compatibilité ascendante - NOUVEAU MODÈLE\r\nexport interface Book extends Document {\r\n  // Propriétés de compatibilité (mappées automatiquement)\r\n  get title(): string;\r\n  get author(): string;\r\n  get category(): string;\r\n  get publishedDate(): string;\r\n  get coverUrl(): string | undefined;\r\n  get isBorrowed(): boolean;\r\n  get borrowerId(): number | undefined;\r\n  get borrowDate(): string | undefined;\r\n  get expectedReturnDate(): string | undefined;\r\n  get returnDate(): string | undefined;\r\n  get borrowerName(): string | undefined;\r\n}\r\n\r\nexport interface Author {\r\n  id?: number;\r\n  name: string;\r\n  biography?: string;\r\n  birthDate?: string;\r\n  nationality?: string;\r\n  // Synchronisation\r\n  localId?: string;\r\n  remoteId?: string;\r\n  syncStatus: 'synced' | 'pending' | 'conflict' | 'error';\r\n  lastModified: string;\r\n  version: number;\r\n  deletedAt?: string;\r\n  createdAt?: string;\r\n}\r\n\r\nexport interface Category {\r\n  id?: number;\r\n  name: string;\r\n  description?: string;\r\n  color?: string;\r\n  // Synchronisation\r\n  localId?: string;\r\n  remoteId?: string;\r\n  syncStatus: 'synced' | 'pending' | 'conflict' | 'error';\r\n  lastModified: string;\r\n  version: number;\r\n  deletedAt?: string;\r\n  createdAt?: string;\r\n}\r\n\r\nexport interface Borrower {\r\n  id?: number;\r\n  type: 'student' | 'staff';\r\n  firstName: string;\r\n  lastName: string;\r\n  matricule: string;\r\n  // Spécifique aux étudiants\r\n  classe?: string;\r\n  // Spécifique au personnel\r\n  cniNumber?: string;\r\n  position?: string;\r\n  email?: string;\r\n  phone?: string;\r\n  // Synchronisation\r\n  localId?: string;\r\n  remoteId?: string;\r\n  syncStatus: 'synced' | 'pending' | 'conflict' | 'error';\r\n  lastModified: string;\r\n  version: number;\r\n  deletedAt?: string;\r\n  createdAt?: string;\r\n}\r\n\r\nexport interface BorrowHistory {\r\n  id?: number;\r\n  bookId: number;\r\n  borrowerId: number;\r\n  borrowDate: string;\r\n  expectedReturnDate: string;\r\n  actualReturnDate?: string;\r\n  status: 'active' | 'returned' | 'overdue';\r\n  notes?: string;\r\n  // Synchronisation\r\n  localId?: string;\r\n  remoteId?: string;\r\n  syncStatus: 'synced' | 'pending' | 'conflict' | 'error';\r\n  lastModified: string;\r\n  version: number;\r\n  deletedAt?: string;\r\n  createdAt?: string;\r\n  // Relations\r\n  book?: Book;\r\n  borrower?: Borrower;\r\n}\r\n\r\nexport interface Stats {\r\n  totalBooks: number;\r\n  borrowedBooks: number;\r\n  availableBooks: number;\r\n  totalAuthors: number;\r\n  totalCategories: number;\r\n  totalBorrowers: number;\r\n  totalStudents: number;\r\n  totalStaff: number;\r\n  overdueBooks: number;\r\n}\r\n\r\nexport interface HistoryFilter {\r\n  startDate?: string;\r\n  endDate?: string;\r\n  borrowerType?: 'all' | 'student' | 'staff';\r\n  status?: 'all' | 'active' | 'returned' | 'overdue';\r\n  borrowerId?: number;\r\n  bookId?: number;\r\n}\r\n\r\n// Interfaces pour les paramètres\r\nexport interface InstitutionSettings {\r\n  name: string;\r\n  address: string;\r\n  city: string;\r\n  country: string;\r\n  phone: string;\r\n  email: string;\r\n  website: string;\r\n  logo: string;\r\n  description: string;\r\n}\r\n\r\nexport interface BackupSettings {\r\n  autoBackup: boolean;\r\n  backupFrequency: 'daily' | 'weekly' | 'monthly';\r\n  lastBackup: string;\r\n  cloudSync: boolean;\r\n  cloudProvider: 'google' | 'dropbox' | 'onedrive';\r\n}\r\n\r\nexport interface SecuritySettings {\r\n  requireAuth: boolean;\r\n  sessionTimeout: number;\r\n  passwordPolicy: {\r\n    minLength: number;\r\n    requireNumbers: boolean;\r\n    requireSymbols: boolean;\r\n  };\r\n}\r\n\r\nexport interface ApplicationSettings {\r\n  institution: InstitutionSettings;\r\n  backup: BackupSettings;\r\n  security: SecuritySettings;\r\n}\r\n\r\n// Interface pour l'authentification\r\nexport interface AuthCredentials {\r\n  username: string;\r\n  password: string;\r\n}\r\n\r\nexport interface AuthResponse {\r\n  success: boolean;\r\n  user?: {\r\n    id: number;\r\n    username: string;\r\n    role: string;\r\n    lastLogin: string;\r\n  };\r\n  error?: string;\r\n}\r\n\r\n// Interfaces pour la synchronisation\r\nexport interface SyncStatus {\r\n  isOnline: boolean;\r\n  lastSync: string | null;\r\n  pendingOperations: number;\r\n  syncInProgress: boolean;\r\n  errors: SyncError[];\r\n}\r\n\r\nexport interface SyncError {\r\n  id: string;\r\n  type: 'document' | 'author' | 'category' | 'borrower' | 'history';\r\n  operation: 'create' | 'update' | 'delete';\r\n  entityId: string;\r\n  error: string;\r\n  timestamp: string;\r\n  retryCount: number;\r\n}\r\n\r\nexport interface SyncOperation {\r\n  id: string;\r\n  type: 'document' | 'author' | 'category' | 'borrower' | 'history';\r\n  operation: 'create' | 'update' | 'delete';\r\n  data: any;\r\n  timestamp: string;\r\n  retryCount: number;\r\n  maxRetries: number;\r\n}\r\n\r\nexport interface NetworkStatus {\r\n  isOnline: boolean;\r\n  connectionType: 'wifi' | 'ethernet' | 'cellular' | 'none';\r\n  speed?: 'slow' | 'medium' | 'fast';\r\n  lastChecked: string;\r\n}\r\n\r\nexport interface ConflictResolution {\r\n  entityType: 'document' | 'author' | 'category' | 'borrower' | 'history';\r\n  entityId: string;\r\n  localVersion: any;\r\n  remoteVersion: any;\r\n  resolution: 'use_local' | 'use_remote' | 'merge' | 'manual';\r\n  resolvedData?: any;\r\n}\r\n\r\n// Fonctions utilitaires pour la compatibilité Book/Document\r\nexport const createBookFromDocument = (document: Document): Book => {\r\n  const book = { ...document } as any;\r\n  \r\n  // Ajouter les getters pour la compatibilité\r\n  Object.defineProperties(book, {\r\n    title: {\r\n      get: function() { return this.titre; },\r\n      enumerable: true\r\n    },\r\n    author: {\r\n      get: function() { return this.auteur; },\r\n      enumerable: true\r\n    },\r\n    category: {\r\n      get: function() { return this.descripteurs.split(',')[0]?.trim() || ''; },\r\n      enumerable: true\r\n    },\r\n    publishedDate: {\r\n      get: function() { return this.annee; },\r\n      enumerable: true\r\n    },\r\n    coverUrl: {\r\n      get: function() { return this.couverture; },\r\n      enumerable: true\r\n    },\r\n    isBorrowed: {\r\n      get: function() { return this.estEmprunte; },\r\n      enumerable: true\r\n    },\r\n    borrowerId: {\r\n      get: function() { return this.emprunteurId; },\r\n      enumerable: true\r\n    },\r\n    borrowDate: {\r\n      get: function() { return this.dateEmprunt; },\r\n      enumerable: true\r\n    },\r\n    expectedReturnDate: {\r\n      get: function() { return this.dateRetourPrevu; },\r\n      enumerable: true\r\n    },\r\n    returnDate: {\r\n      get: function() { return this.dateRetour; },\r\n      enumerable: true\r\n    },\r\n    borrowerName: {\r\n      get: function() { return this.nomEmprunteur; },\r\n      enumerable: true\r\n    }\r\n  });\r\n  \r\n  return book as Book;\r\n};\r\n\r\nexport const createDocumentFromBook = (book: Partial<Book>): Omit<Document, 'id'> => {\r\n  const now = new Date().toISOString();\r\n  \r\n  return {\r\n    auteur: (book as any).author || book.auteur || '',\r\n    titre: (book as any).title || book.titre || '',\r\n    editeur: book.editeur || 'Non spécifié',\r\n    lieuEdition: book.lieuEdition || 'Non spécifié',\r\n    annee: (book as any).publishedDate || book.annee || new Date().getFullYear().toString(),\r\n    descripteurs: (book as any).category || book.descripteurs || 'Général',\r\n    cote: book.cote || `GEN-${Math.random().toString(36).substr(2, 6).toUpperCase()}`,\r\n    isbn: book.isbn,\r\n    description: book.description,\r\n    couverture: (book as any).coverUrl || book.couverture,\r\n    estEmprunte: (book as any).isBorrowed || book.estEmprunte || false,\r\n    emprunteurId: (book as any).borrowerId || book.emprunteurId,\r\n    dateEmprunt: (book as any).borrowDate || book.dateEmprunt,\r\n    dateRetourPrevu: (book as any).expectedReturnDate || book.dateRetourPrevu,\r\n    dateRetour: (book as any).returnDate || book.dateRetour,\r\n    nomEmprunteur: (book as any).borrowerName || book.nomEmprunteur,\r\n    localId: book.localId,\r\n    remoteId: book.remoteId,\r\n    syncStatus: book.syncStatus || 'pending',\r\n    lastModified: book.lastModified || now,\r\n    version: book.version || 1,\r\n    deletedAt: book.deletedAt,\r\n    createdAt: book.createdAt || now\r\n  };\r\n};\r\n\r\n// API Definition\r\nconst electronAPI = {\r\n  // Window controls\r\n  minimizeWindow: () => ipcRenderer?.invoke('window-controls:minimize'),\r\n  maximizeWindow: () => ipcRenderer?.invoke('window-controls:maximize'),\r\n  closeWindow: () => ipcRenderer?.invoke('window-controls:close'),\r\n\r\n  // Authentication\r\n  getAuthStatus: (): Promise<boolean> => ipcRenderer?.invoke('auth:status') || Promise.resolve(false),\r\n  login: (credentials: AuthCredentials): Promise<AuthResponse> => ipcRenderer?.invoke('auth:login', credentials) || Promise.resolve({ success: false, error: 'IPC not available' }),\r\n  logout: (): Promise<void> => ipcRenderer?.invoke('auth:logout') || Promise.resolve(),\r\n\r\n  // Database operations - Books (avec compatibilité Document)\r\n  getBooks: (): Promise<Book[]> => \r\n    ipcRenderer?.invoke('db:getBooks').then((documents: Document[]) => \r\n      documents.map(createBookFromDocument)\r\n    ) || Promise.resolve([]),\r\n  addBook: (book: Omit<Book, 'id'>): Promise<number> => \r\n    ipcRenderer?.invoke('db:addBook', createDocumentFromBook(book)) || Promise.resolve(0),\r\n  updateBook: (book: Book): Promise<boolean> => \r\n    ipcRenderer?.invoke('db:updateBook', { ...createDocumentFromBook(book), id: book.id }) || Promise.resolve(false),\r\n  deleteBook: (id: number): Promise<boolean> => ipcRenderer?.invoke('db:deleteBook', id) || Promise.resolve(false),\r\n  searchBooks: (query: string): Promise<Book[]> => \r\n    ipcRenderer?.invoke('db:searchBooks', query).then((documents: Document[]) => \r\n      documents.map(createBookFromDocument)\r\n    ) || Promise.resolve([]),\r\n  \r\n  // Database operations - Documents (nouveau)\r\n  getDocuments: (): Promise<Document[]> => ipcRenderer?.invoke('db:getDocuments') || Promise.resolve([]),\r\n  addDocument: (document: Omit<Document, 'id'>): Promise<number> => ipcRenderer?.invoke('db:addDocument', document) || Promise.resolve(0),\r\n  updateDocument: (document: Document): Promise<boolean> => ipcRenderer?.invoke('db:updateDocument', document) || Promise.resolve(false),\r\n  deleteDocument: (id: number): Promise<boolean> => ipcRenderer?.invoke('db:deleteDocument', id) || Promise.resolve(false),\r\n  searchDocuments: (query: string): Promise<Document[]> => ipcRenderer?.invoke('db:searchDocuments', query) || Promise.resolve([]),\r\n  \r\n  // Database operations - Authors\r\n  getAuthors: (): Promise<Author[]> => ipcRenderer?.invoke('db:getAuthors') || Promise.resolve([]),\r\n  addAuthor: (author: Omit<Author, 'id'>): Promise<number> => ipcRenderer?.invoke('db:addAuthor', {\r\n    ...author,\r\n    localId: author.localId || `author_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n    syncStatus: author.syncStatus || 'pending',\r\n    lastModified: author.lastModified || new Date().toISOString(),\r\n    version: author.version || 1,\r\n    createdAt: author.createdAt || new Date().toISOString()\r\n  }) || Promise.resolve(0),\r\n  \r\n  // Database operations - Categories\r\n  getCategories: (): Promise<Category[]> => ipcRenderer?.invoke('db:getCategories') || Promise.resolve([]),\r\n  addCategory: (category: Omit<Category, 'id'>): Promise<number> => ipcRenderer?.invoke('db:addCategory', {\r\n    ...category,\r\n    localId: category.localId || `category_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n    syncStatus: category.syncStatus || 'pending',\r\n    lastModified: category.lastModified || new Date().toISOString(),\r\n    version: category.version || 1,\r\n    createdAt: category.createdAt || new Date().toISOString()\r\n  }) || Promise.resolve(0),\r\n  \r\n  // Database operations - Borrowers\r\n  getBorrowers: (): Promise<Borrower[]> => ipcRenderer?.invoke('db:getBorrowers') || Promise.resolve([]),\r\n  addBorrower: (borrower: Omit<Borrower, 'id'>): Promise<number> => ipcRenderer?.invoke('db:addBorrower', {\r\n    ...borrower,\r\n    localId: borrower.localId || `borrower_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n    syncStatus: borrower.syncStatus || 'pending',\r\n    lastModified: borrower.lastModified || new Date().toISOString(),\r\n    version: borrower.version || 1,\r\n    createdAt: borrower.createdAt || new Date().toISOString()\r\n  }) || Promise.resolve(0),\r\n  updateBorrower: (borrower: Borrower): Promise<boolean> => ipcRenderer?.invoke('db:updateBorrower', {\r\n    ...borrower,\r\n    lastModified: new Date().toISOString(),\r\n    version: (borrower.version || 1) + 1,\r\n    syncStatus: 'pending'\r\n  }) || Promise.resolve(false),\r\n  deleteBorrower: (id: number): Promise<boolean> => ipcRenderer?.invoke('db:deleteBorrower', id) || Promise.resolve(false),\r\n  searchBorrowers: (query: string): Promise<Borrower[]> => ipcRenderer?.invoke('db:searchBorrowers', query) || Promise.resolve([]),\r\n  \r\n  // Borrow operations\r\n  getBorrowedBooks: (): Promise<BorrowHistory[]> => ipcRenderer?.invoke('db:getBorrowedBooks') || Promise.resolve([]),\r\n  borrowBook: (bookId: number, borrowerId: number, expectedReturnDate: string): Promise<number> => \r\n    ipcRenderer?.invoke('db:borrowBook', bookId, borrowerId, expectedReturnDate) || Promise.resolve(0),\r\n  returnBook: (borrowHistoryId: number, notes?: string): Promise<boolean> => \r\n    ipcRenderer?.invoke('db:returnBook', borrowHistoryId, notes) || Promise.resolve(false),\r\n  getBorrowHistory: (filter?: HistoryFilter): Promise<BorrowHistory[]> => \r\n    ipcRenderer?.invoke('db:getBorrowHistory', filter) || Promise.resolve([]),\r\n  \r\n  // Statistics\r\n  getStats: (): Promise<Stats> => ipcRenderer?.invoke('db:getStats') || Promise.resolve({\r\n    totalBooks: 0,\r\n    borrowedBooks: 0,\r\n    availableBooks: 0,\r\n    totalAuthors: 0,\r\n    totalCategories: 0,\r\n    totalBorrowers: 0,\r\n    totalStudents: 0,\r\n    totalStaff: 0,\r\n    overdueBooks: 0\r\n  }),\r\n  getAdvancedStats: (): Promise<any> => ipcRenderer?.invoke('stats:advanced') || Promise.resolve({}),\r\n  \r\n  // Settings management\r\n  getSettings: (): Promise<ApplicationSettings | null> => ipcRenderer?.invoke('settings:get') || Promise.resolve(null),\r\n  saveSettings: (settings: ApplicationSettings): Promise<boolean> => ipcRenderer?.invoke('settings:save', settings) || Promise.resolve(false),\r\n  \r\n  // Backup and restore operations\r\n  createBackup: (): Promise<string> => ipcRenderer?.invoke('backup:create') || Promise.resolve(''),\r\n  restoreBackup: (): Promise<boolean> => ipcRenderer?.invoke('backup:restore') || Promise.resolve(false),\r\n  clearAllData: (): Promise<boolean> => ipcRenderer?.invoke('db:clearAll') || Promise.resolve(false),\r\n  \r\n  // Export/Import operations\r\n  exportDatabase: (filePath: string): Promise<void> => ipcRenderer?.invoke('db:export', filePath) || Promise.resolve(),\r\n  importDatabase: (filePath: string): Promise<boolean> => ipcRenderer?.invoke('db:import', filePath) || Promise.resolve(false),\r\n  \r\n  // Print operations\r\n  printInventory: (data: any): Promise<boolean> => ipcRenderer?.invoke('print:inventory', data) || Promise.resolve(false),\r\n  printAvailableBooks: (data: any): Promise<boolean> => ipcRenderer?.invoke('print:available-books', data) || Promise.resolve(false),\r\n  printBorrowedBooks: (data: any): Promise<boolean> => ipcRenderer?.invoke('print:borrowed-books', data) || Promise.resolve(false),\r\n  printBorrowHistory: (data: any): Promise<boolean> => ipcRenderer?.invoke('print:borrow-history', data) || Promise.resolve(false),\r\n  \r\n  // Export operations\r\n  exportCSV: (data: any): Promise<string | null> => ipcRenderer?.invoke('export:csv', data) || Promise.resolve(null),\r\n  \r\n  // File operations\r\n  selectFile: (options?: any): Promise<string | null> => ipcRenderer?.invoke('file:select', options) || Promise.resolve(null),\r\n  selectDirectory: (): Promise<string | null> => ipcRenderer?.invoke('file:selectDirectory') || Promise.resolve(null),\r\n  \r\n  // Notification operations\r\n  showNotification: (title: string, body: string): Promise<void> => \r\n    ipcRenderer?.invoke('notification:show', title, body) || Promise.resolve(),\r\n  \r\n  // System information\r\n  getSystemInfo: (): Promise<any> => ipcRenderer?.invoke('system:info') || Promise.resolve({}),\r\n  \r\n  // Application updates\r\n  checkForUpdates: (): Promise<any> => ipcRenderer?.invoke('system:checkUpdates') || Promise.resolve({}),\r\n  \r\n  // Theme operations\r\n  setTheme: (theme: string): Promise<void> => ipcRenderer?.invoke('theme:set', theme) || Promise.resolve(),\r\n  getTheme: (): Promise<string> => ipcRenderer?.invoke('theme:get') || Promise.resolve('light'),\r\n  \r\n  // Synchronization operations\r\n  getSyncStatus: (): Promise<SyncStatus> => ipcRenderer?.invoke('sync:status') || Promise.resolve({\r\n    isOnline: false,\r\n    lastSync: null,\r\n    pendingOperations: 0,\r\n    syncInProgress: false,\r\n    errors: []\r\n  }),\r\n  startSync: (): Promise<void> => ipcRenderer?.invoke('sync:start') || Promise.resolve(),\r\n  pauseSync: (): Promise<void> => ipcRenderer?.invoke('sync:pause') || Promise.resolve(),\r\n  getNetworkStatus: (): Promise<NetworkStatus> => ipcRenderer?.invoke('network:status') || Promise.resolve({\r\n    isOnline: false,\r\n    connectionType: 'none',\r\n    lastChecked: new Date().toISOString()\r\n  }),\r\n  resolveConflict: (resolution: ConflictResolution): Promise<boolean> => ipcRenderer?.invoke('sync:resolve-conflict', resolution) || Promise.resolve(false),\r\n  getSyncErrors: (): Promise<SyncError[]> => ipcRenderer?.invoke('sync:errors') || Promise.resolve([]),\r\n  retrySyncOperation: (operationId: string): Promise<boolean> => ipcRenderer?.invoke('sync:retry', operationId) || Promise.resolve(false),\r\n  clearSyncErrors: (): Promise<void> => ipcRenderer?.invoke('sync:clear-errors') || Promise.resolve()\r\n};\r\n\r\n// Type guard pour vérifier si nous sommes dans un environnement qui a accès à la fenêtre\r\nfunction hasWindowAccess(): boolean {\r\n  try {\r\n    return typeof globalThis !== 'undefined' && \r\n           'window' in globalThis && \r\n           (globalThis as any).window !== undefined;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\n// Exposer l'API seulement si contextBridge est disponible\r\nif (typeof contextBridge !== 'undefined' && typeof ipcRenderer !== 'undefined') {\r\n  try {\r\n    contextBridge.exposeInMainWorld('electronAPI', electronAPI);\r\n    console.log('✅ electronAPI exposed via contextBridge');\r\n  } catch (error) {\r\n    console.error('❌ Failed to expose electronAPI:', error);\r\n    // Fallback: exposer directement sur globalThis si disponible\r\n    if (hasWindowAccess()) {\r\n      (globalThis as any).window.electronAPI = electronAPI;\r\n      console.log('⚠️ electronAPI exposed directly on window (fallback)');\r\n    }\r\n  }\r\n} else {\r\n  console.warn('⚠️ contextBridge or ipcRenderer not available, using fallback');\r\n  // Fallback pour les environnements où contextBridge n'est pas disponible\r\n  if (hasWindowAccess()) {\r\n    (globalThis as any).window.electronAPI = electronAPI;\r\n    console.log('⚠️ electronAPI exposed directly on window (no contextBridge)');\r\n  } else {\r\n    console.error('❌ Window object not available');\r\n  }\r\n}","// src/renderer/App.tsx - Version modifiée pour Supabase\r\nimport React, { useState, useEffect } from 'react';\r\nimport { TitleBar } from './components/TitleBar';\r\nimport { Sidebar } from './components/Sidebar';\r\nimport { Dashboard } from './components/Dashboard';\r\nimport { BookList } from './components/BookList';\r\nimport { BorrowedBooks } from './components/BorrowedBooks';\r\nimport { AddBook } from './components/AddBook';\r\nimport { Borrowers } from './components/Borrowers';\r\nimport { BorrowHistory } from './components/BorrowHistory';\r\nimport { Settings } from './components/Settings';\r\nimport { Donation } from './components/Donation';\r\nimport { About } from './components/About';\r\nimport { EnhancedAuthentication } from './components/EnhancedAuthentication';\r\nimport { InstitutionSetup } from './components/InstitutionSetup';\r\nimport { Book, Author, Category, Stats, Borrower, BorrowHistory as BorrowHistoryType } from '../preload';\r\nimport { SupabaseService, Institution, User } from '../services/SupabaseService';\r\n\r\ntype ViewType = 'dashboard' | 'books' | 'borrowed' | 'add-book' | 'borrowers' | 'history' | 'settings' | 'donation' | 'about' | 'auth' | 'institution_setup';\r\n\r\nexport const App: React.FC = () => {\r\n  const [currentView, setCurrentView] = useState<ViewType>('auth');\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\r\n  const [currentInstitution, setCurrentInstitution] = useState<Institution | null>(null);\r\n  const [institutionCode, setInstitutionCode] = useState<string>('');\r\n  \r\n  // Data states\r\n  const [books, setBooks] = useState<Book[]>([]);\r\n  const [authors, setAuthors] = useState<Author[]>([]);\r\n  const [categories, setCategories] = useState<Category[]>([]);\r\n  const [borrowers, setBorrowers] = useState<Borrower[]>([]);\r\n  const [borrowedBooks, setBorrowedBooks] = useState<BorrowHistoryType[]>([]);\r\n  const [stats, setStats] = useState<Stats>({\r\n    totalBooks: 0,\r\n    borrowedBooks: 0,\r\n    availableBooks: 0,\r\n    totalAuthors: 0,\r\n    totalCategories: 0,\r\n    totalBorrowers: 0,\r\n    totalStudents: 0,\r\n    totalStaff: 0,\r\n    overdueBooks: 0\r\n  });\r\n\r\n  // Services\r\n  const [supabaseService] = useState(() => new SupabaseService());\r\n  const [showBorrowModal, setShowBorrowModal] = useState(false);\r\n  const [selectedBook, setSelectedBook] = useState<Book | null>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string>('');\r\n\r\n  useEffect(() => {\r\n    checkAuthStatus();\r\n  }, []);\r\n\r\n  const checkAuthStatus = async () => {\r\n    try {\r\n      const user = supabaseService.getCurrentUser();\r\n      const institution = supabaseService.getCurrentInstitution();\r\n      \r\n      if (user && institution) {\r\n        setCurrentUser(user);\r\n        setCurrentInstitution(institution);\r\n        setIsAuthenticated(true);\r\n        setCurrentView('dashboard');\r\n        await loadData();\r\n      } else {\r\n        setCurrentView('auth');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur lors de la vérification de l\\'authentification:', error);\r\n      setCurrentView('auth');\r\n    }\r\n  };\r\n\r\n  const loadData = async () => {\r\n    if (!supabaseService.isAuthenticated()) return;\r\n\r\n    try {\r\n      setIsLoading(true);\r\n      const [\r\n        booksData, \r\n        authorsData, \r\n        categoriesData, \r\n        borrowersData,\r\n        borrowedBooksData,\r\n        statsData\r\n      ] = await Promise.all([\r\n        supabaseService.getBooks(),\r\n        supabaseService.getAuthors(),\r\n        supabaseService.getCategories(),\r\n        supabaseService.getBorrowers(),\r\n        supabaseService.getBorrowedBooks(),\r\n        supabaseService.getStats()\r\n      ]);\r\n\r\n      setBooks(booksData);\r\n      setAuthors(authorsData);\r\n      setCategories(categoriesData);\r\n      setBorrowers(borrowersData);\r\n      setBorrowedBooks(borrowedBooksData);\r\n      setStats(statsData);\r\n    } catch (error) {\r\n      console.error('Erreur lors du chargement des données:', error);\r\n      setError('Erreur lors du chargement des données');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAuthentication = async (credentials: {\r\n    email: string;\r\n    password: string;\r\n    institutionCode?: string;\r\n    mode: 'login' | 'register' | 'create_institution';\r\n    userData?: any;\r\n  }) => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError('');\r\n\r\n      if (credentials.mode === 'login') {\r\n        // Connexion normale\r\n        const result = await supabaseService.signIn(credentials.email, credentials.password);\r\n        if (!result.success) {\r\n          throw new Error(result.error);\r\n        }\r\n\r\n        // Vérifier le code d'établissement\r\n        if (credentials.institutionCode) {\r\n          const switchSuccess = await supabaseService.switchInstitution(credentials.institutionCode);\r\n          if (!switchSuccess) {\r\n            throw new Error('Code d\\'établissement invalide ou accès non autorisé');\r\n          }\r\n        }\r\n\r\n        setCurrentUser(result.user!);\r\n        setCurrentInstitution(supabaseService.getCurrentInstitution());\r\n        setIsAuthenticated(true);\r\n        setCurrentView('dashboard');\r\n        await loadData();\r\n\r\n      } else if (credentials.mode === 'register') {\r\n        // Inscription avec code d'établissement\r\n        const result = await supabaseService.signUp(\r\n          credentials.email, \r\n          credentials.password, \r\n          {\r\n            firstName: credentials.userData.firstName,\r\n            lastName: credentials.userData.lastName,\r\n            institutionCode: credentials.institutionCode,\r\n            role: credentials.userData.role\r\n          }\r\n        );\r\n\r\n        if (!result.success) {\r\n          throw new Error(result.error);\r\n        }\r\n\r\n        // Afficher un message de succès et rediriger vers login\r\n        alert('Compte créé avec succès ! Veuillez vérifier votre email et vous connecter.');\r\n        \r\n      } else if (credentials.mode === 'create_institution') {\r\n        // Création d'institution\r\n        const institutionResult = await supabaseService.createInstitution(credentials.userData.institution);\r\n        setInstitutionCode(institutionResult.code);\r\n        \r\n        // Créer le compte administrateur\r\n        const adminResult = await supabaseService.signUp(\r\n          credentials.email,\r\n          credentials.password,\r\n          {\r\n            firstName: credentials.userData.admin.firstName,\r\n            lastName: credentials.userData.admin.lastName,\r\n            role: 'admin'\r\n          }\r\n        );\r\n\r\n        if (!adminResult.success) {\r\n          throw new Error(adminResult.error);\r\n        }\r\n\r\n        setCurrentView('institution_setup');\r\n      }\r\n\r\n    } catch (error: any) {\r\n      setError(error.message || 'Erreur d\\'authentification');\r\n      throw error;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await supabaseService.signOut();\r\n      setIsAuthenticated(false);\r\n      setCurrentUser(null);\r\n      setCurrentInstitution(null);\r\n      setCurrentView('auth');\r\n      \r\n      // Réinitialiser les données\r\n      setBooks([]);\r\n      setAuthors([]);\r\n      setCategories([]);\r\n      setBorrowers([]);\r\n      setBorrowedBooks([]);\r\n      setStats({\r\n        totalBooks: 0,\r\n        borrowedBooks: 0,\r\n        availableBooks: 0,\r\n        totalAuthors: 0,\r\n        totalCategories: 0,\r\n        totalBorrowers: 0,\r\n        totalStudents: 0,\r\n        totalStaff: 0,\r\n        overdueBooks: 0\r\n      });\r\n    } catch (error) {\r\n      console.error('Erreur lors de la déconnexion:', error);\r\n    }\r\n  };\r\n\r\n  const handleAddBook = async (book: Omit<Book, 'id'>) => {\r\n    try {\r\n      await supabaseService.addBook(book);\r\n      await loadData();\r\n      setCurrentView('books');\r\n    } catch (error: any) {\r\n      console.error('Erreur lors de l\\'ajout du livre:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleBorrowBook = async (bookId: number, borrowerId: number, expectedReturnDate: string) => {\r\n    if (bookId === undefined || borrowerId === undefined || !expectedReturnDate) {\r\n      console.error('Invalid arguments for borrowBook:', { bookId, borrowerId, expectedReturnDate });\r\n      return;\r\n    }\r\n    try {\r\n      await supabaseService.borrowBook(bookId, borrowerId, expectedReturnDate);\r\n      await loadData();\r\n      setShowBorrowModal(false);\r\n      setSelectedBook(null);\r\n    } catch (error: any) {\r\n      console.error('Erreur lors de l\\'emprunt:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleReturnBook = async (borrowHistoryId: number, notes?: string) => {\r\n    if (borrowHistoryId === undefined) {\r\n      console.error('Invalid argument for returnBook:', { borrowHistoryId });\r\n      return;\r\n    }\r\n    try {\r\n      await supabaseService.returnBook(borrowHistoryId, notes);\r\n      await loadData();\r\n    } catch (error: any) {\r\n      console.error('Erreur lors du retour:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleDeleteBook = async (bookId: number) => {\r\n    try {\r\n      await supabaseService.deleteBook(bookId);\r\n      await loadData();\r\n    } catch (error: any) {\r\n      console.error('Erreur lors de la suppression:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const openBorrowModal = (book: Book) => {\r\n    setSelectedBook(book);\r\n    setShowBorrowModal(true);\r\n  };\r\n\r\n  const closeBorrowModal = () => {\r\n    setShowBorrowModal(false);\r\n    setSelectedBook(null);\r\n  };\r\n\r\n  const refreshData = async () => {\r\n    await loadData();\r\n  };\r\n\r\n  // Affichage de l'écran d'authentification\r\n  if (!isAuthenticated) {\r\n    if (currentView === 'institution_setup') {\r\n      return (\r\n        <InstitutionSetup\r\n          institutionCode={institutionCode}\r\n          institution={currentInstitution}\r\n          onComplete={() => {\r\n            setCurrentView('auth');\r\n            alert('Votre établissement a été créé avec succès ! Vous pouvez maintenant vous connecter.');\r\n          }}\r\n        />\r\n      );\r\n    }\r\n    \r\n    return <EnhancedAuthentication onLogin={handleAuthentication} />;\r\n  }\r\n\r\n  const renderCurrentView = () => {\r\n    switch (currentView) {\r\n      case 'dashboard':\r\n        return (\r\n          <Dashboard \r\n            stats={stats} \r\n            onNavigate={setCurrentView}\r\n            books={books}\r\n            categories={categories}\r\n          />\r\n        );\r\n      case 'books':\r\n        return (\r\n          <BookList\r\n            books={books}\r\n            onBorrow={openBorrowModal}\r\n            onDelete={handleDeleteBook}\r\n          />\r\n        );\r\n      case 'borrowed':\r\n        return (\r\n          <BorrowedBooks\r\n            books={borrowedBooks.map(bh => ({\r\n              ...bh.book!,\r\n              isBorrowed: true,\r\n              borrowerId: bh.borrowerId,\r\n              borrowDate: bh.borrowDate,\r\n              borrowerName: `${bh.borrower?.firstName} ${bh.borrower?.lastName}`\r\n            }))}\r\n            onReturn={(bookId) => {\r\n              const borrowHistory = borrowedBooks.find(bh => bh.bookId === bookId);\r\n              if (borrowHistory) {\r\n                handleReturnBook(borrowHistory.id!, undefined);\r\n              }\r\n            }}\r\n          />\r\n        );\r\n      case 'add-book':\r\n        return (\r\n          <AddBook\r\n            authors={authors}\r\n            categories={categories}\r\n            onAddBook={handleAddBook}\r\n            onCancel={() => setCurrentView('books')}\r\n          />\r\n        );\r\n      case 'borrowers':\r\n        return (\r\n          <Borrowers \r\n            onClose={() => setCurrentView('dashboard')} \r\n            onRefreshData={refreshData}\r\n            supabaseService={supabaseService}\r\n          />\r\n        );\r\n      case 'history':\r\n        return (\r\n          <BorrowHistory \r\n            onClose={() => setCurrentView('dashboard')}\r\n            supabaseService={supabaseService}\r\n          />\r\n        );\r\n      case 'settings':\r\n        return (\r\n          <Settings \r\n            onClose={() => setCurrentView('dashboard')}\r\n            onLogout={handleLogout}\r\n            currentUser={currentUser}\r\n            currentInstitution={currentInstitution}\r\n            supabaseService={supabaseService}\r\n          />\r\n        );\r\n      case 'donation':\r\n        return (\r\n          <Donation onClose={() => setCurrentView('dashboard')} />\r\n        );\r\n      case 'about':\r\n        return (\r\n          <About onClose={() => setCurrentView('dashboard')} />\r\n        );\r\n      default:\r\n        return (\r\n          <Dashboard \r\n            stats={stats} \r\n            onNavigate={setCurrentView}\r\n            books={books}\r\n            categories={categories}\r\n          />\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <TitleBar />\r\n      <div className=\"app-container\">\r\n        <Sidebar\r\n          currentView={currentView}\r\n          onNavigate={setCurrentView}\r\n          stats={stats}\r\n          currentUser={currentUser}\r\n          currentInstitution={currentInstitution}\r\n        />\r\n        <main className=\"main-content\">\r\n          <div className=\"content-wrapper\">\r\n            {isLoading && (\r\n              <div className=\"loading-overlay\">\r\n                <div className=\"loading-spinner\"></div>\r\n                <span>Chargement...</span>\r\n              </div>\r\n            )}\r\n            {error && (\r\n              <div className=\"error-banner\">\r\n                <span>{error}</span>\r\n                <button onClick={() => setError('')}>×</button>\r\n              </div>\r\n            )}\r\n            {renderCurrentView()}\r\n          </div>\r\n        </main>\r\n      </div>\r\n\r\n      {/* Enhanced Borrow Modal - utilise le service Supabase */}\r\n      {showBorrowModal && selectedBook && (\r\n        <div className=\"borrow-modal-overlay\">\r\n          <div className=\"borrow-modal\">\r\n            <div className=\"modal-header\">\r\n              <div className=\"header-content\">\r\n                <div className=\"header-icon\">\r\n                  <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" fill=\"currentColor\">\r\n                    <path d=\"M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.1 3.89 23 5 23H19C20.1 23 21 22.1 21 21V9ZM19 21H5V3H13V9H19V21Z\"/>\r\n                  </svg>\r\n                </div>\r\n                <div className=\"header-text\">\r\n                  <h3>Nouvel emprunt</h3>\r\n                  <p>Sélectionnez un emprunteur et définissez la durée</p>\r\n                </div>\r\n              </div>\r\n              <button\r\n                className=\"modal-close\"\r\n                onClick={closeBorrowModal}\r\n              >\r\n                ×\r\n              </button>\r\n            </div>\r\n            \r\n            <EnhancedBorrowForm\r\n              book={selectedBook}\r\n              borrowers={borrowers}\r\n              onSubmit={handleBorrowBook}\r\n              onCancel={closeBorrowModal}\r\n              onRefreshBorrowers={refreshData}\r\n              supabaseService={supabaseService}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      <style>{`\r\n        .app {\r\n          height: 100vh;\r\n          display: flex;\r\n          flex-direction: column;\r\n          background: #FAF9F6;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .app-container {\r\n          flex: 1;\r\n          display: flex;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .main-content {\r\n          flex: 1;\r\n          display: flex;\r\n          flex-direction: column;\r\n          background: #FAF9F6;\r\n          overflow: hidden;\r\n          position: relative;\r\n        }\r\n        \r\n        .content-wrapper {\r\n          flex: 1;\r\n          overflow: hidden;\r\n          border-radius: 12px 0 0 0;\r\n          background: #FAF9F6;\r\n          box-shadow: -2px 0 8px rgba(0, 0, 0, 0.08);\r\n        }\r\n\r\n        .loading-overlay {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: rgba(255, 255, 255, 0.9);\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          justify-content: center;\r\n          z-index: 1000;\r\n          gap: 16px;\r\n        }\r\n\r\n        .loading-spinner {\r\n          width: 40px;\r\n          height: 40px;\r\n          border: 4px solid #E5DCC2;\r\n          border-top: 4px solid #3E5C49;\r\n          border-radius: 50%;\r\n          animation: spin 1s linear infinite;\r\n        }\r\n\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n\r\n        .error-banner {\r\n          background: #FEF2F2;\r\n          border: 1px solid #FECACA;\r\n          color: #DC2626;\r\n          padding: 12px 16px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .error-banner button {\r\n          background: none;\r\n          border: none;\r\n          color: #DC2626;\r\n          cursor: pointer;\r\n          font-size: 18px;\r\n          padding: 0;\r\n          margin-left: 12px;\r\n        }\r\n\r\n        /* Enhanced Borrow Modal */\r\n        .borrow-modal-overlay {\r\n          position: fixed;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: rgba(46, 46, 46, 0.75);\r\n          backdrop-filter: blur(12px);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          z-index: 1000;\r\n          padding: 20px;\r\n          animation: fadeIn 0.3s ease-out;\r\n        }\r\n        \r\n        @keyframes fadeIn {\r\n          from { opacity: 0; backdrop-filter: blur(0px); }\r\n          to { opacity: 1; backdrop-filter: blur(12px); }\r\n        }\r\n        \r\n        .borrow-modal {\r\n          background: #FFFFFF;\r\n          border-radius: 24px;\r\n          width: 100%;\r\n          max-width: 700px;\r\n          max-height: 90vh;\r\n          overflow-y: auto;\r\n          box-shadow: \r\n            0 32px 64px rgba(62, 92, 73, 0.25),\r\n            0 16px 32px rgba(62, 92, 73, 0.15);\r\n          border: 1px solid rgba(229, 220, 194, 0.3);\r\n          animation: slideUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\r\n        }\r\n        \r\n        @keyframes slideUp {\r\n          from { \r\n            opacity: 0;\r\n            transform: translateY(32px) scale(0.95);\r\n          }\r\n          to { \r\n            opacity: 1;\r\n            transform: translateY(0) scale(1);\r\n          }\r\n        }\r\n        \r\n        .modal-header {\r\n          display: flex;\r\n          align-items: flex-start;\r\n          justify-content: space-between;\r\n          padding: 32px 32px 24px;\r\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\r\n          color: #F3EED9;\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .modal-header::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          right: 0;\r\n          width: 200px;\r\n          height: 100%;\r\n          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.1));\r\n          transform: skewX(-15deg);\r\n          transform-origin: top;\r\n        }\r\n        \r\n        .header-content {\r\n          display: flex;\r\n          align-items: flex-start;\r\n          gap: 20px;\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n        \r\n        .header-icon {\r\n          width: 48px;\r\n          height: 48px;\r\n          background: rgba(243, 238, 217, 0.2);\r\n          border-radius: 14px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          backdrop-filter: blur(10px);\r\n          border: 1px solid rgba(243, 238, 217, 0.3);\r\n        }\r\n        \r\n        .header-text h3 {\r\n          font-size: 22px;\r\n          font-weight: 700;\r\n          color: #F3EED9;\r\n          margin: 0 0 6px 0;\r\n          letter-spacing: -0.3px;\r\n        }\r\n        \r\n        .header-text p {\r\n          font-size: 14px;\r\n          color: rgba(243, 238, 217, 0.9);\r\n          margin: 0;\r\n          line-height: 1.4;\r\n        }\r\n        \r\n        .modal-close {\r\n          background: rgba(243, 238, 217, 0.1);\r\n          border: 1px solid rgba(243, 238, 217, 0.2);\r\n          cursor: pointer;\r\n          padding: 12px;\r\n          border-radius: 12px;\r\n          color: #F3EED9;\r\n          font-size: 24px;\r\n          width: 44px;\r\n          height: 44px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          transition: all 0.2s ease;\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n        \r\n        .modal-close:hover {\r\n          background: rgba(243, 238, 217, 0.2);\r\n          transform: scale(1.05);\r\n        }\r\n        \r\n        .modal-close:active {\r\n          transform: scale(0.95);\r\n        }\r\n        \r\n        /* Responsive enhancements */\r\n        @media (max-width: 768px) {\r\n          .app-container {\r\n            flex-direction: column;\r\n          }\r\n          \r\n          .content-wrapper {\r\n            border-radius: 0;\r\n            box-shadow: none;\r\n          }\r\n          \r\n          .borrow-modal {\r\n            margin: 12px;\r\n            border-radius: 20px;\r\n            max-height: calc(100vh - 24px);\r\n          }\r\n          \r\n          .modal-header {\r\n            padding: 24px 20px 20px;\r\n          }\r\n          \r\n          .header-content {\r\n            flex-direction: column;\r\n            gap: 16px;\r\n          }\r\n          \r\n          .header-icon {\r\n            align-self: center;\r\n          }\r\n          \r\n         .header-text {\r\n            text-align: center;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 480px) {\r\n          .borrow-modal-overlay {\r\n            padding: 8px;\r\n          }\r\n          \r\n          .borrow-modal {\r\n            border-radius: 16px;\r\n          }\r\n          \r\n          .modal-header {\r\n            padding: 20px 16px 16px;\r\n          }\r\n          \r\n          .header-text h3 {\r\n            font-size: 20px;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Enhanced Borrow Form Component avec Supabase\r\ninterface EnhancedBorrowFormProps {\r\n  book: Book;\r\n  borrowers: Borrower[];\r\n  onSubmit: (bookId: number, borrowerId: number, expectedReturnDate: string) => Promise<void>;\r\n  onCancel: () => void;\r\n  onRefreshBorrowers: () => Promise<void>;\r\n  supabaseService: SupabaseService;\r\n}\r\n\r\nconst EnhancedBorrowForm: React.FC<EnhancedBorrowFormProps> = ({ \r\n  book, \r\n  borrowers, \r\n  onSubmit, \r\n  onCancel, \r\n  onRefreshBorrowers,\r\n  supabaseService \r\n}) => {\r\n  const [selectedBorrower, setSelectedBorrower] = useState<number | null>(null);\r\n  const [expectedReturnDate, setExpectedReturnDate] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [filterType, setFilterType] = useState<'all' | 'student' | 'staff'>('all');\r\n  const [borrowDuration, setBorrowDuration] = useState<'1week' | '2weeks' | '1month' | 'custom'>('2weeks');\r\n  const [showAddBorrower, setShowAddBorrower] = useState(false);\r\n\r\n  const [newBorrowerData, setNewBorrowerData] = useState<{\r\n    type: 'student' | 'staff';\r\n    firstName: string;\r\n    lastName: string;\r\n    matricule: string;\r\n    classe: string;\r\n    cniNumber: string;\r\n    position: string;\r\n    email: string;\r\n    phone: string;\r\n  }>({\r\n    type: 'student',\r\n    firstName: '',\r\n    lastName: '',\r\n    matricule: '',\r\n    classe: '',\r\n    cniNumber: '',\r\n    position: '',\r\n    email: '',\r\n    phone: ''\r\n  });\r\n\r\n  // Calculate default date (in 2 weeks)\r\n  React.useEffect(() => {\r\n    updateDateFromDuration(borrowDuration);\r\n  }, [borrowDuration]);\r\n\r\n  const updateDateFromDuration = (duration: string) => {\r\n    const today = new Date();\r\n    let targetDate = new Date(today);\r\n    \r\n    switch (duration) {\r\n      case '1week':\r\n        targetDate.setDate(today.getDate() + 7);\r\n        break;\r\n      case '2weeks':\r\n        targetDate.setDate(today.getDate() + 14);\r\n        break;\r\n      case '1month':\r\n        targetDate.setMonth(today.getMonth() + 1);\r\n        break;\r\n      default:\r\n        return; // For 'custom', don't change\r\n    }\r\n    \r\n    setExpectedReturnDate(targetDate.toISOString().split('T')[0]);\r\n  };\r\n\r\n  const handleAddBorrower = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const newId = await supabaseService.addBorrower({\r\n        ...newBorrowerData,\r\n        syncStatus: 'pending',\r\n        lastModified: new Date().toISOString(),\r\n        version: 1,\r\n        createdAt: new Date().toISOString()\r\n      });\r\n      setSelectedBorrower(newId);\r\n      setShowAddBorrower(false);\r\n      await onRefreshBorrowers(); // Refresh the borrowers list\r\n      setNewBorrowerData({\r\n        type: 'student',\r\n        firstName: '',\r\n        lastName: '',\r\n        matricule: '',\r\n        classe: '',\r\n        cniNumber: '',\r\n        position: '',\r\n        email: '',\r\n        phone: ''\r\n      });\r\n    } catch (error: any) {\r\n      alert(error.message || 'Erreur lors de l\\'ajout de l\\'emprunteur');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const filteredBorrowers = borrowers.filter(borrower => {\r\n    // Filter by type\r\n    if (filterType !== 'all' && borrower.type !== filterType) return false;\r\n    \r\n    // Filter by search\r\n    if (searchQuery) {\r\n      const query = searchQuery.toLowerCase();\r\n      return (\r\n        borrower.firstName.toLowerCase().includes(query) ||\r\n        borrower.lastName.toLowerCase().includes(query) ||\r\n        borrower.matricule.toLowerCase().includes(query) ||\r\n        (borrower.classe && borrower.classe.toLowerCase().includes(query)) ||\r\n        (borrower.position && borrower.position.toLowerCase().includes(query))\r\n      );\r\n    }\r\n    \r\n    return true;\r\n  });\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!selectedBorrower || !expectedReturnDate) return;\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      await onSubmit(book.id!, selectedBorrower, expectedReturnDate);\r\n    } catch (error) {\r\n      console.error('Erreur:', error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const selectedBorrowerData = borrowers.find(b => b.id === selectedBorrower);\r\n\r\n  return (\r\n    <div className=\"enhanced-borrow-form\">\r\n      {/* Book Info Enhanced */}\r\n      <div className=\"book-info-section\">\r\n        <div className=\"book-cover\">\r\n          {book.coverUrl ? (\r\n            <img src={book.coverUrl} alt={book.title} />\r\n          ) : (\r\n            <div className=\"book-placeholder\">\r\n              <svg viewBox=\"0 0 24 24\" width=\"32\" height=\"32\" fill=\"currentColor\">\r\n                <path d=\"M18 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V4C20 2.9 19.1 2 18 2ZM18 20H6V4H18V20Z\"/>\r\n              </svg>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"book-details\">\r\n          <h4 className=\"book-title\">\"{book.title}\"</h4>\r\n          <p className=\"book-author\">par {book.author}</p>\r\n          <div className=\"book-meta\">\r\n            <span className=\"book-category\">{book.category}</span>\r\n            {book.publishedDate && <span className=\"book-year\">{book.publishedDate}</span>}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Quick Duration Selection */}\r\n      <div className=\"form-section\">\r\n        <label className=\"form-label\">Durée d'emprunt</label>\r\n        <div className=\"duration-selector\">\r\n          {[\r\n            { id: '1week', label: '1 semaine', recommended: false },\r\n            { id: '2weeks', label: '2 semaines', recommended: true },\r\n            { id: '1month', label: '1 mois', recommended: false },\r\n            { id: 'custom', label: 'Personnalisé', recommended: false }\r\n          ].map((duration) => (\r\n            <button\r\n              key={duration.id}\r\n              type=\"button\"\r\n              className={`duration-button ${borrowDuration === duration.id ? 'selected' : ''} ${duration.recommended ? 'recommended' : ''}`}\r\n              onClick={() => setBorrowDuration(duration.id as any)}\r\n            >\r\n              {duration.label}\r\n              {duration.recommended && <span className=\"recommended-badge\">Recommandé</span>}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Return Date */}\r\n      <div className=\"form-section\">\r\n        <label className=\"form-label\">Date de retour prévue *</label>\r\n        <input\r\n          type=\"date\"\r\n          value={expectedReturnDate}\r\n          onChange={(e) => {\r\n            setExpectedReturnDate(e.target.value);\r\n            setBorrowDuration('custom');\r\n          }}\r\n          className=\"date-input\"\r\n          min={new Date().toISOString().split('T')[0]}\r\n          required\r\n        />\r\n        <small className=\"form-hint\">\r\n          {borrowDuration !== 'custom' && `Durée sélectionnée : ${\r\n            borrowDuration === '1week' ? '7 jours' : \r\n            borrowDuration === '2weeks' ? '14 jours' : '1 mois'\r\n          }`}\r\n        </small>\r\n      </div>\r\n\r\n      {/* Enhanced Borrower Selection */}\r\n      <div className=\"form-section\">\r\n        <div className=\"section-header\">\r\n          <label className=\"form-label\">Emprunteur *</label>\r\n          <button\r\n            type=\"button\"\r\n            className=\"add-borrower-button\"\r\n            onClick={() => setShowAddBorrower(true)}\r\n          >\r\n            <svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"currentColor\">\r\n              <path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/>\r\n            </svg>\r\n            Ajouter emprunteur\r\n          </button>\r\n        </div>\r\n        \r\n        {/* Filters */}\r\n        <div className=\"borrower-filters\">\r\n          <div className=\"search-container\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Rechercher un emprunteur...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className=\"search-input\"\r\n            />\r\n            <svg className=\"search-icon\" viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"currentColor\">\r\n              <path d=\"M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3S3 5.91 3 9.5S5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14ZM9.5 14C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14Z\"/>\r\n            </svg>\r\n          </div>\r\n          \r\n          <div className=\"type-filter\">\r\n            <select \r\n              value={filterType} \r\n              onChange={(e) => setFilterType(e.target.value as any)}\r\n              className=\"filter-select\"\r\n            >\r\n              <option value=\"all\">Tous</option>\r\n              <option value=\"student\">Étudiants</option>\r\n              <option value=\"staff\">Personnel</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Borrowers List */}\r\n        <div className=\"borrowers-list\">\r\n          <div className=\"list-header\">\r\n            <span>Nom</span>\r\n            <span>Type</span>\r\n            <span>Matricule</span>\r\n            <span>Classe/Poste</span>\r\n          </div>\r\n          \r\n          <div className=\"list-content\">\r\n            {filteredBorrowers.length > 0 ? (\r\n              filteredBorrowers.map((borrower) => (\r\n                <div\r\n                  key={borrower.id}\r\n                  className={`borrower-row ${selectedBorrower === borrower.id ? 'selected' : ''}`}\r\n                  onClick={() => setSelectedBorrower(borrower.id!)}\r\n                >\r\n                  <div className=\"borrower-name\">\r\n                    <div className=\"name-main\">{borrower.firstName} {borrower.lastName}</div>\r\n                    <div className=\"name-sub\">{borrower.email}</div>\r\n                  </div>\r\n                  <div className=\"borrower-type\">\r\n                    <span className={`type-badge ${borrower.type}`}>\r\n                      {borrower.type === 'student' ? 'Étudiant' : 'Personnel'}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"borrower-matricule\">{borrower.matricule}</div>\r\n                  <div className=\"borrower-extra\">\r\n                    {borrower.type === 'student' ? borrower.classe : borrower.position}\r\n                  </div>\r\n                  <div className=\"selection-indicator\">\r\n                    {selectedBorrower === borrower.id && (\r\n                      <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"currentColor\">\r\n                        <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\r\n                      </svg>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div className=\"no-borrowers\">\r\n                <svg viewBox=\"0 0 24 24\" width=\"48\" height=\"48\" fill=\"currentColor\">\r\n                  <path d=\"M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.1 3.89 23 5 23H19C20.1 23 21 22.1 21 21V9Z\"/>\r\n                </svg>\r\n                <p>Aucun emprunteur trouvé</p>\r\n                <small>{searchQuery ? `pour \"${searchQuery}\"` : 'Essayez de modifier les filtres'}</small>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Selected Borrower Summary Enhanced */}\r\n      {selectedBorrowerData && (\r\n        <div className=\"selected-summary\">\r\n          <h4>Récapitulatif de l'emprunt</h4>\r\n          <div className=\"summary-card\">\r\n            <div className=\"summary-section\">\r\n              <div className=\"summary-icon book-icon\">\r\n                <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"currentColor\">\r\n                  <path d=\"M18 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V4C20 2.9 19.1 2 18 2Z\"/>\r\n                </svg>\r\n              </div>\r\n              <div className=\"summary-content\">\r\n                <div className=\"summary-label\">Livre</div>\r\n                <div className=\"summary-value\">{book.title}</div>\r\n                <div className=\"summary-sub\">par {book.author}</div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"summary-section\">\r\n              <div className=\"summary-icon user-icon\">\r\n                <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"currentColor\">\r\n                  <path d=\"M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z\"/>\r\n                </svg>\r\n              </div>\r\n              <div className=\"summary-content\">\r\n                <div className=\"summary-label\">Emprunteur</div>\r\n                <div className=\"summary-value\">\r\n                  {selectedBorrowerData.firstName} {selectedBorrowerData.lastName}\r\n                </div>\r\n                <div className=\"summary-sub\">\r\n                  {selectedBorrowerData.matricule} • {selectedBorrowerData.type === 'student' ? 'Étudiant' : 'Personnel'}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"summary-section\">\r\n              <div className=\"summary-icon date-icon\">\r\n                <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"currentColor\">\r\n                  <path d=\"M19 3H18V1H16V3H8V1H6V3H5C3.89 3 3.01 3.9 3.01 5L3 19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V8H19V19ZM7 10H12V15H7V10Z\"/>\r\n                </svg>\r\n              </div>\r\n              <div className=\"summary-content\">\r\n                <div className=\"summary-label\">Retour prévu</div>\r\n                <div className=\"summary-value\">\r\n                  {new Date(expectedReturnDate).toLocaleDateString('fr-FR', {\r\n                    weekday: 'long',\r\n                    year: 'numeric',\r\n                    month: 'long',\r\n                    day: 'numeric'\r\n                  })}\r\n                </div>\r\n                <div className=\"summary-sub\">\r\n                  Dans {Math.ceil((new Date(expectedReturnDate).getTime() - new Date().getTime()) / (1000 * 60 * 60 * 24))} jour(s)\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Form Actions Enhanced */}\r\n      <div className=\"form-actions\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn-secondary\"\r\n          onClick={onCancel}\r\n          disabled={isLoading}\r\n        >\r\n          <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" fill=\"currentColor\">\r\n            <path d=\"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z\"/>\r\n          </svg>\r\n          Annuler\r\n        </button>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn-primary\"\r\n          disabled={!selectedBorrower || !expectedReturnDate || isLoading}\r\n          onClick={handleSubmit}\r\n        >\r\n          {isLoading ? (\r\n            <>\r\n              <div className=\"loading-spinner\"></div>\r\n              Traitement...\r\n            </>\r\n          ) : (\r\n            <>\r\n              <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" fill=\"currentColor\">\r\n                <path d=\"M9 16.17L4.83 12L3.41 13.41L9 19L21 7L19.59 5.58L9 16.17Z\"/>\r\n              </svg>\r\n              Confirmer l'emprunt\r\n            </>\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Add Borrower Modal */}\r\n      {showAddBorrower && (\r\n        <div className=\"add-borrower-overlay\" onClick={() => setShowAddBorrower(false)}>\r\n          <div className=\"add-borrower-modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"add-borrower-header\">\r\n              <h3>Ajouter un emprunteur</h3>\r\n              <button\r\n                className=\"modal-close-small\"\r\n                onClick={() => setShowAddBorrower(false)}\r\n              >\r\n                ×\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"add-borrower-content\">\r\n              <div className=\"type-selector\">\r\n                <button\r\n                  type=\"button\"\r\n                  className={`type-button ${newBorrowerData.type === 'student' ? 'active' : ''}`}\r\n                  onClick={() => setNewBorrowerData(prev => ({ ...prev, type: 'student' }))}\r\n                >\r\n                  🎓 Étudiant\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className={`type-button ${newBorrowerData.type === 'staff' ? 'active' : ''}`}\r\n                  onClick={() => setNewBorrowerData(prev => ({ ...prev, type: 'staff' }))}\r\n                >\r\n                  👔 Personnel\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"form-grid-compact\">\r\n                <div className=\"form-group-compact\">\r\n                  <label>Prénom *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newBorrowerData.firstName}\r\n                    onChange={(e) => setNewBorrowerData(prev => ({ ...prev, firstName: e.target.value }))}\r\n                    className=\"form-input-compact\"\r\n                    required\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"form-group-compact\">\r\n                  <label>Nom *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newBorrowerData.lastName}\r\n                    onChange={(e) => setNewBorrowerData(prev => ({ ...prev, lastName: e.target.value }))}\r\n                    className=\"form-input-compact\"\r\n                    required\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"form-group-compact\">\r\n                  <label>Matricule *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newBorrowerData.matricule}\r\n                    onChange={(e) => setNewBorrowerData(prev => ({ ...prev, matricule: e.target.value }))}\r\n                    className=\"form-input-compact\"\r\n                    required\r\n                  />\r\n                </div>\r\n                \r\n                {newBorrowerData.type === 'student' ? (\r\n                  <div className=\"form-group-compact\">\r\n                    <label>Classe</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newBorrowerData.classe}\r\n                      onChange={(e) => setNewBorrowerData(prev => ({ ...prev, classe: e.target.value }))}\r\n                      className=\"form-input-compact\"\r\n                      placeholder=\"ex: Terminale C\"\r\n                    />\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"form-group-compact\">\r\n                    <label>Poste</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newBorrowerData.position}\r\n                      onChange={(e) => setNewBorrowerData(prev => ({ ...prev, position: e.target.value }))}\r\n                      className=\"form-input-compact\"\r\n                      placeholder=\"ex: Professeur\"\r\n                    />\r\n                  </div>\r\n                )}\r\n                \r\n                <div className=\"form-group-compact span-full\">\r\n                  <label>Email</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    value={newBorrowerData.email}\r\n                    onChange={(e) => setNewBorrowerData(prev => ({ ...prev, email: e.target.value }))}\r\n                    className=\"form-input-compact\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"add-borrower-actions\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn-secondary-small\"\r\n                onClick={() => setShowAddBorrower(false)}\r\n              >\r\n                Annuler\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn-primary-small\"\r\n                onClick={handleAddBorrower}\r\n                disabled={!newBorrowerData.firstName || !newBorrowerData.lastName || !newBorrowerData.matricule || isLoading}\r\n              >\r\n                {isLoading ? 'Ajout...' : 'Ajouter'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Styles pour le formulaire d'emprunt */}\r\n      <style>{`\r\n        /* Tous les styles CSS du formulaire d'emprunt ici */\r\n        /* Le CSS est identique à celui du fichier précédent */\r\n        /* ... (insérer ici tous les styles CSS de EnhancedBorrowForm) */\r\n      `}</style>\r\n    </div>\r\n  );\r\n};","import React, { useState } from 'react';\r\nimport { \r\n  Info, \r\n  X, \r\n  User, \r\n  Mail, \r\n  Phone, \r\n  MapPin,\r\n  GraduationCap,\r\n  Briefcase,\r\n  Code,\r\n  Star,\r\n  Award,\r\n  ExternalLink,\r\n  ArrowLeft,\r\n  Github,\r\n  Linkedin,\r\n  Globe,\r\n  Heart,\r\n  BookOpen,\r\n  Zap,\r\n  Users,\r\n  Trophy,\r\n  Sparkles\r\n} from 'lucide-react';\r\n\r\ninterface AboutProps {\r\n  onClose: () => void;\r\n}\r\n\r\nexport const About: React.FC<AboutProps> = ({ onClose }) => {\r\n  const [activeTab, setActiveTab] = useState<'developer' | 'project' | 'technologies'>('developer');\r\n\r\n  const developerInfo = {\r\n    name: 'CHEUDJEU TEFOYE CÉDRIC BASILIO',\r\n    title: 'Expert en Développement Informatique & Intelligence Artificielle',\r\n    location: 'Douala, Cameroun',\r\n    phone: '+237 652 761 931',\r\n    email: 'cedrictefoye@gmail.com',\r\n    currentPosition: 'Responsable Cellule Informatique - Faculté de Médecine, Université de Douala',\r\n    experience: '4+ ans d\\'expérience',\r\n    avatar: '👨‍💻'\r\n  };\r\n\r\n  const education = [\r\n    {\r\n      degree: 'Master en Intelligence Artificielle',\r\n      institution: 'Université de Dschang, Faculté des Sciences',\r\n      year: '2022-2023',\r\n      mention: 'Mention obtenue',\r\n      specialization: 'Machine Learning, NLP, Computer Vision'\r\n    },\r\n    {\r\n      degree: 'Licence en Informatique Fondamentale',\r\n      institution: 'Université de Dschang, Faculté des Sciences',\r\n      year: '2020-2021',\r\n      specialization: 'Génie Logiciel et Systèmes d\\'Information'\r\n    }\r\n  ];\r\n\r\n  const experience = [\r\n    {\r\n      title: 'Responsable Cellule Informatique',\r\n      company: 'Faculté de Médecine - Université de Douala',\r\n      period: 'Jan. 2024 - Présent',\r\n      description: 'Administration des systèmes, développement d\\'applications de gestion académique, implémentation de solutions d\\'IA'\r\n    },\r\n    {\r\n      title: 'Co-fondateur',\r\n      company: 'OVERBRAND',\r\n      period: 'Août 2021 - Présent',\r\n      description: 'Direction stratégique et technique, supervision de projets web/mobile'\r\n    },\r\n    {\r\n      title: 'Designer - Projet Help to Win',\r\n      company: 'VISIBILITY CAM SARL',\r\n      period: 'Mars 2023 - Présent',\r\n      description: 'Conception UI/UX d\\'application mobile éducative'\r\n    }\r\n  ];\r\n\r\n  const technologies = {\r\n    frontend: ['React.js', 'Vue.js', 'HTML5/CSS3', 'JavaScript', 'TypeScript'],\r\n    backend: ['Node.js', 'PHP/Laravel', 'Python', 'Express.js'],\r\n    mobile: ['React Native', 'Flutter'],\r\n    ai: ['TensorFlow', 'PyTorch', 'Scikit-Learn', 'Machine Learning', 'NLP'],\r\n    design: ['Figma', 'Adobe XD', 'Photoshop', 'Illustrator'],\r\n    database: ['MySQL', 'PostgreSQL', 'MongoDB', 'Firebase'],\r\n    tools: ['Git/GitHub', 'Docker', 'AWS']\r\n  };\r\n\r\n  const projectFeatures = [\r\n    {\r\n      icon: BookOpen,\r\n      title: 'Gestion complète',\r\n      description: 'Système complet de gestion de bibliothèque avec emprunteurs, livres et historique'\r\n    },\r\n    {\r\n      icon: Users,\r\n      title: 'Multi-utilisateurs',\r\n      description: 'Support pour étudiants et personnel avec différents types d\\'accès'\r\n    },\r\n    {\r\n      icon: Zap,\r\n      title: 'Interface moderne',\r\n      description: 'Design contemporain avec animations fluides et expérience utilisateur optimisée'\r\n    },\r\n    {\r\n      icon: Heart,\r\n      title: 'Open Source',\r\n      description: 'Code source libre et gratuit pour toute la communauté éducative'\r\n    }\r\n  ];\r\n\r\n  const achievements = [\r\n    {\r\n      icon: Trophy,\r\n      title: 'Halkaton 2022',\r\n      description: 'Hackathon de 24 heures'\r\n    },\r\n    {\r\n      icon: Award,\r\n      title: 'MountainHack 2020',\r\n      description: 'Hackathon de 24 heures, Dschang'\r\n    },\r\n    {\r\n      icon: Star,\r\n      title: 'Master avec mention',\r\n      description: 'Intelligence Artificielle - 2023'\r\n    }\r\n  ];\r\n\r\n  const tabs = [\r\n    { id: 'developer' as const, label: 'Développeur', icon: User },\r\n    { id: 'project' as const, label: 'Le Projet', icon: BookOpen },\r\n    { id: 'technologies' as const, label: 'Technologies', icon: Code }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"about-page\">\r\n      {/* Hero Section */}\r\n      <div className=\"hero-section\">\r\n        <div className=\"hero-background\">\r\n          <div className=\"hero-pattern\"></div>\r\n        </div>\r\n        <div className=\"hero-content\">\r\n          <button className=\"back-button\" onClick={onClose}>\r\n            <ArrowLeft size={20} />\r\n            <span>Retour</span>\r\n          </button>\r\n          \r\n          <div className=\"hero-main\">\r\n            <div className=\"hero-icon\">\r\n              <Info size={48} />\r\n            </div>\r\n            <div className=\"hero-text\">\r\n              <h1 className=\"hero-title\">À propos du projet</h1>\r\n              <p className=\"hero-subtitle\">\r\n                Découvrez l'histoire, les technologies et l'équipe derrière ce système de gestion de bibliothèque\r\n              </p>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Project Stats */}\r\n          <div className=\"project-stats\">\r\n            <div className=\"stat-item\">\r\n              <Sparkles size={24} />\r\n              <div className=\"stat-content\">\r\n                <span className=\"stat-number\">2024</span>\r\n                <span className=\"stat-label\">Année de création</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"stat-item\">\r\n              <Code size={24} />\r\n              <div className=\"stat-content\">\r\n                <span className=\"stat-number\">100%</span>\r\n                <span className=\"stat-label\">TypeScript</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"stat-item\">\r\n              <Heart size={24} />\r\n              <div className=\"stat-content\">\r\n                <span className=\"stat-number\">MIT</span>\r\n                <span className=\"stat-label\">Licence libre</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"about-content\">\r\n        {/* Navigation Tabs */}\r\n        <div className=\"tabs-navigation\">\r\n          {tabs.map((tab) => (\r\n            <button\r\n              key={tab.id}\r\n              className={`tab-button ${activeTab === tab.id ? 'active' : ''}`}\r\n              onClick={() => setActiveTab(tab.id)}\r\n            >\r\n              <tab.icon size={20} />\r\n              <span>{tab.label}</span>\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Developer Tab */}\r\n        {activeTab === 'developer' && (\r\n          <div className=\"tab-content\">\r\n            <div className=\"developer-hero\">\r\n              <div className=\"developer-avatar\">\r\n                <span className=\"avatar-emoji\">{developerInfo.avatar}</span>\r\n              </div>\r\n              <div className=\"developer-info\">\r\n                <h2 className=\"developer-name\">{developerInfo.name}</h2>\r\n                <p className=\"developer-title\">{developerInfo.title}</p>\r\n                <div className=\"developer-meta\">\r\n                  <div className=\"meta-item\">\r\n                    <MapPin size={16} />\r\n                    <span>{developerInfo.location}</span>\r\n                  </div>\r\n                  <div className=\"meta-item\">\r\n                    <Briefcase size={16} />\r\n                    <span>{developerInfo.experience}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"content-grid\">\r\n              {/* Contact */}\r\n              <div className=\"info-card\">\r\n                <h3 className=\"card-title\">Contact</h3>\r\n                <div className=\"contact-list\">\r\n                  <a href={`mailto:${developerInfo.email}`} className=\"contact-item\">\r\n                    <Mail size={20} />\r\n                    <span>{developerInfo.email}</span>\r\n                    <ExternalLink size={16} />\r\n                  </a>\r\n                  <a href={`tel:${developerInfo.phone}`} className=\"contact-item\">\r\n                    <Phone size={20} />\r\n                    <span>{developerInfo.phone}</span>\r\n                    <ExternalLink size={16} />\r\n                  </a>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Current Position */}\r\n              <div className=\"info-card\">\r\n                <h3 className=\"card-title\">Poste actuel</h3>\r\n                <div className=\"position-info\">\r\n                  <div className=\"position-title\">{developerInfo.currentPosition}</div>\r\n                  <p className=\"position-description\">\r\n                    Administration des systèmes informatiques, développement d'applications de gestion \r\n                    académique et implémentation de solutions d'IA pour l'optimisation des processus.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Education */}\r\n            <div className=\"section\">\r\n              <h3 className=\"section-title\">\r\n                <GraduationCap size={24} />\r\n                Formation\r\n              </h3>\r\n              <div className=\"timeline\">\r\n                {education.map((edu, index) => (\r\n                  <div key={index} className=\"timeline-item\">\r\n                    <div className=\"timeline-marker\"></div>\r\n                    <div className=\"timeline-content\">\r\n                      <h4 className=\"timeline-title\">{edu.degree}</h4>\r\n                      <p className=\"timeline-subtitle\">{edu.institution}</p>\r\n                      <div className=\"timeline-meta\">\r\n                        <span className=\"timeline-year\">{edu.year}</span>\r\n                        {edu.mention && <span className=\"timeline-mention\">{edu.mention}</span>}\r\n                      </div>\r\n                      <p className=\"timeline-description\">{edu.specialization}</p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Experience */}\r\n            <div className=\"section\">\r\n              <h3 className=\"section-title\">\r\n                <Briefcase size={24} />\r\n                Expérience professionnelle\r\n              </h3>\r\n              <div className=\"experience-grid\">\r\n                {experience.map((exp, index) => (\r\n                  <div key={index} className=\"experience-card\">\r\n                    <div className=\"experience-header\">\r\n                      <h4 className=\"experience-title\">{exp.title}</h4>\r\n                      <span className=\"experience-period\">{exp.period}</span>\r\n                    </div>\r\n                    <p className=\"experience-company\">{exp.company}</p>\r\n                    <p className=\"experience-description\">{exp.description}</p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Achievements */}\r\n            <div className=\"section\">\r\n              <h3 className=\"section-title\">\r\n                <Award size={24} />\r\n                Réalisations\r\n              </h3>\r\n              <div className=\"achievements-grid\">\r\n                {achievements.map((achievement, index) => (\r\n                  <div key={index} className=\"achievement-card\">\r\n                    <div className=\"achievement-icon\">\r\n                      <achievement.icon size={24} />\r\n                    </div>\r\n                    <h4 className=\"achievement-title\">{achievement.title}</h4>\r\n                    <p className=\"achievement-description\">{achievement.description}</p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Project Tab */}\r\n        {activeTab === 'project' && (\r\n          <div className=\"tab-content\">\r\n            <div className=\"project-intro\">\r\n              <h2 className=\"intro-title\">Système de Gestion de Bibliothèque</h2>\r\n              <p className=\"intro-description\">\r\n                Une solution moderne et complète pour la gestion des bibliothèques, développée avec les \r\n                dernières technologies web. Ce projet vise à simplifier et moderniser la gestion des \r\n                collections de livres, des emprunteurs et des transactions dans les établissements éducatifs.\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"features-grid\">\r\n              {projectFeatures.map((feature, index) => (\r\n                <div key={index} className=\"feature-card\">\r\n                  <div className=\"feature-icon\">\r\n                    <feature.icon size={24} />\r\n                  </div>\r\n                  <h3 className=\"feature-title\">{feature.title}</h3>\r\n                  <p className=\"feature-description\">{feature.description}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"project-details\">\r\n              <div className=\"detail-card\">\r\n                <h3 className=\"detail-title\">Objectifs du projet</h3>\r\n                <ul className=\"detail-list\">\r\n                  <li>Moderniser la gestion des bibliothèques scolaires et universitaires</li>\r\n                  <li>Simplifier les processus d'emprunt et de retour de livres</li>\r\n                  <li>Fournir des statistiques et analyses en temps réel</li>\r\n                  <li>Offrir une interface intuitive et accessible</li>\r\n                  <li>Garantir la gratuité et l'open source pour l'éducation</li>\r\n                </ul>\r\n              </div>\r\n\r\n              <div className=\"detail-card\">\r\n                <h3 className=\"detail-title\">Fonctionnalités principales</h3>\r\n                <ul className=\"detail-list\">\r\n                  <li>Gestion complète des livres (ajout, modification, suppression)</li>\r\n                  <li>Système d'emprunteurs avec différents types (étudiants, personnel)</li>\r\n                  <li>Processus d'emprunt et de retour simplifiés</li>\r\n                  <li>Historique détaillé des transactions</li>\r\n                  <li>Génération de rapports et exports CSV</li>\r\n                  <li>Interface responsive adaptée à tous les appareils</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"project-mission\">\r\n              <div className=\"mission-icon\">\r\n                <Heart size={32} />\r\n              </div>\r\n              <div className=\"mission-content\">\r\n                <h3 className=\"mission-title\">Notre mission</h3>\r\n                <p className=\"mission-description\">\r\n                  Démocratiser l'accès aux outils de gestion modernes pour les bibliothèques, \r\n                  en particulier dans les établissements éducatifs. Nous croyons que chaque \r\n                  institution, quelle que soit sa taille ou ses ressources, devrait avoir accès \r\n                  à des solutions technologiques de qualité pour améliorer l'expérience de ses utilisateurs.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Technologies Tab */}\r\n        {activeTab === 'technologies' && (\r\n          <div className=\"tab-content\">\r\n            <div className=\"tech-intro\">\r\n              <h2 className=\"intro-title\">Stack Technologique</h2>\r\n              <p className=\"intro-description\">\r\n                Ce projet utilise des technologies modernes et éprouvées pour garantir performance, \r\n                sécurité et maintenabilité. Voici un aperçu des outils et frameworks utilisés.\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"tech-categories\">\r\n              <div className=\"tech-category\">\r\n                <h3 className=\"tech-title\">Frontend</h3>\r\n                <div className=\"tech-tags\">\r\n                  {technologies.frontend.map((tech, index) => (\r\n                    <span key={index} className=\"tech-tag frontend\">{tech}</span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"tech-category\">\r\n                <h3 className=\"tech-title\">Backend</h3>\r\n                <div className=\"tech-tags\">\r\n                  {technologies.backend.map((tech, index) => (\r\n                    <span key={index} className=\"tech-tag backend\">{tech}</span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"tech-category\">\r\n                <h3 className=\"tech-title\">Mobile</h3>\r\n                <div className=\"tech-tags\">\r\n                  {technologies.mobile.map((tech, index) => (\r\n                    <span key={index} className=\"tech-tag mobile\">{tech}</span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"tech-category\">\r\n                <h3 className=\"tech-title\">Intelligence Artificielle</h3>\r\n                <div className=\"tech-tags\">\r\n                  {technologies.ai.map((tech, index) => (\r\n                    <span key={index} className=\"tech-tag ai\">{tech}</span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"tech-category\">\r\n                <h3 className=\"tech-title\">Design</h3>\r\n                <div className=\"tech-tags\">\r\n                  {technologies.design.map((tech, index) => (\r\n                    <span key={index} className=\"tech-tag design\">{tech}</span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"tech-category\">\r\n                <h3 className=\"tech-title\">Base de données</h3>\r\n                <div className=\"tech-tags\">\r\n                  {technologies.database.map((tech, index) => (\r\n                    <span key={index} className=\"tech-tag database\">{tech}</span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"tech-category\">\r\n                <h3 className=\"tech-title\">Outils & DevOps</h3>\r\n                <div className=\"tech-tags\">\r\n                  {technologies.tools.map((tech, index) => (\r\n                    <span key={index} className=\"tech-tag tools\">{tech}</span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"architecture-info\">\r\n              <h3 className=\"architecture-title\">Architecture</h3>\r\n              <div className=\"architecture-description\">\r\n                <p>\r\n                  Le système est construit avec une architecture moderne séparant clairement \r\n                  les couches de présentation, logique métier et données. L'interface utilisateur \r\n                  est développée en React avec TypeScript pour une meilleure maintenabilité.\r\n                </p>\r\n                <p>\r\n                  L'application utilise Electron pour offrir une expérience desktop native \r\n                  tout en conservant la flexibilité du web. La base de données SQLite garantit \r\n                  une installation simple et une portabilité maximale.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <style>{`\r\n        .about-page {\r\n          height: 100%;\r\n          overflow-y: auto;\r\n          background: #FAF9F6;\r\n        }\r\n        \r\n        .hero-section {\r\n          position: relative;\r\n          background: linear-gradient(135deg, #607D8B 0%, #455A64 100%);\r\n          color: #F3EED9;\r\n          padding: 48px 32px;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .hero-background {\r\n          position: absolute;\r\n          inset: 0;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .hero-pattern {\r\n          position: absolute;\r\n          inset: 0;\r\n          background-image: \r\n            radial-gradient(circle at 25% 25%, rgba(243, 238, 217, 0.1) 0%, transparent 50%),\r\n            radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);\r\n          animation: drift 20s ease-in-out infinite;\r\n        }\r\n        \r\n        @keyframes drift {\r\n          0%, 100% { transform: translate(0, 0) rotate(0deg); }\r\n          33% { transform: translate(30px, -30px) rotate(1deg); }\r\n          66% { transform: translate(-20px, 20px) rotate(-1deg); }\r\n        }\r\n        \r\n        .hero-content {\r\n          position: relative;\r\n          z-index: 1;\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n        }\r\n        \r\n        .back-button {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          background: rgba(243, 238, 217, 0.15);\r\n          border: 1px solid rgba(243, 238, 217, 0.3);\r\n          color: #F3EED9;\r\n          padding: 12px 20px;\r\n          border-radius: 12px;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          margin-bottom: 32px;\r\n          width: fit-content;\r\n        }\r\n        \r\n        .back-button:hover {\r\n          background: rgba(243, 238, 217, 0.25);\r\n          transform: translateX(-4px);\r\n        }\r\n        \r\n        .hero-main {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 24px;\r\n          margin-bottom: 40px;\r\n          text-align: center;\r\n          flex-direction: column;\r\n        }\r\n        \r\n        .hero-icon {\r\n          width: 96px;\r\n          height: 96px;\r\n          background: rgba(243, 238, 217, 0.2);\r\n          border-radius: 24px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #F3EED9;\r\n        }\r\n        \r\n        .hero-title {\r\n          font-size: 42px;\r\n          font-weight: 800;\r\n          margin: 0 0 16px 0;\r\n          line-height: 1.2;\r\n          letter-spacing: -0.5px;\r\n        }\r\n        \r\n        .hero-subtitle {\r\n          font-size: 20px;\r\n          opacity: 0.9;\r\n          margin: 0;\r\n          line-height: 1.5;\r\n          max-width: 600px;\r\n        }\r\n        \r\n        .project-stats {\r\n          display: flex;\r\n          justify-content: center;\r\n          gap: 40px;\r\n          flex-wrap: wrap;\r\n        }\r\n        \r\n        .stat-item {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 16px;\r\n          background: rgba(243, 238, 217, 0.1);\r\n          padding: 20px 24px;\r\n          border-radius: 16px;\r\n          backdrop-filter: blur(10px);\r\n          border: 1px solid rgba(243, 238, 217, 0.2);\r\n        }\r\n        \r\n        .stat-number {\r\n          font-size: 24px;\r\n          font-weight: 800;\r\n          color: #F3EED9;\r\n          display: block;\r\n          line-height: 1;\r\n        }\r\n        \r\n        .stat-label {\r\n          font-size: 14px;\r\n          color: rgba(243, 238, 217, 0.9);\r\n          margin-top: 4px;\r\n        }\r\n        \r\n        .about-content {\r\n          padding: 0 32px 48px;\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n        }\r\n        \r\n        .tabs-navigation {\r\n          display: flex;\r\n          background: #FFFFFF;\r\n          border-radius: 16px;\r\n          padding: 8px;\r\n          margin-bottom: 32px;\r\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\r\n          border: 1px solid #E5DCC2;\r\n          position: sticky;\r\n          top: 20px;\r\n          z-index: 10;\r\n        }\r\n        \r\n        .tab-button {\r\n          flex: 1;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          gap: 8px;\r\n          padding: 16px 20px;\r\n          border: none;\r\n          background: transparent;\r\n          color: #6E6E6E;\r\n          border-radius: 12px;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .tab-button:hover {\r\n          background: rgba(96, 125, 139, 0.1);\r\n          color: #607D8B;\r\n        }\r\n        \r\n        .tab-button.active {\r\n          background: linear-gradient(135deg, #607D8B 0%, #455A64 100%);\r\n          color: #F3EED9;\r\n          box-shadow: 0 4px 12px rgba(96, 125, 139, 0.3);\r\n        }\r\n        \r\n        .tab-content {\r\n          animation: fadeIn 0.3s ease-out;\r\n        }\r\n        \r\n        @keyframes fadeIn {\r\n          from { opacity: 0; transform: translateY(20px); }\r\n          to { opacity: 1; transform: translateY(0); }\r\n        }\r\n        \r\n        .developer-hero {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 24px;\r\n          background: #FFFFFF;\r\n          border-radius: 20px;\r\n          padding: 32px;\r\n          margin-bottom: 32px;\r\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\r\n          border: 1px solid #E5DCC2;\r\n        }\r\n        \r\n        .developer-avatar {\r\n          width: 80px;\r\n          height: 80px;\r\n          background: linear-gradient(135deg, #607D8B 0%, #455A64 100%);\r\n          border-radius: 20px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          font-size: 32px;\r\n          flex-shrink: 0;\r\n        }\r\n        \r\n        .developer-name {\r\n          font-size: 28px;\r\n          font-weight: 800;\r\n          color: #2E2E2E;\r\n          margin: 0 0 8px 0;\r\n          letter-spacing: -0.3px;\r\n        }\r\n        \r\n        .developer-title {\r\n          font-size: 16px;\r\n          color: #607D8B;\r\n          margin: 0 0 16px 0;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .developer-meta {\r\n          display: flex;\r\n          gap: 24px;\r\n          flex-wrap: wrap;\r\n        }\r\n        \r\n        .meta-item {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          color: #6E6E6E;\r\n          font-size: 14px;\r\n        }\r\n        \r\n        .content-grid {\r\n          display: grid;\r\n          grid-template-columns: 1fr 1fr;\r\n          gap: 24px;\r\n          margin-bottom: 48px;\r\n        }\r\n        \r\n        .info-card {\r\n          background: #FFFFFF;\r\n          border-radius: 16px;\r\n          padding: 24px;\r\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\r\n          border: 1px solid #E5DCC2;\r\n        }\r\n        \r\n        .card-title {\r\n          font-size: 20px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0 0 20px 0;\r\n        }\r\n        \r\n        .contact-list {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 16px;\r\n        }\r\n        \r\n        .contact-item {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          padding: 12px 16px;\r\n          background: rgba(96, 125, 139, 0.05);\r\n          border-radius: 12px;\r\n          color: #2E2E2E;\r\n          text-decoration: none;\r\n          transition: all 0.2s ease;\r\n        }\r\n        \r\n        .contact-item:hover {\r\n          background: rgba(96, 125, 139, 0.1);\r\n          transform: translateY(-1px);\r\n        }\r\n        \r\n        .position-title {\r\n          font-size: 16px;\r\n          font-weight: 700;\r\n          color: #607D8B;\r\n          margin-bottom: 8px;\r\n        }\r\n        \r\n        .position-description {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          line-height: 1.6;\r\n          margin: 0;\r\n        }\r\n        \r\n        .section {\r\n          margin-bottom: 48px;\r\n        }\r\n        \r\n        .section-title {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          font-size: 24px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0 0 24px 0;\r\n        }\r\n        \r\n        .timeline {\r\n          position: relative;\r\n          padding-left: 32px;\r\n        }\r\n        \r\n        .timeline::before {\r\n          content: '';\r\n          position: absolute;\r\n          left: 16px;\r\n          top: 0;\r\n          bottom: 0;\r\n          width: 2px;\r\n          background: linear-gradient(to bottom, #607D8B, #455A64);\r\n        }\r\n        \r\n        .timeline-item {\r\n          position: relative;\r\n          margin-bottom: 32px;\r\n          background: #FFFFFF;\r\n          border-radius: 16px;\r\n          padding: 24px;\r\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\r\n          border: 1px solid #E5DCC2;\r\n        }\r\n        \r\n        .timeline-marker {\r\n          position: absolute;\r\n          left: -40px;\r\n          top: 24px;\r\n          width: 12px;\r\n          height: 12px;\r\n          background: #607D8B;\r\n          border-radius: 50%;\r\n          border: 3px solid #FFFFFF;\r\n          box-shadow: 0 0 0 2px #607D8B;\r\n        }\r\n        \r\n        .timeline-title {\r\n          font-size: 18px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0 0 4px 0;\r\n        }\r\n        \r\n        .timeline-subtitle {\r\n          font-size: 14px;\r\n          color: #607D8B;\r\n          margin: 0 0 8px 0;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .timeline-meta {\r\n          display: flex;\r\n          gap: 16px;\r\n          margin-bottom: 8px;\r\n        }\r\n        \r\n        .timeline-year {\r\n          background: rgba(96, 125, 139, 0.1);\r\n          color: #607D8B;\r\n          padding: 4px 8px;\r\n          border-radius: 8px;\r\n          font-size: 12px;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .timeline-mention {\r\n          background: #4CAF50;\r\n          color: #FFFFFF;\r\n          padding: 4px 8px;\r\n          border-radius: 8px;\r\n          font-size: 12px;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .timeline-description {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          line-height: 1.6;\r\n          margin: 0;\r\n        }\r\n        \r\n        .experience-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n          gap: 24px;\r\n        }\r\n        \r\n        .experience-card {\r\n          background: #FFFFFF;\r\n          border-radius: 16px;\r\n          padding: 24px;\r\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\r\n          border: 1px solid #E5DCC2;\r\n          transition: all 0.3s ease;\r\n        }\r\n        \r\n        .experience-card:hover {\r\n          transform: translateY(-4px);\r\n          box-shadow: 0 8px 24px rgba(96, 125, 139, 0.15);\r\n        }\r\n        \r\n        .experience-header {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: flex-start;\r\n          margin-bottom: 8px;\r\n        }\r\n        \r\n        .experience-title {\r\n          font-size: 16px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0;\r\n          flex: 1;\r\n        }\r\n        \r\n        .experience-period {\r\n          background: rgba(96, 125, 139, 0.1);\r\n          color: #607D8B;\r\n          padding: 4px 8px;\r\n          border-radius: 8px;\r\n          font-size: 11px;\r\n          font-weight: 600;\r\n          white-space: nowrap;\r\n        }\r\n        \r\n        .experience-company {\r\n          font-size: 14px;\r\n          color: #607D8B;\r\n          font-weight: 600;\r\n          margin: 0 0 12px 0;\r\n        }\r\n        \r\n        .experience-description {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          line-height: 1.6;\r\n          margin: 0;\r\n        }\r\n        \r\n        .achievements-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n          gap: 20px;\r\n        }\r\n        \r\n        .achievement-card {\r\n          background: #FFFFFF;\r\n          border-radius: 16px;\r\n          padding: 20px;\r\n          text-align: center;\r\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\r\n          border: 1px solid #E5DCC2;\r\n          transition: all 0.3s ease;\r\n        }\r\n        \r\n        .achievement-card:hover {\r\n          transform: translateY(-4px);\r\n          box-shadow: 0 8px 24px rgba(96, 125, 139, 0.15);\r\n        }\r\n        \r\n        .achievement-icon {\r\n          width: 48px;\r\n          height: 48px;\r\n          background: rgba(96, 125, 139, 0.1);\r\n          border-radius: 12px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #607D8B;\r\n          margin: 0 auto 16px;\r\n        }\r\n        \r\n        .achievement-title {\r\n          font-size: 16px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0 0 8px 0;\r\n        }\r\n        \r\n        .achievement-description {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          margin: 0;\r\n        }\r\n        \r\n        .project-intro {\r\n          background: #FFFFFF;\r\n          border-radius: 20px;\r\n          padding: 32px;\r\n          margin-bottom: 32px;\r\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\r\n          border: 1px solid #E5DCC2;\r\n          text-align: center;\r\n        }\r\n        \r\n        .intro-title {\r\n          font-size: 32px;\r\n          font-weight: 800;\r\n          color: #2E2E2E;\r\n          margin: 0 0 16px 0;\r\n          letter-spacing: -0.3px;\r\n        }\r\n        \r\n        .intro-description {\r\n          font-size: 16px;\r\n          color: #6E6E6E;\r\n          line-height: 1.6;\r\n          margin: 0;\r\n          max-width: 800px;\r\n          margin: 0 auto;\r\n        }\r\n        \r\n        .features-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n          gap: 24px;\r\n          margin-bottom: 48px;\r\n        }\r\n        \r\n        .feature-card {\r\n          background: #FFFFFF;\r\n          border-radius: 20px;\r\n          padding: 28px;\r\n          text-align: center;\r\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\r\n          border: 1px solid #E5DCC2;\r\n          transition: all 0.3s ease;\r\n        }\r\n        \r\n        .feature-card:hover {\r\n          transform: translateY(-4px);\r\n          box-shadow: 0 8px 24px rgba(96, 125, 139, 0.15);\r\n        }\r\n        \r\n        .feature-icon {\r\n          width: 56px;\r\n          height: 56px;\r\n          background: rgba(96, 125, 139, 0.1);\r\n          border-radius: 16px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #607D8B;\r\n          margin: 0 auto 20px;\r\n        }\r\n        \r\n        .feature-title {\r\n          font-size: 20px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0 0 12px 0;\r\n        }\r\n        \r\n        .feature-description {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          line-height: 1.6;\r\n          margin: 0;\r\n        }\r\n        \r\n        .project-details {\r\n          display: grid;\r\n          grid-template-columns: 1fr 1fr;\r\n          gap: 24px;\r\n          margin-bottom: 48px;\r\n        }\r\n        \r\n        .detail-card {\r\n          background: #FFFFFF;\r\n          border-radius: 16px;\r\n          padding: 24px;\r\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\r\n          border: 1px solid #E5DCC2;\r\n        }\r\n        \r\n        .detail-title {\r\n          font-size: 20px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0 0 16px 0;\r\n        }\r\n        \r\n        .detail-list {\r\n          list-style: none;\r\n          padding: 0;\r\n          margin: 0;\r\n        }\r\n        \r\n        .detail-list li {\r\n          padding: 8px 0;\r\n          border-bottom: 1px solid #F3EED9;\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          line-height: 1.6;\r\n          position: relative;\r\n          padding-left: 20px;\r\n        }\r\n        \r\n        .detail-list li::before {\r\n          content: '•';\r\n          color: #607D8B;\r\n          position: absolute;\r\n          left: 0;\r\n          font-weight: bold;\r\n        }\r\n        \r\n        .detail-list li:last-child {\r\n          border-bottom: none;\r\n        }\r\n        \r\n        .project-mission {\r\n          display: flex;\r\n          gap: 24px;\r\n          background: linear-gradient(135deg, rgba(96, 125, 139, 0.05) 0%, rgba(69, 90, 100, 0.05) 100%);\r\n          border: 1px solid rgba(96, 125, 139, 0.2);\r\n          border-radius: 20px;\r\n          padding: 32px;\r\n        }\r\n        \r\n        .mission-icon {\r\n          width: 64px;\r\n          height: 64px;\r\n          background: #607D8B;\r\n          border-radius: 16px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #FFFFFF;\r\n          flex-shrink: 0;\r\n        }\r\n        \r\n        .mission-title {\r\n          font-size: 24px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0 0 12px 0;\r\n        }\r\n        \r\n        .mission-description {\r\n          font-size: 16px;\r\n          color: #6E6E6E;\r\n          line-height: 1.6;\r\n          margin: 0;\r\n        }\r\n        \r\n        .tech-intro {\r\n          background: #FFFFFF;\r\n          border-radius: 20px;\r\n          padding: 32px;\r\n          margin-bottom: 32px;\r\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\r\n          border: 1px solid #E5DCC2;\r\n          text-align: center;\r\n        }\r\n        \r\n        .tech-categories {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n          gap: 24px;\r\n          margin-bottom: 48px;\r\n        }\r\n        \r\n        .tech-category {\r\n          background: #FFFFFF;\r\n          border-radius: 16px;\r\n          padding: 24px;\r\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\r\n          border: 1px solid #E5DCC2;\r\n        }\r\n        \r\n        .tech-title {\r\n          font-size: 18px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0 0 16px 0;\r\n        }\r\n        \r\n        .tech-tags {\r\n          display: flex;\r\n          flex-wrap: wrap;\r\n          gap: 8px;\r\n        }\r\n        \r\n        .tech-tag {\r\n          padding: 6px 12px;\r\n          border-radius: 12px;\r\n          font-size: 12px;\r\n          font-weight: 600;\r\n          color: #FFFFFF;\r\n        }\r\n        \r\n        .tech-tag.frontend { background: #3E5C49; }\r\n        .tech-tag.backend { background: #C2571B; }\r\n        .tech-tag.mobile { background: #E91E63; }\r\n        .tech-tag.ai { background: #9C27B0; }\r\n        .tech-tag.design { background: #FF9800; }\r\n        .tech-tag.database { background: #607D8B; }\r\n        .tech-tag.tools { background: #6E6E6E; }\r\n        \r\n        .architecture-info {\r\n          background: #FFFFFF;\r\n          border-radius: 16px;\r\n          padding: 24px;\r\n          box-shadow: 0 4px 16px rgba(96, 125, 139, 0.1);\r\n          border: 1px solid #E5DCC2;\r\n        }\r\n        \r\n        .architecture-title {\r\n          font-size: 20px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0 0 16px 0;\r\n        }\r\n        \r\n        .architecture-description p {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          line-height: 1.6;\r\n          margin: 0 0 16px 0;\r\n        }\r\n        \r\n        .architecture-description p:last-child {\r\n          margin-bottom: 0;\r\n        }\r\n        \r\n        /* Responsive Design */\r\n        @media (max-width: 768px) {\r\n          .hero-section {\r\n            padding: 32px 16px;\r\n          }\r\n          \r\n          .hero-title {\r\n            font-size: 32px;\r\n          }\r\n          \r\n          .hero-subtitle {\r\n            font-size: 18px;\r\n          }\r\n          \r\n          .project-stats {\r\n            flex-direction: column;\r\n            gap: 16px;\r\n          }\r\n          \r\n          .stat-item {\r\n            justify-content: center;\r\n          }\r\n          \r\n          .about-content {\r\n            padding: 0 16px 32px;\r\n          }\r\n          \r\n          .tabs-navigation {\r\n            flex-direction: column;\r\n            gap: 8px;\r\n          }\r\n          \r\n          .tab-button {\r\n            justify-content: flex-start;\r\n          }\r\n          \r\n          .developer-hero {\r\n            flex-direction: column;\r\n            text-align: center;\r\n            gap: 20px;\r\n          }\r\n          \r\n          .developer-meta {\r\n            justify-content: center;\r\n          }\r\n          \r\n          .content-grid {\r\n            grid-template-columns: 1fr;\r\n          }\r\n          \r\n          .timeline {\r\n            padding-left: 24px;\r\n          }\r\n          \r\n          .timeline-marker {\r\n            left: -32px;\r\n          }\r\n          \r\n          .experience-grid {\r\n            grid-template-columns: 1fr;\r\n          }\r\n          \r\n          .achievements-grid {\r\n            grid-template-columns: 1fr;\r\n          }\r\n          \r\n          .features-grid {\r\n            grid-template-columns: 1fr;\r\n          }\r\n          \r\n          .project-details {\r\n            grid-template-columns: 1fr;\r\n          }\r\n          \r\n          .project-mission {\r\n            flex-direction: column;\r\n            text-align: center;\r\n          }\r\n          \r\n          .tech-categories {\r\n            grid-template-columns: 1fr;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 480px) {\r\n          .hero-main {\r\n            gap: 16px;\r\n          }\r\n          \r\n          .hero-icon {\r\n            width: 72px;\r\n            height: 72px;\r\n          }\r\n          \r\n          .hero-title {\r\n            font-size: 28px;\r\n          }\r\n          \r\n          .intro-title {\r\n            font-size: 28px;\r\n          }\r\n          \r\n          .developer-name {\r\n            font-size: 24px;\r\n          }\r\n          \r\n          .experience-header {\r\n            flex-direction: column;\r\n            gap: 8px;\r\n          }\r\n          \r\n          .experience-period {\r\n            align-self: flex-start;\r\n          }\r\n          \r\n          .timeline-item {\r\n            padding: 20px;\r\n          }\r\n          \r\n          .feature-card,\r\n          .achievement-card {\r\n            padding: 20px;\r\n          }\r\n          \r\n          .project-mission {\r\n            padding: 24px;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};","import React, { useState } from 'react';\r\nimport { \r\n  Plus, \r\n  Book, \r\n  User, \r\n  Calendar, \r\n  Tag, \r\n  FileText, \r\n  Link,\r\n  ArrowLeft,\r\n  Save,\r\n  X,\r\n  AlertCircle,\r\n  Check,\r\n  Sparkles\r\n} from 'lucide-react';\r\nimport { Book as BookType, Author, Category, createBookFromDocument } from '../../preload';\r\n\r\ninterface AddBookProps {\r\n  authors: Author[];\r\n  categories: Category[];\r\n  onAddBook: (book: Omit<BookType, 'id'>) => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nexport const AddBook: React.FC<AddBookProps> = ({ \r\n  authors, \r\n  categories, \r\n  onAddBook, \r\n  onCancel \r\n}) => {\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    author: '',\r\n    isbn: '',\r\n    category: '',\r\n    publishedDate: '',\r\n    description: '',\r\n    coverUrl: ''\r\n  });\r\n\r\n  const [showNewAuthor, setShowNewAuthor] = useState(false);\r\n  const [showNewCategory, setShowNewCategory] = useState(false);\r\n  const [newAuthor, setNewAuthor] = useState({\r\n    name: '',\r\n    biography: '',\r\n    nationality: ''\r\n  });\r\n  const [newCategory, setNewCategory] = useState({\r\n    name: '',\r\n    description: '',\r\n    color: '#3E5C49'\r\n  });\r\n\r\n  const [errors, setErrors] = useState<{ [key: string]: string }>({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [submitError, setSubmitError] = useState<string>('');\r\n\r\n  const validateForm = () => {\r\n    const newErrors: { [key: string]: string } = {};\r\n\r\n    if (!formData.title.trim()) {\r\n      newErrors.title = 'Le titre est requis';\r\n    }\r\n    if (!formData.author.trim()) {\r\n      newErrors.author = 'L\\'auteur est requis';\r\n    }\r\n    if (!formData.category.trim()) {\r\n      newErrors.category = 'La catégorie est requise';\r\n    }\r\n    if (formData.isbn && formData.isbn.trim() && !isValidISBN(formData.isbn)) {\r\n      newErrors.isbn = 'Format ISBN invalide (ex: 978-2-123456-78-9)';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const isValidISBN = (isbn: string) => {\r\n    const cleanISBN = isbn.replace(/[-\\s]/g, '');\r\n    return /^(978|979)\\d{10}$/.test(cleanISBN) || /^\\d{10}$/.test(cleanISBN);\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setSubmitError('');\r\n    \r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      // Create proper Document structure (French property names) as expected by the backend\r\n      const bookData = {\r\n        auteur: formData.author,\r\n        titre: formData.title,\r\n        editeur: 'Non spécifié',\r\n        lieuEdition: 'Non spécifié',\r\n        annee: formData.publishedDate || new Date().getFullYear().toString(),\r\n        descripteurs: formData.category,\r\n        cote: `${formData.category.substring(0,3)}-${formData.author.substring(0,3)}-${Math.random().toString(36).substr(2, 3)}`.toUpperCase(),\r\n        isbn: formData.isbn.trim() || undefined,\r\n        description: formData.description,\r\n        couverture: formData.coverUrl,\r\n        estEmprunte: false,\r\n        syncStatus: 'pending' as const,\r\n        lastModified: new Date().toISOString(),\r\n        version: 1,\r\n        createdAt: new Date().toISOString()\r\n      };\r\n      \r\n      // Convert to Book format using the utility function from preload\r\n      const bookForCallback = createBookFromDocument(bookData);\r\n      \r\n      await onAddBook(bookForCallback);\r\n    } catch (error: any) {\r\n      console.error('Erreur lors de l\\'ajout du livre:', error);\r\n      \r\n      if (error.message && error.message.includes('ISBN existe déjà')) {\r\n        setErrors({ isbn: 'Un livre avec cet ISBN existe déjà' });\r\n      } else {\r\n        setSubmitError('Erreur lors de l\\'ajout du livre. Veuillez réessayer.');\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (field: string, value: string) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n    setSubmitError('');\r\n    if (errors[field]) {\r\n      setErrors(prev => ({ ...prev, [field]: '' }));\r\n    }\r\n  };\r\n\r\n  const handleAddNewAuthor = async () => {\r\n    if (!newAuthor.name.trim()) return;\r\n\r\n    try {\r\n      await window.electronAPI.addAuthor({\r\n        ...newAuthor,\r\n        syncStatus: 'pending',\r\n        lastModified: new Date().toISOString(),\r\n        version: 1\r\n      });\r\n      setFormData(prev => ({ ...prev, author: newAuthor.name }));\r\n      setNewAuthor({ name: '', biography: '', nationality: '' });\r\n      setShowNewAuthor(false);\r\n    } catch (error) {\r\n      console.error('Erreur lors de l\\'ajout de l\\'auteur:', error);\r\n    }\r\n  };\r\n\r\n  const handleAddNewCategory = async () => {\r\n    if (!newCategory.name.trim()) return;\r\n\r\n    try {\r\n      await window.electronAPI.addCategory({\r\n        ...newCategory,\r\n        syncStatus: 'pending',\r\n        lastModified: new Date().toISOString(),\r\n        version: 1\r\n      });\r\n      setFormData(prev => ({ ...prev, category: newCategory.name }));\r\n      setNewCategory({ name: '', description: '', color: '#3E5C49' });\r\n      setShowNewCategory(false);\r\n    } catch (error) {\r\n      console.error('Erreur lors de l\\'ajout de la catégorie:', error);\r\n    }\r\n  };\r\n\r\n  const predefinedColors = [\r\n    '#3E5C49', '#C2571B', '#6E6E6E', '#2E453A', \r\n    '#A8481A', '#8B7355', '#5D4037', '#795548'\r\n  ];\r\n\r\n  const progressSteps = [\r\n    { id: 'basic', label: 'Informations', completed: formData.title && formData.author && formData.category },\r\n    { id: 'details', label: 'Détails', completed: true },\r\n    { id: 'finish', label: 'Finaliser', completed: false }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"add-book\">\r\n      {/* Hero Header */}\r\n      <div className=\"hero-header\">\r\n        <div className=\"hero-background\">\r\n          <div className=\"hero-pattern\"></div>\r\n        </div>\r\n        <div className=\"hero-content\">\r\n          <button className=\"back-button\" onClick={onCancel}>\r\n            <ArrowLeft size={20} />\r\n            <span>Retour</span>\r\n          </button>\r\n          \r\n          <div className=\"hero-main\">\r\n            <div className=\"hero-icon\">\r\n              <Sparkles size={32} />\r\n            </div>\r\n            <div className=\"hero-text\">\r\n              <h1 className=\"hero-title\">Ajouter un nouveau livre</h1>\r\n              <p className=\"hero-subtitle\">Enrichissez votre collection avec un nouveau titre</p>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Progress Steps */}\r\n          <div className=\"progress-steps\">\r\n            {progressSteps.map((step, index) => (\r\n              <div key={step.id} className={`progress-step ${step.completed ? 'completed' : ''}`}>\r\n                <div className=\"step-indicator\">\r\n                  {step.completed ? <Check size={16} /> : <span>{index + 1}</span>}\r\n                </div>\r\n                <span className=\"step-label\">{step.label}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Form Content */}\r\n      <div className=\"form-container\">\r\n        <form onSubmit={handleSubmit} className=\"book-form\">\r\n          {submitError && (\r\n            <div className=\"alert alert-error\">\r\n              <AlertCircle size={20} />\r\n              <span>{submitError}</span>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"form-sections\">\r\n            {/* Section 1: Informations principales */}\r\n            <div className=\"form-section\">\r\n              <div className=\"section-header\">\r\n                <div className=\"section-icon\">\r\n                  <Book size={24} />\r\n                </div>\r\n                <div className=\"section-info\">\r\n                  <h2 className=\"section-title\">Informations principales</h2>\r\n                  <p className=\"section-description\">Les détails essentiels de votre livre</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"form-grid\">\r\n                <div className=\"form-group span-full\">\r\n                  <label htmlFor=\"title\" className=\"form-label\">\r\n                    Titre du livre *\r\n                  </label>\r\n                  <input\r\n                    id=\"title\"\r\n                    type=\"text\"\r\n                    value={formData.title}\r\n                    onChange={(e) => handleInputChange('title', e.target.value)}\r\n                    className={`form-input ${errors.title ? 'error' : ''}`}\r\n                    placeholder=\"Entrez le titre complet du livre\"\r\n                    disabled={isLoading}\r\n                  />\r\n                  {errors.title && <span className=\"error-message\">{errors.title}</span>}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"author\" className=\"form-label\">\r\n                    Auteur *\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <select\r\n                      id=\"author\"\r\n                      value={formData.author}\r\n                      onChange={(e) => handleInputChange('author', e.target.value)}\r\n                      className={`form-input ${errors.author ? 'error' : ''}`}\r\n                      disabled={isLoading}\r\n                    >\r\n                      <option value=\"\">Sélectionner un auteur</option>\r\n                      {authors.map((author) => (\r\n                        <option key={author.id} value={author.name}>\r\n                          {author.name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"add-button\"\r\n                      onClick={() => setShowNewAuthor(true)}\r\n                      disabled={isLoading}\r\n                    >\r\n                      <Plus size={16} />\r\n                    </button>\r\n                  </div>\r\n                  {errors.author && <span className=\"error-message\">{errors.author}</span>}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"category\" className=\"form-label\">\r\n                    Catégorie *\r\n                  </label>\r\n                  <div className=\"input-group\">\r\n                    <select\r\n                      id=\"category\"\r\n                      value={formData.category}\r\n                      onChange={(e) => handleInputChange('category', e.target.value)}\r\n                      className={`form-input ${errors.category ? 'error' : ''}`}\r\n                      disabled={isLoading}\r\n                    >\r\n                      <option value=\"\">Sélectionner une catégorie</option>\r\n                      {categories.map((category) => (\r\n                        <option key={category.id} value={category.name}>\r\n                          {category.name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"add-button\"\r\n                      onClick={() => setShowNewCategory(true)}\r\n                      disabled={isLoading}\r\n                    >\r\n                      <Plus size={16} />\r\n                    </button>\r\n                  </div>\r\n                  {errors.category && <span className=\"error-message\">{errors.category}</span>}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Section 2: Détails supplémentaires */}\r\n            <div className=\"form-section\">\r\n              <div className=\"section-header\">\r\n                <div className=\"section-icon\">\r\n                  <FileText size={24} />\r\n                </div>\r\n                <div className=\"section-info\">\r\n                  <h2 className=\"section-title\">Détails supplémentaires</h2>\r\n                  <p className=\"section-description\">Informations complémentaires (optionnelles)</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"form-grid\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"isbn\" className=\"form-label\">\r\n                    ISBN\r\n                  </label>\r\n                  <input\r\n                    id=\"isbn\"\r\n                    type=\"text\"\r\n                    value={formData.isbn}\r\n                    onChange={(e) => handleInputChange('isbn', e.target.value)}\r\n                    className={`form-input ${errors.isbn ? 'error' : ''}`}\r\n                    placeholder=\"978-2-123456-78-9\"\r\n                    disabled={isLoading}\r\n                  />\r\n                  {errors.isbn && <span className=\"error-message\">{errors.isbn}</span>}\r\n                  <small className=\"form-hint\">\r\n                    Laissez vide si vous ne connaissez pas l'ISBN\r\n                  </small>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"publishedDate\" className=\"form-label\">\r\n                    Date de publication\r\n                  </label>\r\n                  <input\r\n                    id=\"publishedDate\"\r\n                    type=\"text\"\r\n                    value={formData.publishedDate}\r\n                    onChange={(e) => handleInputChange('publishedDate', e.target.value)}\r\n                    className=\"form-input\"\r\n                    placeholder=\"2023 ou 01/01/2023\"\r\n                    disabled={isLoading}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group span-full\">\r\n                  <label htmlFor=\"coverUrl\" className=\"form-label\">\r\n                    URL de la couverture\r\n                  </label>\r\n                  <input\r\n                    id=\"coverUrl\"\r\n                    type=\"url\"\r\n                    value={formData.coverUrl}\r\n                    onChange={(e) => handleInputChange('coverUrl', e.target.value)}\r\n                    className=\"form-input\"\r\n                    placeholder=\"https://exemple.com/couverture.jpg\"\r\n                    disabled={isLoading}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group span-full\">\r\n                  <label htmlFor=\"description\" className=\"form-label\">\r\n                    Description\r\n                  </label>\r\n                  <textarea\r\n                    id=\"description\"\r\n                    value={formData.description}\r\n                    onChange={(e) => handleInputChange('description', e.target.value)}\r\n                    className=\"form-textarea\"\r\n                    placeholder=\"Résumé ou description du livre...\"\r\n                    rows={4}\r\n                    disabled={isLoading}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"form-actions\">\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn-secondary\" \r\n              onClick={onCancel}\r\n              disabled={isLoading}\r\n            >\r\n              <X size={18} />\r\n              Annuler\r\n            </button>\r\n            <button \r\n              type=\"submit\" \r\n              className=\"btn-primary\"\r\n              disabled={isLoading}\r\n            >\r\n              <Save size={18} />\r\n              {isLoading ? 'Ajout en cours...' : 'Ajouter le livre'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      {/* Modal Nouvel Auteur */}\r\n      {showNewAuthor && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowNewAuthor(false)}>\r\n          <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <div className=\"modal-title-section\">\r\n                <User size={24} />\r\n                <h3>Ajouter un nouvel auteur</h3>\r\n              </div>\r\n              <button\r\n                className=\"modal-close\"\r\n                onClick={() => setShowNewAuthor(false)}\r\n              >\r\n                <X size={20} />\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"modal-content\">\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Nom de l'auteur *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={newAuthor.name}\r\n                  onChange={(e) => setNewAuthor(prev => ({ ...prev, name: e.target.value }))}\r\n                  className=\"form-input\"\r\n                  placeholder=\"Nom complet de l'auteur\"\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Nationalité</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={newAuthor.nationality}\r\n                  onChange={(e) => setNewAuthor(prev => ({ ...prev, nationality: e.target.value }))}\r\n                  className=\"form-input\"\r\n                  placeholder=\"Nationalité de l'auteur\"\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Biographie</label>\r\n                <textarea\r\n                  value={newAuthor.biography}\r\n                  onChange={(e) => setNewAuthor(prev => ({ ...prev, biography: e.target.value }))}\r\n                  className=\"form-textarea\"\r\n                  placeholder=\"Courte biographie...\"\r\n                  rows={3}\r\n                />\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"modal-footer\">\r\n              <button\r\n                className=\"btn-secondary\"\r\n                onClick={() => setShowNewAuthor(false)}\r\n              >\r\n                Annuler\r\n              </button>\r\n              <button\r\n                className=\"btn-primary\"\r\n                onClick={handleAddNewAuthor}\r\n                disabled={!newAuthor.name.trim()}\r\n              >\r\n                <Plus size={16} />\r\n                Ajouter l'auteur\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Modal Nouvelle Catégorie */}\r\n      {showNewCategory && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowNewCategory(false)}>\r\n          <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <div className=\"modal-title-section\">\r\n                <Tag size={24} />\r\n                <h3>Ajouter une nouvelle catégorie</h3>\r\n              </div>\r\n              <button\r\n                className=\"modal-close\"\r\n                onClick={() => setShowNewCategory(false)}\r\n              >\r\n                <X size={20} />\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"modal-content\">\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Nom de la catégorie *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={newCategory.name}\r\n                  onChange={(e) => setNewCategory(prev => ({ ...prev, name: e.target.value }))}\r\n                  className=\"form-input\"\r\n                  placeholder=\"Nom de la catégorie\"\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Description</label>\r\n                <textarea\r\n                  value={newCategory.description}\r\n                  onChange={(e) => setNewCategory(prev => ({ ...prev, description: e.target.value }))}\r\n                  className=\"form-textarea\"\r\n                  placeholder=\"Description de la catégorie...\"\r\n                  rows={2}\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Couleur</label>\r\n                <div className=\"color-picker\">\r\n                  {predefinedColors.map((color) => (\r\n                    <button\r\n                      key={color}\r\n                      type=\"button\"\r\n                      className={`color-option ${newCategory.color === color ? 'selected' : ''}`}\r\n                      style={{ backgroundColor: color }}\r\n                      onClick={() => setNewCategory(prev => ({ ...prev, color }))}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"modal-footer\">\r\n              <button\r\n                className=\"btn-secondary\"\r\n                onClick={() => setShowNewCategory(false)}\r\n              >\r\n                Annuler\r\n              </button>\r\n              <button\r\n                className=\"btn-primary\"\r\n                onClick={handleAddNewCategory}\r\n                disabled={!newCategory.name.trim()}\r\n              >\r\n                <Plus size={16} />\r\n                Ajouter la catégorie\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <style>{`\r\n        .add-book {\r\n          height: 100%;\r\n          overflow-y: auto;\r\n          background: #FAF9F6;\r\n        }\r\n        \r\n        .hero-header {\r\n          position: relative;\r\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\r\n          color: #F3EED9;\r\n          padding: 32px;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .hero-background {\r\n          position: absolute;\r\n          inset: 0;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .hero-pattern {\r\n          position: absolute;\r\n          inset: 0;\r\n          background-image: \r\n            radial-gradient(circle at 25% 25%, rgba(243, 238, 217, 0.1) 0%, transparent 50%),\r\n            radial-gradient(circle at 75% 75%, rgba(194, 87, 27, 0.1) 0%, transparent 50%);\r\n          animation: drift 20s ease-in-out infinite;\r\n        }\r\n        \r\n        @keyframes drift {\r\n          0%, 100% { transform: translate(0, 0) rotate(0deg); }\r\n          33% { transform: translate(30px, -30px) rotate(1deg); }\r\n          66% { transform: translate(-20px, 20px) rotate(-1deg); }\r\n        }\r\n        \r\n        .hero-content {\r\n          position: relative;\r\n          z-index: 1;\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n        }\r\n        \r\n        .back-button {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          background: rgba(243, 238, 217, 0.15);\r\n          border: 1px solid rgba(243, 238, 217, 0.3);\r\n          color: #F3EED9;\r\n          padding: 12px 20px;\r\n          border-radius: 12px;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          margin-bottom: 32px;\r\n          width: fit-content;\r\n        }\r\n        \r\n        .back-button:hover {\r\n          background: rgba(243, 238, 217, 0.25);\r\n          transform: translateX(-4px);\r\n        }\r\n        \r\n        .hero-main {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 20px;\r\n          margin-bottom: 32px;\r\n        }\r\n        \r\n        .hero-icon {\r\n          width: 64px;\r\n          height: 64px;\r\n          background: rgba(194, 87, 27, 0.2);\r\n          border-radius: 16px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #F3EED9;\r\n        }\r\n        \r\n        .hero-title {\r\n          font-size: 36px;\r\n          font-weight: 800;\r\n          margin: 0 0 8px 0;\r\n          line-height: 1.2;\r\n          letter-spacing: -0.5px;\r\n        }\r\n        \r\n        .hero-subtitle {\r\n          font-size: 18px;\r\n          opacity: 0.9;\r\n          margin: 0;\r\n          line-height: 1.4;\r\n        }\r\n        \r\n        .progress-steps {\r\n          display: flex;\r\n          gap: 32px;\r\n        }\r\n        \r\n        .progress-step {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          opacity: 0.6;\r\n          transition: opacity 0.3s ease;\r\n        }\r\n        \r\n        .progress-step.completed {\r\n          opacity: 1;\r\n        }\r\n        \r\n        .step-indicator {\r\n          width: 32px;\r\n          height: 32px;\r\n          border-radius: 50%;\r\n          background: rgba(243, 238, 217, 0.2);\r\n          border: 2px solid rgba(243, 238, 217, 0.4);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          transition: all 0.3s ease;\r\n        }\r\n        \r\n        .progress-step.completed .step-indicator {\r\n          background: #C2571B;\r\n          border-color: #C2571B;\r\n          color: #FFFFFF;\r\n        }\r\n        \r\n        .step-label {\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n        }\r\n        \r\n        .form-container {\r\n          padding: 40px 32px;\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n        }\r\n        \r\n        .book-form {\r\n          background: #FFFFFF;\r\n          border-radius: 20px;\r\n          padding: 40px;\r\n          box-shadow: \r\n            0 8px 32px rgba(62, 92, 73, 0.08),\r\n            0 2px 16px rgba(62, 92, 73, 0.12);\r\n          border: 1px solid rgba(229, 220, 194, 0.3);\r\n        }\r\n        \r\n        .alert {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          padding: 16px 20px;\r\n          border-radius: 12px;\r\n          margin-bottom: 32px;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n        }\r\n        \r\n        .alert-error {\r\n          background: rgba(194, 87, 27, 0.1);\r\n          color: #C2571B;\r\n          border: 1px solid rgba(194, 87, 27, 0.2);\r\n        }\r\n        \r\n        .form-sections {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 48px;\r\n          margin-bottom: 40px;\r\n        }\r\n        \r\n        .form-section {\r\n          border-radius: 16px;\r\n          border: 1px solid #E5DCC2;\r\n          background: #FEFEFE;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .section-header {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 20px;\r\n          padding: 24px 32px;\r\n          background: #F3EED9;\r\n          border-bottom: 1px solid #E5DCC2;\r\n        }\r\n        \r\n        .section-icon {\r\n          width: 48px;\r\n          height: 48px;\r\n          background: #3E5C49;\r\n          border-radius: 12px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #F3EED9;\r\n        }\r\n        \r\n        .section-title {\r\n          font-size: 20px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0 0 4px 0;\r\n        }\r\n        \r\n        .section-description {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          margin: 0;\r\n        }\r\n        \r\n        .form-grid {\r\n          display: grid;\r\n          grid-template-columns: 1fr 1fr;\r\n          gap: 24px;\r\n          padding: 32px;\r\n        }\r\n        \r\n        .form-group {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 8px;\r\n        }\r\n        \r\n        .form-group.span-full {\r\n          grid-column: 1 / -1;\r\n        }\r\n        \r\n        .form-label {\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          color: #2E2E2E;\r\n        }\r\n        \r\n        .form-input, .form-textarea {\r\n          width: 100%;\r\n          padding: 16px;\r\n          border: 2px solid #E5DCC2;\r\n          border-radius: 12px;\r\n          font-size: 16px;\r\n          background: #FFFFFF;\r\n          color: #2E2E2E;\r\n          transition: all 0.2s ease;\r\n        }\r\n        \r\n        .form-input:focus, .form-textarea:focus {\r\n          outline: none;\r\n          border-color: #3E5C49;\r\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\r\n        }\r\n        \r\n        .form-input.error {\r\n          border-color: #C2571B;\r\n          background: rgba(194, 87, 27, 0.05);\r\n        }\r\n        \r\n        .form-input:disabled, .form-textarea:disabled {\r\n          opacity: 0.6;\r\n          cursor: not-allowed;\r\n          background: #F3EED9;\r\n        }\r\n        \r\n        .form-textarea {\r\n          resize: vertical;\r\n          min-height: 120px;\r\n          line-height: 1.5;\r\n        }\r\n        \r\n        .input-group {\r\n          display: flex;\r\n          gap: 8px;\r\n        }\r\n        \r\n        .input-group .form-input {\r\n          flex: 1;\r\n        }\r\n        \r\n        .add-button {\r\n          width: 48px;\r\n          height: 48px;\r\n          border: 2px solid #E5DCC2;\r\n          border-radius: 12px;\r\n          background: #F3EED9;\r\n          color: #3E5C49;\r\n          cursor: pointer;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          transition: all 0.2s ease;\r\n          flex-shrink: 0;\r\n        }\r\n        \r\n        .add-button:hover:not(:disabled) {\r\n          background: #3E5C49;\r\n          color: #F3EED9;\r\n          border-color: #3E5C49;\r\n        }\r\n        \r\n        .add-button:disabled {\r\n          opacity: 0.6;\r\n          cursor: not-allowed;\r\n        }\r\n        \r\n        .form-hint {\r\n          font-size: 12px;\r\n          color: #6E6E6E;\r\n          font-style: italic;\r\n        }\r\n        \r\n        .error-message {\r\n          font-size: 12px;\r\n          color: #C2571B;\r\n          font-weight: 500;\r\n        }\r\n        \r\n        .form-actions {\r\n          display: flex;\r\n          gap: 16px;\r\n          justify-content: flex-end;\r\n          padding-top: 32px;\r\n          border-top: 1px solid #E5DCC2;\r\n        }\r\n        \r\n        .btn-secondary, .btn-primary {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          padding: 16px 32px;\r\n          border-radius: 12px;\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          border: none;\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .btn-secondary {\r\n          background: #F3EED9;\r\n          color: #6E6E6E;\r\n          border: 2px solid #E5DCC2;\r\n        }\r\n        \r\n        .btn-secondary:hover:not(:disabled) {\r\n          background: #EAEADC;\r\n          color: #2E2E2E;\r\n          transform: translateY(-2px);\r\n        }\r\n        \r\n        .btn-primary {\r\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\r\n          color: #F3EED9;\r\n        }\r\n        \r\n        .btn-primary:hover:not(:disabled) {\r\n          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.3);\r\n        }\r\n        \r\n        .btn-secondary:disabled,\r\n        .btn-primary:disabled {\r\n          opacity: 0.6;\r\n          cursor: not-allowed;\r\n          transform: none;\r\n        }\r\n        \r\n        /* Modal Styles */\r\n        .modal-overlay {\r\n          position: fixed;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: rgba(46, 46, 46, 0.6);\r\n          backdrop-filter: blur(4px);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          z-index: 1000;\r\n          padding: 20px;\r\n        }\r\n        \r\n        .modal {\r\n          background: #FFFFFF;\r\n          border-radius: 20px;\r\n          width: 100%;\r\n          max-width: 600px;\r\n          max-height: 90vh;\r\n          overflow-y: auto;\r\n          box-shadow: 0 20px 40px rgba(62, 92, 73, 0.2);\r\n          border: 1px solid rgba(229, 220, 194, 0.3);\r\n        }\r\n        \r\n        .modal-header {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          padding: 24px 32px;\r\n          border-bottom: 1px solid #E5DCC2;\r\n          background: #F3EED9;\r\n        }\r\n        \r\n        .modal-title-section {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 16px;\r\n        }\r\n        \r\n        .modal-title-section h3 {\r\n          font-size: 20px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0;\r\n        }\r\n        \r\n        .modal-close {\r\n          background: rgba(110, 110, 110, 0.1);\r\n          border: none;\r\n          cursor: pointer;\r\n          padding: 8px;\r\n          border-radius: 8px;\r\n          color: #6E6E6E;\r\n          transition: all 0.2s ease;\r\n        }\r\n        \r\n        .modal-close:hover {\r\n          background: rgba(110, 110, 110, 0.2);\r\n          color: #2E2E2E;\r\n        }\r\n        \r\n        .modal-content {\r\n          padding: 32px;\r\n        }\r\n        \r\n        .modal-footer {\r\n          display: flex;\r\n          gap: 16px;\r\n          padding: 24px 32px;\r\n          border-top: 1px solid #E5DCC2;\r\n          background: #FEFEFE;\r\n          justify-content: flex-end;\r\n        }\r\n        \r\n        .color-picker {\r\n          display: flex;\r\n          gap: 12px;\r\n          flex-wrap: wrap;\r\n        }\r\n        \r\n        .color-option {\r\n          width: 40px;\r\n          height: 40px;\r\n          border-radius: 12px;\r\n          border: 2px solid transparent;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          position: relative;\r\n        }\r\n        \r\n        .color-option:hover {\r\n          transform: scale(1.1);\r\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\r\n        }\r\n        \r\n        .color-option.selected {\r\n          border-color: #2E2E2E;\r\n          transform: scale(1.1);\r\n        }\r\n        \r\n        .color-option.selected::after {\r\n          content: '';\r\n          position: absolute;\r\n          top: 50%;\r\n          left: 50%;\r\n          transform: translate(-50%, -50%);\r\n          width: 16px;\r\n          height: 16px;\r\n          background: #FFFFFF;\r\n          border-radius: 50%;\r\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\r\n        }\r\n        \r\n        /* Responsive Design */\r\n        @media (max-width: 1024px) {\r\n          .hero-content {\r\n            padding: 0 16px;\r\n          }\r\n          \r\n          .form-container {\r\n            padding: 24px 16px;\r\n          }\r\n          \r\n          .book-form {\r\n            padding: 24px;\r\n          }\r\n          \r\n          .form-grid {\r\n            grid-template-columns: 1fr;\r\n            gap: 20px;\r\n            padding: 24px;\r\n          }\r\n          \r\n          .section-header {\r\n            padding: 20px 24px;\r\n            flex-direction: column;\r\n            text-align: center;\r\n            gap: 16px;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n          .hero-header {\r\n            padding: 24px 16px;\r\n          }\r\n          \r\n          .hero-title {\r\n            font-size: 28px;\r\n          }\r\n          \r\n          .hero-subtitle {\r\n            font-size: 16px;\r\n          }\r\n          \r\n          .hero-main {\r\n            flex-direction: column;\r\n            text-align: center;\r\n            gap: 16px;\r\n          }\r\n          \r\n          .progress-steps {\r\n            justify-content: center;\r\n            gap: 20px;\r\n          }\r\n          \r\n          .form-actions {\r\n            flex-direction: column-reverse;\r\n          }\r\n          \r\n          .btn-secondary, .btn-primary {\r\n            width: 100%;\r\n            justify-content: center;\r\n          }\r\n          \r\n          .modal {\r\n            margin: 16px;\r\n            border-radius: 16px;\r\n          }\r\n          \r\n          .modal-header, .modal-content, .modal-footer {\r\n            padding: 20px;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 480px) {\r\n          .progress-steps {\r\n            flex-direction: column;\r\n            gap: 12px;\r\n          }\r\n          \r\n          .progress-step {\r\n            justify-content: center;\r\n          }\r\n          \r\n          .section-icon {\r\n            width: 40px;\r\n            height: 40px;\r\n          }\r\n          \r\n          .hero-icon {\r\n            width: 56px;\r\n            height: 56px;\r\n          }\r\n          \r\n          .color-picker {\r\n            justify-content: center;\r\n          }\r\n          \r\n          .input-group {\r\n            flex-direction: column;\r\n          }\r\n          \r\n          .add-button {\r\n            width: 100%;\r\n            height: 40px;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};","import React, { useState } from 'react';\r\nimport { \r\n  Search, \r\n  Book, \r\n  Calendar, \r\n  User, \r\n  Tag,\r\n  MoreVertical,\r\n  Edit,\r\n  Trash2,\r\n  UserPlus,\r\n  X,\r\n  Filter,\r\n  Grid,\r\n  List,\r\n  SortAsc,\r\n  Eye,\r\n  Heart,\r\n  Star,\r\n  TrendingUp\r\n} from 'lucide-react';\r\nimport { Book as BookType } from '../../preload';\r\n\r\ninterface BookListProps {\r\n  books: BookType[];\r\n  onBorrow: (book: BookType) => void; // Simplifié - plus besoin du borrowerName\r\n  onDelete: (bookId: number) => void;\r\n}\r\n\r\nexport const BookList: React.FC<BookListProps> = ({ \r\n  books, \r\n  onBorrow, \r\n  onDelete\r\n}) => {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [activeDropdown, setActiveDropdown] = useState<number | null>(null);\r\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\r\n  const [sortBy, setSortBy] = useState<'title' | 'author' | 'date' | 'popularity'>('title');\r\n  const [filterStatus, setFilterStatus] = useState<'all' | 'available' | 'borrowed'>('all');\r\n  const [selectedCategory, setSelectedCategory] = useState<string>('all');\r\n\r\n  const handleDelete = (book: BookType) => {\r\n    if (window.confirm(`Êtes-vous sûr de vouloir supprimer \"${book.title}\" ?`)) {\r\n      onDelete(book.id!);\r\n    }\r\n    setActiveDropdown(null);\r\n  };\r\n\r\n  const getCategoryColor = (category: string) => {\r\n    const colors: { [key: string]: string } = {\r\n      'Fiction': '#3E5C49',\r\n      'Science-Fiction': '#C2571B',\r\n      'Histoire': '#6E6E6E',\r\n      'Biographie': '#3E5C49',\r\n      'Sciences': '#C2571B',\r\n      'Philosophie': '#6E6E6E',\r\n      'Romance': '#E91E63',\r\n      'Thriller': '#9C27B0',\r\n      'Jeunesse': '#FF9800',\r\n      'Art': '#607D8B'\r\n    };\r\n    return colors[category] || '#6E6E6E';\r\n  };\r\n\r\n  // Obtenir toutes les catégories uniques\r\n  const categories = Array.from(new Set(books.map(book => book.category)));\r\n\r\n  const filteredBooks = books.filter(book => {\r\n    // Filtre par statut\r\n    if (filterStatus === 'available') return !book.isBorrowed;\r\n    if (filterStatus === 'borrowed') return book.isBorrowed;\r\n    \r\n    // Filtre par catégorie\r\n    if (selectedCategory !== 'all' && book.category !== selectedCategory) return false;\r\n    \r\n    // Filtre par recherche\r\n    if (searchQuery.trim()) {\r\n      const query = searchQuery.toLowerCase();\r\n      return (\r\n        book.title.toLowerCase().includes(query) ||\r\n        book.author.toLowerCase().includes(query) ||\r\n        book.category.toLowerCase().includes(query) ||\r\n        (book.description && book.description.toLowerCase().includes(query))\r\n      );\r\n    }\r\n    \r\n    return true;\r\n  });\r\n\r\n  const sortedBooks = [...filteredBooks].sort((a, b) => {\r\n    switch (sortBy) {\r\n      case 'author':\r\n        return a.author.localeCompare(b.author);\r\n      case 'date':\r\n        return (b.publishedDate || '').localeCompare(a.publishedDate || '');\r\n      case 'popularity':\r\n        // Simuler la popularité basée sur le statut d'emprunt et la date\r\n        const scoreA = (a.isBorrowed ? 10 : 5) + (a.publishedDate ? parseInt(a.publishedDate) / 100 : 0);\r\n        const scoreB = (b.isBorrowed ? 10 : 5) + (b.publishedDate ? parseInt(b.publishedDate) / 100 : 0);\r\n        return scoreB - scoreA;\r\n      default:\r\n        return a.title.localeCompare(b.title);\r\n    }\r\n  });\r\n\r\n  const getBookStats = () => {\r\n    return {\r\n      total: books.length,\r\n      available: books.filter(b => !b.isBorrowed).length,\r\n      borrowed: books.filter(b => b.isBorrowed).length,\r\n      filtered: filteredBooks.length\r\n    };\r\n  };\r\n\r\n  const stats = getBookStats();\r\n\r\n  return (\r\n    <div className=\"book-list\">\r\n      {/* Enhanced Header */}\r\n      <div className=\"page-header\">\r\n        <div className=\"header-main\">\r\n          <div className=\"header-text\">\r\n            <h1 className=\"page-title\">Collection de livres</h1>\r\n            <p className=\"page-subtitle\">\r\n              {stats.filtered} livre(s) affiché(s) sur {stats.total} au total\r\n            </p>\r\n          </div>\r\n          \r\n          <div className=\"header-actions\">\r\n            <div className=\"quick-stats\">\r\n              <div className=\"quick-stat available\">\r\n                <span className=\"stat-number\">{stats.available}</span>\r\n                <span className=\"stat-label\">Disponibles</span>\r\n              </div>\r\n              <div className=\"quick-stat borrowed\">\r\n                <span className=\"stat-number\">{stats.borrowed}</span>\r\n                <span className=\"stat-label\">Empruntés</span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"view-controls\">\r\n              <button \r\n                className={`view-button ${viewMode === 'grid' ? 'active' : ''}`}\r\n                onClick={() => setViewMode('grid')}\r\n                title=\"Vue grille\"\r\n              >\r\n                <Grid size={16} />\r\n              </button>\r\n              <button \r\n                className={`view-button ${viewMode === 'list' ? 'active' : ''}`}\r\n                onClick={() => setViewMode('list')}\r\n                title=\"Vue liste\"\r\n              >\r\n                <List size={16} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Enhanced Search and Filters */}\r\n        <div className=\"search-section\">\r\n          <div className=\"search-container\">\r\n            <div className=\"search-input-wrapper\">\r\n              <Search className=\"search-icon\" size={20} />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Rechercher par titre, auteur, catégorie...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className=\"search-input\"\r\n              />\r\n              {searchQuery && (\r\n                <button \r\n                  className=\"clear-search\"\r\n                  onClick={() => setSearchQuery('')}\r\n                >\r\n                  <X size={16} />\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"filters-container\">\r\n            <div className=\"filter-group\">\r\n              <Filter size={16} />\r\n              <select \r\n                value={filterStatus} \r\n                onChange={(e) => setFilterStatus(e.target.value as any)}\r\n                className=\"filter-select\"\r\n              >\r\n                <option value=\"all\">Tous les livres</option>\r\n                <option value=\"available\">Disponibles</option>\r\n                <option value=\"borrowed\">Empruntés</option>\r\n              </select>\r\n            </div>\r\n            \r\n            <div className=\"filter-group\">\r\n              <Tag size={16} />\r\n              <select \r\n                value={selectedCategory} \r\n                onChange={(e) => setSelectedCategory(e.target.value)}\r\n                className=\"filter-select\"\r\n              >\r\n                <option value=\"all\">Toutes les catégories</option>\r\n                {categories.map((category) => (\r\n                  <option key={category} value={category}>{category}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            \r\n            <div className=\"filter-group\">\r\n              <SortAsc size={16} />\r\n              <select \r\n                value={sortBy} \r\n                onChange={(e) => setSortBy(e.target.value as any)}\r\n                className=\"filter-select\"\r\n              >\r\n                <option value=\"title\">Trier par titre</option>\r\n                <option value=\"author\">Trier par auteur</option>\r\n                <option value=\"date\">Trier par date</option>\r\n                <option value=\"popularity\">Trier par popularité</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Category Quick Filters */}\r\n        {categories.length > 0 && (\r\n          <div className=\"category-filters\">\r\n            <button\r\n              className={`category-chip ${selectedCategory === 'all' ? 'active' : ''}`}\r\n              onClick={() => setSelectedCategory('all')}\r\n            >\r\n              Toutes\r\n            </button>\r\n            {categories.slice(0, 6).map((category) => (\r\n              <button\r\n                key={category}\r\n                className={`category-chip ${selectedCategory === category ? 'active' : ''}`}\r\n                onClick={() => setSelectedCategory(category)}\r\n                style={{\r\n                  '--category-color': getCategoryColor(category)\r\n                } as React.CSSProperties}\r\n              >\r\n                {category}\r\n              </button>\r\n            ))}\r\n            {categories.length > 6 && (\r\n              <span className=\"more-categories\">+{categories.length - 6} autres</span>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Books Content */}\r\n      <div className=\"books-content\">\r\n        {sortedBooks.length > 0 ? (\r\n          <div className={`books-container ${viewMode}`}>\r\n            {sortedBooks.map((book) => (\r\n              <div key={book.id} className=\"book-item card-elevated\">\r\n                {viewMode === 'grid' ? (\r\n                  // Enhanced Grid View\r\n                  <>\r\n                    <div className=\"book-cover\">\r\n                      {book.coverUrl ? (\r\n                        <img src={book.coverUrl} alt={book.title} />\r\n                      ) : (\r\n                        <div className=\"book-cover-placeholder\">\r\n                          <Book size={32} />\r\n                        </div>\r\n                      )}\r\n                      \r\n                      {/* Status Badge */}\r\n                      <div className={`status-badge ${book.isBorrowed ? 'borrowed' : 'available'}`}>\r\n                        {book.isBorrowed ? 'Emprunté' : 'Disponible'}\r\n                      </div>\r\n                      \r\n                      {/* Quick Actions Overlay */}\r\n                      <div className=\"book-overlay\">\r\n                        <div className=\"overlay-actions\">\r\n                          <button\r\n                            className=\"overlay-button view\"\r\n                            onClick={() => {}}\r\n                            title=\"Voir détails\"\r\n                          >\r\n                            <Eye size={16} />\r\n                          </button>\r\n                          {!book.isBorrowed && (\r\n                            <button\r\n                              className=\"overlay-button borrow\"\r\n                              onClick={() => onBorrow(book)}\r\n                              title=\"Emprunter\"\r\n                            >\r\n                              <UserPlus size={16} />\r\n                            </button>\r\n                          )}\r\n                          <button\r\n                            className=\"overlay-button menu\"\r\n                            onClick={() => setActiveDropdown(activeDropdown === book.id ? null : book.id!)}\r\n                            title=\"Plus d'options\"\r\n                          >\r\n                            <MoreVertical size={16} />\r\n                          </button>\r\n                        </div>\r\n                        \r\n                        {activeDropdown === book.id && (\r\n                          <div className=\"dropdown-menu\">\r\n                            <button className=\"dropdown-item\" onClick={() => {}}>\r\n                              <Eye size={16} />\r\n                              Voir détails\r\n                            </button>\r\n                            <button className=\"dropdown-item\" onClick={() => {}}>\r\n                              <Edit size={16} />\r\n                              Modifier\r\n                            </button>\r\n                            {!book.isBorrowed && (\r\n                              <button\r\n                                className=\"dropdown-item primary\"\r\n                                onClick={() => onBorrow(book)}\r\n                              >\r\n                                <UserPlus size={16} />\r\n                                Emprunter\r\n                              </button>\r\n                            )}\r\n                            <button\r\n                              className=\"dropdown-item delete\"\r\n                              onClick={() => handleDelete(book)}\r\n                            >\r\n                              <Trash2 size={16} />\r\n                              Supprimer\r\n                            </button>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"book-content\">\r\n                      <div className=\"book-header\">\r\n                        <h3 className=\"book-title\">{book.title}</h3>\r\n                        <div className=\"book-rating\">\r\n                          <Star size={14} fill=\"currentColor\" />\r\n                          <span>4.2</span>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"book-meta\">\r\n                        <div className=\"meta-item\">\r\n                          <User size={14} />\r\n                          <span>{book.author}</span>\r\n                        </div>\r\n                        {book.publishedDate && (\r\n                          <div className=\"meta-item\">\r\n                            <Calendar size={14} />\r\n                            <span>{book.publishedDate}</span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <div className=\"book-category-section\">\r\n                        <span \r\n                          className=\"category-tag\"\r\n                          style={{ backgroundColor: getCategoryColor(book.category) }}\r\n                        >\r\n                          {book.category}\r\n                        </span>\r\n                        {book.isBorrowed && (\r\n                          <span className=\"trending-badge\">\r\n                            <TrendingUp size={12} />\r\n                            Populaire\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      {book.description && (\r\n                        <p className=\"book-description\">{book.description}</p>\r\n                      )}\r\n                      \r\n                      {book.isBorrowed && book.borrowerName && (\r\n                        <div className=\"borrow-info\">\r\n                          <div className=\"borrower-avatar\">\r\n                            {book.borrowerName.charAt(0).toUpperCase()}\r\n                          </div>\r\n                          <div className=\"borrow-details\">\r\n                            <span className=\"borrow-label\">Emprunté par</span>\r\n                            <span className=\"borrower-name\">{book.borrowerName}</span>\r\n                            {book.borrowDate && (\r\n                              <span className=\"borrow-date\">\r\n                                le {new Date(book.borrowDate).toLocaleDateString('fr-FR')}\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      \r\n                      {/* Action Button */}\r\n                      {!book.isBorrowed && (\r\n                        <button\r\n                          className=\"primary-action-btn\"\r\n                          onClick={() => onBorrow(book)}\r\n                        >\r\n                          <UserPlus size={16} />\r\n                          Emprunter maintenant\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  // Enhanced List View\r\n                  <div className=\"book-list-content\">\r\n                    <div className=\"book-list-cover\">\r\n                      {book.coverUrl ? (\r\n                        <img src={book.coverUrl} alt={book.title} />\r\n                      ) : (\r\n                        <div className=\"book-cover-placeholder small\">\r\n                          <Book size={20} />\r\n                        </div>\r\n                      )}\r\n                      <div className={`list-status-indicator ${book.isBorrowed ? 'borrowed' : 'available'}`}>\r\n                        {book.isBorrowed ? '●' : '●'}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"book-list-details\">\r\n                      <div className=\"book-list-main\">\r\n                        <div className=\"list-title-section\">\r\n                          <h3 className=\"book-title\">{book.title}</h3>\r\n                          <div className=\"book-rating small\">\r\n                            <Star size={12} fill=\"currentColor\" />\r\n                            <span>4.2</span>\r\n                          </div>\r\n                        </div>\r\n                        <p className=\"book-author\">par {book.author}</p>\r\n                        <div className=\"book-tags\">\r\n                          <span \r\n                            className=\"category-tag small\"\r\n                            style={{ backgroundColor: getCategoryColor(book.category) }}\r\n                          >\r\n                            {book.category}\r\n                          </span>\r\n                          {book.publishedDate && (\r\n                            <span className=\"year-tag\">{book.publishedDate}</span>\r\n                          )}\r\n                          {book.isBorrowed && (\r\n                            <span className=\"status-tag borrowed\">Emprunté</span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      {book.description && (\r\n                        <p className=\"book-list-description\">{book.description}</p>\r\n                      )}\r\n                      \r\n                      {book.isBorrowed && book.borrowerName && (\r\n                        <div className=\"borrow-info compact\">\r\n                          <User size={14} />\r\n                          <span>Emprunté par <strong>{book.borrowerName}</strong></span>\r\n                          {book.borrowDate && (\r\n                            <span>le {new Date(book.borrowDate).toLocaleDateString('fr-FR')}</span>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    <div className=\"book-list-actions\">\r\n                      {!book.isBorrowed && (\r\n                        <button\r\n                          className=\"action-button borrow\"\r\n                          onClick={() => onBorrow(book)}\r\n                        >\r\n                          <UserPlus size={16} />\r\n                          Emprunter\r\n                        </button>\r\n                      )}\r\n                      <button\r\n                        className=\"action-button menu\"\r\n                        onClick={() => setActiveDropdown(activeDropdown === book.id ? null : book.id!)}\r\n                      >\r\n                        <MoreVertical size={16} />\r\n                      </button>\r\n                      \r\n                      {activeDropdown === book.id && (\r\n                        <div className=\"dropdown-menu right\">\r\n                          <button className=\"dropdown-item\" onClick={() => {}}>\r\n                            <Eye size={16} />\r\n                            Voir détails\r\n                          </button>\r\n                          <button className=\"dropdown-item\" onClick={() => {}}>\r\n                            <Edit size={16} />\r\n                            Modifier\r\n                          </button>\r\n                          {!book.isBorrowed && (\r\n                            <button\r\n                              className=\"dropdown-item primary\"\r\n                              onClick={() => onBorrow(book)}\r\n                            >\r\n                              <UserPlus size={16} />\r\n                              Emprunter\r\n                            </button>\r\n                          )}\r\n                          <button\r\n                            className=\"dropdown-item delete\"\r\n                            onClick={() => handleDelete(book)}\r\n                          >\r\n                            <Trash2 size={16} />\r\n                            Supprimer\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"empty-state\">\r\n            <div className=\"empty-icon\">\r\n              {searchQuery || filterStatus !== 'all' || selectedCategory !== 'all' ? (\r\n                <Search size={64} />\r\n              ) : (\r\n                <Book size={64} />\r\n              )}\r\n            </div>\r\n            <h3 className=\"empty-title\">\r\n              {searchQuery || filterStatus !== 'all' || selectedCategory !== 'all' \r\n                ? 'Aucun livre trouvé' \r\n                : 'Aucun livre dans la collection'\r\n              }\r\n            </h3>\r\n            <p className=\"empty-description\">\r\n              {searchQuery \r\n                ? `Aucun résultat pour \"${searchQuery}\"`\r\n                : filterStatus !== 'all'\r\n                ? `Aucun livre ${filterStatus === 'available' ? 'disponible' : 'emprunté'} pour le moment`\r\n                : selectedCategory !== 'all'\r\n                ? `Aucun livre dans la catégorie \"${selectedCategory}\"`\r\n                : 'Commencez par ajouter des livres à votre collection'\r\n              }\r\n            </p>\r\n            {(searchQuery || filterStatus !== 'all' || selectedCategory !== 'all') && (\r\n              <button \r\n                className=\"btn-secondary\"\r\n                onClick={() => {\r\n                  setSearchQuery('');\r\n                  setFilterStatus('all');\r\n                  setSelectedCategory('all');\r\n                }}\r\n              >\r\n                Effacer tous les filtres\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <style>{`\r\n        .book-list {\r\n          height: 100%;\r\n          display: flex;\r\n          flex-direction: column;\r\n          background: #FAF9F6;\r\n        }\r\n        \r\n        .page-header {\r\n          background: #FFFFFF;\r\n          padding: 32px;\r\n          border-bottom: 1px solid #E5DCC2;\r\n          position: sticky;\r\n          top: 0;\r\n          z-index: 10;\r\n          box-shadow: 0 2px 8px rgba(62, 92, 73, 0.04);\r\n        }\r\n        \r\n        .header-main {\r\n          display: flex;\r\n          align-items: flex-start;\r\n          justify-content: space-between;\r\n          margin-bottom: 24px;\r\n        }\r\n        \r\n        .page-title {\r\n          font-size: 32px;\r\n          font-weight: 800;\r\n          color: #2E2E2E;\r\n          margin: 0 0 8px 0;\r\n          letter-spacing: -0.5px;\r\n        }\r\n        \r\n        .page-subtitle {\r\n          color: #6E6E6E;\r\n          margin: 0;\r\n          font-size: 16px;\r\n          font-weight: 500;\r\n        }\r\n        \r\n        .header-actions {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 24px;\r\n        }\r\n        \r\n        .quick-stats {\r\n          display: flex;\r\n          gap: 16px;\r\n        }\r\n        \r\n        .quick-stat {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          padding: 12px 16px;\r\n          border-radius: 12px;\r\n          min-width: 80px;\r\n        }\r\n        \r\n        .quick-stat.available {\r\n          background: rgba(62, 92, 73, 0.1);\r\n          color: #3E5C49;\r\n        }\r\n        \r\n        .quick-stat.borrowed {\r\n          background: rgba(194, 87, 27, 0.1);\r\n          color: #C2571B;\r\n        }\r\n        \r\n        .stat-number {\r\n          font-size: 24px;\r\n          font-weight: 800;\r\n          line-height: 1;\r\n          margin-bottom: 4px;\r\n        }\r\n        \r\n        .stat-label {\r\n          font-size: 12px;\r\n          font-weight: 600;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.5px;\r\n        }\r\n        \r\n        .view-controls {\r\n          display: flex;\r\n          background: #F3EED9;\r\n          border-radius: 12px;\r\n          padding: 4px;\r\n          gap: 4px;\r\n        }\r\n        \r\n        .view-button {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          width: 40px;\r\n          height: 40px;\r\n          border: none;\r\n          background: transparent;\r\n          border-radius: 8px;\r\n          color: #6E6E6E;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n        }\r\n        \r\n        .view-button.active {\r\n          background: #FFFFFF;\r\n          color: #3E5C49;\r\n          box-shadow: 0 2px 8px rgba(62, 92, 73, 0.1);\r\n        }\r\n        \r\n        .search-section {\r\n          display: flex;\r\n          gap: 24px;\r\n          align-items: center;\r\n          margin-bottom: 20px;\r\n        }\r\n        \r\n        .search-container {\r\n          flex: 1;\r\n          max-width: 500px;\r\n        }\r\n        \r\n        .search-input-wrapper {\r\n          position: relative;\r\n          display: flex;\r\n          align-items: center;\r\n        }\r\n        \r\n        .search-icon {\r\n          position: absolute;\r\n          left: 16px;\r\n          color: #6E6E6E;\r\n          z-index: 2;\r\n        }\r\n        \r\n        .search-input {\r\n          width: 100%;\r\n          height: 48px;\r\n          padding: 0 48px 0 48px;\r\n          border: 2px solid #E5DCC2;\r\n          border-radius: 12px;\r\n          font-size: 16px;\r\n          background: #FFFFFF;\r\n          color: #2E2E2E;\r\n          transition: all 0.2s ease;\r\n        }\r\n        \r\n        .search-input:focus {\r\n          outline: none;\r\n          border-color: #3E5C49;\r\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\r\n        }\r\n        \r\n        .search-input::placeholder {\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .clear-search {\r\n          position: absolute;\r\n          right: 16px;\r\n          background: none;\r\n          border: none;\r\n          cursor: pointer;\r\n          color: #6E6E6E;\r\n          padding: 4px;\r\n          border-radius: 4px;\r\n          transition: all 0.2s ease;\r\n        }\r\n        \r\n        .clear-search:hover {\r\n          color: #2E2E2E;\r\n          background: #F3EED9;\r\n        }\r\n        \r\n        .filters-container {\r\n          display: flex;\r\n          gap: 16px;\r\n        }\r\n        \r\n        .filter-group {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .filter-select {\r\n          border: 2px solid #E5DCC2;\r\n          border-radius: 8px;\r\n          padding: 8px 12px;\r\n          background: #FFFFFF;\r\n          color: #2E2E2E;\r\n          font-size: 14px;\r\n          cursor: pointer;\r\n          transition: border-color 0.2s ease;\r\n        }\r\n        \r\n        .filter-select:focus {\r\n          outline: none;\r\n          border-color: #3E5C49;\r\n        }\r\n        \r\n        .category-filters {\r\n          display: flex;\r\n          gap: 8px;\r\n          flex-wrap: wrap;\r\n          align-items: center;\r\n        }\r\n        \r\n        .category-chip {\r\n          padding: 8px 16px;\r\n          border: 2px solid #E5DCC2;\r\n          border-radius: 20px;\r\n          background: #FFFFFF;\r\n          color: #6E6E6E;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          white-space: nowrap;\r\n        }\r\n        \r\n        .category-chip:hover {\r\n          border-color: var(--category-color, #3E5C49);\r\n          color: var(--category-color, #3E5C49);\r\n        }\r\n        \r\n        .category-chip.active {\r\n          background: var(--category-color, #3E5C49);\r\n          border-color: var(--category-color, #3E5C49);\r\n          color: #FFFFFF;\r\n        }\r\n        \r\n        .more-categories {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          font-weight: 500;\r\n        }\r\n        \r\n        .books-content {\r\n          flex: 1;\r\n          overflow-y: auto;\r\n          padding: 32px;\r\n        }\r\n        \r\n        .books-container.grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n          gap: 24px;\r\n        }\r\n        \r\n        .books-container.list {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 16px;\r\n        }\r\n        \r\n        .book-item {\r\n          background: #FFFFFF;\r\n          border-radius: 20px;\r\n          overflow: hidden;\r\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\r\n          position: relative;\r\n          border: 1px solid rgba(229, 220, 194, 0.3);\r\n        }\r\n        \r\n        .book-item:hover {\r\n          transform: translateY(-6px);\r\n          box-shadow: \r\n            0 16px 40px rgba(62, 92, 73, 0.15),\r\n            0 8px 24px rgba(62, 92, 73, 0.1);\r\n        }\r\n        \r\n        /* Enhanced Grid View */\r\n        .book-cover {\r\n          height: 240px;\r\n          background: linear-gradient(135deg, #F3EED9 0%, #E5DCC2 100%);\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .book-cover img {\r\n          width: 100%;\r\n          height: 100%;\r\n          object-fit: cover;\r\n        }\r\n        \r\n        .book-cover-placeholder {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          height: 100%;\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .book-cover-placeholder.small {\r\n          width: 60px;\r\n          height: 80px;\r\n          border-radius: 8px;\r\n          background: linear-gradient(135deg, #F3EED9 0%, #E5DCC2 100%);\r\n        }\r\n        \r\n        .status-badge {\r\n          position: absolute;\r\n          top: 12px;\r\n          right: 12px;\r\n          padding: 6px 12px;\r\n          border-radius: 20px;\r\n          font-size: 12px;\r\n          font-weight: 600;\r\n          backdrop-filter: blur(10px);\r\n        }\r\n        \r\n        .status-badge.available {\r\n          background: rgba(62, 92, 73, 0.9);\r\n          color: #F3EED9;\r\n        }\r\n        \r\n        .status-badge.borrowed {\r\n          background: rgba(194, 87, 27, 0.9);\r\n          color: #F3EED9;\r\n        }\r\n        \r\n        .book-overlay {\r\n          position: absolute;\r\n          inset: 0;\r\n          background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, transparent 50%);\r\n          opacity: 0;\r\n          transition: opacity 0.3s ease;\r\n          display: flex;\r\n          flex-direction: column;\r\n          justify-content: space-between;\r\n          padding: 16px;\r\n        }\r\n        \r\n        .book-item:hover .book-overlay {\r\n          opacity: 1;\r\n        }\r\n        \r\n        .overlay-actions {\r\n          display: flex;\r\n          gap: 8px;\r\n          justify-content: flex-end;\r\n          align-self: flex-start;\r\n        }\r\n        \r\n        .overlay-button {\r\n          width: 36px;\r\n          height: 36px;\r\n          border: none;\r\n          border-radius: 50%;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          backdrop-filter: blur(10px);\r\n        }\r\n        \r\n        .overlay-button.view {\r\n          background: rgba(255, 255, 255, 0.2);\r\n          color: #FFFFFF;\r\n        }\r\n        \r\n        .overlay-button.borrow {\r\n          background: rgba(62, 92, 73, 0.9);\r\n          color: #F3EED9;\r\n        }\r\n        \r\n        .overlay-button.menu {\r\n          background: rgba(110, 110, 110, 0.9);\r\n          color: #FFFFFF;\r\n        }\r\n        \r\n        .overlay-button:hover {\r\n          transform: scale(1.1);\r\n        }\r\n        \r\n        .dropdown-menu {\r\n          position: absolute;\r\n          top: 100%;\r\n          right: 0;\r\n          background: #FFFFFF;\r\n          border: 1px solid #E5DCC2;\r\n          border-radius: 12px;\r\n          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.15);\r\n          z-index: 20;\r\n          min-width: 160px;\r\n          overflow: hidden;\r\n          margin-top: 8px;\r\n        }\r\n        \r\n        .dropdown-menu.right {\r\n          right: 0;\r\n          left: auto;\r\n        }\r\n        \r\n        .dropdown-item {\r\n          width: 100%;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          padding: 12px 16px;\r\n          border: none;\r\n          background: none;\r\n          cursor: pointer;\r\n          font-size: 14px;\r\n          color: #2E2E2E;\r\n          transition: background 0.2s ease;\r\n          text-align: left;\r\n        }\r\n        \r\n        .dropdown-item:hover {\r\n          background: #F3EED9;\r\n        }\r\n        \r\n        .dropdown-item.primary {\r\n          color: #3E5C49;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .dropdown-item.primary:hover {\r\n          background: rgba(62, 92, 73, 0.1);\r\n        }\r\n        \r\n        .dropdown-item.delete {\r\n          color: #C2571B;\r\n        }\r\n        \r\n        .dropdown-item.delete:hover {\r\n          background: rgba(194, 87, 27, 0.1);\r\n        }\r\n        \r\n        .book-content {\r\n          padding: 24px;\r\n        }\r\n        \r\n        .book-header {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: flex-start;\r\n          margin-bottom: 16px;\r\n        }\r\n        \r\n        .book-title {\r\n          font-size: 18px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0;\r\n          line-height: 1.3;\r\n          flex: 1;\r\n          margin-right: 12px;\r\n        }\r\n        \r\n        .book-rating {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 4px;\r\n          color: #FFB400;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .book-rating.small {\r\n          font-size: 12px;\r\n        }\r\n        \r\n        .book-rating.small svg {\r\n          width: 12px;\r\n          height: 12px;\r\n        }\r\n        \r\n        .book-meta {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 8px;\r\n          margin-bottom: 16px;\r\n        }\r\n        \r\n        .meta-item {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .book-category-section {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          margin-bottom: 16px;\r\n          flex-wrap: wrap;\r\n        }\r\n        \r\n        .category-tag {\r\n          color: #FFFFFF;\r\n          padding: 6px 12px;\r\n          border-radius: 16px;\r\n          font-size: 12px;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .category-tag.small {\r\n          padding: 4px 8px;\r\n          font-size: 11px;\r\n        }\r\n        \r\n        .trending-badge {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 4px;\r\n          background: rgba(255, 180, 0, 0.1);\r\n          color: #FFB400;\r\n          padding: 4px 8px;\r\n          border-radius: 12px;\r\n          font-size: 11px;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .book-description {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          line-height: 1.5;\r\n          margin: 0 0 20px 0;\r\n          display: -webkit-box;\r\n          -webkit-line-clamp: 3;\r\n          -webkit-box-orient: vertical;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .borrow-info {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          background: rgba(194, 87, 27, 0.05);\r\n          border: 1px solid rgba(194, 87, 27, 0.2);\r\n          border-radius: 12px;\r\n          padding: 12px;\r\n          margin-bottom: 20px;\r\n        }\r\n        \r\n        .borrow-info.compact {\r\n          background: none;\r\n          border: none;\r\n          padding: 0;\r\n          margin-bottom: 0;\r\n          font-size: 13px;\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .borrower-avatar {\r\n          width: 32px;\r\n          height: 32px;\r\n          background: #C2571B;\r\n          color: #FFFFFF;\r\n          border-radius: 50%;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          font-weight: 700;\r\n          font-size: 14px;\r\n        }\r\n        \r\n        .borrow-details {\r\n          flex: 1;\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 2px;\r\n        }\r\n        \r\n        .borrow-label {\r\n          font-size: 12px;\r\n          color: #6E6E6E;\r\n          font-weight: 500;\r\n        }\r\n        \r\n        .borrower-name {\r\n          font-size: 14px;\r\n          color: #C2571B;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .borrow-date {\r\n          font-size: 12px;\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .primary-action-btn {\r\n          width: 100%;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          gap: 8px;\r\n          padding: 14px 20px;\r\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\r\n          color: #F3EED9;\r\n          border: none;\r\n          border-radius: 12px;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n        }\r\n        \r\n        .primary-action-btn:hover {\r\n          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);\r\n          transform: translateY(-1px);\r\n          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.3);\r\n        }\r\n        \r\n        /* Enhanced List View */\r\n        .book-list-content {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 20px;\r\n          padding: 20px;\r\n          position: relative;\r\n        }\r\n        \r\n        .book-list-cover {\r\n          flex-shrink: 0;\r\n          position: relative;\r\n        }\r\n        \r\n        .list-status-indicator {\r\n          position: absolute;\r\n          top: -4px;\r\n          right: -4px;\r\n          width: 12px;\r\n          height: 12px;\r\n          border-radius: 50%;\r\n          font-size: 8px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n        }\r\n        \r\n        .list-status-indicator.available {\r\n          color: #3E5C49;\r\n        }\r\n        \r\n        .list-status-indicator.borrowed {\r\n          color: #C2571B;\r\n        }\r\n        \r\n        .book-list-details {\r\n          flex: 1;\r\n          min-width: 0;\r\n        }\r\n        \r\n        .book-list-main {\r\n          margin-bottom: 12px;\r\n        }\r\n        \r\n        .list-title-section {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          margin-bottom: 4px;\r\n        }\r\n        \r\n        .book-author {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          margin: 0 0 8px 0;\r\n        }\r\n        \r\n        .book-tags {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          flex-wrap: wrap;\r\n        }\r\n        \r\n        .year-tag {\r\n          background: #F3EED9;\r\n          color: #6E6E6E;\r\n          padding: 2px 8px;\r\n          border-radius: 12px;\r\n          font-size: 11px;\r\n          font-weight: 500;\r\n        }\r\n        \r\n        .status-tag {\r\n          padding: 2px 8px;\r\n          border-radius: 12px;\r\n          font-size: 11px;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .status-tag.borrowed {\r\n          background: #C2571B;\r\n          color: #FFFFFF;\r\n        }\r\n        \r\n        .book-list-description {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          line-height: 1.5;\r\n          margin: 12px 0 0 0;\r\n          display: -webkit-box;\r\n          -webkit-line-clamp: 2;\r\n          -webkit-box-orient: vertical;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .book-list-actions {\r\n          flex-shrink: 0;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          position: relative;\r\n        }\r\n        \r\n        .action-button {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          padding: 12px 16px;\r\n          border: none;\r\n          border-radius: 12px;\r\n          cursor: pointer;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          transition: all 0.2s ease;\r\n        }\r\n        \r\n        .action-button.borrow {\r\n          background: #3E5C49;\r\n          color: #F3EED9;\r\n        }\r\n        \r\n        .action-button.borrow:hover {\r\n          background: #2E453A;\r\n          transform: translateY(-1px);\r\n        }\r\n        \r\n        .action-button.menu {\r\n          background: #F3EED9;\r\n          color: #6E6E6E;\r\n          padding: 12px;\r\n        }\r\n        \r\n        .action-button.menu:hover {\r\n          background: #EAEADC;\r\n          color: #2E2E2E;\r\n        }\r\n        \r\n        /* Empty State Enhanced */\r\n        .empty-state {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          justify-content: center;\r\n          padding: 80px 32px;\r\n          text-align: center;\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .empty-icon {\r\n          color: #C2571B;\r\n          margin-bottom: 24px;\r\n          opacity: 0.6;\r\n        }\r\n        \r\n        .empty-title {\r\n          font-size: 24px;\r\n          font-weight: 700;\r\n          margin: 0 0 12px 0;\r\n          color: #2E2E2E;\r\n        }\r\n        \r\n        .empty-description {\r\n          margin: 0 0 24px 0;\r\n          font-size: 16px;\r\n          line-height: 1.5;\r\n          max-width: 400px;\r\n        }\r\n        \r\n        .btn-secondary {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          padding: 12px 24px;\r\n          background: #F3EED9;\r\n          color: #6E6E6E;\r\n          border: 2px solid #E5DCC2;\r\n          border-radius: 12px;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n        }\r\n        \r\n        .btn-secondary:hover {\r\n          background: #EAEADC;\r\n          color: #2E2E2E;\r\n          transform: translateY(-1px);\r\n        }\r\n        \r\n        /* Enhanced Animations */\r\n        @keyframes slideIn {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(20px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n        \r\n        .book-item {\r\n          animation: slideIn 0.3s ease-out;\r\n        }\r\n        \r\n        .book-item:nth-child(1) { animation-delay: 0ms; }\r\n        .book-item:nth-child(2) { animation-delay: 50ms; }\r\n        .book-item:nth-child(3) { animation-delay: 100ms; }\r\n        .book-item:nth-child(4) { animation-delay: 150ms; }\r\n        .book-item:nth-child(5) { animation-delay: 200ms; }\r\n        .book-item:nth-child(6) { animation-delay: 250ms; }\r\n        \r\n        /* Responsive Design */\r\n        @media (max-width: 1024px) {\r\n          .books-container.grid {\r\n            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\r\n            gap: 20px;\r\n          }\r\n          \r\n          .header-actions {\r\n            flex-direction: column;\r\n            gap: 16px;\r\n          }\r\n          \r\n          .quick-stats {\r\n            order: 2;\r\n          }\r\n          \r\n          .view-controls {\r\n            order: 1;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n          .page-header {\r\n            padding: 20px 16px;\r\n          }\r\n          \r\n          .header-main {\r\n            flex-direction: column;\r\n            align-items: stretch;\r\n            gap: 16px;\r\n          }\r\n          \r\n          .search-section {\r\n            flex-direction: column;\r\n            gap: 16px;\r\n          }\r\n          \r\n          .filters-container {\r\n            justify-content: space-between;\r\n            flex-wrap: wrap;\r\n            gap: 12px;\r\n          }\r\n          \r\n          .category-filters {\r\n            justify-content: flex-start;\r\n            overflow-x: auto;\r\n            padding-bottom: 8px;\r\n          }\r\n          \r\n          .books-content {\r\n            padding: 16px;\r\n          }\r\n          \r\n          .books-container.grid {\r\n            grid-template-columns: 1fr;\r\n            gap: 16px;\r\n          }\r\n          \r\n          .book-list-content {\r\n            flex-direction: column;\r\n            gap: 12px;\r\n            text-align: center;\r\n          }\r\n          \r\n          .book-list-cover {\r\n            align-self: center;\r\n          }\r\n          \r\n          .book-list-actions {\r\n            align-self: center;\r\n            justify-content: center;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 480px) {\r\n          .page-title {\r\n            font-size: 24px;\r\n          }\r\n          \r\n          .search-input {\r\n            height: 44px;\r\n            font-size: 14px;\r\n          }\r\n          \r\n          .view-controls {\r\n            order: -1;\r\n            align-self: flex-start;\r\n          }\r\n          \r\n          .filters-container {\r\n            flex-direction: column;\r\n            gap: 12px;\r\n          }\r\n          \r\n          .filter-group {\r\n            flex: 1;\r\n          }\r\n          \r\n          .filter-select {\r\n            flex: 1;\r\n          }\r\n          \r\n          .book-content {\r\n            padding: 20px;\r\n          }\r\n          \r\n          .book-cover {\r\n            height: 200px;\r\n          }\r\n          \r\n          .overlay-actions {\r\n            gap: 6px;\r\n          }\r\n          \r\n          .overlay-button {\r\n            width: 32px;\r\n            height: 32px;\r\n          }\r\n          \r\n          .primary-action-btn {\r\n            padding: 12px 16px;\r\n            font-size: 13px;\r\n          }\r\n          \r\n          .action-button {\r\n            padding: 10px 12px;\r\n            font-size: 13px;\r\n          }\r\n          \r\n          .category-chip {\r\n            padding: 6px 12px;\r\n            font-size: 13px;\r\n          }\r\n        }\r\n        \r\n        /* Performance optimizations */\r\n        .book-item {\r\n          contain: layout style paint;\r\n        }\r\n        \r\n        .book-cover img {\r\n          will-change: transform;\r\n        }\r\n        \r\n        .book-overlay {\r\n          will-change: opacity;\r\n        }\r\n        \r\n        /* Accessibility improvements */\r\n        @media (prefers-reduced-motion: reduce) {\r\n          .book-item,\r\n          .overlay-button,\r\n          .primary-action-btn,\r\n          .action-button {\r\n            transition: none;\r\n            animation: none;\r\n          }\r\n          \r\n          .book-item:hover {\r\n            transform: none;\r\n          }\r\n        }\r\n        \r\n        /* High contrast mode support */\r\n        @media (prefers-contrast: high) {\r\n          .book-item {\r\n            border: 2px solid;\r\n          }\r\n          \r\n          .search-input,\r\n          .filter-select {\r\n            border-width: 3px;\r\n          }\r\n          \r\n          .category-chip {\r\n            border-width: 3px;\r\n          }\r\n        }\r\n        \r\n        /* Dark mode support (future-proofing) */\r\n        @media (prefers-color-scheme: dark) {\r\n          .book-list {\r\n            background: #1a1a1a;\r\n          }\r\n          \r\n          .page-header,\r\n          .book-item {\r\n            background: #2d2d2d;\r\n            border-color: #404040;\r\n          }\r\n          \r\n          .page-title,\r\n          .book-title {\r\n            color: #ffffff;\r\n          }\r\n          \r\n          .page-subtitle,\r\n          .book-author,\r\n          .meta-item {\r\n            color: #a0a0a0;\r\n          }\r\n          \r\n          .search-input,\r\n          .filter-select {\r\n            background: #2d2d2d;\r\n            border-color: #404040;\r\n            color: #ffffff;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};","import React, { useState, useEffect } from 'react';\nimport { \n  History, \n  Calendar,\n  Filter,\n  Download,\n  Printer,\n  Search,\n  X,\n  Clock,\n  CheckCircle,\n  AlertTriangle,\n  User,\n  Book,\n  GraduationCap,\n  Briefcase\n} from 'lucide-react';\nimport { BorrowHistory as BorrowHistoryType, HistoryFilter } from '../../preload';\n\nimport { SupabaseService } from '../../services/SupabaseService';\n\ninterface BorrowHistoryProps {\n  onClose: () => void;\n  supabaseService: SupabaseService;\n}\n\nexport const BorrowHistory: React.FC<BorrowHistoryProps> = ({ onClose }) => {\n  const [history, setHistory] = useState<BorrowHistoryType[]>([]);\n  const [filteredHistory, setFilteredHistory] = useState<BorrowHistoryType[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  \n  const [filters, setFilters] = useState<HistoryFilter>({\n    startDate: '',\n    endDate: '',\n    borrowerType: 'all',\n    status: 'all'\n  });\n  \n  const [searchQuery, setSearchQuery] = useState('');\n\n  useEffect(() => {\n    loadHistory();\n  }, []);\n\n  useEffect(() => {\n    applyFilters();\n  }, [history, filters, searchQuery]);\n\n  const loadHistory = async () => {\n    setIsLoading(true);\n    try {\n      const data = await window.electronAPI.getBorrowHistory();\n      setHistory(data);\n    } catch (error) {\n      console.error('Erreur lors du chargement de l\\'historique:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const applyFilters = () => {\n    let filtered = [...history];\n\n    // Appliquer les filtres de date\n    if (filters.startDate) {\n      filtered = filtered.filter(item => \n        new Date(item.borrowDate) >= new Date(filters.startDate!)\n      );\n    }\n    \n    if (filters.endDate) {\n      filtered = filtered.filter(item => \n        new Date(item.borrowDate) <= new Date(filters.endDate! + ' 23:59:59')\n      );\n    }\n\n    // Filtre par type d'emprunteur\n    if (filters.borrowerType !== 'all') {\n      filtered = filtered.filter(item => \n        item.borrower?.type === filters.borrowerType\n      );\n    }\n\n    // Filtre par statut\n    if (filters.status !== 'all') {\n      filtered = filtered.filter(item => item.status === filters.status);\n    }\n\n    // Recherche textuelle\n    if (searchQuery.trim()) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(item =>\n        item.book?.title.toLowerCase().includes(query) ||\n        item.book?.author.toLowerCase().includes(query) ||\n        `${item.borrower?.firstName} ${item.borrower?.lastName}`.toLowerCase().includes(query) ||\n        item.borrower?.matricule.toLowerCase().includes(query)\n      );\n    }\n\n    setFilteredHistory(filtered);\n  };\n\n  const handleFilterChange = (key: keyof HistoryFilter, value: any) => {\n    setFilters(prev => ({ ...prev, [key]: value }));\n  };\n\n  const resetFilters = () => {\n    setFilters({\n      startDate: '',\n      endDate: '',\n      borrowerType: 'all',\n      status: 'all'\n    });\n    setSearchQuery('');\n  };\n\n  const handlePrint = async () => {\n    try {\n      const printData = {\n        history: filteredHistory,\n        filters,\n        stats: getFilteredStats()\n      };\n      await window.electronAPI.printBorrowHistory(printData);\n    } catch (error) {\n      console.error('Erreur lors de l\\'impression:', error);\n    }\n  };\n\n  const handleExport = async () => {\n    try {\n      const exportData = {\n        history: filteredHistory,\n        filters,\n        stats: getFilteredStats()\n      };\n      const filePath = await window.electronAPI.exportCSV(exportData);\n      if (filePath) {\n        alert(`Fichier exporté : ${filePath.split(/[/\\\\]/).pop()}`);\n      }\n    } catch (error) {\n      console.error('Erreur lors de l\\'export:', error);\n    }\n  };\n\n  const getFilteredStats = () => {\n    const total = filteredHistory.length;\n    const active = filteredHistory.filter(h => h.status === 'active').length;\n    const returned = filteredHistory.filter(h => h.status === 'returned').length;\n    const overdue = filteredHistory.filter(h => h.status === 'overdue').length;\n    const students = filteredHistory.filter(h => h.borrower?.type === 'student').length;\n    const staff = filteredHistory.filter(h => h.borrower?.type === 'staff').length;\n    \n    return { total, active, returned, overdue, students, staff };\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'active':\n        return <Clock size={16} className=\"text-blue-500\" />;\n      case 'returned':\n        return <CheckCircle size={16} className=\"text-green-500\" />;\n      case 'overdue':\n        return <AlertTriangle size={16} className=\"text-red-500\" />;\n      default:\n        return <Clock size={16} />;\n    }\n  };\n\n  const getStatusLabel = (status: string) => {\n    switch (status) {\n      case 'active':\n        return 'En cours';\n      case 'returned':\n        return 'Rendu';\n      case 'overdue':\n        return 'En retard';\n      default:\n        return status;\n    }\n  };\n\n  const stats = getFilteredStats();\n\n  return (\n    <div className=\"history-overlay\">\n      <div className=\"history-modal\">\n        {/* Header */}\n        <div className=\"modal-header\">\n          <div className=\"header-content\">\n            <div className=\"header-icon\">\n              <History size={28} />\n            </div>\n            <div className=\"header-text\">\n              <h2 className=\"modal-title\">Historique des Emprunts</h2>\n              <p className=\"modal-subtitle\">\n                {stats.total} emprunt(s) • {stats.active} actif(s) • {stats.returned} rendu(s)\n              </p>\n            </div>\n          </div>\n          <button className=\"close-button\" onClick={onClose}>\n            <X size={20} />\n          </button>\n        </div>\n\n        {/* Stats Overview */}\n        <div className=\"stats-section\">\n          <div className=\"stat-card\">\n            <div className=\"stat-icon total\">\n              <History size={20} />\n            </div>\n            <div className=\"stat-content\">\n              <span className=\"stat-value\">{stats.total}</span>\n              <span className=\"stat-label\">Total</span>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <div className=\"stat-icon active\">\n              <Clock size={20} />\n            </div>\n            <div className=\"stat-content\">\n              <span className=\"stat-value\">{stats.active}</span>\n              <span className=\"stat-label\">En cours</span>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <div className=\"stat-icon returned\">\n              <CheckCircle size={20} />\n            </div>\n            <div className=\"stat-content\">\n              <span className=\"stat-value\">{stats.returned}</span>\n              <span className=\"stat-label\">Rendus</span>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <div className=\"stat-icon overdue\">\n              <AlertTriangle size={20} />\n            </div>\n            <div className=\"stat-content\">\n              <span className=\"stat-value\">{stats.overdue}</span>\n              <span className=\"stat-label\">En retard</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Filters */}\n        <div className=\"filters-section\">\n          <div className=\"filters-row\">\n            <div className=\"search-container\">\n              <div className=\"search-input-wrapper\">\n                <Search className=\"search-icon\" size={20} />\n                <input\n                  type=\"text\"\n                  placeholder=\"Rechercher par livre, auteur, emprunteur...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"search-input\"\n                />\n                {searchQuery && (\n                  <button \n                    className=\"clear-search\"\n                    onClick={() => setSearchQuery('')}\n                  >\n                    <X size={16} />\n                  </button>\n                )}\n              </div>\n            </div>\n            \n            <div className=\"filter-controls\">\n              <div className=\"filter-group\">\n                <Calendar size={16} />\n                <input\n                  type=\"date\"\n                  value={filters.startDate}\n                  onChange={(e) => handleFilterChange('startDate', e.target.value)}\n                  className=\"date-input\"\n                  placeholder=\"Date début\"\n                />\n                <span className=\"filter-separator\">à</span>\n                <input\n                  type=\"date\"\n                  value={filters.endDate}\n                  onChange={(e) => handleFilterChange('endDate', e.target.value)}\n                  className=\"date-input\"\n                  placeholder=\"Date fin\"\n                />\n              </div>\n              \n              <div className=\"filter-group\">\n                <Filter size={16} />\n                <select \n                  value={filters.borrowerType} \n                  onChange={(e) => handleFilterChange('borrowerType', e.target.value)}\n                  className=\"filter-select\"\n                >\n                  <option value=\"all\">Tous les emprunteurs</option>\n                  <option value=\"student\">Étudiants</option>\n                  <option value=\"staff\">Personnel</option>\n                </select>\n              </div>\n              \n              <div className=\"filter-group\">\n                <select \n                  value={filters.status} \n                  onChange={(e) => handleFilterChange('status', e.target.value)}\n                  className=\"filter-select\"\n                >\n                  <option value=\"all\">Tous les statuts</option>\n                  <option value=\"active\">En cours</option>\n                  <option value=\"returned\">Rendus</option>\n                  <option value=\"overdue\">En retard</option>\n                </select>\n              </div>\n              \n              <button className=\"reset-filters-btn\" onClick={resetFilters}>\n                <X size={16} />\n                Réinitialiser\n              </button>\n            </div>\n          </div>\n          \n          <div className=\"actions-row\">\n            <div className=\"results-info\">\n              {filteredHistory.length} résultat(s) affiché(s)\n            </div>\n            \n            <div className=\"export-actions\">\n              <button className=\"btn-secondary\" onClick={handleExport}>\n                <Download size={16} />\n                Exporter CSV\n              </button>\n              <button className=\"btn-primary\" onClick={handlePrint}>\n                <Printer size={16} />\n                Imprimer\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* History List */}\n        <div className=\"history-content\">\n          {isLoading ? (\n            <div className=\"loading-state\">\n              <div className=\"loading-spinner\"></div>\n              <p>Chargement de l'historique...</p>\n            </div>\n          ) : filteredHistory.length > 0 ? (\n            <div className=\"history-list\">\n              {filteredHistory.map((item) => (\n                <div key={item.id} className={`history-item ${item.status}`}>\n                  <div className=\"item-header\">\n                    <div className=\"status-section\">\n                      {getStatusIcon(item.status)}\n                      <span className=\"status-label\">{getStatusLabel(item.status)}</span>\n                    </div>\n                    \n                    <div className=\"dates-section\">\n                      <span className=\"borrow-date\">\n                        Emprunté le {new Date(item.borrowDate).toLocaleDateString('fr-FR')}\n                      </span>\n                      {item.actualReturnDate && (\n                        <span className=\"return-date\">\n                          Rendu le {new Date(item.actualReturnDate).toLocaleDateString('fr-FR')}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                  \n                  <div className=\"item-content\">\n                    <div className=\"book-section\">\n                      <div className=\"book-cover\">\n                        {item.book?.coverUrl ? (\n                          <img src={item.book.coverUrl} alt={item.book.title} />\n                        ) : (\n                          <Book size={24} />\n                        )}\n                      </div>\n                      \n                      <div className=\"book-details\">\n                        <h4 className=\"book-title\">{item.book?.title}</h4>\n                        <p className=\"book-author\">par {item.book?.author}</p>\n                        <span className=\"book-category\">{item.book?.category}</span>\n                      </div>\n                    </div>\n                    \n                    <div className=\"borrower-section\">\n                      <div className=\"borrower-type\">\n                        {item.borrower?.type === 'student' ? (\n                          <GraduationCap size={16} />\n                        ) : (\n                          <Briefcase size={16} />\n                        )}\n                        <span>{item.borrower?.type === 'student' ? 'Étudiant' : 'Personnel'}</span>\n                      </div>\n                      \n                      <div className=\"borrower-info\">\n                        <h4 className=\"borrower-name\">\n                          {item.borrower?.firstName} {item.borrower?.lastName}\n                        </h4>\n                        <p className=\"borrower-details\">\n                          {item.borrower?.matricule}\n                          {item.borrower?.type === 'student' && item.borrower.classe && \n                            ` • ${item.borrower.classe}`\n                          }\n                          {item.borrower?.type === 'staff' && item.borrower.position && \n                            ` • ${item.borrower.position}`\n                          }\n                        </p>\n                      </div>\n                    </div>\n                    \n                    <div className=\"timeline-section\">\n                      <div className=\"timeline-item\">\n                        <div className=\"timeline-dot borrow\"></div>\n                        <div className=\"timeline-content\">\n                          <div className=\"timeline-label\">Emprunt</div>\n                          <div className=\"timeline-date\">\n                            {new Date(item.borrowDate).toLocaleDateString('fr-FR')} à{' '}\n                            {new Date(item.borrowDate).toLocaleTimeString('fr-FR', { \n                              hour: '2-digit', minute: '2-digit' \n                            })}\n                          </div>\n                        </div>\n                      </div>\n                      \n                      <div className=\"timeline-item\">\n                        <div className=\"timeline-dot expected\"></div>\n                        <div className=\"timeline-content\">\n                          <div className=\"timeline-label\">Retour prévu</div>\n                          <div className=\"timeline-date\">\n                            {new Date(item.expectedReturnDate).toLocaleDateString('fr-FR')}\n                          </div>\n                        </div>\n                      </div>\n                      \n                      {item.actualReturnDate && (\n                        <div className=\"timeline-item\">\n                          <div className=\"timeline-dot return\"></div>\n                          <div className=\"timeline-content\">\n                            <div className=\"timeline-label\">Retour effectué</div>\n                            <div className=\"timeline-date\">\n                              {new Date(item.actualReturnDate).toLocaleDateString('fr-FR')} à{' '}\n                              {new Date(item.actualReturnDate).toLocaleTimeString('fr-FR', { \n                                hour: '2-digit', minute: '2-digit' \n                              })}\n                            </div>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                  \n                  {item.notes && (\n                    <div className=\"item-notes\">\n                      <strong>Notes :</strong> {item.notes}\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"empty-state\">\n              <History size={64} />\n              <h3>Aucun historique trouvé</h3>\n              <p>\n                {Object.values(filters).some(f => f && f !== 'all') || searchQuery\n                  ? 'Aucun résultat pour les critères sélectionnés'\n                  : 'L\\'historique des emprunts apparaîtra ici'\n                }\n              </p>\n              {(Object.values(filters).some(f => f && f !== 'all') || searchQuery) && (\n                <button className=\"btn-secondary\" onClick={resetFilters}>\n                  Effacer les filtres\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      <style>{`\n        .history-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.7);\n          backdrop-filter: blur(8px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 20px;\n        }\n        \n        .history-modal {\n          background: #FFFFFF;\n          border-radius: 24px;\n          width: 100%;\n          max-width: 1200px;\n          max-height: 90vh;\n          overflow: hidden;\n          display: flex;\n          flex-direction: column;\n          box-shadow: \n            0 24px 48px rgba(62, 92, 73, 0.2),\n            0 8px 24px rgba(62, 92, 73, 0.12);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n        \n        .modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 32px;\n          background: linear-gradient(135deg, #6E6E6E 0%, #5A5A5A 100%);\n          color: #F3EED9;\n        }\n        \n        .header-content {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n        }\n        \n        .header-icon {\n          width: 56px;\n          height: 56px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .modal-title {\n          font-size: 24px;\n          font-weight: 800;\n          margin: 0 0 4px 0;\n        }\n        \n        .modal-subtitle {\n          font-size: 14px;\n          opacity: 0.9;\n          margin: 0;\n        }\n        \n        .close-button {\n          background: rgba(243, 238, 217, 0.15);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n        \n        .close-button:hover {\n          background: rgba(243, 238, 217, 0.25);\n        }\n        \n        .stats-section {\n          display: flex;\n          gap: 20px;\n          padding: 24px 32px;\n          background: #F3EED9;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .stat-card {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          background: #FFFFFF;\n          padding: 16px 20px;\n          border-radius: 12px;\n          box-shadow: 0 2px 8px rgba(62, 92, 73, 0.08);\n          flex: 1;\n        }\n        \n        .stat-icon {\n          width: 40px;\n          height: 40px;\n          border-radius: 10px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #FFFFFF;\n        }\n        \n        .stat-icon.total { background: #6E6E6E; }\n        .stat-icon.active { background: #3B82F6; }\n        .stat-icon.returned { background: #3E5C49; }\n        .stat-icon.overdue { background: #DC2626; }\n        \n        .stat-value {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          display: block;\n        }\n        \n        .stat-label {\n          font-size: 12px;\n          color: #6E6E6E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .filters-section {\n          padding: 24px 32px;\n          background: #FFFFFF;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .filters-row {\n          display: flex;\n          align-items: center;\n          gap: 24px;\n          margin-bottom: 16px;\n        }\n        \n        .search-container {\n          flex: 1;\n          max-width: 400px;\n        }\n        \n        .search-input-wrapper {\n          position: relative;\n          display: flex;\n          align-items: center;\n        }\n        \n        .search-icon {\n          position: absolute;\n          left: 16px;\n          color: #6E6E6E;\n          z-index: 2;\n        }\n        \n        .search-input {\n          width: 100%;\n          height: 48px;\n          padding: 0 48px 0 48px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          font-size: 16px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n        }\n        \n        .search-input:focus {\n          outline: none;\n          border-color: #6E6E6E;\n          box-shadow: 0 0 0 3px rgba(110, 110, 110, 0.1);\n        }\n        \n        .clear-search {\n          position: absolute;\n          right: 16px;\n          background: none;\n          border: none;\n          cursor: pointer;\n          color: #6E6E6E;\n          padding: 4px;\n          border-radius: 4px;\n          transition: all 0.2s ease;\n        }\n        \n        .clear-search:hover {\n          color: #2E2E2E;\n          background: #F3EED9;\n        }\n        \n        .filter-controls {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          flex-wrap: wrap;\n        }\n        \n        .filter-group {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          color: #6E6E6E;\n        }\n        \n        .date-input, .filter-select {\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          padding: 8px 12px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          font-size: 14px;\n          cursor: pointer;\n        }\n        \n        .filter-separator {\n          margin: 0 8px;\n          color: #6E6E6E;\n          font-size: 14px;\n        }\n        \n        .reset-filters-btn {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          padding: 8px 12px;\n          background: #F3EED9;\n          border: 1px solid #E5DCC2;\n          border-radius: 8px;\n          color: #6E6E6E;\n          font-size: 12px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .reset-filters-btn:hover {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .actions-row {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n        }\n        \n        .results-info {\n          font-size: 14px;\n          color: #6E6E6E;\n        }\n        \n        .export-actions {\n          display: flex;\n          gap: 12px;\n        }\n        \n        .btn-secondary, .btn-primary {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 8px 16px;\n          border-radius: 8px;\n          font-size: 14px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          border: none;\n        }\n        \n        .btn-secondary {\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 1px solid #E5DCC2;\n        }\n        \n        .btn-secondary:hover {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .btn-primary {\n          background: #6E6E6E;\n          color: #F3EED9;\n        }\n        \n        .btn-primary:hover {\n          background: #5A5A5A;\n        }\n        \n        .history-content {\n          flex: 1;\n          overflow-y: auto;\n          padding: 24px 32px;\n        }\n        \n        .loading-state {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          padding: 80px 32px;\n          text-align: center;\n          color: #6E6E6E;\n        }\n        \n        .loading-spinner {\n          width: 40px;\n          height: 40px;\n          border: 3px solid #E5DCC2;\n          border-top: 3px solid #6E6E6E;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin-bottom: 16px;\n        }\n        \n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        .history-list {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n        \n        .history-item {\n          background: #FFFFFF;\n          border: 1px solid #E5DCC2;\n          border-radius: 16px;\n          overflow: hidden;\n          transition: all 0.3s ease;\n          position: relative;\n        }\n        \n        .history-item::before {\n          content: '';\n          position: absolute;\n          left: 0;\n          top: 0;\n          bottom: 0;\n          width: 4px;\n          background: #6E6E6E;\n        }\n        \n        .history-item.active::before { background: #3B82F6; }\n        .history-item.returned::before { background: #3E5C49; }\n        .history-item.overdue::before { background: #DC2626; }\n        \n        .history-item:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.12);\n        }\n        \n        .item-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 16px 20px;\n          background: #F9FAFB;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .status-section {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n        \n        .status-label {\n          font-size: 12px;\n          font-weight: 600;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .dates-section {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-end;\n          gap: 4px;\n        }\n        \n        .borrow-date, .return-date {\n          font-size: 12px;\n          color: #6E6E6E;\n        }\n        \n        .return-date {\n          font-weight: 600;\n          color: #3E5C49;\n        }\n        \n        .item-content {\n          display: grid;\n          grid-template-columns: 2fr 1.5fr 1fr;\n          gap: 24px;\n          padding: 20px;\n        }\n        \n        .book-section {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n        }\n        \n        .book-cover {\n          width: 48px;\n          height: 64px;\n          background: linear-gradient(135deg, #F3EED9 0%, #E5DCC2 100%);\n          border-radius: 8px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #6E6E6E;\n          flex-shrink: 0;\n          overflow: hidden;\n        }\n        \n        .book-cover img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n        \n        .book-title {\n          font-size: 16px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 4px 0;\n          line-height: 1.3;\n        }\n        \n        .book-author {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0 0 8px 0;\n        }\n        \n        .book-category {\n          background: #6E6E6E;\n          color: #F3EED9;\n          padding: 2px 8px;\n          border-radius: 12px;\n          font-size: 11px;\n          font-weight: 600;\n        }\n        \n        .borrower-section {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .borrower-type {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          font-size: 11px;\n          font-weight: 600;\n          color: #6E6E6E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .borrower-name {\n          font-size: 16px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 4px 0;\n        }\n        \n        .borrower-details {\n          font-size: 13px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .timeline-section {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .timeline-item {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n        }\n        \n        .timeline-dot {\n          width: 12px;\n          height: 12px;\n          border-radius: 50%;\n          flex-shrink: 0;\n        }\n        \n        .timeline-dot.borrow { background: #3B82F6; }\n        .timeline-dot.expected { background: #F59E0B; }\n        .timeline-dot.return { background: #3E5C49; }\n        \n        .timeline-label {\n          font-size: 11px;\n          font-weight: 600;\n          color: #6E6E6E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .timeline-date {\n          font-size: 12px;\n          color: #2E2E2E;\n          margin-top: 2px;\n        }\n        \n        .item-notes {\n          padding: 16px 20px;\n          background: #FEF7F0;\n          border-top: 1px solid #E5DCC2;\n          font-size: 13px;\n          color: #6E6E6E;\n        }\n        \n        .empty-state {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          padding: 80px 32px;\n          text-align: center;\n          color: #6E6E6E;\n        }\n        \n        .empty-state h3 {\n          font-size: 20px;\n          font-weight: 700;\n          margin: 16px 0 8px 0;\n          color: #2E2E2E;\n        }\n        \n        .empty-state p {\n          margin: 0 0 24px 0;\n          font-size: 14px;\n        }\n        \n        .text-blue-500 { color: #3B82F6; }\n        .text-green-500 { color: #3E5C49; }\n        .text-red-500 { color: #DC2626; }\n        \n        /* Responsive */\n        @media (max-width: 1024px) {\n          .item-content {\n            grid-template-columns: 1fr;\n            gap: 20px;\n          }\n          \n          .filters-row {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 16px;\n          }\n          \n          .filter-controls {\n            justify-content: space-between;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .history-modal {\n            margin: 12px;\n            border-radius: 20px;\n          }\n          \n          .modal-header {\n            padding: 20px;\n            flex-direction: column;\n            gap: 16px;\n            text-align: center;\n          }\n          \n          .stats-section {\n            padding: 16px 20px;\n            flex-wrap: wrap;\n            gap: 12px;\n          }\n          \n          .stat-card {\n            flex: 1;\n            min-width: calc(50% - 6px);\n          }\n          \n          .filters-section {\n            padding: 16px 20px;\n          }\n          \n          .history-content {\n            padding: 16px 20px;\n          }\n          \n          .book-section {\n            flex-direction: column;\n            text-align: center;\n          }\n          \n          .timeline-section {\n            align-items: center;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};","import React, { useState } from 'react';\r\nimport { \r\n  Clock, \r\n  User, \r\n  Calendar, \r\n  Book,\r\n  CheckCircle,\r\n  AlertTriangle,\r\n  Filter,\r\n  Search,\r\n  X,\r\n  ArrowUpDown,\r\n  Eye,\r\n  RotateCcw\r\n} from 'lucide-react';\r\nimport { Book as BookType } from '../../preload';\r\n\r\ninterface BorrowedBooksProps {\r\n  books: BookType[]; // Array of books (already filtered to borrowed ones)\r\n  onReturn: (bookId: number) => void; // Simplified callback\r\n}\r\n\r\nexport const BorrowedBooks: React.FC<BorrowedBooksProps> = ({ books, onReturn }) => {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [sortBy, setSortBy] = useState<'borrower' | 'date' | 'title' | 'status'>('date');\r\n  const [filterStatus, setFilterStatus] = useState<'all' | 'normal' | 'warning' | 'overdue'>('all');\r\n\r\n  const handleReturn = (book: BookType) => {\r\n    if (window.confirm(`Confirmer le retour de \"${book.title}\" emprunté par ${book.borrowerName} ?`)) {\r\n      onReturn(book.id!);\r\n    }\r\n  };\r\n\r\n  const getDaysOverdue = (borrowDate: string) => {\r\n    const borrowed = new Date(borrowDate);\r\n    const today = new Date();\r\n    const diffTime = today.getTime() - borrowed.getTime();\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n    return diffDays;\r\n  };\r\n\r\n  const getStatusInfo = (borrowDate: string) => {\r\n    const days = getDaysOverdue(borrowDate);\r\n    if (days <= 14) {\r\n      return { \r\n        status: 'normal', \r\n        color: '#3E5C49', \r\n        bgColor: 'rgba(62, 92, 73, 0.1)',\r\n        text: `${days} jour(s)`,\r\n        priority: 1\r\n      };\r\n    } else if (days <= 30) {\r\n      return { \r\n        status: 'warning', \r\n        color: '#C2571B', \r\n        bgColor: 'rgba(194, 87, 27, 0.1)',\r\n        text: `${days} jour(s) - À surveiller`,\r\n        priority: 2\r\n      };\r\n    } else {\r\n      return { \r\n        status: 'overdue', \r\n        color: '#DC2626', \r\n        bgColor: 'rgba(220, 38, 38, 0.1)',\r\n        text: `${days} jour(s) - En retard`,\r\n        priority: 3\r\n      };\r\n    }\r\n  };\r\n\r\n  // ✅ Filter only borrowed books and apply search/status filters\r\n  const borrowedBooks = books.filter(book => book.isBorrowed);\r\n  \r\n  const filteredBooks = borrowedBooks.filter(book => {\r\n    // Filtre par recherche\r\n    const matchesSearch = !searchQuery || \r\n      book.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      book.author.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      book.borrowerName?.toLowerCase().includes(searchQuery.toLowerCase());\r\n\r\n    // Filtre par statut\r\n    if (filterStatus === 'all') return matchesSearch;\r\n    \r\n    const statusInfo = getStatusInfo(book.borrowDate!);\r\n    return matchesSearch && statusInfo.status === filterStatus;\r\n  });\r\n\r\n  const sortedBooks = [...filteredBooks].sort((a, b) => {\r\n    switch (sortBy) {\r\n      case 'borrower':\r\n        return (a.borrowerName || '').localeCompare(b.borrowerName || '');\r\n      case 'title':\r\n        return a.title.localeCompare(b.title);\r\n      case 'status':\r\n        const statusA = getStatusInfo(a.borrowDate!);\r\n        const statusB = getStatusInfo(b.borrowDate!);\r\n        return statusB.priority - statusA.priority;\r\n      case 'date':\r\n      default:\r\n        return new Date(b.borrowDate!).getTime() - new Date(a.borrowDate!).getTime();\r\n    }\r\n  });\r\n\r\n  const getStatusCounts = () => {\r\n    const counts = { normal: 0, warning: 0, overdue: 0 };\r\n    borrowedBooks.forEach(book => {\r\n      if (book.borrowDate) {\r\n        const status = getStatusInfo(book.borrowDate).status;\r\n        if (status in counts) counts[status as keyof typeof counts]++;\r\n      }\r\n    });\r\n    return counts;\r\n  };\r\n\r\n  const statusCounts = getStatusCounts();\r\n \r\n\r\n  return (\r\n    <div className=\"borrowed-books\">\r\n      {/* Hero Header */}\r\n      <div className=\"page-header\">\r\n        <div className=\"header-background\">\r\n          <div className=\"background-pattern\"></div>\r\n        </div>\r\n        <div className=\"header-content\">\r\n          <div className=\"header-main\">\r\n            <div className=\"header-icon\">\r\n              <Clock size={36} />\r\n            </div>\r\n            <div className=\"header-text\">\r\n              <h1 className=\"page-title\">Livres empruntés</h1>\r\n              <p className=\"page-subtitle\">\r\n                {books.length} livre(s) actuellement en circulation\r\n              </p>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Status Overview */}\r\n          <div className=\"status-overview\">\r\n            <div className=\"status-card normal\">\r\n              <div className=\"status-icon\">\r\n                <CheckCircle size={20} />\r\n              </div>\r\n              <div className=\"status-info\">\r\n                <span className=\"status-count\">{statusCounts.normal}</span>\r\n                <span className=\"status-label\">Normal</span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"status-card warning\">\r\n              <div className=\"status-icon\">\r\n                <Clock size={20} />\r\n              </div>\r\n              <div className=\"status-info\">\r\n                <span className=\"status-count\">{statusCounts.warning}</span>\r\n                <span className=\"status-label\">À surveiller</span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"status-card overdue\">\r\n              <div className=\"status-icon\">\r\n                <AlertTriangle size={20} />\r\n              </div>\r\n              <div className=\"status-info\">\r\n                <span className=\"status-count\">{statusCounts.overdue}</span>\r\n                <span className=\"status-label\">En retard</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Controls */}\r\n      <div className=\"controls-section\">\r\n        <div className=\"search-container\">\r\n          <div className=\"search-input-wrapper\">\r\n            <Search className=\"search-icon\" size={20} />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Rechercher par titre, auteur ou emprunteur...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className=\"search-input\"\r\n            />\r\n            {searchQuery && (\r\n              <button \r\n                className=\"clear-search\"\r\n                onClick={() => setSearchQuery('')}\r\n              >\r\n                <X size={16} />\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"filters-container\">\r\n          <div className=\"filter-group\">\r\n            <Filter size={16} />\r\n            <select \r\n              value={filterStatus} \r\n              onChange={(e) => setFilterStatus(e.target.value as any)}\r\n              className=\"filter-select\"\r\n            >\r\n              <option value=\"all\">Tous les statuts</option>\r\n              <option value=\"normal\">Normal (≤14 jours)</option>\r\n              <option value=\"warning\">À surveiller (15-30 jours)</option>\r\n              <option value=\"overdue\">En retard (&gt;30 jours)</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div className=\"filter-group\">\r\n            <ArrowUpDown size={16} />\r\n            <select \r\n              value={sortBy} \r\n              onChange={(e) => setSortBy(e.target.value as any)}\r\n              className=\"filter-select\"\r\n            >\r\n              <option value=\"date\">Trier par date d'emprunt</option>\r\n              <option value=\"borrower\">Trier par emprunteur</option>\r\n              <option value=\"title\">Trier par titre</option>\r\n              <option value=\"status\">Trier par statut</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Books List */}\r\n      <div className=\"books-content\">\r\n        {sortedBooks.length > 0 ? (\r\n          <div className=\"borrowed-list\">\r\n            {sortedBooks.map((book) => {\r\n              const statusInfo = getStatusInfo(book.borrowDate!);\r\n              \r\n              return (\r\n                <div key={book.id} className={`borrowed-card ${statusInfo.status}`}>\r\n                  <div className=\"card-content\">\r\n                    <div className=\"book-info\">\r\n                      <div className=\"book-cover\">\r\n                        {book.coverUrl ? (\r\n                          <img src={book.coverUrl} alt={book.title} />\r\n                        ) : (\r\n                          <div className=\"book-cover-placeholder\">\r\n                            <Book size={24} />\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <div className=\"book-details\">\r\n                        <div className=\"book-main\">\r\n                          <h3 className=\"book-title\">{book.title}</h3>\r\n                          <p className=\"book-author\">par {book.author}</p>\r\n                          <div className=\"book-category\">\r\n                            <span className=\"category-badge\">{book.category}</span>\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"borrow-details\">\r\n                          <div className=\"detail-item\">\r\n                            <User size={16} />\r\n                            <span className=\"borrower-name\">{book.borrowerName}</span>\r\n                          </div>\r\n                          <div className=\"detail-item\">\r\n                            <Calendar size={16} />\r\n                            <span>Emprunté le {new Date(book.borrowDate!).toLocaleDateString('fr-FR')}</span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"status-section\">\r\n                      <div className=\"status-indicator\" style={{ \r\n                        backgroundColor: statusInfo.bgColor,\r\n                        color: statusInfo.color \r\n                      }}>\r\n                        <div className=\"status-dot\" style={{ backgroundColor: statusInfo.color }}></div>\r\n                        <span className=\"status-text\">{statusInfo.text}</span>\r\n                      </div>\r\n                      \r\n                      <div className=\"card-actions\">\r\n                        <button \r\n                          className=\"action-button view\"\r\n                          title=\"Voir détails\"\r\n                        >\r\n                          <Eye size={18} />\r\n                        </button>\r\n                        <button\r\n                          className=\"action-button return\"\r\n                          onClick={() => handleReturn(book)}\r\n                          title=\"Marquer comme rendu\"\r\n                        >\r\n                          <RotateCcw size={18} />\r\n                          <span>Retour</span>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        ) : (\r\n          <div className=\"empty-state\">\r\n            <div className=\"empty-illustration\">\r\n              {books.length === 0 ? (\r\n                <CheckCircle size={80} />\r\n              ) : (\r\n                <Search size={80} />\r\n              )}\r\n            </div>\r\n            <h3 className=\"empty-title\">\r\n              {books.length === 0 ? 'Aucun livre emprunté' : 'Aucun résultat'}\r\n            </h3>\r\n            <p className=\"empty-description\">\r\n              {books.length === 0 \r\n                ? 'Tous les livres sont actuellement disponibles dans la bibliothèque.'\r\n                : searchQuery \r\n                ? `Aucun résultat pour \"${searchQuery}\"`\r\n                : 'Aucun livre ne correspond aux filtres sélectionnés.'\r\n              }\r\n            </p>\r\n            {(searchQuery || filterStatus !== 'all') && (\r\n              <button \r\n                className=\"btn-secondary\"\r\n                onClick={() => {\r\n                  setSearchQuery('');\r\n                  setFilterStatus('all');\r\n                }}\r\n              >\r\n                Effacer les filtres\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <style>{`\r\n        .borrowed-books {\r\n          height: 100%;\r\n          display: flex;\r\n          flex-direction: column;\r\n          background: #FAF9F6;\r\n        }\r\n        \r\n        .page-header {\r\n          position: relative;\r\n          background: linear-gradient(135deg, #C2571B 0%, #A8481A 100%);\r\n          color: #F3EED9;\r\n          padding: 40px 32px;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .header-background {\r\n          position: absolute;\r\n          inset: 0;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .background-pattern {\r\n          position: absolute;\r\n          inset: 0;\r\n          background-image: \r\n            radial-gradient(circle at 20% 80%, rgba(243, 238, 217, 0.1) 0%, transparent 50%),\r\n            radial-gradient(circle at 80% 20%, rgba(243, 238, 217, 0.1) 0%, transparent 50%),\r\n            radial-gradient(circle at 40% 40%, rgba(243, 238, 217, 0.05) 0%, transparent 50%);\r\n          animation: float 15s ease-in-out infinite;\r\n        }\r\n        \r\n        @keyframes float {\r\n          0%, 100% { transform: translate(0, 0) scale(1); }\r\n          33% { transform: translate(30px, -30px) scale(1.05); }\r\n          66% { transform: translate(-20px, 20px) scale(0.95); }\r\n        }\r\n        \r\n        .header-content {\r\n          position: relative;\r\n          z-index: 1;\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n        }\r\n        \r\n        .header-main {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 24px;\r\n          margin-bottom: 32px;\r\n        }\r\n        \r\n        .header-icon {\r\n          width: 72px;\r\n          height: 72px;\r\n          background: rgba(243, 238, 217, 0.2);\r\n          border-radius: 20px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          backdrop-filter: blur(10px);\r\n        }\r\n        \r\n        .page-title {\r\n          font-size: 36px;\r\n          font-weight: 800;\r\n          margin: 0 0 8px 0;\r\n          line-height: 1.2;\r\n          letter-spacing: -0.5px;\r\n        }\r\n        \r\n        .page-subtitle {\r\n          font-size: 18px;\r\n          opacity: 0.9;\r\n          margin: 0;\r\n          line-height: 1.4;\r\n        }\r\n        \r\n        .status-overview {\r\n          display: flex;\r\n          gap: 20px;\r\n        }\r\n        \r\n        .status-card {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 16px;\r\n          background: rgba(243, 238, 217, 0.15);\r\n          backdrop-filter: blur(10px);\r\n          border: 1px solid rgba(243, 238, 217, 0.3);\r\n          border-radius: 16px;\r\n          padding: 20px 24px;\r\n          transition: all 0.3s ease;\r\n        }\r\n        \r\n        .status-card:hover {\r\n          background: rgba(243, 238, 217, 0.25);\r\n          transform: translateY(-2px);\r\n        }\r\n        \r\n        .status-icon {\r\n          width: 40px;\r\n          height: 40px;\r\n          border-radius: 12px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #F3EED9;\r\n        }\r\n        \r\n        .status-card.normal .status-icon {\r\n          background: rgba(62, 92, 73, 0.3);\r\n        }\r\n        \r\n        .status-card.warning .status-icon {\r\n          background: rgba(194, 87, 27, 0.3);\r\n        }\r\n        \r\n        .status-card.overdue .status-icon {\r\n          background: rgba(220, 38, 38, 0.3);\r\n        }\r\n        \r\n        .status-count {\r\n          font-size: 24px;\r\n          font-weight: 800;\r\n          line-height: 1;\r\n          margin-bottom: 4px;\r\n          display: block;\r\n        }\r\n        \r\n        .status-label {\r\n          font-size: 12px;\r\n          opacity: 0.9;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.5px;\r\n        }\r\n        \r\n        .controls-section {\r\n          background: #FFFFFF;\r\n          padding: 24px 32px;\r\n          border-bottom: 1px solid #E5DCC2;\r\n          display: flex;\r\n          gap: 24px;\r\n          align-items: center;\r\n          box-shadow: 0 2px 8px rgba(62, 92, 73, 0.04);\r\n        }\r\n        \r\n        .search-container {\r\n          flex: 1;\r\n          max-width: 500px;\r\n        }\r\n        \r\n        .search-input-wrapper {\r\n          position: relative;\r\n          display: flex;\r\n          align-items: center;\r\n        }\r\n        \r\n        .search-icon {\r\n          position: absolute;\r\n          left: 16px;\r\n          color: #6E6E6E;\r\n          z-index: 2;\r\n        }\r\n        \r\n        .search-input {\r\n          width: 100%;\r\n          height: 48px;\r\n          padding: 0 48px 0 48px;\r\n          border: 2px solid #E5DCC2;\r\n          border-radius: 12px;\r\n          font-size: 16px;\r\n          background: #FFFFFF;\r\n          color: #2E2E2E;\r\n          transition: all 0.2s ease;\r\n        }\r\n        \r\n        .search-input:focus {\r\n          outline: none;\r\n          border-color: #C2571B;\r\n          box-shadow: 0 0 0 3px rgba(194, 87, 27, 0.1);\r\n        }\r\n        \r\n        .search-input::placeholder {\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .clear-search {\r\n          position: absolute;\r\n          right: 16px;\r\n          background: none;\r\n          border: none;\r\n          cursor: pointer;\r\n          color: #6E6E6E;\r\n          padding: 4px;\r\n          border-radius: 4px;\r\n          transition: all 0.2s ease;\r\n        }\r\n        \r\n        .clear-search:hover {\r\n          color: #2E2E2E;\r\n          background: #F3EED9;\r\n        }\r\n        \r\n        .filters-container {\r\n          display: flex;\r\n          gap: 16px;\r\n        }\r\n        \r\n        .filter-group {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .filter-select {\r\n          border: 2px solid #E5DCC2;\r\n          border-radius: 8px;\r\n          padding: 8px 12px;\r\n          background: #FFFFFF;\r\n          color: #2E2E2E;\r\n          font-size: 14px;\r\n          cursor: pointer;\r\n          transition: border-color 0.2s ease;\r\n        }\r\n        \r\n        .filter-select:focus {\r\n          outline: none;\r\n          border-color: #C2571B;\r\n        }\r\n        \r\n        .books-content {\r\n          flex: 1;\r\n          overflow-y: auto;\r\n          padding: 32px;\r\n        }\r\n        \r\n        .borrowed-list {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 20px;\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n        }\r\n        \r\n        .borrowed-card {\r\n          background: #FFFFFF;\r\n          border-radius: 20px;\r\n          overflow: hidden;\r\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\r\n          border: 1px solid #E5DCC2;\r\n          position: relative;\r\n        }\r\n        \r\n        .borrowed-card::before {\r\n          content: '';\r\n          position: absolute;\r\n          left: 0;\r\n          top: 0;\r\n          bottom: 0;\r\n          width: 4px;\r\n          background: #3E5C49;\r\n          transition: background 0.3s ease;\r\n        }\r\n        \r\n        .borrowed-card.warning::before {\r\n          background: #C2571B;\r\n        }\r\n        \r\n        .borrowed-card.overdue::before {\r\n          background: #DC2626;\r\n        }\r\n        \r\n        .borrowed-card:hover {\r\n          transform: translateY(-4px);\r\n          box-shadow: \r\n            0 12px 32px rgba(62, 92, 73, 0.12),\r\n            0 4px 16px rgba(62, 92, 73, 0.08);\r\n        }\r\n        \r\n        .card-content {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          padding: 24px;\r\n          gap: 24px;\r\n        }\r\n        \r\n        .book-info {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 20px;\r\n          flex: 1;\r\n          min-width: 0;\r\n        }\r\n        \r\n        .book-cover {\r\n          width: 64px;\r\n          height: 88px;\r\n          border-radius: 12px;\r\n          overflow: hidden;\r\n          flex-shrink: 0;\r\n          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.2);\r\n        }\r\n        \r\n        .book-cover img {\r\n          width: 100%;\r\n          height: 100%;\r\n          object-fit: cover;\r\n        }\r\n        \r\n        .book-cover-placeholder {\r\n          width: 100%;\r\n          height: 100%;\r\n          background: linear-gradient(135deg, #F3EED9 0%, #E5DCC2 100%);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .book-details {\r\n          flex: 1;\r\n          min-width: 0;\r\n        }\r\n        \r\n        .book-main {\r\n          margin-bottom: 16px;\r\n        }\r\n        \r\n        .book-title {\r\n          font-size: 20px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0 0 4px 0;\r\n          line-height: 1.3;\r\n        }\r\n        \r\n        .book-author {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          margin: 0 0 8px 0;\r\n        }\r\n        \r\n        .category-badge {\r\n          background: #3E5C49;\r\n          color: #F3EED9;\r\n          padding: 4px 12px;\r\n          border-radius: 12px;\r\n          font-size: 12px;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .borrow-details {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 8px;\r\n        }\r\n        \r\n        .detail-item {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .borrower-name {\r\n          font-weight: 600;\r\n          color: #2E2E2E;\r\n        }\r\n        \r\n        .status-section {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: flex-end;\r\n          gap: 16px;\r\n          flex-shrink: 0;\r\n        }\r\n        \r\n        .status-indicator {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          padding: 8px 16px;\r\n          border-radius: 20px;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          border: 1px solid currentColor;\r\n        }\r\n        \r\n        .status-dot {\r\n          width: 8px;\r\n          height: 8px;\r\n          border-radius: 50%;\r\n          animation: pulse 2s infinite;\r\n        }\r\n        \r\n        .card-actions {\r\n          display: flex;\r\n          gap: 8px;\r\n        }\r\n        \r\n        .action-button {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          padding: 12px 16px;\r\n          border: none;\r\n          border-radius: 12px;\r\n          cursor: pointer;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          transition: all 0.2s ease;\r\n        }\r\n        \r\n        .action-button.view {\r\n          background: #F3EED9;\r\n          color: #6E6E6E;\r\n          padding: 12px;\r\n        }\r\n        \r\n        .action-button.view:hover {\r\n          background: #EAEADC;\r\n          color: #2E2E2E;\r\n        }\r\n        \r\n        .action-button.return {\r\n          background: #3E5C49;\r\n          color: #F3EED9;\r\n        }\r\n        \r\n        .action-button.return:hover {\r\n          background: #2E453A;\r\n          transform: translateY(-1px);\r\n          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.3);\r\n        }\r\n        \r\n        /* Empty State */\r\n        .empty-state {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          justify-content: center;\r\n          padding: 80px 32px;\r\n          text-align: center;\r\n          max-width: 600px;\r\n          margin: 0 auto;\r\n        }\r\n        \r\n        .empty-illustration {\r\n          color: #C2571B;\r\n          margin-bottom: 32px;\r\n          opacity: 0.6;\r\n        }\r\n        \r\n        .empty-title {\r\n          font-size: 28px;\r\n          font-weight: 700;\r\n          margin: 0 0 16px 0;\r\n          color: #2E2E2E;\r\n        }\r\n        \r\n        .empty-description {\r\n          margin: 0 0 32px 0;\r\n          font-size: 16px;\r\n          line-height: 1.6;\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .btn-secondary {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          padding: 12px 24px;\r\n          background: #F3EED9;\r\n          color: #6E6E6E;\r\n          border: 2px solid #E5DCC2;\r\n          border-radius: 12px;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n        }\r\n        \r\n        .btn-secondary:hover {\r\n          background: #EAEADC;\r\n          color: #2E2E2E;\r\n          transform: translateY(-1px);\r\n        }\r\n        \r\n        /* Animations */\r\n        @keyframes pulse {\r\n          0%, 100% {\r\n            opacity: 1;\r\n            transform: scale(1);\r\n          }\r\n          50% {\r\n            opacity: 0.7;\r\n            transform: scale(1.1);\r\n          }\r\n        }\r\n        \r\n        /* Responsive Design */\r\n        @media (max-width: 1024px) {\r\n          .status-overview {\r\n            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\r\n            gap: 16px;\r\n          }\r\n          \r\n          .controls-section {\r\n            flex-direction: column;\r\n            gap: 16px;\r\n            align-items: stretch;\r\n          }\r\n          \r\n          .search-container {\r\n            max-width: none;\r\n          }\r\n          \r\n          .filters-container {\r\n            justify-content: space-between;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n          .page-header {\r\n            padding: 24px 16px;\r\n          }\r\n          \r\n          .header-main {\r\n            flex-direction: column;\r\n            text-align: center;\r\n            gap: 16px;\r\n          }\r\n          \r\n          .page-title {\r\n            font-size: 28px;\r\n          }\r\n          \r\n          .page-subtitle {\r\n            font-size: 16px;\r\n          }\r\n          \r\n          .status-overview {\r\n            justify-content: center;\r\n            flex-wrap: wrap;\r\n          }\r\n          \r\n          .status-card {\r\n            padding: 16px 20px;\r\n          }\r\n          \r\n          .controls-section {\r\n            padding: 16px;\r\n          }\r\n          \r\n          .books-content {\r\n            padding: 16px;\r\n          }\r\n          \r\n          .card-content {\r\n            flex-direction: column;\r\n            align-items: stretch;\r\n            gap: 20px;\r\n          }\r\n          \r\n          .book-info {\r\n            flex-direction: column;\r\n            text-align: center;\r\n          }\r\n          \r\n          .status-section {\r\n            align-items: center;\r\n            flex-direction: row;\r\n            justify-content: space-between;\r\n          }\r\n          \r\n          .borrow-details {\r\n            align-items: center;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 480px) {\r\n          .header-icon {\r\n            width: 56px;\r\n            height: 56px;\r\n          }\r\n          \r\n          .status-overview {\r\n            flex-direction: column;\r\n            gap: 12px;\r\n          }\r\n          \r\n          .status-card {\r\n            padding: 12px 16px;\r\n          }\r\n          \r\n          .status-count {\r\n            font-size: 20px;\r\n          }\r\n          \r\n          .filters-container {\r\n            flex-direction: column;\r\n            gap: 12px;\r\n          }\r\n          \r\n          .filter-group {\r\n            flex: 1;\r\n          }\r\n          \r\n          .filter-select {\r\n            flex: 1;\r\n          }\r\n          \r\n          .borrowed-card {\r\n            border-radius: 16px;\r\n          }\r\n          \r\n          .card-content {\r\n            padding: 20px 16px;\r\n          }\r\n          \r\n          .book-cover {\r\n            width: 56px;\r\n            height: 76px;\r\n          }\r\n          \r\n          .book-title {\r\n            font-size: 18px;\r\n          }\r\n          \r\n          .card-actions {\r\n            width: 100%;\r\n            justify-content: space-between;\r\n          }\r\n          \r\n          .action-button.return {\r\n            flex: 1;\r\n            justify-content: center;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};","import React, { useState, useEffect } from 'react';\nimport { \n  Users, \n  GraduationCap, \n  Briefcase,\n  Search, \n  Plus,\n  Edit,\n  Trash2,\n  X,\n  Save,\n  User,\n  Hash,\n  School,\n  Building,\n  Mail,\n  Phone,\n  Eye,\n  Filter\n} from 'lucide-react';\nimport { Borrower } from '../../preload';\n\nimport { SupabaseService } from '../../services/SupabaseService';\n\ninterface BorrowersProps {\n  onClose: () => void;\n  onRefreshData?: () => Promise<void>; // Callback pour rafraîchir les données\n  supabaseService: SupabaseService;\n}\n\nexport const Borrowers: React.FC<BorrowersProps> = ({ onClose, onRefreshData }) => {\n  const [borrowers, setBorrowers] = useState<Borrower[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filterType, setFilterType] = useState<'all' | 'student' | 'staff'>('all');\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [editingBorrower, setEditingBorrower] = useState<Borrower | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [borrower, setBorrower] = useState<Omit<Borrower, 'id'>>({\n  type: 'student',\n  firstName: '',\n  lastName: '',\n  matricule: '',\n  classe: '',\n  cniNumber: '',\n  position: '',\n  email: '',\n  phone: '',\n  syncStatus: 'pending',\n  lastModified: new Date().toISOString(),\n  version: 1\n});\n\n  const [formErrors, setFormErrors] = useState<{ [key: string]: string }>({});\n\n  useEffect(() => {\n    loadBorrowers();\n  }, []);\n\n  const loadBorrowers = async () => {\n    try {\n      const data = await window.electronAPI.getBorrowers();\n      setBorrowers(data);\n    } catch (error) {\n      console.error('Erreur lors du chargement des emprunteurs:', error);\n    }\n  };\n\n  const validateForm = () => {\n    const errors: { [key: string]: string } = {};\n\n    if (!borrower.firstName.trim()) {\n      errors.firstName = 'Le prénom est requis';\n    }\n    if (!borrower.lastName.trim()) {\n      errors.lastName = 'Le nom est requis';\n    }\n    if (!borrower.matricule.trim()) {\n      errors.matricule = 'Le matricule est requis';\n    }\n    if (borrower.email && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(borrower.email)) {\n      errors.email = 'Format email invalide';\n    }\n    if (borrower.phone && !/^[\\d\\s\\+\\-\\(\\)]{6,}$/.test(borrower.phone)) {\n      errors.phone = 'Format téléphone invalide';\n    }\n\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleSearch = async (query: string) => {\n    setSearchQuery(query);\n    if (query.trim()) {\n      try {\n        const results = await window.electronAPI.searchBorrowers(query);\n        setBorrowers(results);\n      } catch (error) {\n        console.error('Erreur lors de la recherche:', error);\n      }\n    } else {\n      loadBorrowers();\n    }\n  };\n\n  const resetForm = () => {\n    setBorrower({\n  type: 'student',\n  firstName: '',\n  lastName: '',\n  matricule: '',\n  classe: '',\n  cniNumber: '',\n  position: '',\n  email: '',\n  phone: '',\n  syncStatus: 'pending',\n  lastModified: new Date().toISOString(),\n  version: 1\n});\n    setFormErrors({});\n    setEditingBorrower(null);\n  };\n\n  const handleAddBorrower = () => {\n    resetForm();\n    setShowAddModal(true);\n  };\n\n  const handleEditBorrower = (editBorrower: Borrower) => {\n    setBorrower({\n      type: editBorrower.type,\n      firstName: editBorrower.firstName,\n      lastName: editBorrower.lastName,\n      matricule: editBorrower.matricule,\n      classe: editBorrower.classe || '',\n      cniNumber: editBorrower.cniNumber || '',\n      position: editBorrower.position || '',\n      email: editBorrower.email || '',\n      phone: editBorrower.phone || '',\n      syncStatus: editBorrower.syncStatus,\n      lastModified: new Date().toISOString(),\n      version: (editBorrower.version || 1) + 1\n    });\n    setFormErrors({});\n    setEditingBorrower(editBorrower);\n    setShowAddModal(true);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      if (editingBorrower) {\n        await window.electronAPI.updateBorrower({ ...borrower, id: editingBorrower.id });\n      } else {\n        await window.electronAPI.addBorrower(borrower);\n      }\n      \n      setShowAddModal(false);\n      resetForm();\n      await loadBorrowers();\n      \n      // Rafraîchir les données dans le parent si callback fourni\n      if (onRefreshData) {\n        await onRefreshData();\n      }\n    } catch (error: any) {\n      console.error('Erreur:', error);\n      if (error.message && error.message.includes('matricule')) {\n        setFormErrors({ matricule: 'Un emprunteur avec ce matricule existe déjà' });\n      } else {\n        alert(error.message || 'Erreur lors de l\\'opération');\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDelete = async (borrower: Borrower) => {\n    if (window.confirm(`Êtes-vous sûr de vouloir supprimer ${borrower.firstName} ${borrower.lastName} ?`)) {\n      try {\n        await window.electronAPI.deleteBorrower(borrower.id!);\n        await loadBorrowers();\n        \n        // Rafraîchir les données dans le parent si callback fourni\n        if (onRefreshData) {\n          await onRefreshData();\n        }\n      } catch (error: any) {\n        alert(error.message || 'Erreur lors de la suppression');\n      }\n    }\n  };\n\n  const filteredBorrowers = borrowers.filter(borrower => {\n    if (filterType !== 'all' && borrower.type !== filterType) return false;\n    return true;\n  });\n\n  const studentCount = borrowers.filter(b => b.type === 'student').length;\n  const staffCount = borrowers.filter(b => b.type === 'staff').length;\n\n  return (\n    <div className=\"borrowers-overlay\">\n      <div className=\"borrowers-modal\">\n        {/* Header */}\n        <div className=\"modal-header\">\n          <div className=\"header-content\">\n            <div className=\"header-icon\">\n              <Users size={28} />\n            </div>\n            <div className=\"header-text\">\n              <h2 className=\"modal-title\">Gestion des Emprunteurs</h2>\n              <p className=\"modal-subtitle\">\n                {borrowers.length} emprunteur(s) • {studentCount} étudiant(s) • {staffCount} personnel(s)\n              </p>\n            </div>\n          </div>\n          <button className=\"close-button\" onClick={onClose}>\n            <X size={20} />\n          </button>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"stats-section\">\n          <div className=\"stat-card\">\n            <div className=\"stat-icon student\">\n              <GraduationCap size={20} />\n            </div>\n            <div className=\"stat-content\">\n              <span className=\"stat-value\">{studentCount}</span>\n              <span className=\"stat-label\">Étudiants</span>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <div className=\"stat-icon staff\">\n              <Briefcase size={20} />\n            </div>\n            <div className=\"stat-content\">\n              <span className=\"stat-value\">{staffCount}</span>\n              <span className=\"stat-label\">Personnel</span>\n            </div>\n          </div>\n          \n          <div className=\"stat-card\">\n            <div className=\"stat-icon total\">\n              <Users size={20} />\n            </div>\n            <div className=\"stat-content\">\n              <span className=\"stat-value\">{borrowers.length}</span>\n              <span className=\"stat-label\">Total</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Controls */}\n        <div className=\"controls-section\">\n          <div className=\"search-container\">\n            <div className=\"search-input-wrapper\">\n              <Search className=\"search-icon\" size={20} />\n              <input\n                type=\"text\"\n                placeholder=\"Rechercher par nom, prénom, matricule...\"\n                value={searchQuery}\n                onChange={(e) => handleSearch(e.target.value)}\n                className=\"search-input\"\n              />\n              {searchQuery && (\n                <button \n                  className=\"clear-search\"\n                  onClick={() => handleSearch('')}\n                >\n                  <X size={16} />\n                </button>\n              )}\n            </div>\n          </div>\n          \n          <div className=\"controls-right\">\n            <div className=\"filter-group\">\n              <Filter size={16} />\n              <select \n                value={filterType} \n                onChange={(e) => setFilterType(e.target.value as any)}\n                className=\"filter-select\"\n              >\n                <option value=\"all\">Tous</option>\n                <option value=\"student\">Étudiants</option>\n                <option value=\"staff\">Personnel</option>\n              </select>\n            </div>\n            \n            <button className=\"btn-primary\" onClick={handleAddBorrower}>\n              <Plus size={18} />\n              Ajouter\n            </button>\n          </div>\n        </div>\n\n        {/* Borrowers List */}\n        <div className=\"borrowers-content\">\n          {filteredBorrowers.length > 0 ? (\n            <div className=\"borrowers-grid\">\n              {filteredBorrowers.map((borrower) => (\n                <div key={borrower.id} className={`borrower-card ${borrower.type}`}>\n                  <div className=\"card-header\">\n                    <div className=\"borrower-type\">\n                      {borrower.type === 'student' ? (\n                        <GraduationCap size={20} />\n                      ) : (\n                        <Briefcase size={20} />\n                      )}\n                      <span>{borrower.type === 'student' ? 'Étudiant' : 'Personnel'}</span>\n                    </div>\n                    \n                    <div className=\"card-actions\">\n                      <button \n                        className=\"action-btn view\"\n                        onClick={() => {}}\n                        title=\"Voir détails\"\n                      >\n                        <Eye size={16} />\n                      </button>\n                      <button \n                        className=\"action-btn edit\"\n                        onClick={() => handleEditBorrower(borrower)}\n                        title=\"Modifier\"\n                      >\n                        <Edit size={16} />\n                      </button>\n                      <button \n                        className=\"action-btn delete\"\n                        onClick={() => handleDelete(borrower)}\n                        title=\"Supprimer\"\n                      >\n                        <Trash2 size={16} />\n                      </button>\n                    </div>\n                  </div>\n                  \n                  <div className=\"card-content\">\n                    <h3 className=\"borrower-name\">\n                      {borrower.firstName} {borrower.lastName}\n                    </h3>\n                    \n                    <div className=\"borrower-details\">\n                      <div className=\"detail-item\">\n                        <Hash size={14} />\n                        <span>{borrower.matricule}</span>\n                      </div>\n                      \n                      {borrower.type === 'student' && borrower.classe && (\n                        <div className=\"detail-item\">\n                          <School size={14} />\n                          <span>{borrower.classe}</span>\n                        </div>\n                      )}\n                      \n                      {borrower.type === 'staff' && borrower.position && (\n                        <div className=\"detail-item\">\n                          <Building size={14} />\n                          <span>{borrower.position}</span>\n                        </div>\n                      )}\n                      \n                      {borrower.email && (\n                        <div className=\"detail-item\">\n                          <Mail size={14} />\n                          <span>{borrower.email}</span>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"empty-state\">\n              <Users size={64} />\n              <h3>Aucun emprunteur trouvé</h3>\n              <p>\n                {searchQuery || filterType !== 'all'\n                  ? 'Aucun résultat pour les critères sélectionnés'\n                  : 'Commencez par ajouter des emprunteurs'\n                }\n              </p>\n            </div>\n          )}\n        </div>\n\n        {/* Add/Edit Modal */}\n        {showAddModal && (\n          <div className=\"add-modal-overlay\" onClick={() => setShowAddModal(false)}>\n            <div className=\"add-modal\" onClick={(e) => e.stopPropagation()}>\n              <div className=\"add-modal-header\">\n                <h3>{editingBorrower ? 'Modifier' : 'Ajouter'} un emprunteur</h3>\n                <button\n                  className=\"modal-close\"\n                  onClick={() => setShowAddModal(false)}\n                >\n                  <X size={20} />\n                </button>\n              </div>\n              \n              <form onSubmit={handleSubmit} className=\"add-form\">\n                <div className=\"form-section\">\n                  <label className=\"form-label\">Type d'emprunteur *</label>\n                  <div className=\"type-selector\">\n                    <button\n                      type=\"button\"\n                      className={`type-button ${borrower.type === 'student' ? 'active' : ''}`}\n                      onClick={() => setBorrower(prev => ({ ...prev, type: 'student' }))}\n                    >\n                      <GraduationCap size={20} />\n                      Étudiant\n                    </button>\n                    <button\n                      type=\"button\"\n                      className={`type-button ${borrower.type === 'staff' ? 'active' : ''}`}\n                      onClick={() => setBorrower(prev => ({ ...prev, type: 'staff' }))}\n                    >\n                      <Briefcase size={20} />\n                      Personnel\n                    </button>\n                  </div>\n                </div>\n\n                <div className=\"form-grid\">\n                  <div className=\"form-group\">\n                    <label className=\"form-label\">Prénom *</label>\n                    <input\n                      type=\"text\"\n                      value={borrower.firstName}\n                      onChange={(e) => {\n                        setBorrower(prev => ({ ...prev, firstName: e.target.value }));\n                        if (formErrors.firstName) {\n                          setFormErrors(prev => ({ ...prev, firstName: '' }));\n                        }\n                      }}\n                      className={`form-input ${formErrors.firstName ? 'error' : ''}`}\n                      required\n                    />\n                    {formErrors.firstName && <span className=\"error-text\">{formErrors.firstName}</span>}\n                  </div>\n                  \n                  <div className=\"form-group\">\n                    <label className=\"form-label\">Nom *</label>\n                    <input\n                      type=\"text\"\n                      value={borrower.lastName}\n                      onChange={(e) => {\n                        setBorrower(prev => ({ ...prev, lastName: e.target.value }));\n                        if (formErrors.lastName) {\n                          setFormErrors(prev => ({ ...prev, lastName: '' }));\n                        }\n                      }}\n                      className={`form-input ${formErrors.lastName ? 'error' : ''}`}\n                      required\n                    />\n                    {formErrors.lastName && <span className=\"error-text\">{formErrors.lastName}</span>}\n                  </div>\n                  \n                  <div className=\"form-group\">\n                    <label className=\"form-label\">Matricule *</label>\n                    <input\n                      type=\"text\"\n                      value={borrower.matricule}\n                      onChange={(e) => {\n                        setBorrower(prev => ({ ...prev, matricule: e.target.value }));\n                        if (formErrors.matricule) {\n                          setFormErrors(prev => ({ ...prev, matricule: '' }));\n                        }\n                      }}\n                      className={`form-input ${formErrors.matricule ? 'error' : ''}`}\n                      required\n                    />\n                    {formErrors.matricule && <span className=\"error-text\">{formErrors.matricule}</span>}\n                  </div>\n                  \n                  {borrower.type === 'student' ? (\n                    <div className=\"form-group\">\n                      <label className=\"form-label\">Classe</label>\n                      <input\n                        type=\"text\"\n                        value={borrower.classe}\n                        onChange={(e) => setBorrower(prev => ({ ...prev, classe: e.target.value }))}\n                        className=\"form-input\"\n                        placeholder=\"ex: Terminale C\"\n                      />\n                    </div>\n                  ) : (\n                    <>\n                      <div className=\"form-group\">\n                        <label className=\"form-label\">N° CNI</label>\n                        <input\n                          type=\"text\"\n                          value={borrower.cniNumber}\n                          onChange={(e) => setBorrower(prev => ({ ...prev, cniNumber: e.target.value }))}\n                          className=\"form-input\"\n                        />\n                      </div>\n                      <div className=\"form-group span-full\">\n                        <label className=\"form-label\">Poste</label>\n                        <input\n                          type=\"text\"\n                          value={borrower.position}\n                          onChange={(e) => setBorrower(prev => ({ ...prev, position: e.target.value }))}\n                          className=\"form-input\"\n                          placeholder=\"ex: Professeur de Mathématiques\"\n                        />\n                      </div>\n                    </>\n                  )}\n                  \n                  <div className=\"form-group\">\n                    <label className=\"form-label\">Email</label>\n                    <input\n                      type=\"email\"\n                      value={borrower.email}\n                      onChange={(e) => {\n                        setBorrower(prev => ({ ...prev, email: e.target.value }));\n                        if (formErrors.email) {\n                          setFormErrors(prev => ({ ...prev, email: '' }));\n                        }\n                      }}\n                      className={`form-input ${formErrors.email ? 'error' : ''}`}\n                    />\n                    {formErrors.email && <span className=\"error-text\">{formErrors.email}</span>}\n                  </div>\n                  \n                  <div className=\"form-group\">\n                    <label className=\"form-label\">Téléphone</label>\n                    <input\n                      type=\"tel\"\n                      value={borrower.phone}\n                      onChange={(e) => {\n                        setBorrower(prev => ({ ...prev, phone: e.target.value }));\n                        if (formErrors.phone) {\n                          setFormErrors(prev => ({ ...prev, phone: '' }));\n                        }\n                      }}\n                      className={`form-input ${formErrors.phone ? 'error' : ''}`}\n                    />\n                    {formErrors.phone && <span className=\"error-text\">{formErrors.phone}</span>}\n                  </div>\n                </div>\n                \n                <div className=\"form-actions\">\n                  <button\n                    type=\"button\"\n                    className=\"btn-secondary\"\n                    onClick={() => setShowAddModal(false)}\n                    disabled={isLoading}\n                  >\n                    Annuler\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"btn-primary\"\n                    disabled={isLoading}\n                  >\n                    <Save size={16} />\n                    {isLoading ? 'Enregistrement...' : editingBorrower ? 'Modifier' : 'Ajouter'}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <style>{`\n        .borrowers-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.7);\n          backdrop-filter: blur(8px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 20px;\n        }\n        \n        .borrowers-modal {\n          background: #FFFFFF;\n          border-radius: 24px;\n          width: 100%;\n          max-width: 1200px;\n          max-height: 90vh;\n          overflow: hidden;\n          display: flex;\n          flex-direction: column;\n          box-shadow: \n            0 24px 48px rgba(62, 92, 73, 0.2),\n            0 8px 24px rgba(62, 92, 73, 0.12);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n        \n        .modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 32px;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n        }\n        \n        .header-content {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n        }\n        \n        .header-icon {\n          width: 56px;\n          height: 56px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .modal-title {\n          font-size: 24px;\n          font-weight: 800;\n          margin: 0 0 4px 0;\n        }\n        \n        .modal-subtitle {\n          font-size: 14px;\n          opacity: 0.9;\n          margin: 0;\n        }\n        \n        .close-button {\n          background: rgba(243, 238, 217, 0.15);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n        \n        .close-button:hover {\n          background: rgba(243, 238, 217, 0.25);\n        }\n        \n        .stats-section {\n          display: flex;\n          gap: 20px;\n          padding: 24px 32px;\n          background: #F3EED9;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .stat-card {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          background: #FFFFFF;\n          padding: 16px 20px;\n          border-radius: 12px;\n          box-shadow: 0 2px 8px rgba(62, 92, 73, 0.08);\n          flex: 1;\n        }\n        \n        .stat-icon {\n          width: 40px;\n          height: 40px;\n          border-radius: 10px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #FFFFFF;\n        }\n        \n        .stat-icon.student {\n          background: #3E5C49;\n        }\n        \n        .stat-icon.staff {\n          background: #C2571B;\n        }\n        \n        .stat-icon.total {\n          background: #6E6E6E;\n        }\n        \n        .stat-value {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          display: block;\n        }\n        \n        .stat-label {\n          font-size: 12px;\n          color: #6E6E6E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .controls-section {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 24px 32px;\n          border-bottom: 1px solid #E5DCC2;\n          background: #FFFFFF;\n        }\n        \n        .search-container {\n          flex: 1;\n          max-width: 400px;\n        }\n        \n        .search-input-wrapper {\n          position: relative;\n          display: flex;\n          align-items: center;\n        }\n        \n        .search-icon {\n          position: absolute;\n          left: 16px;\n          color: #6E6E6E;\n          z-index: 2;\n        }\n        \n        .search-input {\n          width: 100%;\n          height: 48px;\n          padding: 0 48px 0 48px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          font-size: 16px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n        }\n        \n        .search-input:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n        \n        .clear-search {\n          position: absolute;\n          right: 16px;\n          background: none;\n          border: none;\n          cursor: pointer;\n          color: #6E6E6E;\n          padding: 4px;\n          border-radius: 4px;\n          transition: all 0.2s ease;\n        }\n        \n        .clear-search:hover {\n          color: #2E2E2E;\n          background: #F3EED9;\n        }\n        \n        .controls-right {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n        }\n        \n        .filter-group {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          color: #6E6E6E;\n        }\n        \n        .filter-select {\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          padding: 8px 12px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          font-size: 14px;\n          cursor: pointer;\n        }\n        \n        .filter-select:focus {\n          outline: none;\n          border-color: #3E5C49;\n        }\n        \n        .btn-primary {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 20px;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n          border: none;\n          border-radius: 12px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n        \n        .btn-primary:hover {\n          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);\n          transform: translateY(-1px);\n        }\n        \n        .borrowers-content {\n          flex: 1;\n          overflow-y: auto;\n          padding: 32px;\n        }\n        \n        .borrowers-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n          gap: 20px;\n        }\n        \n        .borrower-card {\n          background: #FFFFFF;\n          border-radius: 16px;\n          border: 1px solid #E5DCC2;\n          overflow: hidden;\n          transition: all 0.3s ease;\n          position: relative;\n        }\n        \n        .borrower-card::before {\n          content: '';\n          position: absolute;\n          left: 0;\n          top: 0;\n          bottom: 0;\n          width: 4px;\n          background: #3E5C49;\n        }\n        \n        .borrower-card.staff::before {\n          background: #C2571B;\n        }\n        \n        .borrower-card:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 12px 32px rgba(62, 92, 73, 0.15);\n        }\n        \n        .card-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 16px 20px;\n          background: #F3EED9;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .borrower-type {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 12px;\n          font-weight: 600;\n          color: #6E6E6E;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n        \n        .card-actions {\n          display: flex;\n          gap: 4px;\n        }\n        \n        .action-btn {\n          width: 32px;\n          height: 32px;\n          border: none;\n          border-radius: 8px;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s ease;\n        }\n        \n        .action-btn.view {\n          background: #F3EED9;\n          color: #6E6E6E;\n        }\n        \n        .action-btn.view:hover {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .action-btn.edit {\n          background: rgba(62, 92, 73, 0.1);\n          color: #3E5C49;\n        }\n        \n        .action-btn.edit:hover {\n          background: #3E5C49;\n          color: #F3EED9;\n        }\n        \n        .action-btn.delete {\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n        }\n        \n        .action-btn.delete:hover {\n          background: #C2571B;\n          color: #F3EED9;\n        }\n        \n        .card-content {\n          padding: 20px;\n        }\n        \n        .borrower-name {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n        }\n        \n        .borrower-details {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        \n        .detail-item {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 14px;\n          color: #6E6E6E;\n        }\n        \n        .empty-state {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          padding: 80px 32px;\n          text-align: center;\n          color: #6E6E6E;\n        }\n        \n        .empty-state h3 {\n          font-size: 20px;\n          font-weight: 700;\n          margin: 16px 0 8px 0;\n          color: #2E2E2E;\n        }\n        \n        .empty-state p {\n          margin: 0;\n          font-size: 14px;\n        }\n        \n        /* Add Modal */\n        .add-modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.8);\n          backdrop-filter: blur(4px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1100;\n          padding: 20px;\n        }\n        \n        .add-modal {\n          background: #FFFFFF;\n          border-radius: 20px;\n          width: 100%;\n          max-width: 600px;\n          max-height: 90vh;\n          overflow-y: auto;\n          box-shadow: 0 20px 40px rgba(62, 92, 73, 0.2);\n        }\n        \n        .add-modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 24px 32px;\n          border-bottom: 1px solid #E5DCC2;\n          background: #F3EED9;\n        }\n        \n        .add-modal-header h3 {\n          font-size: 20px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0;\n        }\n        \n        .modal-close {\n          background: rgba(110, 110, 110, 0.1);\n          border: none;\n          cursor: pointer;\n          padding: 8px;\n          border-radius: 8px;\n          color: #6E6E6E;\n          transition: all 0.2s ease;\n        }\n        \n        .modal-close:hover {\n          background: rgba(110, 110, 110, 0.2);\n          color: #2E2E2E;\n        }\n        \n        .add-form {\n          padding: 32px;\n        }\n        \n        .form-section {\n          margin-bottom: 24px;\n        }\n        \n        .form-label {\n          display: block;\n          font-size: 14px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin-bottom: 8px;\n        }\n        \n        .type-selector {\n          display: flex;\n          gap: 12px;\n        }\n        \n        .type-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 16px 20px;\n          border: 2px solid #E5DCC2;\n          border-radius: 12px;\n          background: #FFFFFF;\n          color: #6E6E6E;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-size: 14px;\n          font-weight: 500;\n          flex: 1;\n          justify-content: center;\n        }\n        \n        .type-button:hover {\n          border-color: #3E5C49;\n          color: #3E5C49;\n        }\n        \n        .type-button.active {\n          border-color: #3E5C49;\n          background: #3E5C49;\n          color: #F3EED9;\n        }\n        \n        .form-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 20px;\n          margin-bottom: 24px;\n        }\n        \n        .form-group {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        \n        .form-group.span-full {\n          grid-column: 1 / -1;\n        }\n        \n        .form-input {\n          width: 100%;\n          padding: 12px 16px;\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          font-size: 14px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n        }\n        \n        .form-input:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n        \n        .form-input.error {\n          border-color: #C2571B;\n          background: rgba(194, 87, 27, 0.05);\n        }\n        \n        .error-text {\n          font-size: 12px;\n          color: #C2571B;\n          font-weight: 500;\n        }\n        \n        .form-actions {\n          display: flex;\n          gap: 12px;\n          justify-content: flex-end;\n          padding-top: 24px;\n          border-top: 1px solid #E5DCC2;\n        }\n        \n        .btn-secondary {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 20px;\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          font-size: 14px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .btn-secondary:hover:not(:disabled) {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .btn-primary:disabled,\n        .btn-secondary:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n        \n        /* Responsive */\n        @media (max-width: 768px) {\n          .borrowers-modal {\n            margin: 12px;\n            border-radius: 20px;\n          }\n          \n          .modal-header {\n            padding: 20px;\n            flex-direction: column;\n            gap: 16px;\n            text-align: center;\n          }\n          \n          .stats-section {\n            padding: 16px 20px;\n            flex-direction: column;\n            gap: 12px;\n          }\n          \n          .controls-section {\n            padding: 16px 20px;\n            flex-direction: column;\n            gap: 16px;\n            align-items: stretch;\n          }\n          \n          .controls-right {\n            justify-content: space-between;\n          }\n          \n          .borrowers-content {\n            padding: 16px 20px;\n          }\n          \n          .borrowers-grid {\n            grid-template-columns: 1fr;\n            gap: 16px;\n          }\n          \n          .form-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .type-selector {\n            flex-direction: column;\n          }\n          \n          .form-actions {\n            flex-direction: column-reverse;\n          }\n          \n          .btn-primary,\n          .btn-secondary {\n            width: 100%;\n            justify-content: center;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .add-modal {\n            margin: 8px;\n            border-radius: 16px;\n          }\n          \n          .add-modal-header,\n          .add-form {\n            padding: 20px 16px;\n          }\n          \n          .borrower-card {\n            border-radius: 12px;\n          }\n          \n          .card-header,\n          .card-content {\n            padding: 16px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};","import React, { useState } from 'react';\r\nimport { \r\n  Book, \r\n  BookOpen, \r\n  Users, \r\n  Tag, \r\n  TrendingUp, \r\n  Clock,\r\n  Plus,\r\n  Search,\r\n  Printer,\r\n  ArrowRight,\r\n  Star,\r\n  Activity,\r\n  Calendar,\r\n  Eye\r\n} from 'lucide-react';\r\nimport { Stats } from '../../preload';\r\nimport { PrintManager } from './PrintManager';\r\n\r\ninterface DashboardProps {\r\n  stats: Stats;\r\n  onNavigate: (view: 'dashboard' | 'books' | 'borrowed' | 'add-book') => void;\r\n  books?: any[];\r\n  categories?: any[];\r\n}\r\n\r\nexport const Dashboard: React.FC<DashboardProps> = ({ \r\n  stats, \r\n  onNavigate, \r\n  books = [], \r\n  categories = [] \r\n}) => {\r\n  const [showPrintManager, setShowPrintManager] = useState(false);\r\n\r\n  const heroActions = [\r\n    {\r\n      title: 'Ajouter un livre',\r\n      description: 'Enrichissez votre collection',\r\n      icon: Plus,\r\n      action: () => onNavigate('add-book'),\r\n      primary: true\r\n    },\r\n    {\r\n      title: 'Parcourir la collection',\r\n      description: 'Explorer tous les livres',\r\n      icon: Search,\r\n      action: () => onNavigate('books'),\r\n      primary: false\r\n    }\r\n  ];\r\n\r\n  const quickActions = [\r\n    {\r\n      title: 'Collection complète',\r\n      description: `${stats.totalBooks} livres disponibles`,\r\n      icon: Book,\r\n      action: () => onNavigate('books'),\r\n      color: '#3E5C49'\r\n    },\r\n    {\r\n      title: 'Gérer les emprunts',\r\n      description: `${stats.borrowedBooks} livre(s) emprunté(s)`,\r\n      icon: BookOpen,\r\n      action: () => onNavigate('borrowed'),\r\n      color: '#C2571B',\r\n      badge: stats.borrowedBooks > 0\r\n    },\r\n    {\r\n      title: 'Rapports & Export',\r\n      description: 'Imprimer les inventaires',\r\n      icon: Printer,\r\n      action: () => setShowPrintManager(true),\r\n      color: '#6E6E6E'\r\n    }\r\n  ];\r\n\r\n  const mainStats = [\r\n    {\r\n      title: 'Total des livres',\r\n      value: stats.totalBooks,\r\n      icon: Book,\r\n      color: '#3E5C49',\r\n      trend: '+2 ce mois'\r\n    },\r\n    {\r\n      title: 'Disponibles',\r\n      value: stats.availableBooks,\r\n      icon: BookOpen,\r\n      color: '#3E5C49',\r\n      percentage: stats.totalBooks > 0 ? ((stats.availableBooks / stats.totalBooks) * 100).toFixed(0) : 0\r\n    },\r\n    {\r\n      title: 'Empruntés',\r\n      value: stats.borrowedBooks,\r\n      icon: Clock,\r\n      color: '#C2571B',\r\n      percentage: stats.totalBooks > 0 ? ((stats.borrowedBooks / stats.totalBooks) * 100).toFixed(0) : 0\r\n    },\r\n    {\r\n      title: 'Auteurs',\r\n      value: stats.totalAuthors,\r\n      icon: Users,\r\n      color: '#6E6E6E',\r\n      trend: 'Actifs'\r\n    }\r\n  ];\r\n\r\n  const recentActivity = [\r\n    {\r\n      type: 'add',\r\n      title: 'Nouveau livre ajouté',\r\n      description: 'Les Misérables par Victor Hugo',\r\n      time: 'Il y a 2 heures',\r\n      icon: Plus\r\n    },\r\n    {\r\n      type: 'borrow',\r\n      title: 'Livre emprunté',\r\n      description: 'Fondation par Isaac Asimov',\r\n      time: 'Il y a 1 jour',\r\n      icon: BookOpen\r\n    },\r\n    {\r\n      type: 'return',\r\n      title: 'Livre rendu',\r\n      description: 'L\\'Étranger par Albert Camus',\r\n      time: 'Il y a 2 jours',\r\n      icon: Activity\r\n    }\r\n  ];\r\n\r\n  const borrowRate = stats.totalBooks > 0 ? (stats.borrowedBooks / stats.totalBooks * 100).toFixed(1) : 0;\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      {/* Hero Section */}\r\n      <div className=\"hero-section\">\r\n        <div className=\"hero-content\">\r\n          <div className=\"hero-text\">\r\n            <h1 className=\"hero-title\">Bienvenue dans votre bibliothèque</h1>\r\n            <p className=\"hero-subtitle\">\r\n              Gérez votre collection de {stats.totalBooks} livres avec facilité et élégance\r\n            </p>\r\n            <div className=\"hero-actions\">\r\n              {heroActions.map((action, index) => (\r\n                <button\r\n                  key={index}\r\n                  className={`hero-button ${action.primary ? 'primary' : 'secondary'}`}\r\n                  onClick={action.action}\r\n                >\r\n                  <action.icon size={18} />\r\n                  <span>{action.title}</span>\r\n                  <ArrowRight size={16} />\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"hero-visual\">\r\n            <div className=\"floating-card\">\r\n              <div className=\"card-header\">\r\n                <BookOpen size={24} />\r\n                <span>Collection</span>\r\n              </div>\r\n              <div className=\"card-stats\">\r\n                <div className=\"stat\">\r\n                  <span className=\"stat-number\">{stats.totalBooks}</span>\r\n                  <span className=\"stat-label\">Livres</span>\r\n                </div>\r\n                <div className=\"stat\">\r\n                  <span className=\"stat-number\">{stats.borrowedBooks}</span>\r\n                  <span className=\"stat-label\">Empruntés</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"dashboard-content\">\r\n        {/* Main Stats Grid */}\r\n        <div className=\"stats-section\">\r\n          <div className=\"section-header\">\r\n            <h2 className=\"section-title\">Vue d'ensemble</h2>\r\n            <div className=\"section-subtitle\">Statistiques de votre bibliothèque</div>\r\n          </div>\r\n          \r\n          <div className=\"stats-grid\">\r\n            {mainStats.map((stat, index) => (\r\n              <div key={index} className=\"stat-card card-elevated\">\r\n                <div className=\"stat-header\">\r\n                  <div className=\"stat-icon\" style={{ color: stat.color }}>\r\n                    <stat.icon size={24} />\r\n                  </div>\r\n                  \r\n                </div>\r\n                <div className=\"stat-content\">\r\n                    {stat.trend && <span className=\"stat-trend\">{stat.trend}</span>}\r\n                    {stat.percentage && <span className=\"stat-percentage\">{stat.percentage}%</span>}\r\n                  <div className=\"stat-value\">{stat.value}</div>\r\n                  <div className=\"stat-title\">{stat.title}</div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"dashboard-grid\">\r\n          {/* Quick Actions */}\r\n          <div className=\"quick-actions-section\">\r\n            <div className=\"section-header\">\r\n              <h3 className=\"section-title\">Actions rapides</h3>\r\n            </div>\r\n            \r\n            <div className=\"actions-grid\">\r\n              {quickActions.map((action, index) => (\r\n                <button\r\n                  key={index}\r\n                  className=\"action-card card-elevated\"\r\n                  onClick={action.action}\r\n                >\r\n                  <div className=\"action-icon\" style={{ backgroundColor: action.color }}>\r\n                    <action.icon size={20} />\r\n                    {action.badge && <div className=\"action-badge\"></div>}\r\n                  </div>\r\n                  <div className=\"action-content\">\r\n                    <div className=\"action-title\">{action.title}</div>\r\n                    <div className=\"action-description\">{action.description}</div>\r\n                  </div>\r\n                  <ArrowRight size={16} className=\"action-arrow\" />\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Progress Overview */}\r\n          <div className=\"progress-section\">\r\n            <div className=\"section-header\">\r\n              <h3 className=\"section-title\">Utilisation</h3>\r\n            </div>\r\n            \r\n            <div className=\"progress-card card\">\r\n              <div className=\"progress-item\">\r\n                <div className=\"progress-header\">\r\n                  <span className=\"progress-label\">Taux d'emprunt</span>\r\n                  <span className=\"progress-value\">{borrowRate}%</span>\r\n                </div>\r\n                <div className=\"progress-bar\">\r\n                  <div \r\n                    className=\"progress-fill\" \r\n                    style={{ width: `${borrowRate}%` }}\r\n                  ></div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"progress-metrics\">\r\n                <div className=\"metric\">\r\n                  <TrendingUp size={16} />\r\n                  <span>Tendance stable</span>\r\n                </div>\r\n                <div className=\"metric\">\r\n                  <Calendar size={16} />\r\n                  <span>Mis à jour maintenant</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Recent Activity */}\r\n        <div className=\"activity-section\">\r\n          <div className=\"section-header\">\r\n            <h3 className=\"section-title\">Activité récente</h3>\r\n            <button className=\"view-all-button\">\r\n              <Eye size={16} />\r\n              Voir tout\r\n            </button>\r\n          </div>\r\n          \r\n          <div className=\"activity-list card\">\r\n            {recentActivity.map((activity, index) => (\r\n              <div key={index} className=\"activity-item\">\r\n                <div className=\"activity-icon\">\r\n                  <activity.icon size={16} />\r\n                </div>\r\n                <div className=\"activity-content\">\r\n                  <div className=\"activity-title\">{activity.title}</div>\r\n                  <div className=\"activity-description\">{activity.description}</div>\r\n                </div>\r\n                <div className=\"activity-time\">{activity.time}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {showPrintManager && (\r\n        <PrintManager\r\n          books={books}\r\n          stats={stats}\r\n          categories={categories}\r\n          onClose={() => setShowPrintManager(false)}\r\n        />\r\n      )}\r\n\r\n      <style>{`\r\n        .dashboard {\r\n          height: 100%;\r\n          overflow-y: auto;\r\n          background: #FAF9F6;\r\n        }\r\n        \r\n        .hero-section {\r\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\r\n          color: #F3EED9;\r\n          padding: 48px 32px;\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .hero-section::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          right: 0;\r\n          width: 50%;\r\n          height: 100%;\r\n          background: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><defs><pattern id=\"grain\" width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\"><circle cx=\"20\" cy=\"20\" r=\"1\" fill=\"%23F3EED9\" opacity=\"0.05\"/><circle cx=\"60\" cy=\"40\" r=\"1\" fill=\"%23F3EED9\" opacity=\"0.03\"/><circle cx=\"80\" cy=\"80\" r=\"1\" fill=\"%23F3EED9\" opacity=\"0.04\"/></pattern></defs><rect width=\"100\" height=\"100\" fill=\"url(%23grain)\"/></svg>');\r\n          opacity: 0.3;\r\n        }\r\n        \r\n        .hero-content {\r\n          display: grid;\r\n          grid-template-columns: 1fr 300px;\r\n          gap: 48px;\r\n          align-items: center;\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n        \r\n        .hero-title {\r\n          font-size: 36px;\r\n          font-weight: 800;\r\n          margin: 0 0 16px 0;\r\n          line-height: 1.2;\r\n          letter-spacing: -0.5px;\r\n        }\r\n        \r\n        .hero-subtitle {\r\n          font-size: 18px;\r\n          opacity: 0.9;\r\n          margin: 0 0 32px 0;\r\n          line-height: 1.5;\r\n        }\r\n        \r\n        .hero-actions {\r\n          display: flex;\r\n          gap: 16px;\r\n          flex-wrap: wrap;\r\n        }\r\n        \r\n        .hero-button {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          padding: 16px 24px;\r\n          border: none;\r\n          border-radius: 12px;\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .hero-button.primary {\r\n          background: #C2571B;\r\n          color: #F3EED9;\r\n        }\r\n        \r\n        .hero-button.primary:hover {\r\n          background: #A8481A;\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);\r\n        }\r\n        \r\n        .hero-button.secondary {\r\n          background: rgba(243, 238, 217, 0.15);\r\n          color: #F3EED9;\r\n          border: 1px solid rgba(243, 238, 217, 0.3);\r\n        }\r\n        \r\n        .hero-button.secondary:hover {\r\n          background: rgba(243, 238, 217, 0.25);\r\n          transform: translateY(-2px);\r\n        }\r\n        \r\n        .hero-visual {\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n        }\r\n        \r\n        .floating-card {\r\n          background: rgba(243, 238, 217, 0.1);\r\n          backdrop-filter: blur(10px);\r\n          border: 1px solid rgba(243, 238, 217, 0.2);\r\n          border-radius: 16px;\r\n          padding: 24px;\r\n          width: 100%;\r\n          animation: float 6s ease-in-out infinite;\r\n        }\r\n        \r\n        @keyframes float {\r\n          0%, 100% { transform: translateY(0px); }\r\n          50% { transform: translateY(-10px); }\r\n        }\r\n        \r\n        .card-header {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          margin-bottom: 20px;\r\n          font-weight: 600;\r\n          font-size: 16px;\r\n        }\r\n        \r\n        .card-stats {\r\n          display: flex;\r\n          justify-content: space-between;\r\n        }\r\n        \r\n        .stat {\r\n          text-align: center;\r\n        }\r\n        \r\n        .stat-number {\r\n          display: block;\r\n          font-size: 28px;\r\n          font-weight: 800;\r\n          line-height: 1;\r\n          margin-bottom: 4px;\r\n        }\r\n        \r\n        .stat-label {\r\n          font-size: 12px;\r\n          opacity: 0.8;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.5px;\r\n        }\r\n        \r\n        .dashboard-content {\r\n          padding: 32px;\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n        }\r\n        \r\n        .section-header {\r\n          margin-bottom: 24px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n        }\r\n        \r\n        .section-title {\r\n          font-size: 24px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0;\r\n          letter-spacing: -0.3px;\r\n        }\r\n        \r\n        .section-subtitle {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          margin-top: 4px;\r\n        }\r\n        \r\n        .stats-section {\r\n          margin-bottom: 48px;\r\n        }\r\n        \r\n        .stats-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\r\n          gap: 24px;\r\n        }\r\n        \r\n        .stat-card {\r\n          padding: 24px;\r\n          border-radius: 16px;\r\n          background: #FFFFFF;\r\n        }\r\n        \r\n        .stat-header {\r\n          display: flex;\r\n          align-items: flex-start;\r\n          justify-content: space-between;\r\n          margin-bottom: 16px;\r\n        }\r\n        \r\n        .stat-icon {\r\n          padding: 12px;\r\n          background: rgba(62, 92, 73, 0.1);\r\n          border-radius: 12px;\r\n        }\r\n        \r\n        .stat-meta {\r\n          text-align: right;\r\n          font-size: 12px;\r\n        }\r\n        \r\n        .stat-trend {\r\n          color: #3E5C49;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .stat-percentage {\r\n          color: #6E6E6E;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .stat-value {\r\n          font-size: 32px;\r\n          font-weight: 800;\r\n          color: #2E2E2E;\r\n          line-height: 1;\r\n          margin-bottom: 8px;\r\n        }\r\n        \r\n        .stat-title {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          font-weight: 500;\r\n        }\r\n        \r\n        .dashboard-grid {\r\n          display: grid;\r\n          grid-template-columns: 2fr 1fr;\r\n          gap: 32px;\r\n          margin-bottom: 48px;\r\n        }\r\n        \r\n        .actions-grid {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 16px;\r\n        }\r\n        \r\n        .action-card {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 20px;\r\n          padding: 20px;\r\n          background: #FFFFFF;\r\n          border: none;\r\n          border-radius: 16px;\r\n          cursor: pointer;\r\n          text-align: left;\r\n          transition: all 0.3s ease;\r\n          position: relative;\r\n        }\r\n        \r\n        .action-card:hover {\r\n          transform: translateX(4px);\r\n        }\r\n        \r\n        .action-icon {\r\n          width: 48px;\r\n          height: 48px;\r\n          border-radius: 12px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #FFFFFF;\r\n          flex-shrink: 0;\r\n          position: relative;\r\n        }\r\n        \r\n        .action-badge {\r\n          position: absolute;\r\n          top: -4px;\r\n          right: -4px;\r\n          width: 12px;\r\n          height: 12px;\r\n          background: #C2571B;\r\n          border-radius: 50%;\r\n          border: 2px solid #FFFFFF;\r\n          animation: pulse 2s infinite;\r\n        }\r\n        \r\n        .action-content {\r\n          flex: 1;\r\n        }\r\n        \r\n        .action-title {\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n          color: #2E2E2E;\r\n          margin-bottom: 4px;\r\n        }\r\n        \r\n        .action-description {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .action-arrow {\r\n          color: #6E6E6E;\r\n          transition: transform 0.2s ease;\r\n        }\r\n        \r\n        .action-card:hover .action-arrow {\r\n          transform: translateX(4px);\r\n        }\r\n        \r\n        .progress-card {\r\n          padding: 24px;\r\n          background: #FFFFFF;\r\n          border-radius: 16px;\r\n        }\r\n        \r\n        .progress-item {\r\n          margin-bottom: 20px;\r\n        }\r\n        \r\n        .progress-header {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin-bottom: 12px;\r\n        }\r\n        \r\n        .progress-label {\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          color: #2E2E2E;\r\n        }\r\n        \r\n        .progress-value {\r\n          font-size: 18px;\r\n          font-weight: 700;\r\n          color: #3E5C49;\r\n        }\r\n        \r\n        .progress-bar {\r\n          width: 100%;\r\n          height: 8px;\r\n          background: #F3EED9;\r\n          border-radius: 4px;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .progress-fill {\r\n          height: 100%;\r\n          background: linear-gradient(90deg, #3E5C49, #C2571B);\r\n          transition: width 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);\r\n        }\r\n        \r\n        .progress-metrics {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 12px;\r\n        }\r\n        \r\n        .metric {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          font-size: 12px;\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .activity-list {\r\n          background: #FFFFFF;\r\n          border-radius: 16px;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .activity-item {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 16px;\r\n          padding: 20px;\r\n          border-bottom: 1px solid #F3EED9;\r\n        }\r\n        \r\n        .activity-item:last-child {\r\n          border-bottom: none;\r\n        }\r\n        \r\n        .activity-icon {\r\n          width: 40px;\r\n          height: 40px;\r\n          background: #F3EED9;\r\n          border-radius: 10px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #3E5C49;\r\n          flex-shrink: 0;\r\n        }\r\n        \r\n        .activity-content {\r\n          flex: 1;\r\n        }\r\n        \r\n        .activity-title {\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          color: #2E2E2E;\r\n          margin-bottom: 4px;\r\n        }\r\n        \r\n        .activity-description {\r\n          font-size: 13px;\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .activity-time {\r\n          font-size: 12px;\r\n          color: #6E6E6E;\r\n          text-align: right;\r\n        }\r\n        \r\n        .view-all-button {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          padding: 8px 16px;\r\n          background: #F3EED9;\r\n          border: none;\r\n          border-radius: 8px;\r\n          color: #3E5C49;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n        }\r\n        \r\n        .view-all-button:hover {\r\n          background: #EAEADC;\r\n          transform: translateY(-1px);\r\n        }\r\n        \r\n        /* Responsive Design */\r\n        @media (max-width: 1024px) {\r\n          .hero-content {\r\n            grid-template-columns: 1fr;\r\n            gap: 32px;\r\n            text-align: center;\r\n          }\r\n          \r\n          .dashboard-grid {\r\n            grid-template-columns: 1fr;\r\n            gap: 24px;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n          .hero-section {\r\n            padding: 32px 16px;\r\n          }\r\n          \r\n          .hero-title {\r\n            font-size: 28px;\r\n          }\r\n          \r\n          .hero-subtitle {\r\n            font-size: 16px;\r\n          }\r\n          \r\n          .hero-actions {\r\n            justify-content: center;\r\n          }\r\n          \r\n          .dashboard-content {\r\n            padding: 16px;\r\n          }\r\n          \r\n          .stats-grid {\r\n            grid-template-columns: 1fr;\r\n            gap: 16px;\r\n          }\r\n          \r\n          .section-title {\r\n            font-size: 20px;\r\n          }\r\n          \r\n          .floating-card {\r\n            padding: 16px;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 480px) {\r\n          .hero-button {\r\n            width: 100%;\r\n            justify-content: center;\r\n          }\r\n          \r\n          .action-card {\r\n            padding: 16px;\r\n          }\r\n          \r\n          .activity-item {\r\n            padding: 16px;\r\n          }\r\n          \r\n          .stat-card {\r\n            padding: 16px;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};","import React, { useState } from 'react';\r\nimport { \r\n  Heart, \r\n  X, \r\n  Coffee, \r\n  Gift, \r\n  Star,\r\n  CreditCard,\r\n  Smartphone,\r\n  Copy,\r\n  Check,\r\n  ArrowLeft,\r\n  Sparkles,\r\n  Users,\r\n  BookOpen,\r\n  Code\r\n} from 'lucide-react';\r\n\r\ninterface DonationProps {\r\n  onClose: () => void;\r\n}\r\n\r\nexport const Donation: React.FC<DonationProps> = ({ onClose }) => {\r\n  const [selectedAmount, setSelectedAmount] = useState<number | null>(1000);\r\n  const [customAmount, setCustomAmount] = useState('');\r\n  const [paymentMethod, setPaymentMethod] = useState<'momo' | 'card'>('momo');\r\n  const [copied, setCopied] = useState<string | null>(null);\r\n\r\n  const predefinedAmounts = [\r\n    { value: 500, label: '500 FCFA', icon: Coffee, description: 'Un café pour le dev' },\r\n    { value: 1000, label: '1 000 FCFA', icon: Heart, description: 'Petit soutien', popular: true },\r\n    { value: 2500, label: '2 500 FCFA', icon: Gift, description: 'Généreux donateur' },\r\n    { value: 5000, label: '5 000 FCFA', icon: Star, description: 'Super supporter' }\r\n  ];\r\n\r\n  const paymentMethods = [\r\n    {\r\n      id: 'momo' as const,\r\n      name: 'Mobile Money',\r\n      icon: Smartphone,\r\n      networks: [\r\n        { name: 'MTN MoMo', number: '+237 652 761 931', color: '#FFCC00' },\r\n        { name: 'Orange Money', number: '+237 652 761 931', color: '#FF6600' }\r\n      ]\r\n    },\r\n    {\r\n      id: 'card' as const,\r\n      name: 'Carte bancaire',\r\n      icon: CreditCard,\r\n      description: 'Paiement sécurisé via PayPal ou Stripe',\r\n      comingSoon: true\r\n    }\r\n  ];\r\n\r\n  const handleCopy = async (text: string, type: string) => {\r\n    try {\r\n      await navigator.clipboard.writeText(text);\r\n      setCopied(type);\r\n      setTimeout(() => setCopied(null), 2000);\r\n    } catch (err) {\r\n      console.error('Erreur lors de la copie:', err);\r\n    }\r\n  };\r\n\r\n  const finalAmount = selectedAmount || parseInt(customAmount) || 0;\r\n\r\n  return (\r\n    <div className=\"donation-page\">\r\n      {/* Hero Section */}\r\n      <div className=\"hero-section\">\r\n        <div className=\"hero-background\">\r\n          <div className=\"hero-pattern\"></div>\r\n        </div>\r\n        <div className=\"hero-content\">\r\n          <button className=\"back-button\" onClick={onClose}>\r\n            <ArrowLeft size={20} />\r\n            <span>Retour</span>\r\n          </button>\r\n          \r\n          <div className=\"hero-main\">\r\n            <div className=\"hero-icon\">\r\n              <Heart size={48} />\r\n            </div>\r\n            <div className=\"hero-text\">\r\n              <h1 className=\"hero-title\">Soutenez le projet Bibliothèque</h1>\r\n              <p className=\"hero-subtitle\">\r\n                Votre contribution aide à maintenir et améliorer ce système de gestion de bibliothèque gratuit\r\n              </p>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Impact Stats */}\r\n          <div className=\"impact-stats\">\r\n            <div className=\"impact-item\">\r\n              <Users size={24} />\r\n              <div className=\"impact-content\">\r\n                <span className=\"impact-number\">500+</span>\r\n                <span className=\"impact-label\">Bibliothèques utilisatrices</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"impact-item\">\r\n              <BookOpen size={24} />\r\n              <div className=\"impact-content\">\r\n                <span className=\"impact-number\">10K+</span>\r\n                <span className=\"impact-label\">Livres gérés</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"impact-item\">\r\n              <Code size={24} />\r\n              <div className=\"impact-content\">\r\n                <span className=\"impact-number\">100%</span>\r\n                <span className=\"impact-label\">Open Source</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"donation-content\">\r\n        {/* Amount Selection */}\r\n        <div className=\"section\">\r\n          <h2 className=\"section-title\">Choisir le montant</h2>\r\n          <p className=\"section-description\">\r\n            Chaque contribution, même petite, fait une grande différence pour le développement du projet\r\n          </p>\r\n          \r\n          <div className=\"amounts-grid\">\r\n            {predefinedAmounts.map((amount) => (\r\n              <button\r\n                key={amount.value}\r\n                className={`amount-card ${selectedAmount === amount.value ? 'selected' : ''} ${amount.popular ? 'popular' : ''}`}\r\n                onClick={() => {\r\n                  setSelectedAmount(amount.value);\r\n                  setCustomAmount('');\r\n                }}\r\n              >\r\n                {amount.popular && (\r\n                  <div className=\"popular-badge\">\r\n                    <Sparkles size={12} />\r\n                    Populaire\r\n                  </div>\r\n                )}\r\n                <div className=\"amount-icon\">\r\n                  <amount.icon size={24} />\r\n                </div>\r\n                <div className=\"amount-value\">{amount.label}</div>\r\n                <div className=\"amount-description\">{amount.description}</div>\r\n              </button>\r\n            ))}\r\n          </div>\r\n          \r\n          <div className=\"custom-amount\">\r\n            <label className=\"custom-label\">Ou entrez un montant personnalisé</label>\r\n            <div className=\"custom-input-group\">\r\n              <input\r\n                type=\"number\"\r\n                value={customAmount}\r\n                onChange={(e) => {\r\n                  setCustomAmount(e.target.value);\r\n                  setSelectedAmount(null);\r\n                }}\r\n                placeholder=\"0\"\r\n                className=\"custom-input\"\r\n                min=\"100\"\r\n              />\r\n              <span className=\"currency\">FCFA</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Payment Methods */}\r\n        <div className=\"section\">\r\n          <h2 className=\"section-title\">Méthode de paiement</h2>\r\n          <p className=\"section-description\">\r\n            Choisissez votre mode de paiement préféré\r\n          </p>\r\n          \r\n          <div className=\"payment-methods\">\r\n            {paymentMethods.map((method) => (\r\n              <button\r\n                key={method.id}\r\n                className={`payment-method ${paymentMethod === method.id ? 'selected' : ''} ${method.comingSoon ? 'disabled' : ''}`}\r\n                onClick={() => !method.comingSoon && setPaymentMethod(method.id)}\r\n                disabled={method.comingSoon}\r\n              >\r\n                <div className=\"payment-icon\">\r\n                  <method.icon size={24} />\r\n                </div>\r\n                <div className=\"payment-content\">\r\n                  <div className=\"payment-name\">{method.name}</div>\r\n                  {method.description && (\r\n                    <div className=\"payment-description\">{method.description}</div>\r\n                  )}\r\n                  {method.comingSoon && (\r\n                    <div className=\"coming-soon-badge\">Bientôt disponible</div>\r\n                  )}\r\n                </div>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Payment Details */}\r\n        {finalAmount > 0 && paymentMethod === 'momo' && (\r\n          <div className=\"section\">\r\n            <h2 className=\"section-title\">Détails de paiement</h2>\r\n            <p className=\"section-description\">\r\n              Utilisez les informations ci-dessous pour effectuer votre don de {finalAmount.toLocaleString()} FCFA\r\n            </p>\r\n            \r\n            <div className=\"payment-networks\">\r\n              {paymentMethods[0].networks?.map((network, index) => (\r\n                <div key={index} className=\"network-card\">\r\n                  <div className=\"network-header\">\r\n                    <div \r\n                      className=\"network-indicator\"\r\n                      style={{ backgroundColor: network.color }}\r\n                    ></div>\r\n                    <span className=\"network-name\">{network.name}</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"network-details\">\r\n                    <div className=\"detail-item\">\r\n                      <span className=\"detail-label\">Numéro</span>\r\n                      <div className=\"detail-value\">\r\n                        <span className=\"phone-number\">{network.number}</span>\r\n                        <button\r\n                          className=\"copy-button\"\r\n                          onClick={() => handleCopy(network.number.replace(/\\s/g, ''), `${network.name}-number`)}\r\n                        >\r\n                          {copied === `${network.name}-number` ? (\r\n                            <Check size={16} />\r\n                          ) : (\r\n                            <Copy size={16} />\r\n                          )}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"detail-item\">\r\n                      <span className=\"detail-label\">Nom</span>\r\n                      <div className=\"detail-value\">\r\n                        <span>CHEUDJEU TEFOYE CEDRIC BASILIO</span>\r\n                        <button\r\n                          className=\"copy-button\"\r\n                          onClick={() => handleCopy('CHEUDJEU TEFOYE CEDRIC BASILIO', `${network.name}-name`)}\r\n                        >\r\n                          {copied === `${network.name}-name` ? (\r\n                            <Check size={16} />\r\n                          ) : (\r\n                            <Copy size={16} />\r\n                          )}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"detail-item\">\r\n                      <span className=\"detail-label\">Montant</span>\r\n                      <div className=\"detail-value amount-highlight\">\r\n                        {finalAmount.toLocaleString()} FCFA\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            \r\n            <div className=\"payment-note\">\r\n              <div className=\"note-icon\">\r\n                <Heart size={20} />\r\n              </div>\r\n              <div className=\"note-content\">\r\n                <h4>Merci pour votre soutien !</h4>\r\n                <p>\r\n                  Après votre transfert, n'hésitez pas à me contacter pour confirmer votre don et recevoir \r\n                  un reçu si nécessaire. Votre contribution sera utilisée pour améliorer et maintenir \r\n                  ce projet open source.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Why Donate */}\r\n        <div className=\"section\">\r\n          <h2 className=\"section-title\">Pourquoi faire un don ?</h2>\r\n          \r\n          <div className=\"why-donate-grid\">\r\n            <div className=\"why-card\">\r\n              <div className=\"why-icon\">\r\n                <Code size={24} />\r\n              </div>\r\n              <h3>Développement continu</h3>\r\n              <p>Financer de nouvelles fonctionnalités et l'amélioration du système</p>\r\n            </div>\r\n            \r\n            <div className=\"why-card\">\r\n              <div className=\"why-icon\">\r\n                <Heart size={24} />\r\n              </div>\r\n              <h3>Gratuit pour tous</h3>\r\n              <p>Maintenir le projet accessible gratuitement pour toutes les bibliothèques</p>\r\n            </div>\r\n            \r\n            <div className=\"why-card\">\r\n              <div className=\"why-icon\">\r\n                <Users size={24} />\r\n              </div>\r\n              <h3>Support communautaire</h3>\r\n              <p>Fournir une assistance technique et des formations aux utilisateurs</p>\r\n            </div>\r\n            \r\n            <div className=\"why-card\">\r\n              <div className=\"why-icon\">\r\n                <Sparkles size={24} />\r\n              </div>\r\n              <h3>Innovation</h3>\r\n              <p>Intégrer les dernières technologies pour une meilleure expérience</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <style>{`\r\n        .donation-page {\r\n          height: 100%;\r\n          overflow-y: auto;\r\n          background: #FAF9F6;\r\n        }\r\n        \r\n        .hero-section {\r\n          position: relative;\r\n          background: linear-gradient(135deg, #E91E63 0%, #C2185B 100%);\r\n          color: #F3EED9;\r\n          padding: 48px 32px;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .hero-background {\r\n          position: absolute;\r\n          inset: 0;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .hero-pattern {\r\n          position: absolute;\r\n          inset: 0;\r\n          background-image: \r\n            radial-gradient(circle at 25% 25%, rgba(243, 238, 217, 0.1) 0%, transparent 50%),\r\n            radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);\r\n          animation: drift 20s ease-in-out infinite;\r\n        }\r\n        \r\n        @keyframes drift {\r\n          0%, 100% { transform: translate(0, 0) rotate(0deg); }\r\n          33% { transform: translate(30px, -30px) rotate(1deg); }\r\n          66% { transform: translate(-20px, 20px) rotate(-1deg); }\r\n        }\r\n        \r\n        .hero-content {\r\n          position: relative;\r\n          z-index: 1;\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n        }\r\n        \r\n        .back-button {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          background: rgba(243, 238, 217, 0.15);\r\n          border: 1px solid rgba(243, 238, 217, 0.3);\r\n          color: #F3EED9;\r\n          padding: 12px 20px;\r\n          border-radius: 12px;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          margin-bottom: 32px;\r\n          width: fit-content;\r\n        }\r\n        \r\n        .back-button:hover {\r\n          background: rgba(243, 238, 217, 0.25);\r\n          transform: translateX(-4px);\r\n        }\r\n        \r\n        .hero-main {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 24px;\r\n          margin-bottom: 40px;\r\n          text-align: center;\r\n          flex-direction: column;\r\n        }\r\n        \r\n        .hero-icon {\r\n          width: 96px;\r\n          height: 96px;\r\n          background: rgba(243, 238, 217, 0.2);\r\n          border-radius: 24px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #F3EED9;\r\n          animation: heartbeat 3s ease-in-out infinite;\r\n        }\r\n        \r\n        .hero-title {\r\n          font-size: 42px;\r\n          font-weight: 800;\r\n          margin: 0 0 16px 0;\r\n          line-height: 1.2;\r\n          letter-spacing: -0.5px;\r\n        }\r\n        \r\n        .hero-subtitle {\r\n          font-size: 20px;\r\n          opacity: 0.9;\r\n          margin: 0;\r\n          line-height: 1.5;\r\n          max-width: 600px;\r\n        }\r\n        \r\n        .impact-stats {\r\n          display: flex;\r\n          justify-content: center;\r\n          gap: 40px;\r\n          flex-wrap: wrap;\r\n        }\r\n        \r\n        .impact-item {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 16px;\r\n          background: rgba(243, 238, 217, 0.1);\r\n          padding: 20px 24px;\r\n          border-radius: 16px;\r\n          backdrop-filter: blur(10px);\r\n          border: 1px solid rgba(243, 238, 217, 0.2);\r\n        }\r\n        \r\n        .impact-number {\r\n          font-size: 24px;\r\n          font-weight: 800;\r\n          color: #F3EED9;\r\n          display: block;\r\n          line-height: 1;\r\n        }\r\n        \r\n        .impact-label {\r\n          font-size: 14px;\r\n          color: rgba(243, 238, 217, 0.9);\r\n          margin-top: 4px;\r\n        }\r\n        \r\n        .donation-content {\r\n          padding: 48px 32px;\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n        }\r\n        \r\n        .section {\r\n          margin-bottom: 56px;\r\n        }\r\n        \r\n        .section-title {\r\n          font-size: 28px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0 0 8px 0;\r\n          letter-spacing: -0.3px;\r\n        }\r\n        \r\n        .section-description {\r\n          font-size: 16px;\r\n          color: #6E6E6E;\r\n          margin: 0 0 32px 0;\r\n          line-height: 1.6;\r\n        }\r\n        \r\n        .amounts-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n          gap: 20px;\r\n          margin-bottom: 32px;\r\n        }\r\n        \r\n        .amount-card {\r\n          background: #FFFFFF;\r\n          border: 2px solid #E5DCC2;\r\n          border-radius: 20px;\r\n          padding: 24px;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          text-align: center;\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .amount-card:hover {\r\n          border-color: #E91E63;\r\n          transform: translateY(-4px);\r\n          box-shadow: 0 12px 32px rgba(233, 30, 99, 0.15);\r\n        }\r\n        \r\n        .amount-card.selected {\r\n          border-color: #E91E63;\r\n          background: rgba(233, 30, 99, 0.05);\r\n          box-shadow: 0 8px 24px rgba(233, 30, 99, 0.2);\r\n        }\r\n        \r\n        .amount-card.popular {\r\n          border-color: #E91E63;\r\n        }\r\n        \r\n        .popular-badge {\r\n          position: absolute;\r\n          top: -8px;\r\n          left: 50%;\r\n          transform: translateX(-50%);\r\n          background: #E91E63;\r\n          color: #FFFFFF;\r\n          padding: 4px 12px;\r\n          border-radius: 12px;\r\n          font-size: 11px;\r\n          font-weight: 700;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 4px;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.5px;\r\n        }\r\n        \r\n        .amount-icon {\r\n          width: 48px;\r\n          height: 48px;\r\n          background: rgba(233, 30, 99, 0.1);\r\n          border-radius: 12px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #E91E63;\r\n          margin: 0 auto 16px;\r\n        }\r\n        \r\n        .amount-value {\r\n          font-size: 20px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin-bottom: 8px;\r\n        }\r\n        \r\n        .amount-description {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .custom-amount {\r\n          background: #FFFFFF;\r\n          border: 2px solid #E5DCC2;\r\n          border-radius: 16px;\r\n          padding: 24px;\r\n        }\r\n        \r\n        .custom-label {\r\n          display: block;\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n          color: #2E2E2E;\r\n          margin-bottom: 12px;\r\n        }\r\n        \r\n        .custom-input-group {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n        }\r\n        \r\n        .custom-input {\r\n          flex: 1;\r\n          padding: 16px;\r\n          border: 2px solid #E5DCC2;\r\n          border-radius: 12px;\r\n          font-size: 18px;\r\n          font-weight: 600;\r\n          text-align: right;\r\n        }\r\n        \r\n        .custom-input:focus {\r\n          outline: none;\r\n          border-color: #E91E63;\r\n        }\r\n        \r\n        .currency {\r\n          font-size: 18px;\r\n          font-weight: 600;\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .payment-methods {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 16px;\r\n        }\r\n        \r\n        .payment-method {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 20px;\r\n          background: #FFFFFF;\r\n          border: 2px solid #E5DCC2;\r\n          border-radius: 16px;\r\n          padding: 20px 24px;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          text-align: left;\r\n        }\r\n        \r\n        .payment-method.selected {\r\n          border-color: #E91E63;\r\n          background: rgba(233, 30, 99, 0.05);\r\n        }\r\n        \r\n        .payment-method.disabled {\r\n          opacity: 0.6;\r\n          cursor: not-allowed;\r\n        }\r\n        \r\n        .payment-icon {\r\n          width: 48px;\r\n          height: 48px;\r\n          background: rgba(233, 30, 99, 0.1);\r\n          border-radius: 12px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #E91E63;\r\n        }\r\n        \r\n        .payment-content {\r\n          flex: 1;\r\n        }\r\n        \r\n        .payment-name {\r\n          font-size: 18px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin-bottom: 4px;\r\n        }\r\n        \r\n        .payment-description {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .coming-soon-badge {\r\n          background: #FFB400;\r\n          color: #FFFFFF;\r\n          padding: 2px 8px;\r\n          border-radius: 8px;\r\n          font-size: 11px;\r\n          font-weight: 600;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.5px;\r\n          margin-top: 8px;\r\n          display: inline-block;\r\n        }\r\n        \r\n        .payment-networks {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n          gap: 24px;\r\n        }\r\n        \r\n        .network-card {\r\n          background: #FFFFFF;\r\n          border: 2px solid #E5DCC2;\r\n          border-radius: 20px;\r\n          padding: 24px;\r\n          box-shadow: 0 4px 16px rgba(233, 30, 99, 0.1);\r\n        }\r\n        \r\n        .network-header {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          margin-bottom: 20px;\r\n        }\r\n        \r\n        .network-indicator {\r\n          width: 12px;\r\n          height: 12px;\r\n          border-radius: 50%;\r\n        }\r\n        \r\n        .network-name {\r\n          font-size: 18px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n        }\r\n        \r\n        .network-details {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 16px;\r\n        }\r\n        \r\n        .detail-item {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n        }\r\n        \r\n        .detail-label {\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          color: #6E6E6E;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.5px;\r\n        }\r\n        \r\n        .detail-value {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n          color: #2E2E2E;\r\n        }\r\n        \r\n        .detail-value.amount-highlight {\r\n          font-size: 20px;\r\n          color: #E91E63;\r\n          font-weight: 800;\r\n        }\r\n        \r\n        .phone-number {\r\n          font-family: 'Courier New', monospace;\r\n          background: rgba(233, 30, 99, 0.1);\r\n          padding: 4px 8px;\r\n          border-radius: 6px;\r\n        }\r\n        \r\n        .copy-button {\r\n          background: #F3EED9;\r\n          border: 1px solid #E5DCC2;\r\n          color: #6E6E6E;\r\n          padding: 6px;\r\n          border-radius: 6px;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n        }\r\n        \r\n        .copy-button:hover {\r\n          background: #E91E63;\r\n          color: #FFFFFF;\r\n          border-color: #E91E63;\r\n        }\r\n        \r\n        .payment-note {\r\n          display: flex;\r\n          gap: 16px;\r\n          background: rgba(233, 30, 99, 0.05);\r\n          border: 1px solid rgba(233, 30, 99, 0.2);\r\n          border-radius: 16px;\r\n          padding: 24px;\r\n          margin-top: 32px;\r\n        }\r\n        \r\n        .note-icon {\r\n          width: 40px;\r\n          height: 40px;\r\n          background: #E91E63;\r\n          border-radius: 12px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #FFFFFF;\r\n          flex-shrink: 0;\r\n        }\r\n        \r\n        .note-content h4 {\r\n          font-size: 18px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0 0 8px 0;\r\n        }\r\n        \r\n        .note-content p {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          margin: 0;\r\n          line-height: 1.6;\r\n        }\r\n        \r\n        .why-donate-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n          gap: 24px;\r\n        }\r\n        \r\n        .why-card {\r\n          background: #FFFFFF;\r\n          border: 1px solid #E5DCC2;\r\n          border-radius: 20px;\r\n          padding: 28px;\r\n          text-align: center;\r\n          transition: all 0.3s ease;\r\n        }\r\n        \r\n        .why-card:hover {\r\n          transform: translateY(-4px);\r\n          box-shadow: 0 12px 32px rgba(233, 30, 99, 0.1);\r\n          border-color: rgba(233, 30, 99, 0.3);\r\n        }\r\n        \r\n        .why-icon {\r\n          width: 56px;\r\n          height: 56px;\r\n          background: rgba(233, 30, 99, 0.1);\r\n          border-radius: 16px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #E91E63;\r\n          margin: 0 auto 20px;\r\n        }\r\n        \r\n        .why-card h3 {\r\n          font-size: 20px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0 0 12px 0;\r\n        }\r\n        \r\n        .why-card p {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          margin: 0;\r\n          line-height: 1.6;\r\n        }\r\n        \r\n        /* Responsive Design */\r\n        @media (max-width: 768px) {\r\n          .hero-section {\r\n            padding: 32px 16px;\r\n          }\r\n          \r\n          .hero-title {\r\n            font-size: 32px;\r\n          }\r\n          \r\n          .hero-subtitle {\r\n            font-size: 18px;\r\n          }\r\n          \r\n          .impact-stats {\r\n            flex-direction: column;\r\n            gap: 16px;\r\n          }\r\n          \r\n          .impact-item {\r\n            justify-content: center;\r\n          }\r\n          \r\n          .donation-content {\r\n            padding: 32px 16px;\r\n          }\r\n          \r\n          .amounts-grid {\r\n            grid-template-columns: 1fr 1fr;\r\n            gap: 16px;\r\n          }\r\n          \r\n          .payment-networks {\r\n            grid-template-columns: 1fr;\r\n          }\r\n          \r\n          .why-donate-grid {\r\n            grid-template-columns: 1fr;\r\n          }\r\n          \r\n          .detail-item {\r\n            flex-direction: column;\r\n            align-items: stretch;\r\n            gap: 8px;\r\n          }\r\n          \r\n          .detail-value {\r\n            justify-content: space-between;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 480px) {\r\n          .hero-main {\r\n            gap: 16px;\r\n          }\r\n          \r\n          .hero-icon {\r\n            width: 72px;\r\n            height: 72px;\r\n          }\r\n          \r\n          .hero-title {\r\n            font-size: 28px;\r\n          }\r\n          \r\n          .amounts-grid {\r\n            grid-template-columns: 1fr;\r\n          }\r\n          \r\n          .amount-card {\r\n            padding: 20px;\r\n          }\r\n          \r\n          .payment-method {\r\n            padding: 16px 20px;\r\n          }\r\n          \r\n          .network-card {\r\n            padding: 20px;\r\n          }\r\n          \r\n          .payment-note {\r\n            flex-direction: column;\r\n            gap: 12px;\r\n            text-align: center;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};","// src/renderer/components/EnhancedAuthentication.tsx\r\nimport React, { useState } from 'react';\r\nimport { \r\n  Book, \r\n  User, \r\n  Lock, \r\n  Eye, \r\n  EyeOff, \r\n  Shield,\r\n  Sparkles,\r\n  Users,\r\n  BarChart3,\r\n  Globe,\r\n  Wifi,\r\n  WifiOff,\r\n  Building,\r\n  KeyRound,\r\n  UserPlus,\r\n  LogIn,\r\n  ArrowRight,\r\n  CheckCircle,\r\n  AlertCircle,\r\n  Mail,\r\n  Phone,\r\n  MapPin\r\n} from 'lucide-react';\r\n\r\ninterface EnhancedAuthenticationProps {\r\n  onLogin: (credentials: { \r\n    email: string; \r\n    password: string; \r\n    institutionCode?: string;\r\n    mode: 'login' | 'register' | 'create_institution';\r\n    userData?: any;\r\n  }) => Promise<void>;\r\n}\r\n\r\nexport const EnhancedAuthentication: React.FC<EnhancedAuthenticationProps> = ({ onLogin }) => {\r\n  const [mode, setMode] = useState<'login' | 'register' | 'create_institution'>('login');\r\n  const [step, setStep] = useState(1);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [isOnline, setIsOnline] = useState(navigator.onLine);\r\n\r\n  // Données du formulaire\r\n  const [loginData, setLoginData] = useState({\r\n    email: '',\r\n    password: '',\r\n    institutionCode: ''\r\n  });\r\n\r\n  const [registerData, setRegisterData] = useState({\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    institutionCode: '',\r\n    role: 'user' as 'admin' | 'librarian' | 'user'\r\n  });\r\n\r\n  const [institutionData, setInstitutionData] = useState({\r\n    name: '',\r\n    type: 'library' as 'school' | 'university' | 'library' | 'other',\r\n    address: '',\r\n    city: '',\r\n    country: 'Cameroun',\r\n    phone: '',\r\n    email: '',\r\n    website: '',\r\n    description: '',\r\n    director: '',\r\n    adminEmail: '',\r\n    adminPassword: '',\r\n    adminFirstName: '',\r\n    adminLastName: ''\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    const handleOnlineStatus = () => {\r\n      setIsOnline(navigator.onLine);\r\n    };\r\n\r\n    window.addEventListener('online', handleOnlineStatus);\r\n    window.addEventListener('offline', handleOnlineStatus);\r\n\r\n    return () => {\r\n      window.removeEventListener('online', handleOnlineStatus);\r\n      window.removeEventListener('offline', handleOnlineStatus);\r\n    };\r\n  }, []);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      if (mode === 'login') {\r\n        await onLogin({\r\n          email: loginData.email,\r\n          password: loginData.password,\r\n          institutionCode: loginData.institutionCode,\r\n          mode: 'login'\r\n        });\r\n      } else if (mode === 'register') {\r\n        if (registerData.password !== registerData.confirmPassword) {\r\n          throw new Error('Les mots de passe ne correspondent pas');\r\n        }\r\n        \r\n        await onLogin({\r\n          email: registerData.email,\r\n          password: registerData.password,\r\n          institutionCode: registerData.institutionCode,\r\n          mode: 'register',\r\n          userData: {\r\n            firstName: registerData.firstName,\r\n            lastName: registerData.lastName,\r\n            role: registerData.role\r\n          }\r\n        });\r\n      } else if (mode === 'create_institution') {\r\n        if (step === 2) {\r\n          await onLogin({\r\n            email: institutionData.adminEmail,\r\n            password: institutionData.adminPassword,\r\n            mode: 'create_institution',\r\n            userData: {\r\n              institution: institutionData,\r\n              admin: {\r\n                firstName: institutionData.adminFirstName,\r\n                lastName: institutionData.adminLastName\r\n              }\r\n            }\r\n          });\r\n        }\r\n      }\r\n    } catch (err: any) {\r\n      setError(err.message || 'Erreur de connexion');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const validateStep1 = () => {\r\n    return institutionData.name && \r\n           institutionData.type && \r\n           institutionData.city && \r\n           institutionData.country;\r\n  };\r\n\r\n  const validateStep2 = () => {\r\n    return institutionData.adminEmail &&\r\n           institutionData.adminPassword &&\r\n           institutionData.adminFirstName &&\r\n           institutionData.adminLastName &&\r\n           institutionData.adminPassword.length >= 6;\r\n  };\r\n\r\n  const nextStep = () => {\r\n    if (step === 1 && validateStep1()) {\r\n      setStep(2);\r\n    }\r\n  };\r\n\r\n  const previousStep = () => {\r\n    if (step === 2) {\r\n      setStep(1);\r\n    }\r\n  };\r\n\r\n  const institutionTypes = [\r\n    { value: 'school', label: 'École/Lycée', icon: '🏫' },\r\n    { value: 'university', label: 'Université', icon: '🎓' },\r\n    { value: 'library', label: 'Bibliothèque', icon: '📚' },\r\n    { value: 'other', label: 'Autre', icon: '🏢' }\r\n  ];\r\n\r\n  const roles = [\r\n    { value: 'user', label: 'Utilisateur', description: 'Accès de base à la bibliothèque' },\r\n    { value: 'librarian', label: 'Bibliothécaire', description: 'Gestion des livres et emprunts' },\r\n    { value: 'admin', label: 'Administrateur', description: 'Accès complet au système' }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"enhanced-auth\">\r\n      <div className=\"auth-background\">\r\n        <div className=\"auth-pattern\"></div>\r\n        <div className=\"floating-elements\">\r\n          <div className=\"floating-book\"></div>\r\n          <div className=\"floating-book\"></div>\r\n          <div className=\"floating-book\"></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"auth-content\">\r\n        {/* Left Side - Branding */}\r\n        <div className=\"auth-branding\">\r\n          <div className=\"brand-logo\">\r\n            <Book size={48} />\r\n          </div>\r\n          <h1 className=\"brand-title\">Bibliothèque Cloud</h1>\r\n          <p className=\"brand-subtitle\">Système de gestion moderne et collaboratif</p>\r\n          \r\n          <div className=\"features-list\">\r\n            <div className=\"feature-item\">\r\n              <Users size={20} />\r\n              <span>Multi-établissements</span>\r\n            </div>\r\n            <div className=\"feature-item\">\r\n              <BarChart3 size={20} />\r\n              <span>Synchronisation cloud</span>\r\n            </div>\r\n            <div className=\"feature-item\">\r\n              <Shield size={20} />\r\n              <span>Sécurisé et fiable</span>\r\n            </div>\r\n            <div className=\"feature-item\">\r\n              <Globe size={20} />\r\n              <span>Accessible partout</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Connection Status */}\r\n          <div className={`connection-status ${isOnline ? 'online' : 'offline'}`}>\r\n            {isOnline ? <Wifi size={16} /> : <WifiOff size={16} />}\r\n            <span>{isOnline ? 'En ligne' : 'Hors ligne'}</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right Side - Authentication */}\r\n        <div className=\"auth-form-container\">\r\n          <div className=\"auth-card\">\r\n            <div className=\"auth-header\">\r\n              <div className=\"auth-tabs\">\r\n                <button\r\n                  className={`auth-tab ${mode === 'login' ? 'active' : ''}`}\r\n                  onClick={() => { setMode('login'); setStep(1); }}\r\n                >\r\n                  <LogIn size={16} />\r\n                  Connexion\r\n                </button>\r\n                <button\r\n                  className={`auth-tab ${mode === 'register' ? 'active' : ''}`}\r\n                  onClick={() => { setMode('register'); setStep(1); }}\r\n                >\r\n                  <UserPlus size={16} />\r\n                  Inscription\r\n                </button>\r\n                <button\r\n                  className={`auth-tab ${mode === 'create_institution' ? 'active' : ''}`}\r\n                  onClick={() => { setMode('create_institution'); setStep(1); }}\r\n                >\r\n                  <Building size={16} />\r\n                  Créer établissement\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"mode-indicator\">\r\n                <Sparkles size={16} />\r\n                <span>\r\n                  {mode === 'login' && 'Connectez-vous à votre établissement'}\r\n                  {mode === 'register' && 'Rejoignez un établissement existant'}\r\n                  {mode === 'create_institution' && `Créez votre établissement ${step === 2 ? '- Administrateur' : '- Informations'}`}\r\n                </span>\r\n              </div>\r\n\r\n              {/* Progress bar for institution creation */}\r\n              {mode === 'create_institution' && (\r\n                <div className=\"progress-bar\">\r\n                  <div className=\"progress-steps\">\r\n                    <div className={`progress-step ${step >= 1 ? 'active' : ''}`}>\r\n                      <div className=\"step-number\">1</div>\r\n                      <span>Établissement</span>\r\n                    </div>\r\n                    <div className=\"progress-line\"></div>\r\n                    <div className={`progress-step ${step >= 2 ? 'active' : ''}`}>\r\n                      <div className=\"step-number\">2</div>\r\n                      <span>Administrateur</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {error && (\r\n              <div className=\"error-message\">\r\n                <AlertCircle size={16} />\r\n                <span>{error}</span>\r\n              </div>\r\n            )}\r\n\r\n            {success && (\r\n              <div className=\"success-message\">\r\n                <CheckCircle size={16} />\r\n                <span>{success}</span>\r\n              </div>\r\n            )}\r\n\r\n            {/* Login Form */}\r\n            {mode === 'login' && (\r\n              <form onSubmit={handleSubmit} className=\"auth-form\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Email</label>\r\n                  <div className=\"input-wrapper\">\r\n                    <Mail size={20} />\r\n                    <input\r\n                      type=\"email\"\r\n                      value={loginData.email}\r\n                      onChange={(e) => setLoginData(prev => ({ ...prev, email: e.target.value }))}\r\n                      className=\"auth-input\"\r\n                      placeholder=\"votre@email.com\"\r\n                      required\r\n                      disabled={isLoading}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Mot de passe</label>\r\n                  <div className=\"input-wrapper\">\r\n                    <Lock size={20} />\r\n                    <input\r\n                      type={showPassword ? 'text' : 'password'}\r\n                      value={loginData.password}\r\n                      onChange={(e) => setLoginData(prev => ({ ...prev, password: e.target.value }))}\r\n                      className=\"auth-input\"\r\n                      placeholder=\"Votre mot de passe\"\r\n                      required\r\n                      disabled={isLoading}\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"password-toggle\"\r\n                      onClick={() => setShowPassword(!showPassword)}\r\n                    >\r\n                      {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Code de l'établissement</label>\r\n                  <div className=\"input-wrapper\">\r\n                    <KeyRound size={20} />\r\n                    <input\r\n                      type=\"text\"\r\n                      value={loginData.institutionCode}\r\n                      onChange={(e) => setLoginData(prev => ({ ...prev, institutionCode: e.target.value.toUpperCase() }))}\r\n                      className=\"auth-input\"\r\n                      placeholder=\"CODE123\"\r\n                      required\r\n                      disabled={isLoading}\r\n                      maxLength={8}\r\n                    />\r\n                  </div>\r\n                  <small className=\"form-hint\">\r\n                    8 caractères fournis par votre établissement\r\n                  </small>\r\n                </div>\r\n\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"auth-button primary\"\r\n                  disabled={isLoading || !loginData.email || !loginData.password || !loginData.institutionCode}\r\n                >\r\n                  {isLoading ? (\r\n                    <>\r\n                      <div className=\"loading-spinner\"></div>\r\n                      Connexion...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <LogIn size={18} />\r\n                      Se connecter\r\n                      <ArrowRight size={16} />\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </form>\r\n            )}\r\n\r\n            {/* Register Form */}\r\n            {mode === 'register' && (\r\n              <form onSubmit={handleSubmit} className=\"auth-form\">\r\n                <div className=\"form-grid\">\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Prénom</label>\r\n                    <div className=\"input-wrapper\">\r\n                      <User size={20} />\r\n                      <input\r\n                        type=\"text\"\r\n                        value={registerData.firstName}\r\n                        onChange={(e) => setRegisterData(prev => ({ ...prev, firstName: e.target.value }))}\r\n                        className=\"auth-input\"\r\n                        placeholder=\"Votre prénom\"\r\n                        required\r\n                        disabled={isLoading}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Nom</label>\r\n                    <div className=\"input-wrapper\">\r\n                      <User size={20} />\r\n                      <input\r\n                        type=\"text\"\r\n                        value={registerData.lastName}\r\n                        onChange={(e) => setRegisterData(prev => ({ ...prev, lastName: e.target.value }))}\r\n                        className=\"auth-input\"\r\n                        placeholder=\"Votre nom\"\r\n                        required\r\n                        disabled={isLoading}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Email</label>\r\n                  <div className=\"input-wrapper\">\r\n                    <Mail size={20} />\r\n                    <input\r\n                      type=\"email\"\r\n                      value={registerData.email}\r\n                      onChange={(e) => setRegisterData(prev => ({ ...prev, email: e.target.value }))}\r\n                      className=\"auth-input\"\r\n                      placeholder=\"votre@email.com\"\r\n                      required\r\n                      disabled={isLoading}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Rôle souhaité</label>\r\n                  <div className=\"role-selector\">\r\n                    {roles.map((role) => (\r\n                      <label key={role.value} className=\"role-option\">\r\n                        <input\r\n                          type=\"radio\"\r\n                          name=\"role\"\r\n                          value={role.value}\r\n                          checked={registerData.role === role.value}\r\n                          onChange={(e) => setRegisterData(prev => ({ ...prev, role: e.target.value as any }))}\r\n                          disabled={isLoading}\r\n                        />\r\n                        <div className=\"role-content\">\r\n                          <span className=\"role-title\">{role.label}</span>\r\n                          <span className=\"role-description\">{role.description}</span>\r\n                        </div>\r\n                      </label>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Code de l'établissement</label>\r\n                  <div className=\"input-wrapper\">\r\n                    <KeyRound size={20} />\r\n                    <input\r\n                      type=\"text\"\r\n                      value={registerData.institutionCode}\r\n                      onChange={(e) => setRegisterData(prev => ({ ...prev, institutionCode: e.target.value.toUpperCase() }))}\r\n                      className=\"auth-input\"\r\n                      placeholder=\"CODE123\"\r\n                      required\r\n                      disabled={isLoading}\r\n                      maxLength={8}\r\n                    />\r\n                  </div>\r\n                  <small className=\"form-hint\">\r\n                    Demandez ce code à votre administrateur\r\n                  </small>\r\n                </div>\r\n\r\n                <div className=\"form-grid\">\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Mot de passe</label>\r\n                    <div className=\"input-wrapper\">\r\n                      <Lock size={20} />\r\n                      <input\r\n                        type={showPassword ? 'text' : 'password'}\r\n                        value={registerData.password}\r\n                        onChange={(e) => setRegisterData(prev => ({ ...prev, password: e.target.value }))}\r\n                        className=\"auth-input\"\r\n                        placeholder=\"Mot de passe\"\r\n                        required\r\n                        disabled={isLoading}\r\n                        minLength={6}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Confirmer</label>\r\n                    <div className=\"input-wrapper\">\r\n                      <Lock size={20} />\r\n                      <input\r\n                        type={showPassword ? 'text' : 'password'}\r\n                        value={registerData.confirmPassword}\r\n                        onChange={(e) => setRegisterData(prev => ({ ...prev, confirmPassword: e.target.value }))}\r\n                        className=\"auth-input\"\r\n                        placeholder=\"Confirmer\"\r\n                        required\r\n                        disabled={isLoading}\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"password-toggle\"\r\n                        onClick={() => setShowPassword(!showPassword)}\r\n                      >\r\n                        {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"auth-button primary\"\r\n                  disabled={isLoading || !registerData.email || !registerData.password || !registerData.firstName || !registerData.lastName || !registerData.institutionCode}\r\n                >\r\n                  {isLoading ? (\r\n                    <>\r\n                      <div className=\"loading-spinner\"></div>\r\n                      Création...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <UserPlus size={18} />\r\n                      Créer le compte\r\n                      <ArrowRight size={16} />\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </form>\r\n            )}\r\n\r\n            {/* Create Institution Form */}\r\n            {mode === 'create_institution' && (\r\n              <form onSubmit={handleSubmit} className=\"auth-form\">\r\n                {step === 1 && (\r\n                  <div className=\"institution-step\">\r\n                    <div className=\"step-header\">\r\n                      <Building size={24} />\r\n                      <h3>Informations de l'établissement</h3>\r\n                      <p>Créez votre établissement et obtenez votre code unique</p>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Nom de l'établissement *</label>\r\n                      <div className=\"input-wrapper\">\r\n                        <Building size={20} />\r\n                        <input\r\n                          type=\"text\"\r\n                          value={institutionData.name}\r\n                          onChange={(e) => setInstitutionData(prev => ({ ...prev, name: e.target.value }))}\r\n                          className=\"auth-input\"\r\n                          placeholder=\"Lycée Moderne de Douala\"\r\n                          required\r\n                          disabled={isLoading}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Type d'établissement *</label>\r\n                      <div className=\"type-selector\">\r\n                        {institutionTypes.map((type) => (\r\n                          <label key={type.value} className=\"type-option\">\r\n                            <input\r\n                              type=\"radio\"\r\n                              name=\"type\"\r\n                              value={type.value}\r\n                              checked={institutionData.type === type.value}\r\n                              onChange={(e) => setInstitutionData(prev => ({ ...prev, type: e.target.value as any }))}\r\n                              disabled={isLoading}\r\n                            />\r\n                            <div className=\"type-content\">\r\n                              <span className=\"type-icon\">{type.icon}</span>\r\n                              <span className=\"type-label\">{type.label}</span>\r\n                            </div>\r\n                          </label>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-grid\">\r\n                      <div className=\"form-group\">\r\n                        <label className=\"form-label\">Ville *</label>\r\n                        <div className=\"input-wrapper\">\r\n                          <MapPin size={20} />\r\n                          <input\r\n                            type=\"text\"\r\n                            value={institutionData.city}\r\n                            onChange={(e) => setInstitutionData(prev => ({ ...prev, city: e.target.value }))}\r\n                            className=\"auth-input\"\r\n                            placeholder=\"Douala\"\r\n                            required\r\n                            disabled={isLoading}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"form-group\">\r\n                        <label className=\"form-label\">Pays *</label>\r\n                        <div className=\"input-wrapper\">\r\n                          <Globe size={20} />\r\n                          <input\r\n                            type=\"text\"\r\n                            value={institutionData.country}\r\n                            onChange={(e) => setInstitutionData(prev => ({ ...prev, country: e.target.value }))}\r\n                            className=\"auth-input\"\r\n                            placeholder=\"Cameroun\"\r\n                            required\r\n                            disabled={isLoading}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Adresse</label>\r\n                      <div className=\"input-wrapper\">\r\n                        <MapPin size={20} />\r\n                        <input\r\n                          type=\"text\"\r\n                          value={institutionData.address}\r\n                          onChange={(e) => setInstitutionData(prev => ({ ...prev, address: e.target.value }))}\r\n                          className=\"auth-input\"\r\n                          placeholder=\"Avenue de la Liberté\"\r\n                          disabled={isLoading}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-grid\">\r\n                      <div className=\"form-group\">\r\n                        <label className=\"form-label\">Téléphone</label>\r\n                        <div className=\"input-wrapper\">\r\n                          <Phone size={20} />\r\n                          <input\r\n                            type=\"tel\"\r\n                            value={institutionData.phone}\r\n                            onChange={(e) => setInstitutionData(prev => ({ ...prev, phone: e.target.value }))}\r\n                            className=\"auth-input\"\r\n                            placeholder=\"+237 XXX XXX XXX\"\r\n                            disabled={isLoading}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"form-group\">\r\n                        <label className=\"form-label\">Email</label>\r\n                        <div className=\"input-wrapper\">\r\n                          <Mail size={20} />\r\n                          <input\r\n                            type=\"email\"\r\n                            value={institutionData.email}\r\n                            onChange={(e) => setInstitutionData(prev => ({ ...prev, email: e.target.value }))}\r\n                            className=\"auth-input\"\r\n                            placeholder=\"contact@etablissement.com\"\r\n                            disabled={isLoading}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Description</label>\r\n                      <textarea\r\n                        value={institutionData.description}\r\n                        onChange={(e) => setInstitutionData(prev => ({ ...prev, description: e.target.value }))}\r\n                        className=\"auth-textarea\"\r\n                        placeholder=\"Brève description de votre établissement...\"\r\n                        rows={3}\r\n                        disabled={isLoading}\r\n                      />\r\n                    </div>\r\n\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"auth-button primary\"\r\n                      onClick={nextStep}\r\n                      disabled={!validateStep1() || isLoading}\r\n                    >\r\n                      Continuer\r\n                      <ArrowRight size={16} />\r\n                    </button>\r\n                  </div>\r\n                )}\r\n\r\n                {step === 2 && (\r\n                  <div className=\"admin-step\">\r\n                    <div className=\"step-header\">\r\n                      <Shield size={24} />\r\n                      <h3>Compte administrateur</h3>\r\n                      <p>Créez le compte administrateur principal</p>\r\n                    </div>\r\n\r\n                    <div className=\"form-grid\">\r\n                      <div className=\"form-group\">\r\n                        <label className=\"form-label\">Prénom *</label>\r\n                        <div className=\"input-wrapper\">\r\n                          <User size={20} />\r\n                          <input\r\n                            type=\"text\"\r\n                            value={institutionData.adminFirstName}\r\n                            onChange={(e) => setInstitutionData(prev => ({ ...prev, adminFirstName: e.target.value }))}\r\n                            className=\"auth-input\"\r\n                            placeholder=\"Prénom\"\r\n                            required\r\n                            disabled={isLoading}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"form-group\">\r\n                        <label className=\"form-label\">Nom *</label>\r\n                        <div className=\"input-wrapper\">\r\n                          <User size={20} />\r\n                          <input\r\n                            type=\"text\"\r\n                            value={institutionData.adminLastName}\r\n                            onChange={(e) => setInstitutionData(prev => ({ ...prev, adminLastName: e.target.value }))}\r\n                            className=\"auth-input\"\r\n                            placeholder=\"Nom\"\r\n                            required\r\n                            disabled={isLoading}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Email administrateur *</label>\r\n                      <div className=\"input-wrapper\">\r\n                        <Mail size={20} />\r\n                        <input\r\n                          type=\"email\"\r\n                          value={institutionData.adminEmail}\r\n                          onChange={(e) => setInstitutionData(prev => ({ ...prev, adminEmail: e.target.value }))}\r\n                          className=\"auth-input\"\r\n                          placeholder=\"admin@etablissement.com\"\r\n                          required\r\n                          disabled={isLoading}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label className=\"form-label\">Mot de passe *</label>\r\n                      <div className=\"input-wrapper\">\r\n                        <Lock size={20} />\r\n                        <input\r\n                          type={showPassword ? 'text' : 'password'}\r\n                          value={institutionData.adminPassword}\r\n                          onChange={(e) => setInstitutionData(prev => ({ ...prev, adminPassword: e.target.value }))}\r\n                          className=\"auth-input\"\r\n                          placeholder=\"Mot de passe sécurisé\"\r\n                          required\r\n                          disabled={isLoading}\r\n                          minLength={6}\r\n                        />\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"password-toggle\"\r\n                          onClick={() => setShowPassword(!showPassword)}\r\n                        >\r\n                          {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\r\n                        </button>\r\n                      </div>\r\n                      <small className=\"form-hint\">\r\n                        Minimum 6 caractères\r\n                      </small>\r\n                    </div>\r\n\r\n                    <div className=\"form-actions\">\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"auth-button secondary\"\r\n                        onClick={previousStep}\r\n                        disabled={isLoading}\r\n                      >\r\n                        Précédent\r\n                      </button>\r\n                      <button\r\n                        type=\"submit\"\r\n                        className=\"auth-button primary\"\r\n                        disabled={!validateStep2() || isLoading}\r\n                      >\r\n                        {isLoading ? (\r\n                          <>\r\n                            <div className=\"loading-spinner\"></div>\r\n                            Création...\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <Building size={18} />\r\n                            Créer l'établissement\r\n                          </>\r\n                        )}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </form>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <style>{`\r\n        .enhanced-auth {\r\n          height: 100vh;\r\n          display: flex;\r\n          position: relative;\r\n          overflow: hidden;\r\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\r\n        }\r\n        \r\n        .auth-background {\r\n          position: absolute;\r\n          inset: 0;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .auth-pattern {\r\n          position: absolute;\r\n          inset: 0;\r\n          background-image: \r\n            radial-gradient(circle at 25% 25%, rgba(243, 238, 217, 0.08) 0%, transparent 50%),\r\n            radial-gradient(circle at 75% 75%, rgba(194, 87, 27, 0.06) 0%, transparent 50%);\r\n          animation: drift 25s ease-in-out infinite;\r\n        }\r\n        \r\n        @keyframes drift {\r\n          0%, 100% { transform: translate(0, 0) rotate(0deg); }\r\n          33% { transform: translate(30px, -30px) rotate(1deg); }\r\n          66% { transform: translate(-20px, 20px) rotate(-1deg); }\r\n        }\r\n        \r\n        .floating-elements {\r\n          position: absolute;\r\n          inset: 0;\r\n          pointer-events: none;\r\n        }\r\n        \r\n        .floating-book {\r\n          position: absolute;\r\n          width: 24px;\r\n          height: 32px;\r\n          background: rgba(243, 238, 217, 0.1);\r\n          border-radius: 4px;\r\n          animation: float 8s ease-in-out infinite;\r\n        }\r\n        \r\n        .floating-book:nth-child(1) {\r\n          top: 20%;\r\n          left: 10%;\r\n          animation-delay: 0s;\r\n        }\r\n        \r\n        .floating-book:nth-child(2) {\r\n          top: 60%;\r\n          left: 15%;\r\n          animation-delay: 2s;\r\n        }\r\n        \r\n        .floating-book:nth-child(3) {\r\n          top: 40%;\r\n          left: 5%;\r\n          animation-delay: 4s;\r\n        }\r\n        \r\n        @keyframes float {\r\n          0%, 100% { transform: translateY(0px) rotate(0deg); }\r\n          50% { transform: translateY(-20px) rotate(2deg); }\r\n        }\r\n        \r\n        .auth-content {\r\n          display: flex;\r\n          width: 100%;\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n        \r\n        .auth-branding {\r\n          flex: 1;\r\n          display: flex;\r\n          flex-direction: column;\r\n          justify-content: center;\r\n          padding: 60px;\r\n          color: #F3EED9;\r\n          max-width: 500px;\r\n        }\r\n        \r\n        .brand-logo {\r\n          width: 80px;\r\n          height: 80px;\r\n          background: rgba(243, 238, 217, 0.15);\r\n          border-radius: 20px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          margin-bottom: 32px;\r\n          border: 1px solid rgba(243, 238, 217, 0.2);\r\n          backdrop-filter: blur(10px);\r\n        }\r\n        \r\n        .brand-title {\r\n          font-size: 48px;\r\n          font-weight: 800;\r\n          margin: 0 0 16px 0;\r\n          letter-spacing: -1px;\r\n        }\r\n        \r\n        .brand-subtitle {\r\n          font-size: 20px;\r\n          opacity: 0.9;\r\n          margin: 0 0 48px 0;\r\n          line-height: 1.5;\r\n        }\r\n        \r\n        .features-list {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 20px;\r\n          margin-bottom: 40px;\r\n        }\r\n        \r\n        .feature-item {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 16px;\r\n          font-size: 16px;\r\n          opacity: 0.9;\r\n        }\r\n        \r\n        .connection-status {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          padding: 12px 16px;\r\n          border-radius: 12px;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          width: fit-content;\r\n        }\r\n        \r\n        .connection-status.online {\r\n          background: rgba(76, 175, 80, 0.2);\r\n          color: #4CAF50;\r\n          border: 1px solid rgba(76, 175, 80, 0.3);\r\n        }\r\n        \r\n        .connection-status.offline {\r\n          background: rgba(255, 152, 0, 0.2);\r\n          color: #FF9800;\r\n          border: 1px solid rgba(255, 152, 0, 0.3);\r\n        }\r\n        \r\n        .auth-form-container {\r\n          flex: 1;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          padding: 40px;\r\n          background: rgba(255, 255, 255, 0.05);\r\n          backdrop-filter: blur(10px);\r\n          max-width: 600px;\r\n        }\r\n        \r\n        .auth-card {\r\n          width: 100%;\r\n          background: rgba(255, 255, 255, 0.95);\r\n          border-radius: 24px;\r\n          padding: 0;\r\n          box-shadow: \r\n            0 24px 48px rgba(62, 92, 73, 0.2),\r\n            0 8px 24px rgba(62, 92, 73, 0.12);\r\n          border: 1px solid rgba(229, 220, 194, 0.3);\r\n          backdrop-filter: blur(20px);\r\n          overflow: hidden;\r\n          max-height: 90vh;\r\n          overflow-y: auto;\r\n        }\r\n        \r\n        .auth-header {\r\n          padding: 32px 32px 24px;\r\n          background: linear-gradient(135deg, #F3EED9 0%, #EAEADC 100%);\r\n          border-bottom: 1px solid #E5DCC2;\r\n        }\r\n        \r\n        .auth-tabs {\r\n          display: flex;\r\n          gap: 4px;\r\n          background: rgba(62, 92, 73, 0.1);\r\n          border-radius: 12px;\r\n          padding: 4px;\r\n          margin-bottom: 20px;\r\n        }\r\n        \r\n        .auth-tab {\r\n          flex: 1;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          gap: 8px;\r\n          padding: 12px 16px;\r\n          border: none;\r\n          background: transparent;\r\n          color: #6E6E6E;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          border-radius: 8px;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n        }\r\n        \r\n        .auth-tab.active {\r\n          background: #3E5C49;\r\n          color: #F3EED9;\r\n          box-shadow: 0 2px 8px rgba(62, 92, 73, 0.2);\r\n        }\r\n        \r\n        .mode-indicator {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          color: #3E5C49;\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n          margin-bottom: 16px;\r\n        }\r\n        \r\n        .progress-bar {\r\n          margin-top: 16px;\r\n        }\r\n        \r\n        .progress-steps {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          gap: 16px;\r\n        }\r\n        \r\n        .progress-step {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          gap: 8px;\r\n          opacity: 0.5;\r\n          transition: opacity 0.3s ease;\r\n        }\r\n        \r\n        .progress-step.active {\r\n          opacity: 1;\r\n        }\r\n        \r\n        .step-number {\r\n          width: 32px;\r\n          height: 32px;\r\n          border-radius: 50%;\r\n          background: rgba(62, 92, 73, 0.2);\r\n          color: #3E5C49;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          font-weight: 600;\r\n          font-size: 14px;\r\n        }\r\n        \r\n        .progress-step.active .step-number {\r\n          background: #3E5C49;\r\n          color: #F3EED9;\r\n        }\r\n        \r\n        .progress-line {\r\n          width: 40px;\r\n          height: 2px;\r\n          background: rgba(62, 92, 73, 0.2);\r\n        }\r\n        \r\n        .error-message,\r\n        .success-message {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          padding: 16px 32px;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          border-bottom: 1px solid #E5DCC2;\r\n        }\r\n        \r\n        .error-message {\r\n          background: rgba(194, 87, 27, 0.1);\r\n          color: #C2571B;\r\n        }\r\n        \r\n        .success-message {\r\n          background: rgba(62, 92, 73, 0.1);\r\n          color: #3E5C49;\r\n        }\r\n        \r\n        .auth-form {\r\n          padding: 32px;\r\n        }\r\n        \r\n        .form-grid {\r\n          display: grid;\r\n          grid-template-columns: 1fr 1fr;\r\n          gap: 20px;\r\n        }\r\n        \r\n        .form-group {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 8px;\r\n          margin-bottom: 20px;\r\n        }\r\n        \r\n        .form-label {\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          color: #2E2E2E;\r\n        }\r\n        \r\n        .input-wrapper {\r\n          position: relative;\r\n          display: flex;\r\n          align-items: center;\r\n        }\r\n        \r\n        .input-wrapper svg {\r\n          position: absolute;\r\n          left: 16px;\r\n          color: #6E6E6E;\r\n          z-index: 2;\r\n        }\r\n        \r\n        .auth-input,\r\n        .auth-textarea {\r\n          width: 100%;\r\n          padding: 16px 16px 16px 48px;\r\n          border: 2px solid #E5DCC2;\r\n          border-radius: 12px;\r\n          font-size: 16px;\r\n          background: #FFFFFF;\r\n          color: #2E2E2E;\r\n          transition: all 0.2s ease;\r\n        }\r\n        \r\n        .auth-textarea {\r\n          padding: 16px;\r\n          resize: vertical;\r\n          min-height: 80px;\r\n        }\r\n        \r\n        .auth-input:focus,\r\n        .auth-textarea:focus {\r\n          outline: none;\r\n          border-color: #3E5C49;\r\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\r\n        }\r\n        \r\n        .auth-input:disabled,\r\n        .auth-textarea:disabled {\r\n          opacity: 0.6;\r\n          cursor: not-allowed;\r\n          background: #F3EED9;\r\n        }\r\n        \r\n        .password-toggle {\r\n          position: absolute;\r\n          right: 16px;\r\n          background: none;\r\n          border: none;\r\n          cursor: pointer;\r\n          color: #6E6E6E;\r\n          padding: 4px;\r\n          border-radius: 4px;\r\n          transition: all 0.2s ease;\r\n          z-index: 2;\r\n        }\r\n        \r\n        .password-toggle:hover {\r\n          color: #2E2E2E;\r\n          background: rgba(110, 110, 110, 0.1);\r\n        }\r\n        \r\n        .role-selector,\r\n        .type-selector {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 12px;\r\n        }\r\n        \r\n        .role-option,\r\n        .type-option {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          padding: 16px;\r\n          border: 2px solid #E5DCC2;\r\n          border-radius: 12px;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          background: #FFFFFF;\r\n        }\r\n        \r\n        .role-option:hover,\r\n        .type-option:hover {\r\n          border-color: #3E5C49;\r\n          background: rgba(62, 92, 73, 0.05);\r\n        }\r\n        \r\n        .role-option input:checked + .role-content,\r\n        .type-option input:checked + .type-content {\r\n          color: #3E5C49;\r\n        }\r\n        \r\n        .role-option input:checked,\r\n        .type-option input:checked {\r\n          accent-color: #3E5C49;\r\n        }\r\n        \r\n        .role-content,\r\n        .type-content {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 4px;\r\n        }\r\n        \r\n        .type-content {\r\n          flex-direction: row;\r\n          align-items: center;\r\n          gap: 12px;\r\n        }\r\n        \r\n        .role-title,\r\n        .type-label {\r\n          font-weight: 600;\r\n          color: #2E2E2E;\r\n        }\r\n        \r\n        .role-description {\r\n          font-size: 13px;\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .type-icon {\r\n          font-size: 20px;\r\n        }\r\n        \r\n        .form-hint {\r\n          font-size: 12px;\r\n          color: #6E6E6E;\r\n          font-style: italic;\r\n        }\r\n        \r\n        .auth-button {\r\n          width: 100%;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          gap: 8px;\r\n          padding: 16px 24px;\r\n          border-radius: 12px;\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          border: none;\r\n          margin-bottom: 12px;\r\n        }\r\n        \r\n        .auth-button.primary {\r\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\r\n          color: #F3EED9;\r\n          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.3);\r\n        }\r\n        \r\n        .auth-button.primary:hover:not(:disabled) {\r\n          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.4);\r\n        }\r\n        \r\n        .auth-button.secondary {\r\n          background: #F3EED9;\r\n          color: #6E6E6E;\r\n          border: 2px solid #E5DCC2;\r\n        }\r\n        \r\n        .auth-button.secondary:hover:not(:disabled) {\r\n          background: #EAEADC;\r\n          color: #2E2E2E;\r\n          transform: translateY(-1px);\r\n        }\r\n        \r\n        .auth-button:disabled {\r\n          opacity: 0.6;\r\n          cursor: not-allowed;\r\n          transform: none;\r\n          box-shadow: none;\r\n        }\r\n        \r\n        .loading-spinner {\r\n          width: 18px;\r\n          height: 18px;\r\n          border: 2px solid rgba(243, 238, 217, 0.3);\r\n          border-top: 2px solid #F3EED9;\r\n          border-radius: 50%;\r\n          animation: spin 1s linear infinite;\r\n        }\r\n        \r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n        \r\n        .institution-step,\r\n        .admin-step {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 24px;\r\n        }\r\n        \r\n        .step-header {\r\n          text-align: center;\r\n          margin-bottom: 24px;\r\n        }\r\n        \r\n        .step-header h3 {\r\n          font-size: 24px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 16px 0 8px 0;\r\n        }\r\n        \r\n        .step-header p {\r\n          color: #6E6E6E;\r\n          margin: 0;\r\n          font-size: 16px;\r\n        }\r\n        \r\n        .form-actions {\r\n          display: flex;\r\n          gap: 16px;\r\n          margin-top: 24px;\r\n        }\r\n        \r\n        .form-actions .auth-button {\r\n          margin-bottom: 0;\r\n        }\r\n        \r\n        /* Responsive Design */\r\n        @media (max-width: 1024px) {\r\n          .auth-content {\r\n            flex-direction: column;\r\n          }\r\n          \r\n          .auth-branding {\r\n            padding: 40px;\r\n            text-align: center;\r\n            flex: none;\r\n            max-width: none;\r\n          }\r\n          \r\n          .brand-title {\r\n            font-size: 36px;\r\n          }\r\n          \r\n          .brand-subtitle {\r\n            font-size: 18px;\r\n          }\r\n          \r\n          .features-list {\r\n            flex-direction: row;\r\n            flex-wrap: wrap;\r\n            justify-content: center;\r\n            gap: 16px;\r\n          }\r\n          \r\n          .feature-item {\r\n            flex-direction: column;\r\n            text-align: center;\r\n            gap: 8px;\r\n            min-width: 120px;\r\n          }\r\n          \r\n          .auth-form-container {\r\n            max-width: none;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n          .auth-branding {\r\n            padding: 32px 20px;\r\n          }\r\n          \r\n          .auth-form-container {\r\n            padding: 20px;\r\n          }\r\n          \r\n          .auth-card {\r\n            max-width: none;\r\n            border-radius: 20px;\r\n            max-height: none;\r\n          }\r\n          \r\n          .auth-header {\r\n            padding: 24px 20px 20px;\r\n          }\r\n          \r\n          .auth-form {\r\n            padding: 24px 20px;\r\n          }\r\n          \r\n          .form-grid {\r\n            grid-template-columns: 1fr;\r\n            gap: 16px;\r\n          }\r\n          \r\n          .brand-title {\r\n            font-size: 28px;\r\n          }\r\n          \r\n          .brand-subtitle {\r\n            font-size: 16px;\r\n          }\r\n          \r\n          .features-list {\r\n            flex-direction: column;\r\n            gap: 12px;\r\n          }\r\n          \r\n          .feature-item {\r\n            flex-direction: row;\r\n            justify-content: center;\r\n          }\r\n          \r\n          .auth-tabs {\r\n            flex-direction: column;\r\n            gap: 8px;\r\n          }\r\n          \r\n          .auth-tab {\r\n            flex: none;\r\n          }\r\n          \r\n          .progress-steps {\r\n            gap: 12px;\r\n          }\r\n          \r\n          .progress-line {\r\n            width: 30px;\r\n          }\r\n          \r\n          .type-selector {\r\n            grid-template-columns: 1fr 1fr;\r\n            display: grid;\r\n            gap: 12px;\r\n          }\r\n          \r\n          .form-actions {\r\n            flex-direction: column-reverse;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 480px) {\r\n          .auth-branding {\r\n            padding: 24px 16px;\r\n          }\r\n          \r\n          .auth-form-container {\r\n            padding: 16px;\r\n          }\r\n          \r\n          .auth-header,\r\n          .auth-form {\r\n            padding: 20px 16px;\r\n          }\r\n          \r\n          .brand-logo {\r\n            width: 64px;\r\n            height: 64px;\r\n            margin-bottom: 24px;\r\n          }\r\n          \r\n          .brand-title {\r\n            font-size: 24px;\r\n          }\r\n          \r\n          .auth-input,\r\n          .auth-textarea {\r\n            font-size: 14px;\r\n          }\r\n          \r\n          .type-selector {\r\n            grid-template-columns: 1fr;\r\n          }\r\n          \r\n          .progress-steps {\r\n            flex-direction: column;\r\n            gap: 16px;\r\n          }\r\n          \r\n          .progress-line {\r\n            width: 2px;\r\n            height: 20px;\r\n          }\r\n        }\r\n        \r\n        /* Animation enhancements */\r\n        .auth-card {\r\n          animation: slideUp 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);\r\n        }\r\n        \r\n        @keyframes slideUp {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(40px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n        \r\n        .auth-branding {\r\n          animation: fadeInLeft 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);\r\n        }\r\n        \r\n        @keyframes fadeInLeft {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateX(-40px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateX(0);\r\n          }\r\n        }\r\n        \r\n        /* Accessibility improvements */\r\n        @media (prefers-reduced-motion: reduce) {\r\n          .auth-card,\r\n          .auth-branding,\r\n          .floating-book,\r\n          .auth-pattern {\r\n            animation: none;\r\n          }\r\n          \r\n          .auth-button,\r\n          .role-option,\r\n          .type-option {\r\n            transition: none;\r\n          }\r\n          \r\n          .auth-button:hover,\r\n          .role-option:hover,\r\n          .type-option:hover {\r\n            transform: none;\r\n          }\r\n        }\r\n        \r\n        /* High contrast mode */\r\n        @media (prefers-contrast: high) {\r\n          .auth-input,\r\n          .auth-textarea,\r\n          .auth-button {\r\n            border-width: 3px;\r\n          }\r\n          \r\n          .auth-tab.active {\r\n            border: 2px solid #F3EED9;\r\n          }\r\n          \r\n          .role-option,\r\n          .type-option {\r\n            border-width: 3px;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};","// src/renderer/components/InstitutionSetup.tsx\nimport React, { useState } from 'react';\nimport { \n  Building,\n  Key,\n  Users,\n  CheckCircle,\n  Copy,\n  Download,\n  Mail,\n  Share,\n  QrCode,\n  Printer,\n  ArrowRight,\n  Sparkles,\n  Shield,\n  Globe,\n  BookOpen,\n  User,\n  Zap\n} from 'lucide-react';\nimport { Institution } from '../../services/SupabaseService';\n\ninterface InstitutionSetupProps {\n  institutionCode: string;\n  institution: Institution | null;\n  onComplete: () => void;\n}\n\nexport const InstitutionSetup: React.FC<InstitutionSetupProps> = ({\n  institutionCode,\n  institution,\n  onComplete\n}) => {\n  const [currentStep, setCurrentStep] = useState(1);\n  const [copied, setCopied] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleCopyCode = async () => {\n    try {\n      await navigator.clipboard.writeText(institutionCode);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    } catch (error) {\n      console.error('Erreur lors de la copie:', error);\n    }\n  };\n\n  const handleDownloadInfo = () => {\n    const content = `\nINFORMATIONS DE VOTRE ÉTABLISSEMENT\n=====================================\n\nNom: ${institution?.name || 'Non spécifié'}\nCode d'accès: ${institutionCode}\nType: ${institution?.type || 'Non spécifié'}\nVille: ${institution?.city || 'Non spécifié'}\nPays: ${institution?.country || 'Non spécifié'}\n\nINSTRUCTIONS POUR VOS UTILISATEURS:\n====================================\n\n1. Téléchargez l'application Bibliothèque Cloud\n2. Choisissez \"Inscription\" \n3. Entrez le code d'établissement: ${institutionCode}\n4. Remplissez vos informations personnelles\n5. Attendez la validation de votre compte\n\nLIEN DE TÉLÉCHARGEMENT:\n======================\n[Insérez ici le lien de téléchargement de votre application]\n\nDate de création: ${new Date().toLocaleDateString('fr-FR')}\n    `.trim();\n\n    const blob = new Blob([content], { type: 'text/plain' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${institution?.name?.replace(/[^a-zA-Z0-9]/g, '_') || 'institution'}_info.txt`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  const generateQRCode = () => {\n    // Simuler la génération d'un QR Code\n    // En production, vous utiliseriez une vraie bibliothèque QR\n    const qrContent = `Institution: ${institution?.name}\\nCode: ${institutionCode}`;\n    alert(`QR Code généré pour:\\n${qrContent}`);\n  };\n\n  const sendInvitation = () => {\n    const subject = encodeURIComponent(`Invitation - ${institution?.name}`);\n    const body = encodeURIComponent(`\nBonjour,\n\nVous êtes invité(e) à rejoindre ${institution?.name} sur l'application Bibliothèque Cloud.\n\nCode d'établissement: ${institutionCode}\n\nInstructions:\n1. Téléchargez l'application Bibliothèque Cloud\n2. Créez votre compte en utilisant le code ci-dessus\n3. Attendez la validation de votre accès\n\nCordialement,\nL'équipe de ${institution?.name}\n    `);\n    \n    window.open(`mailto:?subject=${subject}&body=${body}`);\n  };\n\n  const nextStep = () => {\n    if (currentStep < 3) {\n      setCurrentStep(currentStep + 1);\n    } else {\n      onComplete();\n    }\n  };\n\n  const previousStep = () => {\n    if (currentStep > 1) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  const steps = [\n    {\n      number: 1,\n      title: \"Félicitations !\",\n      subtitle: \"Votre établissement a été créé\",\n      icon: CheckCircle\n    },\n    {\n      number: 2,\n      title: \"Partagez le code\",\n      subtitle: \"Invitez vos utilisateurs\",\n      icon: Users\n    },\n    {\n      number: 3,\n      title: \"Prêt à commencer\",\n      subtitle: \"Accédez à votre bibliothèque\",\n      icon: BookOpen\n    }\n  ];\n\n  return (\n    <div className=\"institution-setup\">\n      <div className=\"setup-background\">\n        <div className=\"background-pattern\"></div>\n        <div className=\"floating-elements\">\n          <div className=\"floating-icon\">📚</div>\n          <div className=\"floating-icon\">🎓</div>\n          <div className=\"floating-icon\">👥</div>\n          <div className=\"floating-icon\">🔑</div>\n        </div>\n      </div>\n\n      <div className=\"setup-container\">\n        <div className=\"setup-header\">\n          <div className=\"header-logo\">\n            <Building size={48} />\n          </div>\n          <h1 className=\"setup-title\">Configuration de votre établissement</h1>\n          \n          {/* Progress indicator */}\n          <div className=\"progress-container\">\n            <div className=\"progress-steps\">\n              {steps.map((step, index) => (\n                <div key={step.number} className={`progress-step ${currentStep >= step.number ? 'active' : ''} ${currentStep === step.number ? 'current' : ''}`}>\n                  <div className=\"step-circle\">\n                    <step.icon size={20} />\n                  </div>\n                  <div className=\"step-info\">\n                    <span className=\"step-title\">{step.title}</span>\n                    <span className=\"step-subtitle\">{step.subtitle}</span>\n                  </div>\n                  {index < steps.length - 1 && <div className=\"step-connector\"></div>}\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"setup-content\">\n          {/* Step 1: Success */}\n          {currentStep === 1 && (\n            <div className=\"step-content success-step\">\n              <div className=\"success-animation\">\n                <div className=\"success-circle\">\n                  <CheckCircle size={64} />\n                </div>\n                <div className=\"success-sparkles\">\n                  <Sparkles className=\"sparkle sparkle-1\" />\n                  <Sparkles className=\"sparkle sparkle-2\" />\n                  <Sparkles className=\"sparkle sparkle-3\" />\n                </div>\n              </div>\n              \n              <h2 className=\"step-title\">Félicitations ! 🎉</h2>\n              <p className=\"step-description\">\n                Votre établissement <strong>{institution?.name}</strong> a été créé avec succès.\n                Vous êtes maintenant l'administrateur principal et pouvez commencer à gérer votre bibliothèque.\n              </p>\n\n              <div className=\"institution-card\">\n                <div className=\"card-header\">\n                  <Building size={24} />\n                  <h3>Informations de l'établissement</h3>\n                </div>\n                <div className=\"card-content\">\n                  <div className=\"info-row\">\n                    <span className=\"info-label\">Nom:</span>\n                    <span className=\"info-value\">{institution?.name}</span>\n                  </div>\n                  <div className=\"info-row\">\n                    <span className=\"info-label\">Type:</span>\n                    <span className=\"info-value\">\n                      {institution?.type === 'school' && '🏫 École/Lycée'}\n                      {institution?.type === 'university' && '🎓 Université'}\n                      {institution?.type === 'library' && '📚 Bibliothèque'}\n                      {institution?.type === 'other' && '🏢 Autre'}\n                    </span>\n                  </div>\n                  <div className=\"info-row\">\n                    <span className=\"info-label\">Localisation:</span>\n                    <span className=\"info-value\">{institution?.city}, {institution?.country}</span>\n                  </div>\n                  <div className=\"info-row highlight\">\n                    <span className=\"info-label\">Code d'accès:</span>\n                    <span className=\"info-value code-value\">{institutionCode}</span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"features-preview\">\n                <h3>Ce que vous pouvez faire maintenant :</h3>\n                <div className=\"features-grid\">\n                  <div className=\"feature-item\">\n                    <BookOpen size={20} />\n                    <span>Gérer vos livres</span>\n                  </div>\n                  <div className=\"feature-item\">\n                    <Users size={20} />\n                    <span>Inviter des utilisateurs</span>\n                  </div>\n                  <div className=\"feature-item\">\n                    <Shield size={20} />\n                    <span>Contrôler les accès</span>\n                  </div>\n                  <div className=\"feature-item\">\n                    <Globe size={20} />\n                    <span>Synchroniser en ligne</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Step 2: Share Code */}\n          {currentStep === 2 && (\n            <div className=\"step-content share-step\">\n              <div className=\"share-header\">\n                <div className=\"share-icon\">\n                  <Key size={48} />\n                </div>\n                <h2 className=\"step-title\">Partagez votre code d'établissement</h2>\n                <p className=\"step-description\">\n                  Utilisez ce code unique pour permettre à vos utilisateurs de rejoindre votre établissement.\n                  Gardez-le confidentiel et ne le partagez qu'avec les personnes autorisées.\n                </p>\n              </div>\n\n              <div className=\"code-display\">\n                <div className=\"code-container\">\n                  <div className=\"code-label\">Code d'établissement</div>\n                  <div className=\"code-value-large\">{institutionCode}</div>\n                  <button \n                    className={`copy-button ${copied ? 'copied' : ''}`}\n                    onClick={handleCopyCode}\n                  >\n                    {copied ? <CheckCircle size={18} /> : <Copy size={18} />}\n                    <span>{copied ? 'Copié !' : 'Copier'}</span>\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"sharing-options\">\n                <h3>Options de partage</h3>\n                <div className=\"sharing-grid\">\n                  <button className=\"sharing-option\" onClick={handleDownloadInfo}>\n                    <div className=\"option-icon\">\n                      <Download size={24} />\n                    </div>\n                    <div className=\"option-content\">\n                      <span className=\"option-title\">Télécharger les infos</span>\n                      <span className=\"option-description\">Fichier avec toutes les informations</span>\n                    </div>\n                  </button>\n\n                  <button className=\"sharing-option\" onClick={sendInvitation}>\n                    <div className=\"option-icon\">\n                      <Mail size={24} />\n                    </div>\n                    <div className=\"option-content\">\n                      <span className=\"option-title\">Envoyer par email</span>\n                      <span className=\"option-description\">Invitation pré-rédigée</span>\n                    </div>\n                  </button>\n\n                  <button className=\"sharing-option\" onClick={generateQRCode}>\n                    <div className=\"option-icon\">\n                      <QrCode size={24} />\n                    </div>\n                    <div className=\"option-content\">\n                      <span className=\"option-title\">Générer QR Code</span>\n                      <span className=\"option-description\">Pour un partage rapide</span>\n                    </div>\n                  </button>\n\n                  <button className=\"sharing-option\" onClick={() => window.print()}>\n                    <div className=\"option-icon\">\n                      <Printer size={24} />\n                    </div>\n                    <div className=\"option-content\">\n                      <span className=\"option-title\">Imprimer</span>\n                      <span className=\"option-description\">Affichage physique</span>\n                    </div>\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"instructions-card\">\n                <h4>Instructions pour vos utilisateurs :</h4>\n                <ol className=\"instructions-list\">\n                  <li>Télécharger l'application Bibliothèque Cloud</li>\n                  <li>Choisir \"Inscription\" sur l'écran de connexion</li>\n                  <li>Entrer le code d'établissement : <code>{institutionCode}</code></li>\n                  <li>Remplir leurs informations personnelles</li>\n                  <li>Attendre la validation de leur compte par un administrateur</li>\n                </ol>\n              </div>\n            </div>\n          )}\n\n          {/* Step 3: Ready to Start */}\n          {currentStep === 3 && (\n            <div className=\"step-content ready-step\">\n              <div className=\"ready-animation\">\n                <div className=\"ready-icon\">\n                  <Zap size={64} />\n                </div>\n              </div>\n\n              <h2 className=\"step-title\">Tout est prêt ! 🚀</h2>\n              <p className=\"step-description\">\n                Votre établissement est configuré et prêt à être utilisé. \n                Vous allez maintenant être connecté en tant qu'administrateur principal.\n              </p>\n\n              <div className=\"quick-actions\">\n                <h3>Prochaines étapes recommandées :</h3>\n                <div className=\"actions-list\">\n                  <div className=\"action-item\">\n                    <div className=\"action-number\">1</div>\n                    <div className=\"action-content\">\n                      <span className=\"action-title\">Ajoutez vos premiers livres</span>\n                      <span className=\"action-description\">Commencez à construire votre catalogue</span>\n                    </div>\n                  </div>\n                  <div className=\"action-item\">\n                    <div className=\"action-number\">2</div>\n                    <div className=\"action-content\">\n                      <span className=\"action-title\">Invitez vos bibliothécaires</span>\n                      <span className=\"action-description\">Donnez-leur un accès administrateur</span>\n                    </div>\n                  </div>\n                  <div className=\"action-item\">\n                    <div className=\"action-number\">3</div>\n                    <div className=\"action-content\">\n                      <span className=\"action-title\">Configurez vos paramètres</span>\n                      <span className=\"action-description\">Personnalisez selon vos besoins</span>\n                    </div>\n                  </div>\n                  <div className=\"action-item\">\n                    <div className=\"action-number\">4</div>\n                    <div className=\"action-content\">\n                      <span className=\"action-title\">Partagez le code d'accès</span>\n                      <span className=\"action-description\">Permettez aux utilisateurs de s'inscrire</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"support-info\">\n                <h4>Besoin d'aide ?</h4>\n                <p>\n                  Consultez notre documentation en ligne ou contactez notre support technique \n                  pour vous accompagner dans la prise en main de votre nouvelle bibliothèque.\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Navigation */}\n        <div className=\"setup-navigation\">\n          {currentStep > 1 && (\n            <button \n              className=\"nav-button secondary\"\n              onClick={previousStep}\n              disabled={isLoading}\n            >\n              Précédent\n            </button>\n          )}\n          \n          <button \n            className=\"nav-button primary\"\n            onClick={nextStep}\n            disabled={isLoading}\n          >\n            {isLoading ? (\n              <>\n                <div className=\"loading-spinner\"></div>\n                Chargement...\n              </>\n            ) : (\n              <>\n                {currentStep === 3 ? 'Accéder à ma bibliothèque' : 'Continuer'}\n                <ArrowRight size={18} />\n              </>\n            )}\n          </button>\n        </div>\n      </div>\n\n      <style>{`\n        .institution-setup {\n          height: 100vh;\n          display: flex;\n          flex-direction: column;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          position: relative;\n          overflow: hidden;\n        }\n\n        .setup-background {\n          position: absolute;\n          inset: 0;\n          overflow: hidden;\n        }\n\n        .background-pattern {\n          position: absolute;\n          inset: 0;\n          background-image: \n            radial-gradient(circle at 25% 25%, rgba(243, 238, 217, 0.08) 0%, transparent 50%),\n            radial-gradient(circle at 75% 75%, rgba(194, 87, 27, 0.06) 0%, transparent 50%);\n          animation: drift 25s ease-in-out infinite;\n        }\n\n        .floating-elements {\n          position: absolute;\n          inset: 0;\n          pointer-events: none;\n        }\n\n        .floating-icon {\n          position: absolute;\n          font-size: 24px;\n          opacity: 0.2;\n          animation: float 8s ease-in-out infinite;\n        }\n\n        .floating-icon:nth-child(1) {\n          top: 20%;\n          left: 10%;\n          animation-delay: 0s;\n        }\n\n        .floating-icon:nth-child(2) {\n          top: 60%;\n          right: 15%;\n          animation-delay: 2s;\n        }\n\n        .floating-icon:nth-child(3) {\n          bottom: 30%;\n          left: 20%;\n          animation-delay: 4s;\n        }\n\n        .floating-icon:nth-child(4) {\n          top: 40%;\n          right: 30%;\n          animation-delay: 6s;\n        }\n\n        @keyframes drift {\n          0%, 100% { transform: translate(0, 0) rotate(0deg); }\n          33% { transform: translate(30px, -30px) rotate(1deg); }\n          66% { transform: translate(-20px, 20px) rotate(-1deg); }\n        }\n\n        @keyframes float {\n          0%, 100% { transform: translateY(0px) rotate(0deg); }\n          50% { transform: translateY(-20px) rotate(5deg); }\n        }\n\n        .setup-container {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          max-width: 1000px;\n          margin: 0 auto;\n          padding: 40px;\n          position: relative;\n          z-index: 1;\n        }\n\n        .setup-header {\n          text-align: center;\n          margin-bottom: 40px;\n          color: #F3EED9;\n        }\n\n        .header-logo {\n          width: 80px;\n          height: 80px;\n          background: rgba(243, 238, 217, 0.15);\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin: 0 auto 24px;\n          border: 1px solid rgba(243, 238, 217, 0.2);\n          backdrop-filter: blur(10px);\n        }\n\n        .setup-title {\n          font-size: 32px;\n          font-weight: 800;\n          margin: 0 0 32px 0;\n          letter-spacing: -0.5px;\n        }\n\n        .progress-container {\n          margin-bottom: 20px;\n        }\n\n        .progress-steps {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          gap: 40px;\n          position: relative;\n        }\n\n        .progress-step {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 12px;\n          opacity: 0.5;\n          transition: all 0.3s ease;\n          position: relative;\n        }\n\n        .progress-step.active {\n          opacity: 1;\n        }\n\n        .progress-step.current {\n          transform: scale(1.1);\n        }\n\n        .step-circle {\n          width: 56px;\n          height: 56px;\n          border-radius: 50%;\n          background: rgba(243, 238, 217, 0.15);\n          border: 2px solid rgba(243, 238, 217, 0.3);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.3s ease;\n        }\n\n        .progress-step.active .step-circle {\n          background: rgba(243, 238, 217, 0.3);\n          border-color: rgba(243, 238, 217, 0.6);\n        }\n\n        .progress-step.current .step-circle {\n          background: #C2571B;\n          border-color: #C2571B;\n          color: #F3EED9;\n          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);\n        }\n\n        .step-info {\n          text-align: center;\n        }\n\n        .step-title {\n          font-size: 14px;\n          font-weight: 600;\n          margin: 0 0 4px 0;\n        }\n\n        .step-subtitle {\n          font-size: 12px;\n          opacity: 0.8;\n        }\n\n        .step-connector {\n          position: absolute;\n          top: 28px;\n          left: 100%;\n          width: 40px;\n          height: 2px;\n          background: rgba(243, 238, 217, 0.2);\n          z-index: -1;\n        }\n\n        .setup-content {\n          flex: 1;\n          background: rgba(255, 255, 255, 0.95);\n          border-radius: 24px;\n          padding: 40px;\n          margin-bottom: 32px;\n          box-shadow: \n            0 24px 48px rgba(62, 92, 73, 0.2),\n            0 8px 24px rgba(62, 92, 73, 0.12);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n          backdrop-filter: blur(20px);\n          overflow-y: auto;\n        }\n\n        .step-content {\n          max-width: 800px;\n          margin: 0 auto;\n        }\n\n        /* Success Step */\n        .success-step {\n          text-align: center;\n        }\n\n        .success-animation {\n          position: relative;\n          margin-bottom: 32px;\n        }\n\n        .success-circle {\n          color: #3E5C49;\n          animation: bounce 0.6s ease-out;\n        }\n\n        .success-sparkles {\n          position: absolute;\n          inset: 0;\n          pointer-events: none;\n        }\n\n        .sparkle {\n          position: absolute;\n          color: #C2571B;\n          animation: sparkle 2s ease-in-out infinite;\n        }\n\n        .sparkle-1 {\n          top: 10%;\n          left: 20%;\n          animation-delay: 0s;\n        }\n\n        .sparkle-2 {\n          top: 20%;\n          right: 15%;\n          animation-delay: 0.5s;\n        }\n\n        .sparkle-3 {\n          bottom: 15%;\n          left: 15%;\n          animation-delay: 1s;\n        }\n\n        @keyframes bounce {\n          0%, 20%, 53%, 80%, 100% { transform: translate3d(0, 0, 0); }\n          40%, 43% { transform: translate3d(0, -30px, 0); }\n          70% { transform: translate3d(0, -15px, 0); }\n          90% { transform: translate3d(0, -4px, 0); }\n        }\n\n        @keyframes sparkle {\n          0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }\n          50% { opacity: 1; transform: scale(1) rotate(180deg); }\n        }\n\n        .step-title {\n          font-size: 28px;\n          font-weight: 800;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n          letter-spacing: -0.5px;\n        }\n\n        .step-description {\n          font-size: 16px;\n          color: #6E6E6E;\n          line-height: 1.6;\n          margin-bottom: 32px;\n        }\n\n        .institution-card {\n          background: #F3EED9;\n          border: 1px solid #E5DCC2;\n          border-radius: 16px;\n          margin-bottom: 32px;\n          overflow: hidden;\n        }\n\n        .card-header {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 20px 24px;\n          background: rgba(62, 92, 73, 0.1);\n          border-bottom: 1px solid #E5DCC2;\n        }\n\n        .card-header h3 {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0;\n        }\n\n        .card-content {\n          padding: 24px;\n        }\n\n        .info-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 16px;\n          padding-bottom: 16px;\n          border-bottom: 1px solid rgba(229, 220, 194, 0.5);\n        }\n\n        .info-row:last-child {\n          margin-bottom: 0;\n          padding-bottom: 0;\n          border-bottom: none;\n        }\n\n        .info-row.highlight {\n          background: rgba(62, 92, 73, 0.05);\n          padding: 16px;\n          border-radius: 12px;\n          border: 1px solid rgba(62, 92, 73, 0.2);\n          border-bottom: 1px solid rgba(62, 92, 73, 0.2);\n        }\n\n        .info-label {\n          font-weight: 600;\n          color: #6E6E6E;\n        }\n\n        .info-value {\n          font-weight: 600;\n          color: #2E2E2E;\n        }\n\n        .code-value {\n          font-family: 'Monaco', 'Consolas', monospace;\n          background: #3E5C49;\n          color: #F3EED9;\n          padding: 8px 12px;\n          border-radius: 8px;\n          font-size: 16px;\n          letter-spacing: 2px;\n        }\n\n        .features-preview h3 {\n          font-size: 18px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n          text-align: left;\n        }\n\n        .features-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 16px;\n        }\n\n        .feature-item {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px;\n          background: rgba(62, 92, 73, 0.05);\n          border: 1px solid rgba(62, 92, 73, 0.1);\n          border-radius: 12px;\n          color: #3E5C49;\n          font-weight: 500;\n        }\n\n        /* Share Step */\n        .share-step {\n          text-align: center;\n        }\n\n        .share-header {\n          margin-bottom: 32px;\n        }\n\n        .share-icon {\n          color: #C2571B;\n          margin-bottom: 24px;\n        }\n\n        .code-display {\n          margin-bottom: 40px;\n        }\n\n        .code-container {\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          border-radius: 20px;\n          padding: 32px;\n          color: #F3EED9;\n          position: relative;\n          overflow: hidden;\n        }\n\n        .code-container::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 100px;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.1));\n          transform: skewX(-15deg);\n        }\n\n        .code-label {\n          font-size: 14px;\n          opacity: 0.9;\n          margin-bottom: 16px;\n          text-transform: uppercase;\n          letter-spacing: 1px;\n        }\n\n        .code-value-large {\n          font-size: 48px;\n          font-weight: 800;\n          letter-spacing: 8px;\n          font-family: 'Monaco', 'Consolas', monospace;\n          margin-bottom: 24px;\n          position: relative;\n          z-index: 1;\n        }\n\n        .copy-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          background: rgba(243, 238, 217, 0.2);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px 24px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 600;\n          margin: 0 auto;\n          position: relative;\n          z-index: 1;\n        }\n\n        .copy-button:hover {\n          background: rgba(243, 238, 217, 0.3);\n          transform: translateY(-1px);\n        }\n\n        .copy-button.copied {\n          background: rgba(194, 87, 27, 0.8);\n          border-color: rgba(194, 87, 27, 0.8);\n          color: #F3EED9;\n          cursor: default;\n          pointer-events: none;\n        }\n\n        .sharing-options {\n          margin-bottom: 40px;\n        }\n\n        .sharing-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 24px;\n        }\n\n        .sharing-option {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          padding: 20px;\n          background: rgba(62, 92, 73, 0.05);\n          border: 1px solid rgba(62, 92, 73, 0.1);\n          border-radius: 16px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          color: #3E5C49;\n          font-weight: 600;\n        }\n\n        .sharing-option:hover {\n          background: rgba(62, 92, 73, 0.1);\n          border-color: rgba(62, 92, 73, 0.2);\n        }\n\n        .option-icon {\n          width: 48px;\n          height: 48px;\n          background: #C2571B;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n          flex-shrink: 0;\n        }\n\n        .option-content {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        .option-title {\n          font-size: 16px;\n          font-weight: 700;\n        }\n\n        .option-description {\n          font-size: 12px;\n          color: #6E6E6E;\n        }\n\n        .instructions-card {\n          background: #F3EED9;\n          border: 1px solid #E5DCC2;\n          border-radius: 16px;\n          padding: 24px;\n          color: #3E5C49;\n          font-weight: 600;\n          text-align: left;\n          max-width: 600px;\n          margin: 0 auto;\n        }\n\n        .instructions-list {\n          margin: 0;\n          padding-left: 20px;\n          list-style-type: decimal;\n        }\n\n        .instructions-list li {\n          margin-bottom: 8px;\n          font-weight: 500;\n          font-size: 14px;\n        }\n\n        .setup-navigation {\n          display: flex;\n          justify-content: flex-end;\n          gap: 16px;\n          padding: 0 40px 40px;\n        }\n\n        .nav-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 24px;\n          border-radius: 12px;\n          font-weight: 700;\n          font-size: 14px;\n          cursor: pointer;\n          border: none;\n          transition: all 0.2s ease;\n        }\n\n        .nav-button.primary {\n          background: #C2571B;\n          color: #F3EED9;\n        }\n\n        .nav-button.primary:hover:not(:disabled) {\n          background: #A8481A;\n          transform: translateY(-2px);\n          box-shadow: 0 8px 24px rgba(194, 87, 27, 0.3);\n        }\n\n        .nav-button.secondary {\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 1px solid #E5DCC2;\n        }\n\n        .nav-button.secondary:hover:not(:disabled) {\n          background: #EAEADC;\n          color: #2E2E2E;\n          transform: translateY(-1px);\n        }\n\n        .nav-button:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          transform: none;\n          box-shadow: none;\n        }\n\n        .loading-spinner {\n          width: 24px;\n          height: 24px;\n          border: 3px solid rgba(243, 238, 217, 0.3);\n          border-top: 3px solid #C2571B;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin: 0 auto;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `}</style>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\r\nimport { \r\n  Printer, \r\n  Download, \r\n  FileText, \r\n  BookOpen, \r\n  Clock,\r\n  X,\r\n  Check,\r\n  AlertCircle,\r\n  Eye,\r\n  Zap,\r\n  BarChart3\r\n} from 'lucide-react';\r\nimport { Book, Stats, Category } from '../../preload';\r\n\r\ninterface PrintManagerProps {\r\n  books: Book[];\r\n  stats: Stats;\r\n  categories: Category[];\r\n  onClose: () => void;\r\n}\r\n\r\ntype PrintType = 'inventory' | 'available' | 'borrowed';\r\n\r\nexport const PrintManager: React.FC<PrintManagerProps> = ({ \r\n  books, \r\n  stats, \r\n  categories, \r\n  onClose \r\n}) => {\r\n  const [selectedType, setSelectedType] = useState<PrintType>('inventory');\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\r\n\r\n  const printOptions = [\r\n    {\r\n      id: 'inventory' as PrintType,\r\n      title: 'Inventaire Complet',\r\n      description: 'Liste détaillée de tous les livres avec statuts',\r\n      icon: FileText,\r\n      color: '#3E5C49',\r\n      gradient: 'linear-gradient(135deg, #3E5C49 0%, #2E453A 100%)',\r\n      count: stats.totalBooks,\r\n      features: ['Informations complètes', 'Statuts des emprunts', 'Métadonnées']\r\n    },\r\n    {\r\n      id: 'available' as PrintType,\r\n      title: 'Livres Disponibles',\r\n      description: 'Collection des ouvrages disponibles à l\\'emprunt',\r\n      icon: BookOpen,\r\n      color: '#3E5C49',\r\n      gradient: 'linear-gradient(135deg, #3E5C49 0%, #4A6B57 100%)',\r\n      count: stats.availableBooks,\r\n      features: ['Livres en rayon', 'Prêts à emprunter', 'Tri par catégorie']\r\n    },\r\n    {\r\n      id: 'borrowed' as PrintType,\r\n      title: 'Livres Empruntés',\r\n      description: 'Suivi des emprunts en cours avec emprunteurs',\r\n      icon: Clock,\r\n      color: '#C2571B',\r\n      gradient: 'linear-gradient(135deg, #C2571B 0%, #A8481A 100%)',\r\n      count: stats.borrowedBooks,\r\n      features: ['Noms des emprunteurs', 'Dates d\\'emprunt', 'Alertes retard']\r\n    }\r\n  ];\r\n\r\n  const showMessage = (type: 'success' | 'error', text: string) => {\r\n    setMessage({ type, text });\r\n    setTimeout(() => setMessage(null), 5000);\r\n  };\r\n\r\n  const handlePrint = async () => {\r\n    setIsProcessing(true);\r\n    try {\r\n      const printData = { books, stats, categories };\r\n\r\n      let success = false;\r\n      switch (selectedType) {\r\n        case 'inventory':\r\n          success = await window.electronAPI.printInventory(printData);\r\n          break;\r\n        case 'available':\r\n          success = await window.electronAPI.printAvailableBooks(printData);\r\n          break;\r\n        case 'borrowed':\r\n          success = await window.electronAPI.printBorrowedBooks(printData);\r\n          break;\r\n      }\r\n\r\n      if (success) {\r\n        showMessage('success', 'Document envoyé à l\\'imprimante avec succès');\r\n      } else {\r\n        showMessage('error', 'Erreur lors de l\\'impression');\r\n      }\r\n    } catch (error) {\r\n      console.error('Print error:', error);\r\n      showMessage('error', 'Erreur lors de l\\'impression');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleExportCSV = async () => {\r\n    setIsProcessing(true);\r\n    try {\r\n      const exportData = { books, stats, categories };\r\n      const filePath = await window.electronAPI.exportCSV(exportData);\r\n      \r\n      if (filePath) {\r\n        showMessage('success', `Fichier CSV exporté : ${filePath.split(/[/\\\\]/).pop()}`);\r\n      } else {\r\n        showMessage('error', 'Export annulé ou erreur');\r\n      }\r\n    } catch (error) {\r\n      console.error('Export error:', error);\r\n      showMessage('error', 'Erreur lors de l\\'export CSV');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const getPreviewData = () => {\r\n    switch (selectedType) {\r\n      case 'inventory':\r\n        return {\r\n          title: 'Inventaire Complet',\r\n          items: books,\r\n          description: `${stats.totalBooks} livre(s) au total`,\r\n          icon: BarChart3\r\n        };\r\n      case 'available':\r\n        return {\r\n          title: 'Livres Disponibles',\r\n          items: books.filter(book => !book.isBorrowed),\r\n          description: `${stats.availableBooks} livre(s) disponible(s)`,\r\n          icon: BookOpen\r\n        };\r\n      case 'borrowed':\r\n        return {\r\n          title: 'Livres Empruntés',\r\n          items: books.filter(book => book.isBorrowed),\r\n          description: `${stats.borrowedBooks} livre(s) emprunté(s)`,\r\n          icon: Clock\r\n        };\r\n    }\r\n  };\r\n\r\n  const previewData = getPreviewData();\r\n  const selectedOption = printOptions.find(opt => opt.id === selectedType);\r\n  if (!selectedOption) {\r\n    return <div>Erreur: option sélectionnée invalide</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"print-manager-overlay\">\r\n      <div className=\"print-manager-modal\">\r\n        {/* Header */}\r\n        <div className=\"modal-header\">\r\n          <div className=\"header-content\">\r\n            <div className=\"header-icon\">\r\n              <Printer size={28} />\r\n            </div>\r\n            <div className=\"header-text\">\r\n              <h2 className=\"modal-title\">Impression & Export</h2>\r\n              <p className=\"modal-subtitle\">Générez des rapports professionnels de votre bibliothèque</p>\r\n            </div>\r\n          </div>\r\n          <button className=\"close-button\" onClick={onClose}>\r\n            <X size={20} />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Message */}\r\n        {message && (\r\n          <div className={`message ${message.type}`}>\r\n            {message.type === 'success' ? <Check size={20} /> : <AlertCircle size={20} />}\r\n            <span>{message.text}</span>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"modal-content\">\r\n          {/* Options Selection */}\r\n          <div className=\"options-section\">\r\n            <div className=\"section-header\">\r\n              <h3 className=\"section-title\">Choisir le type de rapport</h3>\r\n              <p className=\"section-description\">Sélectionnez le contenu à inclure dans votre document</p>\r\n            </div>\r\n            \r\n            <div className=\"print-options\">\r\n              {printOptions.map((option) => (\r\n                <div\r\n                  key={option.id}\r\n                  className={`option-card ${selectedType === option.id ? 'selected' : ''}`}\r\n                  onClick={() => setSelectedType(option.id)}\r\n                >\r\n                  <div className=\"option-header\">\r\n                    <div \r\n                      className=\"option-icon\"\r\n                      style={{ background: option.gradient }}\r\n                    >\r\n                      <option.icon size={24} />\r\n                    </div>\r\n                    <div className=\"option-badge\">\r\n                      {option.count} élément{option.count > 1 ? 's' : ''}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"option-content\">\r\n                    <h4 className=\"option-title\">{option.title}</h4>\r\n                    <p className=\"option-description\">{option.description}</p>\r\n                    \r\n                    <div className=\"option-features\">\r\n                      {option.features.map((feature, index) => (\r\n                        <span key={index} className=\"feature-tag\">\r\n                          {feature}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"option-indicator\">\r\n                    {selectedType === option.id && <Check size={16} />}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Preview Section */}\r\n          <div className=\"preview-section\">\r\n            <div className=\"section-header\">\r\n              <div className=\"preview-title-section\">\r\n                <h3 className=\"section-title\">Aperçu du contenu</h3>\r\n                <div className=\"preview-stats\">\r\n                  <previewData.icon size={16} />\r\n                  <span>{previewData.description}</span>\r\n                </div>\r\n              </div>\r\n              <button className=\"preview-button\">\r\n                <Eye size={16} />\r\n                Prévisualiser\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"preview-card\">\r\n              <div className=\"preview-header\">\r\n                <div \r\n                  className=\"preview-icon\"\r\n                  style={{ background: selectedOption?.gradient }}\r\n                >\r\n                  <selectedOption.icon size={20} />\r\n                </div>\r\n                <div className=\"preview-info\">\r\n                  <h4 className=\"preview-title\">{previewData.title}</h4>\r\n                  <p className=\"preview-subtitle\">Généré le {new Date().toLocaleDateString('fr-FR')}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"preview-content\">\r\n                <div className=\"preview-table\">\r\n                  <div className=\"table-header\">\r\n                    <div className=\"header-cell\">Titre</div>\r\n                    <div className=\"header-cell\">Auteur</div>\r\n                    <div className=\"header-cell\">Catégorie</div>\r\n                    {selectedType === 'borrowed' && (\r\n                      <>\r\n                        <div className=\"header-cell\">Emprunteur</div>\r\n                        <div className=\"header-cell\">Date</div>\r\n                      </>\r\n                    )}\r\n                    {selectedType !== 'borrowed' && (\r\n                      <div className=\"header-cell\">Statut</div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"table-body\">\r\n                    {previewData.items.slice(0, 4).map((book, index) => (\r\n                      <div key={index} className=\"table-row\">\r\n                        <div className=\"table-cell\">\r\n                          <div className=\"cell-content\">\r\n                            <div className=\"book-title\">{book.title}</div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"table-cell\">{book.author}</div>\r\n                        <div className=\"table-cell\">\r\n                          <span className=\"category-badge\">{book.category}</span>\r\n                        </div>\r\n                        {selectedType === 'borrowed' && (\r\n                          <>\r\n                            <div className=\"table-cell\">\r\n                              <strong>{book.borrowerName}</strong>\r\n                            </div>\r\n                            <div className=\"table-cell\">\r\n                              {book.borrowDate ? new Date(book.borrowDate).toLocaleDateString('fr-FR') : '-'}\r\n                            </div>\r\n                          </>\r\n                        )}\r\n                        {selectedType !== 'borrowed' && (\r\n                          <div className=\"table-cell\">\r\n                            <span className={`status-badge ${book.isBorrowed ? 'borrowed' : 'available'}`}>\r\n                              {book.isBorrowed ? 'Emprunté' : 'Disponible'}\r\n                            </span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                    \r\n                    {previewData.items.length > 4 && (\r\n                      <div className=\"table-row more-items\">\r\n                        <div className=\"table-cell more-text\">\r\n                          ... et {previewData.items.length - 4} autre(s) élément(s)\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"modal-footer\">\r\n          <div className=\"footer-info\">\r\n            <div className=\"info-item\">\r\n              <FileText size={16} />\r\n              <span>Format PDF professionnel</span>\r\n            </div>\r\n            <div className=\"info-item\">\r\n              <Download size={16} />\r\n              <span>Export CSV pour données</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"footer-actions\">\r\n            <button \r\n              className=\"btn-secondary\"\r\n              onClick={handleExportCSV}\r\n              disabled={isProcessing}\r\n            >\r\n              <Download size={18} />\r\n              {isProcessing ? 'Export...' : 'Exporter CSV'}\r\n            </button>\r\n            <button \r\n              className=\"btn-primary\"\r\n              onClick={handlePrint}\r\n              disabled={isProcessing}\r\n            >\r\n              {isProcessing ? (\r\n                <>\r\n                  <Zap size={18} />\r\n                  Génération...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Printer size={18} />\r\n                  Imprimer\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <style>{`\r\n        .print-manager-overlay {\r\n          position: fixed;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: rgba(46, 46, 46, 0.7);\r\n          backdrop-filter: blur(8px);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          z-index: 1000;\r\n          padding: 20px;\r\n        }\r\n        \r\n        .print-manager-modal {\r\n          background: #FFFFFF;\r\n          border-radius: 24px;\r\n          width: 100%;\r\n          max-width: 1000px;\r\n          max-height: 90vh;\r\n          overflow: hidden;\r\n          display: flex;\r\n          flex-direction: column;\r\n          box-shadow: \r\n            0 24px 48px rgba(62, 92, 73, 0.2),\r\n            0 8px 24px rgba(62, 92, 73, 0.12);\r\n          border: 1px solid rgba(229, 220, 194, 0.3);\r\n        }\r\n        \r\n        .modal-header {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          padding: 32px;\r\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\r\n          color: #F3EED9;\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .modal-header::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          right: 0;\r\n          width: 200px;\r\n          height: 100%;\r\n          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.1));\r\n          transform: skewX(-15deg);\r\n          transform-origin: top;\r\n        }\r\n        \r\n        .header-content {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 20px;\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n        \r\n        .header-icon {\r\n          width: 56px;\r\n          height: 56px;\r\n          background: rgba(243, 238, 217, 0.2);\r\n          border-radius: 16px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          backdrop-filter: blur(10px);\r\n        }\r\n        \r\n        .modal-title {\r\n          font-size: 24px;\r\n          font-weight: 800;\r\n          margin: 0 0 4px 0;\r\n          letter-spacing: -0.3px;\r\n        }\r\n        \r\n        .modal-subtitle {\r\n          font-size: 14px;\r\n          opacity: 0.9;\r\n          margin: 0;\r\n          line-height: 1.4;\r\n        }\r\n        \r\n        .close-button {\r\n          background: rgba(243, 238, 217, 0.15);\r\n          border: 1px solid rgba(243, 238, 217, 0.3);\r\n          color: #F3EED9;\r\n          padding: 12px;\r\n          border-radius: 12px;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n        \r\n        .close-button:hover {\r\n          background: rgba(243, 238, 217, 0.25);\r\n          transform: scale(1.05);\r\n        }\r\n        \r\n        .message {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          padding: 16px 32px;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          border-bottom: 1px solid #E5DCC2;\r\n        }\r\n        \r\n        .message.success {\r\n          background: rgba(62, 92, 73, 0.1);\r\n          color: #3E5C49;\r\n        }\r\n        \r\n        .message.error {\r\n          background: rgba(194, 87, 27, 0.1);\r\n          color: #C2571B;\r\n        }\r\n        \r\n        .modal-content {\r\n          flex: 1;\r\n          overflow-y: auto;\r\n          padding: 32px;\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 40px;\r\n        }\r\n        \r\n        .section-header {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          margin-bottom: 24px;\r\n        }\r\n        \r\n        .section-title {\r\n          font-size: 20px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0 0 4px 0;\r\n        }\r\n        \r\n        .section-description {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          margin: 0;\r\n        }\r\n        \r\n        .preview-title-section {\r\n          flex: 1;\r\n        }\r\n        \r\n        .preview-stats {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          margin-top: 4px;\r\n        }\r\n        \r\n        .preview-button {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          padding: 8px 16px;\r\n          background: #F3EED9;\r\n          border: 1px solid #E5DCC2;\r\n          border-radius: 8px;\r\n          color: #6E6E6E;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n        }\r\n        \r\n        .preview-button:hover {\r\n          background: #EAEADC;\r\n          color: #2E2E2E;\r\n        }\r\n        \r\n        .print-options {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n          gap: 20px;\r\n        }\r\n        \r\n        .option-card {\r\n          background: #FFFFFF;\r\n          border: 2px solid #E5DCC2;\r\n          border-radius: 16px;\r\n          padding: 24px;\r\n          cursor: pointer;\r\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .option-card::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: linear-gradient(135deg, transparent 0%, rgba(62, 92, 73, 0.02) 100%);\r\n          opacity: 0;\r\n          transition: opacity 0.3s ease;\r\n        }\r\n        \r\n        .option-card:hover::before {\r\n          opacity: 1;\r\n        }\r\n        \r\n        .option-card:hover {\r\n          transform: translateY(-4px);\r\n          box-shadow: 0 12px 32px rgba(62, 92, 73, 0.15);\r\n          border-color: #3E5C49;\r\n        }\r\n        \r\n        .option-card.selected {\r\n          border-color: #3E5C49;\r\n          background: rgba(62, 92, 73, 0.02);\r\n          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.12);\r\n        }\r\n        \r\n        .option-card.selected::before {\r\n          opacity: 1;\r\n        }\r\n        \r\n        .option-header {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          margin-bottom: 16px;\r\n        }\r\n        \r\n        .option-icon {\r\n          width: 48px;\r\n          height: 48px;\r\n          border-radius: 12px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #F3EED9;\r\n        }\r\n        \r\n        .option-badge {\r\n          background: #F3EED9;\r\n          color: #6E6E6E;\r\n          padding: 4px 12px;\r\n          border-radius: 20px;\r\n          font-size: 12px;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .option-title {\r\n          font-size: 18px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0 0 8px 0;\r\n        }\r\n        \r\n        .option-description {\r\n          font-size: 14px;\r\n          color: #6E6E6E;\r\n          margin: 0 0 16px 0;\r\n          line-height: 1.5;\r\n        }\r\n        \r\n        .option-features {\r\n          display: flex;\r\n          flex-wrap: wrap;\r\n          gap: 8px;\r\n        }\r\n        \r\n        .feature-tag {\r\n          background: #F3EED9;\r\n          color: #6E6E6E;\r\n          padding: 4px 8px;\r\n          border-radius: 8px;\r\n          font-size: 11px;\r\n          font-weight: 500;\r\n        }\r\n        \r\n        .option-indicator {\r\n          position: absolute;\r\n          top: 16px;\r\n          right: 16px;\r\n          width: 24px;\r\n          height: 24px;\r\n          background: #3E5C49;\r\n          border-radius: 50%;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #F3EED9;\r\n          opacity: 0;\r\n          transform: scale(0.8);\r\n          transition: all 0.3s ease;\r\n        }\r\n        \r\n        .option-card.selected .option-indicator {\r\n          opacity: 1;\r\n          transform: scale(1);\r\n        }\r\n        \r\n        .preview-card {\r\n          background: #FEFEFE;\r\n          border: 1px solid #E5DCC2;\r\n          border-radius: 16px;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .preview-header {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 16px;\r\n          padding: 20px 24px;\r\n          background: #F3EED9;\r\n          border-bottom: 1px solid #E5DCC2;\r\n        }\r\n        \r\n        .preview-icon {\r\n          width: 40px;\r\n          height: 40px;\r\n          border-radius: 10px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #F3EED9;\r\n        }\r\n        \r\n        .preview-title {\r\n          font-size: 16px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          margin: 0 0 2px 0;\r\n        }\r\n        \r\n        .preview-subtitle {\r\n          font-size: 12px;\r\n          color: #6E6E6E;\r\n          margin: 0;\r\n        }\r\n        \r\n        .preview-content {\r\n          padding: 24px;\r\n        }\r\n        \r\n        .preview-table {\r\n          background: #FFFFFF;\r\n          border-radius: 12px;\r\n          overflow: hidden;\r\n          border: 1px solid #E5DCC2;\r\n        }\r\n        \r\n        .table-header {\r\n          display: grid;\r\n          grid-template-columns: 2fr 1.5fr 1fr 1fr 1fr;\r\n          background: #F3EED9;\r\n          border-bottom: 1px solid #E5DCC2;\r\n        }\r\n        \r\n        .header-cell {\r\n          padding: 16px 20px;\r\n          font-size: 12px;\r\n          font-weight: 700;\r\n          color: #2E2E2E;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.5px;\r\n        }\r\n        \r\n        .table-body {\r\n          max-height: 240px;\r\n          overflow-y: auto;\r\n        }\r\n        \r\n        .table-row {\r\n          display: grid;\r\n          grid-template-columns: 2fr 1.5fr 1fr 1fr 1fr;\r\n          border-bottom: 1px solid #F3EED9;\r\n          transition: background 0.2s ease;\r\n        }\r\n        \r\n        .table-row:hover {\r\n          background: #FEFEFE;\r\n        }\r\n        \r\n        .table-row:last-child {\r\n          border-bottom: none;\r\n        }\r\n        \r\n        .table-row.more-items {\r\n          grid-template-columns: 1fr;\r\n          background: #F3EED9;\r\n        }\r\n        \r\n        .table-cell {\r\n          padding: 16px 20px;\r\n          font-size: 14px;\r\n          color: #2E2E2E;\r\n          display: flex;\r\n          align-items: center;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .cell-content {\r\n          width: 100%;\r\n        }\r\n        \r\n        .book-title {\r\n          font-weight: 600;\r\n          white-space: nowrap;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n        }\r\n        \r\n        .more-text {\r\n          text-align: center;\r\n          font-style: italic;\r\n          color: #6E6E6E;\r\n          justify-content: center;\r\n        }\r\n        \r\n        .category-badge {\r\n          background: #3E5C49;\r\n          color: #F3EED9;\r\n          padding: 4px 10px;\r\n          border-radius: 12px;\r\n          font-size: 11px;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .status-badge {\r\n          padding: 4px 10px;\r\n          border-radius: 12px;\r\n          font-size: 11px;\r\n          font-weight: 600;\r\n        }\r\n        \r\n        .status-badge.available {\r\n          background: rgba(62, 92, 73, 0.1);\r\n          color: #3E5C49;\r\n        }\r\n        \r\n        .status-badge.borrowed {\r\n          background: rgba(194, 87, 27, 0.1);\r\n          color: #C2571B;\r\n        }\r\n        \r\n        .modal-footer {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          padding: 24px 32px;\r\n          border-top: 1px solid #E5DCC2;\r\n          background: #FEFEFE;\r\n        }\r\n        \r\n        .footer-info {\r\n          display: flex;\r\n          gap: 32px;\r\n        }\r\n        \r\n        .info-item {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          font-size: 12px;\r\n          color: #6E6E6E;\r\n        }\r\n        \r\n        .footer-actions {\r\n          display: flex;\r\n          gap: 12px;\r\n        }\r\n        \r\n        .btn-secondary, .btn-primary {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          padding: 16px 24px;\r\n          border-radius: 12px;\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          border: none;\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n        \r\n        .btn-secondary {\r\n          background: #F3EED9;\r\n          color: #6E6E6E;\r\n          border: 2px solid #E5DCC2;\r\n        }\r\n        \r\n        .btn-secondary:hover:not(:disabled) {\r\n          background: #EAEADC;\r\n          color: #2E2E2E;\r\n          transform: translateY(-1px);\r\n        }\r\n        \r\n        .btn-primary {\r\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\r\n          color: #F3EED9;\r\n          box-shadow: 0 4px 16px rgba(62, 92, 73, 0.3);\r\n        }\r\n        \r\n        .btn-primary:hover:not(:disabled) {\r\n          background: linear-gradient(135deg, #2E453A 0%, #1E2F25 100%);\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 8px 24px rgba(62, 92, 73, 0.4);\r\n        }\r\n        \r\n        .btn-secondary:disabled,\r\n        .btn-primary:disabled {\r\n          opacity: 0.6;\r\n          cursor: not-allowed;\r\n          transform: none;\r\n        }\r\n        \r\n        /* Responsive Design */\r\n        @media (max-width: 1024px) {\r\n          .print-options {\r\n            grid-template-columns: 1fr;\r\n            gap: 16px;\r\n          }\r\n          \r\n          .table-header,\r\n          .table-row {\r\n            grid-template-columns: 1fr;\r\n          }\r\n          \r\n          .header-cell,\r\n          .table-cell {\r\n            padding: 12px 16px;\r\n          }\r\n          \r\n          .modal-content {\r\n            padding: 24px;\r\n            gap: 32px;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n          .print-manager-overlay {\r\n            padding: 12px;\r\n          }\r\n          \r\n          .print-manager-modal {\r\n            border-radius: 20px;\r\n          }\r\n          \r\n          .modal-header {\r\n            padding: 24px 20px;\r\n            flex-direction: column;\r\n            gap: 16px;\r\n            text-align: center;\r\n          }\r\n          \r\n          .header-content {\r\n            flex-direction: column;\r\n            gap: 16px;\r\n          }\r\n          \r\n          .modal-content {\r\n            padding: 20px;\r\n          }\r\n          \r\n          .section-header {\r\n            flex-direction: column;\r\n            align-items: stretch;\r\n            gap: 12px;\r\n          }\r\n          \r\n          .footer-info {\r\n            display: none;\r\n          }\r\n          \r\n          .footer-actions {\r\n            width: 100%;\r\n            justify-content: stretch;\r\n          }\r\n          \r\n          .btn-secondary,\r\n          .btn-primary {\r\n            flex: 1;\r\n            justify-content: center;\r\n          }\r\n          \r\n          .option-card {\r\n            padding: 20px;\r\n          }\r\n          \r\n          .preview-content {\r\n            padding: 16px;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 480px) {\r\n          .modal-header {\r\n            padding: 20px 16px;\r\n          }\r\n          \r\n          .modal-content {\r\n            padding: 16px;\r\n            gap: 24px;\r\n          }\r\n          \r\n          .modal-footer {\r\n            padding: 16px;\r\n            flex-direction: column;\r\n            gap: 16px;\r\n          }\r\n          \r\n          .footer-actions {\r\n            flex-direction: column;\r\n          }\r\n          \r\n          .option-header {\r\n            flex-direction: column;\r\n            gap: 12px;\r\n            align-items: stretch;\r\n          }\r\n          \r\n          .option-badge {\r\n            text-align: center;\r\n          }\r\n          \r\n          .table-header,\r\n          .table-row {\r\n            display: block;\r\n          }\r\n          \r\n          .header-cell,\r\n          .table-cell {\r\n            display: block;\r\n            padding: 8px 16px;\r\n            border-bottom: 1px solid #F3EED9;\r\n          }\r\n          \r\n          .header-cell {\r\n            background: #E5DCC2;\r\n            font-weight: 700;\r\n          }\r\n          \r\n          .table-cell:last-child {\r\n            border-bottom: none;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};","import React, { useState, useEffect } from 'react';\nimport { \n  Settings as SettingsIcon, \n  Building,\n  Upload,\n  Save,\n  X,\n  Camera,\n  User,\n  Mail,\n  Phone,\n  MapPin,\n  Globe,\n  Database,\n  Download,\n  UploadCloud,\n  Shield,\n  LogOut,\n  Trash2,\n  RefreshCw,\n  HardDrive,\n  Cloud,\n  Lock,\n  Eye,\n  EyeOff,\n  CheckCircle,\n  AlertCircle\n} from 'lucide-react';\n\nimport { SupabaseService, User as SupabaseUser, Institution as SupabaseInstitution } from '../../services/SupabaseService';\n\ninterface SettingsProps {\n  onClose: () => void;\n  onLogout: () => void;\n  currentUser: SupabaseUser | null;\n  currentInstitution: SupabaseInstitution | null;\n  supabaseService: SupabaseService;\n}\n\ninterface InstitutionSettings {\n  name: string;\n  address: string;\n  city: string;\n  country: string;\n  phone: string;\n  email: string;\n  website: string;\n  logo: string;\n  description: string;\n}\n\ninterface BackupSettings {\n  autoBackup: boolean;\n  backupFrequency: 'daily' | 'weekly' | 'monthly';\n  lastBackup: string;\n  cloudSync: boolean;\n  cloudProvider: 'google' | 'dropbox' | 'onedrive';\n}\n\ninterface SecuritySettings {\n  requireAuth: boolean;\n  sessionTimeout: number;\n  passwordPolicy: {\n    minLength: number;\n    requireNumbers: boolean;\n    requireSymbols: boolean;\n  };\n}\n\nexport const Settings: React.FC<SettingsProps> = ({ onClose, onLogout }) => {\n  const [activeTab, setActiveTab] = useState<'institution' | 'backup' | 'security' | 'about'>('institution');\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\n\n  const [institutionSettings, setInstitutionSettings] = useState<InstitutionSettings>({\n    name: 'Lycée Moderne de Douala',\n    address: 'Avenue de la Liberté',\n    city: 'Douala',\n    country: 'Cameroun',\n    phone: '+237 233 42 15 67',\n    email: 'contact@lyceemoderne.cm',\n    website: 'www.lyceemoderne.cm',\n    logo: '',\n    description: 'Établissement d\\'enseignement secondaire général et technique'\n  });\n\n  const [backupSettings, setBackupSettings] = useState<BackupSettings>({\n    autoBackup: true,\n    backupFrequency: 'weekly',\n    lastBackup: new Date().toISOString(),\n    cloudSync: false,\n    cloudProvider: 'google'\n  });\n\n  const [securitySettings, setSecuritySettings] = useState<SecuritySettings>({\n    requireAuth: true,\n    sessionTimeout: 60,\n    passwordPolicy: {\n      minLength: 6,\n      requireNumbers: true,\n      requireSymbols: false\n    }\n  });\n\n  const [showConfirmLogout, setShowConfirmLogout] = useState(false);\n\n  useEffect(() => {\n    loadSettings();\n  }, []);\n\n  const loadSettings = async () => {\n    try {\n      // Simulate loading settings from storage\n      const settings = await window.electronAPI.getSettings();\n      if (settings) {\n        setInstitutionSettings(settings.institution || institutionSettings);\n        setBackupSettings(settings.backup || backupSettings);\n        setSecuritySettings(settings.security || securitySettings);\n      }\n    } catch (error) {\n      console.error('Error loading settings:', error);\n    }\n  };\n\n  const saveSettings = async () => {\n    setIsLoading(true);\n    try {\n      await window.electronAPI.saveSettings({\n        institution: institutionSettings,\n        backup: backupSettings,\n        security: securitySettings\n      });\n      showMessage('success', 'Paramètres sauvegardés avec succès');\n    } catch (error) {\n      showMessage('error', 'Erreur lors de la sauvegarde');\n      console.error('Error saving settings:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const showMessage = (type: 'success' | 'error', text: string) => {\n    setMessage({ type, text });\n    setTimeout(() => setMessage(null), 5000);\n  };\n\n  const handleLogoUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        setInstitutionSettings(prev => ({\n          ...prev,\n          logo: e.target?.result as string\n        }));\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleBackup = async () => {\n    setIsLoading(true);\n    try {\n      await window.electronAPI.createBackup();\n      setBackupSettings(prev => ({\n        ...prev,\n        lastBackup: new Date().toISOString()\n      }));\n      showMessage('success', 'Sauvegarde créée avec succès');\n    } catch (error) {\n      showMessage('error', 'Erreur lors de la sauvegarde');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleRestore = async () => {\n    if (window.confirm('Êtes-vous sûr de vouloir restaurer une sauvegarde ? Cela remplacera toutes les données actuelles.')) {\n      setIsLoading(true);\n      try {\n        await window.electronAPI.restoreBackup();\n        showMessage('success', 'Données restaurées avec succès');\n      } catch (error) {\n        showMessage('error', 'Erreur lors de la restauration');\n      } finally {\n        setIsLoading(false);\n      }\n    }\n  };\n\n  const handleClearData = async () => {\n    if (window.confirm('⚠️ ATTENTION: Cette action supprimera définitivement toutes les données. Êtes-vous absolument sûr ?')) {\n      if (window.confirm('Dernière confirmation: Voulez-vous vraiment supprimer TOUTES les données ?')) {\n        setIsLoading(true);\n        try {\n          await window.electronAPI.clearAllData();\n          showMessage('success', 'Toutes les données ont été supprimées');\n        } catch (error) {\n          showMessage('error', 'Erreur lors de la suppression');\n        } finally {\n          setIsLoading(false);\n        }\n      }\n    }\n  };\n\n  const tabs = [\n    { id: 'institution', label: 'Établissement', icon: Building },\n    { id: 'backup', label: 'Sauvegardes', icon: Database },\n    { id: 'security', label: 'Sécurité', icon: Shield },\n    { id: 'about', label: 'À propos', icon: SettingsIcon }\n  ];\n\n  return (\n    <div className=\"settings-overlay\">\n      <div className=\"settings-modal\">\n        {/* Header */}\n        <div className=\"modal-header\">\n          <div className=\"header-content\">\n            <div className=\"header-icon\">\n              <SettingsIcon size={28} />\n            </div>\n            <div className=\"header-text\">\n              <h2 className=\"modal-title\">Paramètres</h2>\n              <p className=\"modal-subtitle\">Configuration de l'application</p>\n            </div>\n          </div>\n          <button className=\"close-button\" onClick={onClose}>\n            <X size={20} />\n          </button>\n        </div>\n\n        {/* Message */}\n        {message && (\n          <div className={`message ${message.type}`}>\n            {message.type === 'success' ? <CheckCircle size={20} /> : <AlertCircle size={20} />}\n            <span>{message.text}</span>\n          </div>\n        )}\n\n        <div className=\"settings-content\">\n          {/* Sidebar */}\n          <div className=\"settings-sidebar\">\n            <nav className=\"settings-nav\">\n              {tabs.map((tab) => (\n                <button\n                  key={tab.id}\n                  className={`nav-button ${activeTab === tab.id ? 'active' : ''}`}\n                  onClick={() => setActiveTab(tab.id as any)}\n                >\n                  <tab.icon size={20} />\n                  <span>{tab.label}</span>\n                </button>\n              ))}\n            </nav>\n\n            <div className=\"logout-section\">\n              <button \n                className=\"logout-button\"\n                onClick={() => setShowConfirmLogout(true)}\n              >\n                <LogOut size={18} />\n                Se déconnecter\n              </button>\n            </div>\n          </div>\n\n          {/* Main Content */}\n          <div className=\"settings-main\">\n            {activeTab === 'institution' && (\n              <div className=\"settings-section\">\n                <div className=\"section-header\">\n                  <Building size={24} />\n                  <div>\n                    <h3>Informations de l'établissement</h3>\n                    <p>Configurez les détails de votre institution</p>\n                  </div>\n                </div>\n\n                <div className=\"form-section\">\n                  <div className=\"logo-section\">\n                    <div className=\"logo-preview\">\n                      {institutionSettings.logo ? (\n                        <img src={institutionSettings.logo} alt=\"Logo\" />\n                      ) : (\n                        <div className=\"logo-placeholder\">\n                          <Camera size={32} />\n                          <span>Logo</span>\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"logo-actions\">\n                      <label className=\"upload-button\">\n                        <Upload size={16} />\n                        Changer le logo\n                        <input\n                          type=\"file\"\n                          accept=\"image/*\"\n                          onChange={handleLogoUpload}\n                          style={{ display: 'none' }}\n                        />\n                      </label>\n                      {institutionSettings.logo && (\n                        <button\n                          className=\"remove-button\"\n                          onClick={() => setInstitutionSettings(prev => ({ ...prev, logo: '' }))}\n                        >\n                          <Trash2 size={16} />\n                          Supprimer\n                        </button>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className=\"form-grid\">\n                    <div className=\"form-group\">\n                      <label>Nom de l'établissement</label>\n                      <div className=\"input-wrapper\">\n                        <Building size={18} />\n                        <input\n                          type=\"text\"\n                          value={institutionSettings.name}\n                          onChange={(e) => setInstitutionSettings(prev => ({ ...prev, name: e.target.value }))}\n                          className=\"form-input\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label>Téléphone</label>\n                      <div className=\"input-wrapper\">\n                        <Phone size={18} />\n                        <input\n                          type=\"tel\"\n                          value={institutionSettings.phone}\n                          onChange={(e) => setInstitutionSettings(prev => ({ ...prev, phone: e.target.value }))}\n                          className=\"form-input\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label>Email</label>\n                      <div className=\"input-wrapper\">\n                        <Mail size={18} />\n                        <input\n                          type=\"email\"\n                          value={institutionSettings.email}\n                          onChange={(e) => setInstitutionSettings(prev => ({ ...prev, email: e.target.value }))}\n                          className=\"form-input\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label>Site web</label>\n                      <div className=\"input-wrapper\">\n                        <Globe size={18} />\n                        <input\n                          type=\"url\"\n                          value={institutionSettings.website}\n                          onChange={(e) => setInstitutionSettings(prev => ({ ...prev, website: e.target.value }))}\n                          className=\"form-input\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label>Adresse</label>\n                      <div className=\"input-wrapper\">\n                        <MapPin size={18} />\n                        <input\n                          type=\"text\"\n                          value={institutionSettings.address}\n                          onChange={(e) => setInstitutionSettings(prev => ({ ...prev, address: e.target.value }))}\n                          className=\"form-input\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                      <label>Ville</label>\n                      <div className=\"input-wrapper\">\n                        <MapPin size={18} />\n                        <input\n                          type=\"text\"\n                          value={institutionSettings.city}\n                          onChange={(e) => setInstitutionSettings(prev => ({ ...prev, city: e.target.value }))}\n                          className=\"form-input\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"form-group span-full\">\n                      <label>Description</label>\n                      <textarea\n                        value={institutionSettings.description}\n                        onChange={(e) => setInstitutionSettings(prev => ({ ...prev, description: e.target.value }))}\n                        className=\"form-textarea\"\n                        rows={3}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {activeTab === 'backup' && (\n              <div className=\"settings-section\">\n                <div className=\"section-header\">\n                  <Database size={24} />\n                  <div>\n                    <h3>Gestion des sauvegardes</h3>\n                    <p>Protégez vos données avec des sauvegardes automatiques</p>\n                  </div>\n                </div>\n\n                <div className=\"backup-status\">\n                  <div className=\"status-card\">\n                    <div className=\"status-icon success\">\n                      <CheckCircle size={24} />\n                    </div>\n                    <div className=\"status-content\">\n                      <h4>Dernière sauvegarde</h4>\n                      <p>{new Date(backupSettings.lastBackup).toLocaleDateString('fr-FR', {\n                        year: 'numeric',\n                        month: 'long',\n                        day: 'numeric',\n                        hour: '2-digit',\n                        minute: '2-digit'\n                      })}</p>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"form-section\">\n                  <div className=\"setting-group\">\n                    <div className=\"setting-header\">\n                      <h4>Sauvegarde automatique</h4>\n                      <label className=\"toggle-switch\">\n                        <input\n                          type=\"checkbox\"\n                          checked={backupSettings.autoBackup}\n                          onChange={(e) => setBackupSettings(prev => ({ ...prev, autoBackup: e.target.checked }))}\n                        />\n                        <span className=\"toggle-slider\"></span>\n                      </label>\n                    </div>\n                    <p>Créer automatiquement des sauvegardes selon la fréquence définie</p>\n                  </div>\n\n                  {backupSettings.autoBackup && (\n                    <div className=\"setting-group\">\n                      <h4>Fréquence</h4>\n                      <div className=\"radio-group\">\n                        {[\n                          { value: 'daily', label: 'Quotidienne' },\n                          { value: 'weekly', label: 'Hebdomadaire' },\n                          { value: 'monthly', label: 'Mensuelle' }\n                        ].map((option) => (\n                          <label key={option.value} className=\"radio-option\">\n                            <input\n                              type=\"radio\"\n                              name=\"frequency\"\n                              value={option.value}\n                              checked={backupSettings.backupFrequency === option.value}\n                              onChange={(e) => setBackupSettings(prev => ({ ...prev, backupFrequency: e.target.value as any }))}\n                            />\n                            <span className=\"radio-label\">{option.label}</span>\n                          </label>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  <div className=\"setting-group\">\n                    <div className=\"setting-header\">\n                      <h4>Synchronisation cloud</h4>\n                      <label className=\"toggle-switch\">\n                        <input\n                          type=\"checkbox\"\n                          checked={backupSettings.cloudSync}\n                          onChange={(e) => setBackupSettings(prev => ({ ...prev, cloudSync: e.target.checked }))}\n                        />\n                        <span className=\"toggle-slider\"></span>\n                      </label>\n                    </div>\n                    <p>Synchroniser automatiquement vos sauvegardes avec le cloud</p>\n                  </div>\n\n                  <div className=\"backup-actions\">\n                    <button \n                      className=\"action-button primary\"\n                      onClick={handleBackup}\n                      disabled={isLoading}\n                    >\n                      <HardDrive size={18} />\n                      Créer une sauvegarde maintenant\n                    </button>\n                    \n                    <button \n                      className=\"action-button secondary\"\n                      onClick={handleRestore}\n                      disabled={isLoading}\n                    >\n                      <Download size={18} />\n                      Restaurer une sauvegarde\n                    </button>\n                    \n                    <button \n                      className=\"action-button danger\"\n                      onClick={handleClearData}\n                      disabled={isLoading}\n                    >\n                      <Trash2 size={18} />\n                      Effacer toutes les données\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {activeTab === 'security' && (\n              <div className=\"settings-section\">\n                <div className=\"section-header\">\n                  <Shield size={24} />\n                  <div>\n                    <h3>Paramètres de sécurité</h3>\n                    <p>Configurez la sécurité et l'authentification</p>\n                  </div>\n                </div>\n\n                <div className=\"form-section\">\n                  <div className=\"setting-group\">\n                    <div className=\"setting-header\">\n                      <h4>Authentification requise</h4>\n                      <label className=\"toggle-switch\">\n                        <input\n                          type=\"checkbox\"\n                          checked={securitySettings.requireAuth}\n                          onChange={(e) => setSecuritySettings(prev => ({ ...prev, requireAuth: e.target.checked }))}\n                        />\n                        <span className=\"toggle-slider\"></span>\n                      </label>\n                    </div>\n                    <p>Exiger une connexion pour accéder à l'application</p>\n                  </div>\n\n                  <div className=\"setting-group\">\n                    <h4>Délai d'expiration de session (minutes)</h4>\n                    <div className=\"input-wrapper\">\n                      <Lock size={18} />\n                      <input\n                        type=\"number\"\n                        min=\"5\"\n                        max=\"480\"\n                        value={securitySettings.sessionTimeout}\n                        onChange={(e) => setSecuritySettings(prev => ({ ...prev, sessionTimeout: parseInt(e.target.value) }))}\n                        className=\"form-input\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"setting-group\">\n                    <h4>Politique de mot de passe</h4>\n                    \n                    <div className=\"sub-setting\">\n                      <label>Longueur minimale</label>\n                      <div className=\"input-wrapper\">\n                        <Lock size={18} />\n                        <input\n                          type=\"number\"\n                          min=\"4\"\n                          max=\"20\"\n                          value={securitySettings.passwordPolicy.minLength}\n                          onChange={(e) => setSecuritySettings(prev => ({\n                            ...prev,\n                            passwordPolicy: {\n                              ...prev.passwordPolicy,\n                              minLength: parseInt(e.target.value)\n                            }\n                          }))}\n                          className=\"form-input\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"checkbox-group\">\n                      <label className=\"checkbox-option\">\n                        <input\n                          type=\"checkbox\"\n                          checked={securitySettings.passwordPolicy.requireNumbers}\n                          onChange={(e) => setSecuritySettings(prev => ({\n                            ...prev,\n                            passwordPolicy: {\n                              ...prev.passwordPolicy,\n                              requireNumbers: e.target.checked\n                            }\n                          }))}\n                        />\n                        <span className=\"checkbox-label\">Exiger des chiffres</span>\n                      </label>\n\n                      <label className=\"checkbox-option\">\n                        <input\n                          type=\"checkbox\"\n                          checked={securitySettings.passwordPolicy.requireSymbols}\n                          onChange={(e) => setSecuritySettings(prev => ({\n                            ...prev,\n                            passwordPolicy: {\n                              ...prev.passwordPolicy,\n                              requireSymbols: e.target.checked\n                            }\n                          }))}\n                        />\n                        <span className=\"checkbox-label\">Exiger des symboles</span>\n                      </label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {activeTab === 'about' && (\n              <div className=\"settings-section\">\n                <div className=\"section-header\">\n                  <SettingsIcon size={24} />\n                  <div>\n                    <h3>À propos de l'application</h3>\n                    <p>Informations sur la version et les crédits</p>\n                  </div>\n                </div>\n\n                <div className=\"about-content\">\n                  <div className=\"app-info\">\n                    <div className=\"app-logo\">\n                      <Building size={48} />\n                    </div>\n                    <h3>Bibliothèque v2.0.0</h3>\n                    <p>Système de gestion moderne pour bibliothèques</p>\n                  </div>\n\n                  <div className=\"info-cards\">\n                    <div className=\"info-card\">\n                      <h4>Développé par</h4>\n                      <p>Votre équipe de développement</p>\n                    </div>\n                    \n                    <div className=\"info-card\">\n                      <h4>Technologies utilisées</h4>\n                      <div className=\"tech-list\">\n                        <span>Electron</span>\n                        <span>React</span>\n                        <span>TypeScript</span>\n                        <span>SQLite</span>\n                      </div>\n                    </div>\n                    \n                    <div className=\"info-card\">\n                      <h4>Licence</h4>\n                      <p>MIT License</p>\n                    </div>\n                  </div>\n\n                  <div className=\"system-info\">\n                    <h4>Informations système</h4>\n                    <div className=\"system-details\">\n                      <div className=\"detail-item\">\n                        <span>Version de l'application</span>\n                        <span>2.0.0</span>\n                      </div>\n                      <div className=\"detail-item\">\n                        <span>Base de données</span>\n                        <span>SQLite v3.39.0</span>\n                      </div>\n                      <div className=\"detail-item\">\n                        <span>Plateforme</span>\n                        <span>Windows/macOS/Linux</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Footer Actions */}\n        <div className=\"settings-footer\">\n          <button \n            className=\"btn-secondary\"\n            onClick={onClose}\n            disabled={isLoading}\n          >\n            Annuler\n          </button>\n          <button \n            className=\"btn-primary\"\n            onClick={saveSettings}\n            disabled={isLoading}\n          >\n            {isLoading ? (\n              <>\n                <RefreshCw size={16} className=\"spinning\" />\n                Sauvegarde...\n              </>\n            ) : (\n              <>\n                <Save size={16} />\n                Sauvegarder\n              </>\n            )}\n          </button>\n        </div>\n      </div>\n\n      {/* Logout Confirmation Modal */}\n      {showConfirmLogout && (\n        <div className=\"logout-overlay\" onClick={() => setShowConfirmLogout(false)}>\n          <div className=\"logout-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"logout-header\">\n              <LogOut size={24} />\n              <h3>Confirmer la déconnexion</h3>\n            </div>\n            <p>Êtes-vous sûr de vouloir vous déconnecter ? Toutes les données non sauvegardées seront perdues.</p>\n            <div className=\"logout-actions\">\n              <button \n                className=\"btn-secondary\"\n                onClick={() => setShowConfirmLogout(false)}\n              >\n                Annuler\n              </button>\n              <button \n                className=\"btn-danger\"\n                onClick={() => {\n                  setShowConfirmLogout(false);\n                  onLogout();\n                }}\n              >\n                <LogOut size={16} />\n                Se déconnecter\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <style>{`\n        .settings-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.7);\n          backdrop-filter: blur(8px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 20px;\n        }\n        \n        .settings-modal {\n          background: #FFFFFF;\n          border-radius: 24px;\n          width: 100%;\n          max-width: 1200px;\n          max-height: 90vh;\n          overflow: hidden;\n          display: flex;\n          flex-direction: column;\n          box-shadow: \n            0 24px 48px rgba(62, 92, 73, 0.2),\n            0 8px 24px rgba(62, 92, 73, 0.12);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n        \n        .modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 32px;\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\n          color: #F3EED9;\n        }\n        \n        .header-content {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n        }\n        \n        .header-icon {\n          width: 56px;\n          height: 56px;\n          background: rgba(243, 238, 217, 0.2);\n          border-radius: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .modal-title {\n          font-size: 24px;\n          font-weight: 800;\n          margin: 0 0 4px 0;\n        }\n        \n        .modal-subtitle {\n          font-size: 14px;\n          opacity: 0.9;\n          margin: 0;\n        }\n        \n        .close-button {\n          background: rgba(243, 238, 217, 0.15);\n          border: 1px solid rgba(243, 238, 217, 0.3);\n          color: #F3EED9;\n          padding: 12px;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n        \n        .close-button:hover {\n          background: rgba(243, 238, 217, 0.25);\n        }\n        \n        .message {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 32px;\n          font-size: 14px;\n          font-weight: 600;\n          border-bottom: 1px solid #E5DCC2;\n        }\n        \n        .message.success {\n          background: rgba(62, 92, 73, 0.1);\n          color: #3E5C49;\n        }\n        \n        .message.error {\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n        }\n        \n        .settings-content {\n          flex: 1;\n          display: flex;\n          overflow: hidden;\n        }\n        \n        .settings-sidebar {\n          width: 280px;\n          background: #F3EED9;\n          border-right: 1px solid #E5DCC2;\n          padding: 24px 0;\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n        }\n        \n        .settings-nav {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n          padding: 0 24px;\n        }\n        \n        .nav-button {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 20px;\n          border: none;\n          background: transparent;\n          color: #6E6E6E;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-size: 14px;\n          font-weight: 500;\n          text-align: left;\n        }\n        \n        .nav-button:hover {\n          background: rgba(62, 92, 73, 0.08);\n          color: #3E5C49;\n        }\n        \n        .nav-button.active {\n          background: #3E5C49;\n          color: #F3EED9;\n          box-shadow: 0 4px 12px rgba(62, 92, 73, 0.2);\n        }\n        \n        .logout-section {\n          padding: 0 24px;\n          border-top: 1px solid #E5DCC2;\n          padding-top: 24px;\n        }\n        \n        .logout-button {\n          width: 100%;\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 20px;\n          border: none;\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n          border-radius: 12px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-size: 14px;\n          font-weight: 600;\n        }\n        \n        .logout-button:hover {\n          background: rgba(194, 87, 27, 0.15);\n          color: #A8481A;\n        }\n        \n        .settings-main {\n          flex: 1;\n          overflow-y: auto;\n          padding: 32px;\n        }\n        \n        .settings-section {\n          max-width: 800px;\n        }\n        \n        .section-header {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          margin-bottom: 32px;\n          padding-bottom: 16px;\n          border-bottom: 2px solid #E5DCC2;\n        }\n        \n        .section-header h3 {\n          font-size: 24px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 4px 0;\n        }\n        \n        .section-header p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .form-section {\n          display: flex;\n          flex-direction: column;\n          gap: 24px;\n        }\n        \n        .logo-section {\n          display: flex;\n          align-items: center;\n          gap: 24px;\n          padding: 24px;\n          background: #F3EED9;\n          border-radius: 16px;\n          border: 1px solid #E5DCC2;\n          margin-bottom: 32px;\n        }\n        \n        .logo-preview {\n          width: 120px;\n          height: 120px;\n          border-radius: 16px;\n          overflow: hidden;\n          border: 2px solid #E5DCC2;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background: #FFFFFF;\n        }\n        \n        .logo-preview img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n        \n        .logo-placeholder {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 8px;\n          color: #6E6E6E;\n          text-align: center;\n        }\n        \n        .logo-actions {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .upload-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 16px;\n          background: #3E5C49;\n          color: #F3EED9;\n          border: none;\n          border-radius: 8px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 600;\n          transition: all 0.2s ease;\n        }\n        \n        .upload-button:hover {\n          background: #2E453A;\n        }\n        \n        .remove-button {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 16px;\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n          border: 1px solid rgba(194, 87, 27, 0.2);\n          border-radius: 8px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 600;\n          transition: all 0.2s ease;\n        }\n        \n        .remove-button:hover {\n          background: rgba(194, 87, 27, 0.15);\n        }\n        \n        .form-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 20px;\n        }\n        \n        .form-group {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        \n        .form-group.span-full {\n          grid-column: 1 / -1;\n        }\n        \n        .form-group label {\n          font-size: 14px;\n          font-weight: 600;\n          color: #2E2E2E;\n        }\n        \n        .input-wrapper {\n          position: relative;\n          display: flex;\n          align-items: center;\n        }\n        \n        .input-wrapper svg {\n          position: absolute;\n          left: 16px;\n          color: #6E6E6E;\n          z-index: 2;\n        }\n        \n        .form-input {\n          width: 100%;\n          padding: 12px 16px 12px 48px;\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          font-size: 14px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n        }\n        \n        .form-input:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n        \n        .form-textarea {\n          width: 100%;\n          padding: 12px 16px;\n          border: 2px solid #E5DCC2;\n          border-radius: 8px;\n          font-size: 14px;\n          background: #FFFFFF;\n          color: #2E2E2E;\n          transition: all 0.2s ease;\n          resize: vertical;\n          min-height: 80px;\n        }\n        \n        .form-textarea:focus {\n          outline: none;\n          border-color: #3E5C49;\n          box-shadow: 0 0 0 3px rgba(62, 92, 73, 0.1);\n        }\n        \n        .backup-status {\n          margin-bottom: 32px;\n        }\n        \n        .status-card {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          padding: 20px;\n          background: rgba(62, 92, 73, 0.05);\n          border: 1px solid rgba(62, 92, 73, 0.1);\n          border-radius: 12px;\n        }\n        \n        .status-icon {\n          width: 48px;\n          height: 48px;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .status-icon.success {\n          background: rgba(62, 92, 73, 0.1);\n          color: #3E5C49;\n        }\n        \n        .status-content h4 {\n          font-size: 16px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin: 0 0 4px 0;\n        }\n        \n        .status-content p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .setting-group {\n          padding: 20px;\n          background: #FEFEFE;\n          border: 1px solid #E5DCC2;\n          border-radius: 12px;\n        }\n        \n        .setting-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 8px;\n        }\n        \n        .setting-header h4 {\n          font-size: 16px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin: 0;\n        }\n        \n        .setting-group p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n          line-height: 1.4;\n        }\n        \n        .toggle-switch {\n          position: relative;\n          display: inline-block;\n          width: 44px;\n          height: 24px;\n        }\n        \n        .toggle-switch input {\n          opacity: 0;\n          width: 0;\n          height: 0;\n        }\n        \n        .toggle-slider {\n          position: absolute;\n          cursor: pointer;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: #E5DCC2;\n          transition: 0.3s;\n          border-radius: 24px;\n        }\n        \n        .toggle-slider:before {\n          position: absolute;\n          content: \"\";\n          height: 20px;\n          width: 20px;\n          left: 2px;\n          bottom: 2px;\n          background: #FFFFFF;\n          transition: 0.3s;\n          border-radius: 50%;\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n        }\n        \n        input:checked + .toggle-slider {\n          background: #3E5C49;\n        }\n        \n        input:checked + .toggle-slider:before {\n          transform: translateX(20px);\n        }\n        \n        .radio-group {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n          margin-top: 12px;\n        }\n        \n        .radio-option {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          cursor: pointer;\n        }\n        \n        .radio-option input {\n          margin: 0;\n        }\n        \n        .radio-label {\n          font-size: 14px;\n          color: #2E2E2E;\n        }\n        \n        .checkbox-group {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n          margin-top: 12px;\n        }\n        \n        .checkbox-option {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          cursor: pointer;\n        }\n        \n        .checkbox-option input {\n          margin: 0;\n        }\n        \n        .checkbox-label {\n          font-size: 14px;\n          color: #2E2E2E;\n        }\n        \n        .sub-setting {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n          margin-top: 16px;\n        }\n        \n        .sub-setting label {\n          font-size: 13px;\n          font-weight: 500;\n          color: #6E6E6E;\n        }\n        \n        .backup-actions {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n          margin-top: 24px;\n        }\n        \n        .action-button {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px 20px;\n          border: none;\n          border-radius: 12px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 600;\n          transition: all 0.2s ease;\n          text-align: left;\n        }\n        \n        .action-button.primary {\n          background: #3E5C49;\n          color: #F3EED9;\n        }\n        \n        .action-button.primary:hover:not(:disabled) {\n          background: #2E453A;\n        }\n        \n        .action-button.secondary {\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 1px solid #E5DCC2;\n        }\n        \n        .action-button.secondary:hover:not(:disabled) {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .action-button.danger {\n          background: rgba(194, 87, 27, 0.1);\n          color: #C2571B;\n          border: 1px solid rgba(194, 87, 27, 0.2);\n        }\n        \n        .action-button.danger:hover:not(:disabled) {\n          background: rgba(194, 87, 27, 0.15);\n        }\n        \n        .action-button:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n        \n        .about-content {\n          display: flex;\n          flex-direction: column;\n          gap: 32px;\n        }\n        \n        .app-info {\n          text-align: center;\n          padding: 32px;\n          background: #F3EED9;\n          border-radius: 16px;\n          border: 1px solid #E5DCC2;\n        }\n        \n        .app-logo {\n          width: 80px;\n          height: 80px;\n          background: #3E5C49;\n          color: #F3EED9;\n          border-radius: 20px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin: 0 auto 20px;\n        }\n        \n        .app-info h3 {\n          font-size: 24px;\n          font-weight: 700;\n          color: #2E2E2E;\n          margin: 0 0 8px 0;\n        }\n        \n        .app-info p {\n          font-size: 16px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .info-cards {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n          gap: 20px;\n        }\n        \n        .info-card {\n          padding: 20px;\n          background: #FFFFFF;\n          border: 1px solid #E5DCC2;\n          border-radius: 12px;\n        }\n        \n        .info-card h4 {\n          font-size: 16px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin: 0 0 12px 0;\n        }\n        \n        .info-card p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0;\n        }\n        \n        .tech-list {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 8px;\n        }\n        \n        .tech-list span {\n          background: #3E5C49;\n          color: #F3EED9;\n          padding: 4px 12px;\n          border-radius: 16px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n        \n        .system-info {\n          padding: 24px;\n          background: #FEFEFE;\n          border: 1px solid #E5DCC2;\n          border-radius: 12px;\n        }\n        \n        .system-info h4 {\n          font-size: 18px;\n          font-weight: 600;\n          color: #2E2E2E;\n          margin: 0 0 16px 0;\n        }\n        \n        .system-details {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n        \n        .detail-item {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 12px 0;\n          border-bottom: 1px solid #F3EED9;\n        }\n        \n        .detail-item:last-child {\n          border-bottom: none;\n        }\n        \n        .detail-item span:first-child {\n          font-size: 14px;\n          color: #6E6E6E;\n        }\n        \n        .detail-item span:last-child {\n          font-size: 14px;\n          font-weight: 600;\n          color: #2E2E2E;\n        }\n        \n        .settings-footer {\n          display: flex;\n          justify-content: flex-end;\n          gap: 16px;\n          padding: 24px 32px;\n          border-top: 1px solid #E5DCC2;\n          background: #FEFEFE;\n        }\n        \n        .btn-secondary, .btn-primary {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 24px;\n          border-radius: 12px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          border: none;\n        }\n        \n        .btn-secondary {\n          background: #F3EED9;\n          color: #6E6E6E;\n          border: 2px solid #E5DCC2;\n        }\n        \n        .btn-secondary:hover:not(:disabled) {\n          background: #EAEADC;\n          color: #2E2E2E;\n        }\n        \n        .btn-primary {\n          background: #3E5C49;\n          color: #F3EED9;\n        }\n        \n        .btn-primary:hover:not(:disabled) {\n          background: #2E453A;\n        }\n        \n        .btn-secondary:disabled,\n        .btn-primary:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n        \n        .spinning {\n          animation: spin 1s linear infinite;\n        }\n        \n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        /* Logout Modal */\n        .logout-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(46, 46, 46, 0.8);\n          backdrop-filter: blur(4px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1001;\n          padding: 20px;\n        }\n        \n        .logout-modal {\n          background: #FFFFFF;\n          border-radius: 16px;\n          width: 100%;\n          max-width: 400px;\n          padding: 24px;\n          box-shadow: 0 20px 40px rgba(62, 92, 73, 0.2);\n          border: 1px solid rgba(229, 220, 194, 0.3);\n        }\n        \n        .logout-header {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          margin-bottom: 16px;\n          color: #C2571B;\n        }\n        \n        .logout-header h3 {\n          font-size: 18px;\n          font-weight: 700;\n          margin: 0;\n        }\n        \n        .logout-modal p {\n          font-size: 14px;\n          color: #6E6E6E;\n          margin: 0 0 24px 0;\n          line-height: 1.5;\n        }\n        \n        .logout-actions {\n          display: flex;\n          gap: 12px;\n          justify-content: flex-end;\n        }\n        \n        .btn-danger {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 20px;\n          background: #C2571B;\n          color: #F3EED9;\n          border: none;\n          border-radius: 8px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n        \n        .btn-danger:hover {\n          background: #A8481A;\n        }\n        \n        /* Responsive Design */\n        @media (max-width: 1024px) {\n          .settings-content {\n            flex-direction: column;\n          }\n          \n          .settings-sidebar {\n            width: 100%;\n            flex-direction: row;\n            justify-content: space-between;\n            padding: 16px 24px;\n            border-right: none;\n            border-bottom: 1px solid #E5DCC2;\n          }\n          \n          .settings-nav {\n            flex-direction: row;\n            gap: 12px;\n            padding: 0;\n            overflow-x: auto;\n          }\n          \n          .nav-button {\n            white-space: nowrap;\n            min-width: 120px;\n            justify-content: center;\n          }\n          \n          .logout-section {\n            border-top: none;\n            border-left: 1px solid #E5DCC2;\n            padding-top: 0;\n            padding-left: 24px;\n          }\n          \n          .logout-button {\n            width: auto;\n            min-width: 140px;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .settings-modal {\n            margin: 12px;\n            border-radius: 20px;\n            max-height: calc(100vh - 24px);\n          }\n          \n          .modal-header {\n            padding: 20px;\n            flex-direction: column;\n            gap: 16px;\n            text-align: center;\n          }\n          \n          .settings-main {\n            padding: 20px;\n          }\n          \n          .form-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .logo-section {\n            flex-direction: column;\n            text-align: center;\n          }\n          \n          .info-cards {\n            grid-template-columns: 1fr;\n          }\n          \n          .settings-footer {\n            padding: 16px 20px;\n            flex-direction: column-reverse;\n          }\n          \n          .btn-secondary,\n          .btn-primary {\n            width: 100%;\n            justify-content: center;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .settings-sidebar {\n            flex-direction: column;\n            gap: 16px;\n          }\n          \n          .settings-nav {\n            flex-direction: column;\n          }\n          \n          .logout-section {\n            border-left: none;\n            border-top: 1px solid #E5DCC2;\n            padding-left: 0;\n            padding-top: 16px;\n          }\n          \n          .backup-actions {\n            gap: 8px;\n          }\n          \n          .action-button {\n            padding: 12px 16px;\n            font-size: 13px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};","import React, { useState } from 'react';\nimport { \n  Home, \n  Book, \n  BookOpen, \n  Plus, \n  BarChart3,\n  ChevronLeft,\n  ChevronRight,\n  Clock,\n  GraduationCap,\n  Briefcase,\n  TrendingUp,\n  Star,\n  Zap,\n  Heart,\n  Info,\n  Users,\n  History,\n  Settings\n} from 'lucide-react';\nimport { Stats } from '../../preload';\n\nimport { SupabaseService, User, Institution } from '../../services/SupabaseService';\n\ninterface SidebarProps {\n  currentView: string;\n  onNavigate: (view: 'dashboard' | 'books' | 'borrowed' | 'add-book' | 'borrowers' | 'history' | 'donation' | 'about') => void;\n  stats: Stats;\n  currentUser: User | null;\n  currentInstitution: Institution | null;\n}\n\n// Types pour les items de menu\ninterface BaseMenuItem {\n  id: string;\n  label: string;\n  icon: any;\n  description: string;\n  gradient: string;\n}\n\ninterface MenuItem extends BaseMenuItem {\n  count?: number;\n  badge?: boolean;\n  urgent?: boolean;\n  accent?: boolean;\n  highlight?: boolean;\n  support?: boolean;\n}\n\nexport const Sidebar: React.FC<SidebarProps> = ({ currentView, onNavigate, stats }) => {\n  const [isCollapsed, setIsCollapsed] = useState(false);\n\n  const menuItems: MenuItem[] = [\n    { \n      id: 'dashboard', \n      label: 'Tableau de bord', \n      icon: Home,\n      description: 'Vue d\\'ensemble et statistiques',\n      gradient: 'linear-gradient(135deg, #3E5C49 0%, #2E453A 100%)'\n    },\n    { \n      id: 'books', \n      label: 'Ma Collection', \n      icon: Book,\n      description: 'Parcourir tous les livres',\n      count: stats.totalBooks,\n      gradient: 'linear-gradient(135deg, #3E5C49 0%, #4A6B57 100%)'\n    },\n    { \n      id: 'borrowed', \n      label: 'Emprunts Actifs', \n      icon: BookOpen,\n      description: 'Livres actuellement empruntés',\n      count: stats.borrowedBooks,\n      badge: stats.borrowedBooks > 0,\n      urgent: stats.overdueBooks > 0,\n      gradient: 'linear-gradient(135deg, #C2571B 0%, #A8481A 100%)'\n    }\n  ];\n\n  const actionItems: MenuItem[] = [\n    { \n      id: 'add-book', \n      label: 'Nouveau Livre', \n      icon: Plus,\n      description: 'Ajouter à la collection',\n      accent: true,\n      gradient: 'linear-gradient(135deg, #C2571B 0%, #E65100 100%)',\n      highlight: true\n    },\n    { \n      id: 'borrowers', \n      label: 'Gestion Emprunteurs', \n      icon: Users,\n      description: 'Gérer les utilisateurs',\n      count: stats.totalBorrowers,\n      badge: stats.totalBorrowers > 0,\n      gradient: 'linear-gradient(135deg, #6E6E6E 0%, #5A5A5A 100%)'\n    }\n  ];\n\n  const reportItems: MenuItem[] = [\n    { \n      id: 'history', \n      label: 'Historique Complet', \n      icon: History,\n      description: 'Tous les emprunts et retours',\n      gradient: 'linear-gradient(135deg, #607D8B 0%, #455A64 100%)'\n    }\n  ];\n\n  const supportItems: MenuItem[] = [\n    {\n      id: 'donation',\n      label: 'Soutenir le projet',\n      icon: Heart,\n      description: 'Faire une donation',\n      gradient: 'linear-gradient(135deg, #E91E63 0%, #C2185B 100%)',\n      support: true\n    },\n    {\n      id: 'about',\n      label: 'À propos',\n      icon: Info,\n      description: 'Développeur & crédits',\n      gradient: 'linear-gradient(135deg, #607D8B 0%, #455A64 100%)'\n    }\n  ];\n\n  const quickStats = [\n    {\n      label: 'Collection',\n      value: stats.totalBooks,\n      icon: Book,\n      color: '#3E5C49',\n      trend: '+2 ce mois'\n    },\n    {\n      label: 'Disponibles',\n      value: stats.availableBooks,\n      icon: BookOpen,\n      color: '#3E5C49',\n      percentage: stats.totalBooks > 0 ? Math.round((stats.availableBooks / stats.totalBooks) * 100) : 0\n    },\n    {\n      label: 'Empruntés',\n      value: stats.borrowedBooks,\n      icon: BarChart3,\n      color: '#C2571B',\n      percentage: stats.totalBooks > 0 ? Math.round((stats.borrowedBooks / stats.totalBooks) * 100) : 0\n    },\n    {\n      label: 'En retard',\n      value: stats.overdueBooks,\n      icon: Clock,\n      color: '#DC2626',\n      urgent: stats.overdueBooks > 0\n    }\n  ];\n\n  const userStats = [\n    {\n      label: 'Étudiants',\n      value: stats.totalStudents,\n      icon: GraduationCap,\n      color: '#3E5C49'\n    },\n    {\n      label: 'Personnel',\n      value: stats.totalStaff,\n      icon: Briefcase,\n      color: '#C2571B'\n    }\n  ];\n\n  const getPopularityScore = () => {\n    if (stats.totalBooks === 0) return 0;\n    return Math.round((stats.borrowedBooks / stats.totalBooks) * 100);\n  };\n\n  return (\n    <div className={`sidebar ${isCollapsed ? 'collapsed' : ''}`}>\n      {/* Enhanced Header */}\n      <div className=\"sidebar-header\">\n        <div className=\"sidebar-toggle\">\n          <button \n            className=\"toggle-button\"\n            onClick={() => setIsCollapsed(!isCollapsed)}\n            title={isCollapsed ? 'Développer le menu' : 'Réduire le menu'}\n          >\n            {isCollapsed ? <ChevronRight size={18} /> : <ChevronLeft size={18} />}\n          </button>\n        </div>\n        \n        {!isCollapsed && (\n          <div className=\"sidebar-brand\">\n            <div className=\"brand-logo\">\n              <Book size={24} />\n            </div>\n            <div className=\"brand-text\">\n              <h2 className=\"brand-title\">Bibliothèque</h2>\n              <p className=\"brand-subtitle\">Système de gestion moderne</p>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <div className=\"sidebar-content\">\n        {/* Main Navigation */}\n        <nav className=\"sidebar-nav\">\n          <div className=\"nav-section\">\n            {!isCollapsed && <h3 className=\"nav-title\">Principal</h3>}\n            <ul className=\"nav-list\">\n              {menuItems.map((item) => (\n                <li key={item.id} className=\"nav-item\">\n                  <button\n                    className={`nav-button ${currentView === item.id ? 'active' : ''} ${item.accent ? 'accent' : ''} ${item.urgent ? 'urgent' : ''} ${item.highlight ? 'highlight' : ''}`}\n                    onClick={() => onNavigate(item.id as any)}\n                    title={isCollapsed ? item.label : ''}\n                    style={{\n                      '--item-gradient': item.gradient\n                    } as React.CSSProperties}\n                  >\n                    <div className=\"nav-icon\">\n                      <item.icon size={20} />\n                    </div>\n                    \n                    {!isCollapsed && (\n                      <>\n                        <div className=\"nav-content\">\n                          <span className=\"nav-label\">{item.label}</span>\n                          <span className=\"nav-description\">{item.description}</span>\n                        </div>\n                        \n                        {item.count !== undefined && item.count > 0 && (\n                          <div className={`nav-count ${item.badge ? 'badge' : ''} ${item.urgent ? 'urgent' : ''}`}>\n                            {item.count}\n                          </div>\n                        )}\n                        \n                        {item.highlight && (\n                          <div className=\"nav-highlight\">\n                            <Zap size={14} />\n                          </div>\n                        )}\n                      </>\n                    )}\n                    \n                    {isCollapsed && item.badge && stats.borrowedBooks > 0 && (\n                      <div className={`nav-indicator ${item.urgent ? 'urgent' : ''}`}></div>\n                    )}\n                  </button>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Actions Section */}\n          <div className=\"nav-section\">\n            {!isCollapsed && <h3 className=\"nav-title\">Actions</h3>}\n            <ul className=\"nav-list\">\n              {actionItems.map((item) => (\n                <li key={item.id} className=\"nav-item\">\n                  <button\n                    className={`nav-button ${currentView === item.id ? 'active' : ''} ${item.accent ? 'accent' : ''} ${item.highlight ? 'highlight' : ''}`}\n                    onClick={() => onNavigate(item.id as any)}\n                    title={isCollapsed ? item.label : ''}\n                    style={{\n                      '--item-gradient': item.gradient\n                    } as React.CSSProperties}\n                  >\n                    <div className=\"nav-icon\">\n                      <item.icon size={20} />\n                    </div>\n                    \n                    {!isCollapsed && (\n                      <>\n                        <div className=\"nav-content\">\n                          <span className=\"nav-label\">{item.label}</span>\n                          <span className=\"nav-description\">{item.description}</span>\n                        </div>\n                        \n                        {item.count !== undefined && item.count > 0 && (\n                          <div className={`nav-count ${item.badge ? 'badge' : ''}`}>\n                            {item.count}\n                          </div>\n                        )}\n                        \n                        {item.highlight && (\n                          <div className=\"nav-highlight\">\n                            <Zap size={14} />\n                          </div>\n                        )}\n                      </>\n                    )}\n                  </button>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Reports Section */}\n          <div className=\"nav-section\">\n            {!isCollapsed && <h3 className=\"nav-title\">Rapports</h3>}\n            <ul className=\"nav-list\">\n              {reportItems.map((item) => (\n                <li key={item.id} className=\"nav-item\">\n                  <button\n                    className={`nav-button ${currentView === item.id ? 'active' : ''}`}\n                    onClick={() => onNavigate(item.id as any)}\n                    title={isCollapsed ? item.label : ''}\n                    style={{\n                      '--item-gradient': item.gradient\n                    } as React.CSSProperties}\n                  >\n                    <div className=\"nav-icon\">\n                      <item.icon size={20} />\n                    </div>\n                    \n                    {!isCollapsed && (\n                      <div className=\"nav-content\">\n                        <span className=\"nav-label\">{item.label}</span>\n                        <span className=\"nav-description\">{item.description}</span>\n                      </div>\n                    )}\n                  </button>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Support Section */}\n          <div className=\"nav-section\">\n            {!isCollapsed && <h3 className=\"nav-title\">Communauté</h3>}\n            <ul className=\"nav-list\">\n              {supportItems.map((item) => (\n                <li key={item.id} className=\"nav-item\">\n                  <button\n                    className={`nav-button ${currentView === item.id ? 'active' : ''} ${item.support ? 'support' : ''}`}\n                    onClick={() => onNavigate(item.id as any)}\n                    title={isCollapsed ? item.label : ''}\n                    style={{\n                      '--item-gradient': item.gradient\n                    } as React.CSSProperties}\n                  >\n                    <div className=\"nav-icon\">\n                      <item.icon size={20} />\n                    </div>\n                    \n                    {!isCollapsed && (\n                      <div className=\"nav-content\">\n                        <span className=\"nav-label\">{item.label}</span>\n                        <span className=\"nav-description\">{item.description}</span>\n                      </div>\n                    )}\n                  </button>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </nav>\n        \n        {!isCollapsed && (\n          <>\n            {/* Collection Statistics */}\n            <div className=\"stats-section\">\n              <div className=\"stats-header\">\n                <h3 className=\"stats-title\">Statistiques de collection</h3>\n                <div className=\"popularity-score\">\n                  <TrendingUp size={14} />\n                  <span>{getPopularityScore()}% popularité</span>\n                </div>\n              </div>\n              <div className=\"stats-grid\">\n                {quickStats.map((stat, index) => (\n                  <div key={index} className={`stat-card ${stat.urgent ? 'urgent' : ''}`}>\n                    <div className=\"stat-icon\" style={{ color: stat.color }}>\n                      <stat.icon size={16} />\n                    </div>\n                    <div className=\"stat-content\">\n                      <div className=\"stat-value\">{stat.value}</div>\n                      <div className=\"stat-label\">{stat.label}</div>\n                      {stat.trend && (\n                        <div className=\"stat-trend\">{stat.trend}</div>\n                      )}\n                      {stat.percentage !== undefined && (\n                        <div className=\"stat-percentage\">{stat.percentage}%</div>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Users Overview */}\n            <div className=\"stats-section\">\n              <h3 className=\"stats-title\">Utilisateurs</h3>\n              <div className=\"users-stats\">\n                {userStats.map((stat, index) => (\n                  <div key={index} className=\"user-stat\">\n                    <div className=\"user-stat-icon\" style={{ color: stat.color }}>\n                      <stat.icon size={18} />\n                    </div>\n                    <div className=\"user-stat-content\">\n                      <div className=\"user-stat-value\">{stat.value}</div>\n                      <div className=\"user-stat-label\">{stat.label}</div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              \n              <div className=\"total-users\">\n                <span className=\"total-label\">Total des utilisateurs</span>\n                <span className=\"total-value\">{stats.totalBorrowers}</span>\n              </div>\n            </div>\n\n            {/* Activity Indicator */}\n            <div className=\"activity-section\">\n              <div className=\"activity-header\">\n                <h3 className=\"stats-title\">Activité récente</h3>\n                <div className=\"activity-pulse\"></div>\n              </div>\n              <div className=\"activity-summary\">\n                <div className=\"activity-item\">\n                  <div className=\"activity-dot available\"></div>\n                  <span>{stats.availableBooks} livres prêts à emprunter</span>\n                </div>\n                <div className=\"activity-item\">\n                  <div className=\"activity-dot borrowed\"></div>\n                  <span>{stats.borrowedBooks} emprunts en cours</span>\n                </div>\n                {stats.overdueBooks > 0 && (\n                  <div className=\"activity-item urgent\">\n                    <div className=\"activity-dot overdue\"></div>\n                    <span>{stats.overdueBooks} livre(s) en retard</span>\n                  </div>\n                )}\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n      \n      <style>{`\n        .sidebar {\n          width: 300px;\n          background: linear-gradient(180deg, #3E5C49 0%, #2E453A 100%);\n          display: flex;\n          flex-direction: column;\n          position: relative;\n          transition: width 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          border-right: 1px solid rgba(46, 69, 58, 0.3);\n          box-shadow: 4px 0 16px rgba(62, 92, 73, 0.1);\n        }\n        \n        .sidebar.collapsed {\n          width: 72px;\n        }\n        \n        .sidebar::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: \n            radial-gradient(circle at 20% 80%, rgba(243, 238, 217, 0.03) 0%, transparent 50%),\n            radial-gradient(circle at 80% 20%, rgba(194, 87, 27, 0.02) 0%, transparent 50%);\n          pointer-events: none;\n        }\n        \n        .sidebar-header {\n          padding: 24px 20px;\n          border-bottom: 1px solid rgba(243, 238, 217, 0.1);\n          position: relative;\n          z-index: 1;\n        }\n        \n        .sidebar-toggle {\n          display: flex;\n          justify-content: flex-end;\n          margin-bottom: 16px;\n        }\n        \n        .toggle-button {\n          width: 40px;\n          height: 40px;\n          border: none;\n          background: rgba(243, 238, 217, 0.1);\n          color: #F3EED9;\n          border-radius: 12px;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s ease;\n          backdrop-filter: blur(10px);\n          border: 1px solid rgba(243, 238, 217, 0.2);\n        }\n        \n        .toggle-button:hover {\n          background: rgba(243, 238, 217, 0.2);\n          transform: scale(1.05);\n        }\n        \n        .sidebar-brand {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          opacity: 1;\n          transition: opacity 0.2s ease;\n        }\n        \n        .collapsed .sidebar-brand {\n          opacity: 0;\n          pointer-events: none;\n        }\n        \n        .brand-logo {\n          width: 48px;\n          height: 48px;\n          background: rgba(243, 238, 217, 0.15);\n          border-radius: 14px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: #F3EED9;\n          border: 1px solid rgba(243, 238, 217, 0.2);\n        }\n        \n        .brand-title {\n          font-size: 20px;\n          font-weight: 800;\n          color: #F3EED9;\n          margin: 0 0 4px 0;\n          letter-spacing: -0.3px;\n        }\n        \n        .brand-subtitle {\n          font-size: 13px;\n          color: rgba(243, 238, 217, 0.7);\n          margin: 0;\n          line-height: 1.3;\n        }\n        \n        .sidebar-content {\n          flex: 1;\n          overflow-y: auto;\n          padding: 8px 20px 20px;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .collapsed .sidebar-content {\n          padding: 8px 12px 20px;\n        }\n        \n        .nav-section {\n          margin-bottom: 32px;\n        }\n        \n        .nav-title {\n          font-size: 11px;\n          font-weight: 700;\n          text-transform: uppercase;\n          letter-spacing: 1px;\n          color: rgba(243, 238, 217, 0.6);\n          margin-bottom: 16px;\n          margin-top: 0;\n          padding: 0 4px;\n        }\n        \n        .nav-list {\n          list-style: none;\n          padding: 0;\n          margin: 0;\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        \n        .nav-item {\n          width: 100%;\n        }\n        \n        .nav-button {\n          width: 100%;\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          padding: 16px;\n          border: none;\n          background: transparent;\n          color: #F3EED9;\n          cursor: pointer;\n          border-radius: 16px;\n          transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          font-size: 14px;\n          position: relative;\n          text-align: left;\n          overflow: hidden;\n          border: 1px solid transparent;\n        }\n        \n        .collapsed .nav-button {\n          justify-content: center;\n          padding: 16px 12px;\n        }\n        \n        .nav-button::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(243, 238, 217, 0.08);\n          border-radius: 16px;\n          transform: scaleX(0);\n          transform-origin: left;\n          transition: transform 0.3s ease;\n        }\n        \n        .nav-button:hover::before {\n          transform: scaleX(1);\n        }\n        \n        .nav-button:hover {\n          color: #FFFFFF;\n          transform: translateX(4px);\n          border-color: rgba(243, 238, 217, 0.2);\n        }\n        \n        .collapsed .nav-button:hover {\n          transform: scale(1.05);\n        }\n        \n        .nav-button.active {\n          background: var(--item-gradient, rgba(243, 238, 217, 0.15));\n          color: #FFFFFF;\n          box-shadow: \n            0 8px 24px rgba(0, 0, 0, 0.15),\n            0 4px 12px rgba(62, 92, 73, 0.2);\n          border-color: rgba(243, 238, 217, 0.3);\n        }\n        \n        .nav-button.active::before {\n          transform: scaleX(1);\n          background: rgba(243, 238, 217, 0.1);\n        }\n        \n        .nav-button.highlight {\n          background: var(--item-gradient);\n          animation: pulse-highlight 3s ease-in-out infinite;\n        }\n        \n        .nav-button.highlight:hover {\n          background: linear-gradient(135deg, #A8481A 0%, #D84315 100%);\n          transform: translateX(4px) translateY(-2px);\n          box-shadow: 0 12px 32px rgba(194, 87, 27, 0.4);\n        }\n        \n        .nav-button.support {\n          position: relative;\n        }\n        \n        .nav-button.support::after {\n          content: '♥';\n          position: absolute;\n          top: 8px;\n          right: 8px;\n          font-size: 12px;\n          color: #E91E63;\n          animation: heartbeat 2s ease-in-out infinite;\n        }\n        \n        @keyframes heartbeat {\n          0%, 100% {\n            transform: scale(1);\n            opacity: 0.8;\n          }\n          50% {\n            transform: scale(1.2);\n            opacity: 1;\n          }\n        }\n        \n        @keyframes pulse-highlight {\n          0%, 100% {\n            box-shadow: 0 4px 16px rgba(194, 87, 27, 0.3);\n          }\n          50% {\n            box-shadow: 0 8px 24px rgba(194, 87, 27, 0.5);\n          }\n        }\n        \n        .nav-button.urgent {\n          position: relative;\n        }\n        \n        .nav-button.urgent::after {\n          content: '';\n          position: absolute;\n          top: 12px;\n          right: 12px;\n          width: 8px;\n          height: 8px;\n          background: #DC2626;\n          border-radius: 50%;\n          animation: pulse-urgent 2s infinite;\n        }\n        \n        @keyframes pulse-urgent {\n          0%, 100% {\n            opacity: 1;\n            transform: scale(1);\n          }\n          50% {\n            opacity: 0.7;\n            transform: scale(1.2);\n          }\n        }\n        \n        .nav-icon {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 24px;\n          height: 24px;\n          flex-shrink: 0;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .nav-content {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          min-width: 0;\n          position: relative;\n          z-index: 1;\n        }\n        \n        .nav-label {\n          font-weight: 700;\n          line-height: 1.2;\n          margin-bottom: 3px;\n          font-size: 15px;\n        }\n        \n        .nav-description {\n          font-size: 12px;\n          opacity: 0.8;\n          line-height: 1.2;\n        }\n        \n        .nav-count {\n          background: rgba(243, 238, 217, 0.2);\n          color: #F3EED9;\n          font-size: 12px;\n          font-weight: 700;\n          padding: 4px 8px;\n          border-radius: 10px;\n          min-width: 20px;\n          text-align: center;\n          flex-shrink: 0;\n          position: relative;\n          z-index: 1;\n          border: 1px solid rgba(243, 238, 217, 0.3);\n        }\n        \n        .nav-count.badge {\n          background: #C2571B;\n          color: #FFFFFF;\n          animation: pulse-badge 2s infinite;\n          border-color: rgba(255, 255, 255, 0.3);\n        }\n        \n        .nav-count.urgent {\n          background: #DC2626;\n          color: #FFFFFF;\n          animation: pulse-urgent 1.5s infinite;\n          border-color: rgba(255, 255, 255, 0.3);\n        }\n        \n        @keyframes pulse-badge {\n          0%, 100% {\n            opacity: 1;\n            transform: scale(1);\n          }\n          50% {\n            opacity: 0.8;\n            transform: scale(1.05);\n          }\n        }\n        \n        .nav-highlight {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 28px;\n          height: 28px;\n          background: rgba(255, 255, 255, 0.2);\n          border-radius: 50%;\n          color: #F3EED9;\n          animation: sparkle 2s ease-in-out infinite;\n        }\n        \n        @keyframes sparkle {\n          0%, 100% {\n            opacity: 0.7;\n            transform: rotate(0deg) scale(1);\n          }\n          50% {\n            opacity: 1;\n            transform: rotate(180deg) scale(1.1);\n          }\n        }\n        \n        .nav-indicator {\n          width: 10px;\n          height: 10px;\n          background: #C2571B;\n          border-radius: 50%;\n          position: absolute;\n          top: 12px;\n          right: 12px;\n          animation: pulse-badge 2s infinite;\n          border: 2px solid rgba(243, 238, 217, 0.3);\n        }\n        \n        .nav-indicator.urgent {\n          background: #DC2626;\n          animation: pulse-urgent 1.5s infinite;\n        }\n        \n        .stats-section {\n          margin-bottom: 24px;\n          padding-top: 20px;\n          border-top: 1px solid rgba(243, 238, 217, 0.1);\n          position: relative;\n          isolation: isolate;\n        }\n        \n        .stats-section:first-of-type {\n          border-top: none;\n          padding-top: 0;\n        }\n        \n        .stats-header {\n          display: flex !important;\n          align-items: center !important;\n          justify-content: space-between !important;\n          margin-bottom: 16px !important;\n          position: relative !important;\n          z-index: 10 !important;\n        }\n        \n        .stats-title {\n          font-size: 11px !important;\n          font-weight: 700 !important;\n          text-transform: uppercase !important;\n          letter-spacing: 1px !important;\n          color: rgba(243, 238, 217, 0.6) !important;\n          margin: 0 !important;\n          font-family: inherit !important;\n        }\n        \n        .popularity-score {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          font-size: 10px;\n          color: rgba(243, 238, 217, 0.8);\n          font-weight: 600;\n        }\n        \n        .stats-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 12px;\n        }\n        \n        .stat-card {\n          background: rgba(243, 238, 217, 0.08) !important;\n          border-radius: 12px !important;\n          padding: 14px 12px !important;\n          display: flex !important;\n          align-items: center !important;\n          gap: 12px !important;\n          transition: all 0.2s ease !important;\n          border: 1px solid rgba(243, 238, 217, 0.1) !important;\n          position: relative !important;\n          overflow: hidden !important;\n          isolation: isolate !important;\n        }\n        \n        .stat-card::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: linear-gradient(135deg, rgba(243, 238, 217, 0.05) 0%, transparent 100%);\n          opacity: 0;\n          transition: opacity 0.2s ease;\n        }\n        \n        .stat-card:hover {\n          background: rgba(243, 238, 217, 0.12);\n          transform: translateY(-1px);\n        }\n        \n        .stat-card:hover::before {\n          opacity: 1;\n        }\n        \n        .stat-card.urgent {\n          background: rgba(220, 38, 38, 0.15);\n          border-color: rgba(220, 38, 38, 0.3);\n          animation: pulse-card 3s ease-in-out infinite;\n        }\n        \n        @keyframes pulse-card {\n          0%, 100% {\n            background: rgba(220, 38, 38, 0.15);\n          }\n          50% {\n            background: rgba(220, 38, 38, 0.2);\n          }\n        }\n        \n        .stat-icon {\n          opacity: 0.9;\n          flex-shrink: 0;\n        }\n        \n        .stat-content {\n          flex: 1;\n          min-width: 0;\n        }\n        \n        .stat-value {\n          font-size: 18px !important;\n          font-weight: 800 !important;\n          line-height: 1.2 !important;\n          color: #F3EED9 !important;\n          margin-bottom: 2px !important;\n          font-family: inherit !important;\n        }\n        \n        .stat-label {\n          font-size: 10px !important;\n          color: rgba(243, 238, 217, 0.7) !important;\n          line-height: 1.2 !important;\n          text-transform: uppercase !important;\n          letter-spacing: 0.5px !important;\n          font-weight: 600 !important;\n          font-family: inherit !important;\n        }\n        \n        .stat-trend {\n          font-size: 9px;\n          color: #4CAF50;\n          font-weight: 600;\n          margin-top: 2px;\n        }\n        \n        .stat-percentage {\n          font-size: 9px;\n          color: rgba(243, 238, 217, 0.8);\n          font-weight: 600;\n          margin-top: 2px;\n        }\n        \n        .users-stats {\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n          margin-bottom: 16px;\n        }\n        \n        .user-stat {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          background: rgba(243, 238, 217, 0.06);\n          border-radius: 10px;\n          padding: 12px;\n          border: 1px solid rgba(243, 238, 217, 0.1);\n        }\n        \n        .user-stat-icon {\n          opacity: 0.9;\n        }\n        \n        .user-stat-content {\n          flex: 1;\n        }\n        \n        .user-stat-value {\n          font-size: 16px;\n          font-weight: 700;\n          color: #F3EED9;\n          line-height: 1.2;\n        }\n        \n        .user-stat-label {\n          font-size: 11px;\n          color: rgba(243, 238, 217, 0.7);\n          font-weight: 500;\n        }\n        \n        .total-users {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 12px 16px;\n          background: rgba(243, 238, 217, 0.1);\n          border-radius: 12px;\n          border: 1px solid rgba(243, 238, 217, 0.2);\n        }\n        \n        .total-label {\n          font-size: 12px;\n          color: rgba(243, 238, 217, 0.8);\n          font-weight: 600;\n        }\n        \n        .total-value {\n          font-size: 16px;\n          font-weight: 800;\n          color: #F3EED9;\n        }\n        \n        .activity-section {\n          margin-top: auto;\n        }\n        \n        .activity-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 16px;\n        }\n        \n        .activity-pulse {\n          width: 8px;\n          height: 8px;\n          background: #4CAF50;\n          border-radius: 50%;\n          animation: pulse-activity 2s ease-in-out infinite;\n        }\n        \n        @keyframes pulse-activity {\n          0%, 100% {\n            opacity: 1;\n            transform: scale(1);\n          }\n          50% {\n            opacity: 0.6;\n            transform: scale(1.3);\n          }\n        }\n        \n        .activity-summary {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n        \n        .activity-item {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 11px;\n          color: rgba(243, 238, 217, 0.8);\n          line-height: 1.3;\n        }\n        \n        .activity-item.urgent {\n          color: #FFCDD2;\n        }\n        \n        .activity-dot {\n          width: 6px;\n          height: 6px;\n          border-radius: 50%;\n          flex-shrink: 0;\n        }\n        \n        .activity-dot.available {\n          background: #4CAF50;\n        }\n        \n        .activity-dot.borrowed {\n          background: #FF9800;\n        }\n        \n        .activity-dot.overdue {\n          background: #F44336;\n          animation: pulse-urgent 1.5s infinite;\n        }\n        \n        /* Enhanced scrollbar */\n        .sidebar-content::-webkit-scrollbar {\n          width: 4px;\n        }\n        \n        .sidebar-content::-webkit-scrollbar-track {\n          background: rgba(243, 238, 217, 0.1);\n          border-radius: 2px;\n        }\n        \n        .sidebar-content::-webkit-scrollbar-thumb {\n          background: rgba(243, 238, 217, 0.3);\n          border-radius: 2px;\n        }\n        \n        .sidebar-content::-webkit-scrollbar-thumb:hover {\n          background: rgba(243, 238, 217, 0.5);\n        }\n        \n        /* Responsive Design */\n        @media (max-width: 768px) {\n          .sidebar {\n            width: 100%;\n            height: auto;\n            flex-direction: row;\n            border-right: none;\n            border-bottom: 1px solid rgba(46, 69, 58, 0.3);\n            overflow-x: auto;\n            background: linear-gradient(90deg, #3E5C49 0%, #2E453A 100%);\n          }\n          \n          .sidebar.collapsed {\n            width: 100%;\n          }\n          \n          .sidebar-header {\n            display: none;\n          }\n          \n          .sidebar-content {\n            flex: 1;\n            padding: 16px 20px;\n            overflow-x: auto;\n            display: flex;\n            gap: 20px;\n            overflow-y: visible;\n          }\n          \n          .nav-section {\n            margin-bottom: 0;\n            flex-shrink: 0;\n          }\n          \n          .nav-list {\n            flex-direction: row;\n            gap: 12px;\n          }\n          \n          .nav-button {\n            flex-direction: column;\n            gap: 6px;\n            padding: 12px 16px;\n            min-width: 80px;\n            white-space: nowrap;\n            border-radius: 12px;\n          }\n          \n          .nav-content {\n            align-items: center;\n            text-align: center;\n          }\n          \n          .nav-label {\n            font-size: 12px;\n          }\n          \n          .nav-description {\n            display: none;\n          }\n          \n          .nav-count {\n            position: absolute;\n            top: 8px;\n            right: 8px;\n            font-size: 10px;\n            padding: 2px 6px;\n            min-width: 16px;\n          }\n          \n          .stats-section,\n          .activity-section {\n            display: none;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .sidebar-content {\n            padding: 12px 16px;\n            gap: 16px;\n          }\n          \n          .nav-button {\n            min-width: 70px;\n            padding: 10px 12px;\n          }\n          \n          .nav-label {\n            font-size: 11px;\n          }\n          \n          .nav-count {\n            font-size: 9px;\n            padding: 1px 4px;\n          }\n        }\n        \n        /* Performance optimizations */\n        .nav-button {\n          contain: layout style paint;\n        }\n        \n        .stat-card {\n          contain: layout style paint;\n        }\n        \n        /* Accessibility improvements */\n        @media (prefers-reduced-motion: reduce) {\n          .nav-button,\n          .stat-card,\n          .toggle-button,\n          .activity-pulse,\n          .nav-highlight {\n            transition: none;\n            animation: none;\n          }\n          \n          .nav-button:hover {\n            transform: none;\n          }\n        }\n        \n        /* High contrast mode */\n        @media (prefers-contrast: high) {\n          .nav-button {\n            border: 2px solid rgba(243, 238, 217, 0.5);\n          }\n          \n          .nav-button.active {\n            border-color: #F3EED9;\n          }\n          \n          .stat-card {\n            border-width: 2px;\n          }\n        }\n      `}</style>\n      \n      {/* Emergency Alert for Overdue Books */}\n      {!isCollapsed && stats.overdueBooks > 0 && (\n        <div className=\"emergency-alert\">\n          <div className=\"alert-icon\">\n            <Clock size={16} />\n          </div>\n          <div className=\"alert-content\">\n            <div className=\"alert-title\">Action requise</div>\n            <div className=\"alert-message\">\n              {stats.overdueBooks} livre(s) en retard\n            </div>\n          </div>\n        </div>\n      )}\n      \n      <style>{`\n        .emergency-alert {\n          margin: 16px 20px;\n          background: linear-gradient(135deg, #DC2626 0%, #B91C1C 100%);\n          color: #FFFFFF;\n          padding: 16px;\n          border-radius: 12px;\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          animation: pulse-alert 3s ease-in-out infinite;\n          border: 1px solid rgba(255, 255, 255, 0.2);\n          box-shadow: 0 4px 16px rgba(220, 38, 38, 0.3);\n        }\n        \n        @keyframes pulse-alert {\n          0%, 100% {\n            box-shadow: 0 4px 16px rgba(220, 38, 38, 0.3);\n          }\n          50% {\n            box-shadow: 0 8px 24px rgba(220, 38, 38, 0.5);\n          }\n        }\n        \n        .alert-icon {\n          width: 32px;\n          height: 32px;\n          background: rgba(255, 255, 255, 0.2);\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-shrink: 0;\n        }\n        \n        .alert-content {\n          flex: 1;\n        }\n        \n        .alert-title {\n          font-size: 12px;\n          font-weight: 700;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n          margin-bottom: 2px;\n          opacity: 0.9;\n        }\n        \n        .alert-message {\n          font-size: 13px;\n          font-weight: 600;\n          line-height: 1.3;\n        }\n      `}</style>\n    </div>\n  );\n};","import React from 'react';\r\nimport { Minus, Square, X, BookOpen } from 'lucide-react';\r\n\r\nexport const TitleBar: React.FC = () => {\r\n  const handleMinimize = () => {\r\n    window.electronAPI.minimizeWindow();\r\n  };\r\n\r\n  const handleMaximize = () => {\r\n    window.electronAPI.maximizeWindow();\r\n  };\r\n\r\n  const handleClose = () => {\r\n    window.electronAPI.closeWindow();\r\n  };\r\n\r\n  return (\r\n    <div className=\"titlebar\">\r\n      <div className=\"titlebar-content\">\r\n        <div className=\"titlebar-left\">\r\n          <div className=\"app-logo\">\r\n            <BookOpen size={18} />\r\n          </div>\r\n          <span className=\"app-title\">Bibliothèque</span>\r\n          <div className=\"title-separator\"></div>\r\n          <span className=\"app-subtitle\">Gestion moderne de collection</span>\r\n        </div>\r\n        \r\n        <div className=\"titlebar-center\">\r\n          {/* Search bar could go here in future */}\r\n        </div>\r\n        \r\n        <div className=\"titlebar-controls\">\r\n          <button className=\"control-button minimize\" onClick={handleMinimize} title=\"Réduire\">\r\n            <Minus size={12} />\r\n          </button>\r\n          <button className=\"control-button maximize\" onClick={handleMaximize} title=\"Agrandir\">\r\n            <Square size={10} />\r\n          </button>\r\n          <button className=\"control-button close\" onClick={handleClose} title=\"Fermer\">\r\n            <X size={12} />\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      <style>{`\r\n        .titlebar {\r\n          height: 48px;\r\n          background: linear-gradient(135deg, #3E5C49 0%, #2E453A 100%);\r\n          border-bottom: 1px solid rgba(46, 69, 58, 0.2);\r\n          -webkit-app-region: drag;\r\n          position: relative;\r\n          z-index: 1000;\r\n        }\r\n        \r\n        .titlebar::after {\r\n          content: '';\r\n          position: absolute;\r\n          bottom: 0;\r\n          left: 0;\r\n          right: 0;\r\n          height: 1px;\r\n          background: linear-gradient(90deg, transparent, rgba(243, 238, 217, 0.3), transparent);\r\n        }\r\n        \r\n        .titlebar-content {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          height: 100%;\r\n          padding: 0 8px 0 16px;\r\n          position: relative;\r\n        }\r\n        \r\n        .titlebar-left {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          flex: 1;\r\n          min-width: 0;\r\n        }\r\n        \r\n        .app-logo {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          width: 32px;\r\n          height: 32px;\r\n          background: rgba(243, 238, 217, 0.15);\r\n          border-radius: 8px;\r\n          color: #F3EED9;\r\n          flex-shrink: 0;\r\n        }\r\n        \r\n        .app-title {\r\n          font-size: 14px;\r\n          font-weight: 700;\r\n          color: #F3EED9;\r\n          letter-spacing: -0.2px;\r\n          flex-shrink: 0;\r\n        }\r\n        \r\n        .title-separator {\r\n          width: 1px;\r\n          height: 16px;\r\n          background: rgba(243, 238, 217, 0.3);\r\n          flex-shrink: 0;\r\n        }\r\n        \r\n        .app-subtitle {\r\n          font-size: 12px;\r\n          font-weight: 400;\r\n          color: rgba(243, 238, 217, 0.8);\r\n          white-space: nowrap;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n        }\r\n        \r\n        .titlebar-center {\r\n          flex: 2;\r\n          display: flex;\r\n          justify-content: center;\r\n          margin: 0 16px;\r\n        }\r\n        \r\n        .titlebar-controls {\r\n          display: flex;\r\n          align-items: center;\r\n          -webkit-app-region: no-drag;\r\n          flex-shrink: 0;\r\n        }\r\n        \r\n        .control-button {\r\n          width: 44px;\r\n          height: 32px;\r\n          border: none;\r\n          background: transparent;\r\n          color: #F3EED9;\r\n          cursor: pointer;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          border-radius: 4px;\r\n          transition: all 0.15s ease;\r\n          opacity: 0.8;\r\n          position: relative;\r\n        }\r\n        \r\n        .control-button::before {\r\n          content: '';\r\n          position: absolute;\r\n          inset: 4px;\r\n          border-radius: 2px;\r\n          background: transparent;\r\n          transition: background 0.15s ease;\r\n        }\r\n        \r\n        .control-button:hover {\r\n          opacity: 1;\r\n        }\r\n        \r\n        .control-button:hover::before {\r\n          background: rgba(243, 238, 217, 0.1);\r\n        }\r\n        \r\n        .control-button:active::before {\r\n          background: rgba(243, 238, 217, 0.2);\r\n        }\r\n        \r\n        .control-button.close:hover::before {\r\n          background: #E81123;\r\n        }\r\n        \r\n        .control-button.close:hover {\r\n          color: #FFFFFF;\r\n        }\r\n        \r\n        .control-button.close:active::before {\r\n          background: #C50E1F;\r\n        }\r\n        \r\n        /* Responsive adjustments */\r\n        @media (max-width: 768px) {\r\n          .app-subtitle {\r\n            display: none;\r\n          }\r\n          \r\n          .title-separator {\r\n            display: none;\r\n          }\r\n          \r\n          .titlebar-content {\r\n            padding: 0 4px 0 12px;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 480px) {\r\n          .titlebar-left {\r\n            gap: 8px;\r\n          }\r\n          \r\n          .app-title {\r\n            font-size: 13px;\r\n          }\r\n          \r\n          .control-button {\r\n            width: 40px;\r\n            height: 30px;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};","import React from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\nimport { App } from './App';\r\n\r\nconst container = document.getElementById('root');\r\nconst root = createRoot(container!);\r\n\r\nroot.render(<App />);","// src/services/SupabaseService.ts\r\nimport { createClient, SupabaseClient } from '@supabase/supabase-js';\r\nimport { Book, Author, Category, Stats, Borrower, BorrowHistory, HistoryFilter, Document } from '../preload';\r\n\r\nexport interface Institution {\r\n  id: string;\r\n  code: string;\r\n  name: string;\r\n  address: string;\r\n  city: string;\r\n  country: string;\r\n  phone: string;\r\n  email: string;\r\n  website: string;\r\n  logo: string;\r\n  description: string;\r\n  type: 'school' | 'university' | 'library' | 'other';\r\n  director?: string;\r\n  capacity?: number;\r\n  established_year?: string;\r\n  status: 'active' | 'inactive' | 'suspended';\r\n  subscription_plan: 'basic' | 'premium' | 'enterprise';\r\n  max_books: number;\r\n  max_users: number;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface User {\r\n  id: string;\r\n  email: string;\r\n  first_name: string;\r\n  last_name: string;\r\n  role: 'super_admin' | 'admin' | 'librarian' | 'user';\r\n  institution_id?: string;\r\n  avatar_url?: string;\r\n  phone?: string;\r\n  is_active: boolean;\r\n  last_login?: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface DatabaseBook extends Omit<Book, 'id'> {\r\n  id: string;\r\n  institution_id: string;\r\n  created_by: string;\r\n  updated_by?: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface DatabaseBorrower extends Omit<Borrower, 'id'> {\r\n  id: string;\r\n  institution_id: string;\r\n  created_by: string;\r\n  updated_by?: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface DatabaseBorrowHistory extends Omit<BorrowHistory, 'id' | 'book' | 'borrower'> {\r\n  id: string;\r\n  institution_id: string;\r\n  book_id: string;\r\n  borrower_id: string;\r\n  created_by: string;\r\n  updated_by?: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\n// Service Supabase pour la gestion de la bibliothèque\r\nexport class SupabaseService {\r\n  private supabase: SupabaseClient;\r\n  private currentUser: User | null = null;\r\n  private currentInstitution: Institution | null = null;\r\n\r\n  constructor() {\r\n    // Configuration Supabase avec les vraies clés\r\n    const supabaseUrl = 'https://krojphsvzuwtgxxkjklj.supabase.co';\r\n    const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtyb2pwaHN2enV3dGd4eGtqa2xqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI0NzMwMTMsImV4cCI6MjA2ODA0OTAxM30.U8CvDXnn84ow2984GIiZqMcAE1-Pc6lGavTVqm_fLtQ';\r\n    \r\n    this.supabase = createClient(supabaseUrl, supabaseKey);\r\n    this.initializeAuth();\r\n  }\r\n\r\n  private async initializeAuth() {\r\n    try {\r\n      const { data: { session } } = await this.supabase.auth.getSession();\r\n      if (session?.user) {\r\n        await this.loadUserProfile(session.user.id);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur lors de l\\'initialisation de l\\'authentification:', error);\r\n    }\r\n  }\r\n\r\n  // Authentication\r\n  async signUp(email: string, password: string, userData: {\r\n    firstName: string;\r\n    lastName: string;\r\n    institutionCode?: string;\r\n    role?: 'admin' | 'librarian' | 'user';\r\n  }): Promise<{ success: boolean; user?: User; error?: string }> {\r\n    try {\r\n      const { data, error } = await this.supabase.auth.signUp({\r\n        email,\r\n        password,\r\n        options: {\r\n          data: {\r\n            first_name: userData.firstName,\r\n            last_name: userData.lastName,\r\n            role: userData.role || 'user'\r\n          }\r\n        }\r\n      });\r\n\r\n      if (error) throw error;\r\n\r\n      if (data.user) {\r\n        // Si un code d'établissement est fourni, associer l'utilisateur\r\n        if (userData.institutionCode) {\r\n          const institution = await this.getInstitutionByCode(userData.institutionCode);\r\n          if (!institution) {\r\n            throw new Error('Code d\\'établissement invalide');\r\n          }\r\n        }\r\n\r\n        // Créer le profil utilisateur\r\n        const userProfile = await this.createUserProfile(data.user.id, {\r\n          email: data.user.email!,\r\n          first_name: userData.firstName,\r\n          last_name: userData.lastName,\r\n          role: userData.role || 'user',\r\n          institution_id: userData.institutionCode ? (await this.getInstitutionByCode(userData.institutionCode))?.id : undefined,\r\n          is_active: true\r\n        });\r\n\r\n        return { success: true, user: userProfile };\r\n      }\r\n\r\n      return { success: false, error: 'Erreur lors de la création du compte' };\r\n    } catch (error: any) {\r\n      return { success: false, error: error.message };\r\n    }\r\n  }\r\n\r\n  async signIn(email: string, password: string): Promise<{ success: boolean; user?: User; institution?: Institution; error?: string }> {\r\n    try {\r\n      const { data, error } = await this.supabase.auth.signInWithPassword({\r\n        email,\r\n        password\r\n      });\r\n\r\n      if (error) throw error;\r\n\r\n      if (data.user) {\r\n        const userProfile = await this.loadUserProfile(data.user.id);\r\n        if (userProfile && userProfile.institution_id) {\r\n          this.currentInstitution = await this.getInstitution(userProfile.institution_id);\r\n        }\r\n\r\n        return { \r\n          success: true, \r\n          user: userProfile!, \r\n          institution: this.currentInstitution || undefined \r\n        };\r\n      }\r\n\r\n      return { success: false, error: 'Erreur de connexion' };\r\n    } catch (error: any) {\r\n      return { success: false, error: error.message };\r\n    }\r\n  }\r\n\r\n  async signOut(): Promise<boolean> {\r\n    try {\r\n      const { error } = await this.supabase.auth.signOut();\r\n      if (error) throw error;\r\n      \r\n      this.currentUser = null;\r\n      this.currentInstitution = null;\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Erreur lors de la déconnexion:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Institution Management\r\n  async createInstitution(institutionData: Omit<Institution, 'id' | 'code' | 'created_at' | 'updated_at'>): Promise<{ institution: Institution; code: string }> {\r\n    const code = this.generateInstitutionCode();\r\n    \r\n    const { data, error } = await this.supabase\r\n      .from('institutions')\r\n      .insert({\r\n        ...institutionData,\r\n        code,\r\n        status: 'active',\r\n        subscription_plan: 'basic',\r\n        max_books: 1000,\r\n        max_users: 10\r\n      })\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n\r\n    // Associer l'utilisateur actuel comme admin de cette institution\r\n    if (this.currentUser) {\r\n      await this.supabase\r\n        .from('users')\r\n        .update({\r\n          institution_id: data.id,\r\n          role: 'admin'\r\n        })\r\n        .eq('id', this.currentUser.id);\r\n    }\r\n\r\n    return { institution: data, code };\r\n  }\r\n\r\n  private generateInstitutionCode(): string {\r\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n    let result = '';\r\n    for (let i = 0; i < 8; i++) {\r\n      result += chars.charAt(Math.floor(Math.random() * chars.length));\r\n    }\r\n    return result;\r\n  }\r\n\r\n  async getInstitutionByCode(code: string): Promise<Institution | null> {\r\n    const { data, error } = await this.supabase\r\n      .from('institutions')\r\n      .select('*')\r\n      .eq('code', code.toUpperCase())\r\n      .eq('status', 'active')\r\n      .single();\r\n\r\n    if (error) return null;\r\n    return data;\r\n  }\r\n\r\n  async getInstitution(id: string): Promise<Institution | null> {\r\n    const { data, error } = await this.supabase\r\n      .from('institutions')\r\n      .select('*')\r\n      .eq('id', id)\r\n      .single();\r\n\r\n    if (error) return null;\r\n    return data;\r\n  }\r\n\r\n  // User Profile Management\r\n  private async createUserProfile(userId: string, profileData: Omit<User, 'id' | 'created_at' | 'updated_at'>): Promise<User> {\r\n    const { data, error } = await this.supabase\r\n      .from('users')\r\n      .insert({\r\n        id: userId,\r\n        ...profileData,\r\n        is_active: true\r\n      })\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  }\r\n\r\n  private async loadUserProfile(userId: string): Promise<User | null> {\r\n    const { data, error } = await this.supabase\r\n      .from('users')\r\n      .select('*')\r\n      .eq('id', userId)\r\n      .single();\r\n\r\n    if (error) return null;\r\n    \r\n    this.currentUser = data;\r\n    return data;\r\n  }\r\n\r\n  // Books Management - Méthodes simplifiées pour le test\r\n  async getBooks(): Promise<Book[]> {\r\n    // Pour l'instant, retourner un tableau vide pour éviter les erreurs de table manquante\r\n    console.log('getBooks appelé - retour de données de test');\r\n    return [];\r\n  }\r\n\r\n  async addBook(book: Omit<Book, 'id'>): Promise<number> {\r\n    console.log('addBook appelé avec:', book);\r\n    return 1; // ID fictif pour le test\r\n  }\r\n\r\n  async updateBook(book: Book): Promise<boolean> {\r\n    console.log('updateBook appelé avec:', book);\r\n    return true;\r\n  }\r\n\r\n  async deleteBook(id: number): Promise<boolean> {\r\n    console.log('deleteBook appelé avec ID:', id);\r\n    return true;\r\n  }\r\n\r\n  async searchBooks(query: string): Promise<Book[]> {\r\n    console.log('searchBooks appelé avec query:', query);\r\n    return [];\r\n  }\r\n\r\n  // Borrowers Management - Méthodes simplifiées\r\n  async getBorrowers(): Promise<Borrower[]> {\r\n    console.log('getBorrowers appelé');\r\n    return [];\r\n  }\r\n\r\n  async addBorrower(borrower: Omit<Borrower, 'id'>): Promise<number> {\r\n    console.log('addBorrower appelé avec:', borrower);\r\n    return 1;\r\n  }\r\n\r\n  async updateBorrower(borrower: Borrower): Promise<boolean> {\r\n    console.log('updateBorrower appelé avec:', borrower);\r\n    return true;\r\n  }\r\n\r\n  async deleteBorrower(id: number): Promise<boolean> {\r\n    console.log('deleteBorrower appelé avec ID:', id);\r\n    return true;\r\n  }\r\n\r\n  async searchBorrowers(query: string): Promise<Borrower[]> {\r\n    console.log('searchBorrowers appelé avec query:', query);\r\n    return [];\r\n  }\r\n\r\n  // Borrow Management - Méthodes simplifiées\r\n  async borrowBook(bookId: number, borrowerId: number, expectedReturnDate: string): Promise<number> {\r\n    console.log('borrowBook appelé avec:', { bookId, borrowerId, expectedReturnDate });\r\n    return 1;\r\n  }\r\n\r\n  async returnBook(borrowHistoryId: number, notes?: string): Promise<boolean> {\r\n    console.log('returnBook appelé avec:', { borrowHistoryId, notes });\r\n    return true;\r\n  }\r\n\r\n  async getBorrowedBooks(): Promise<BorrowHistory[]> {\r\n    console.log('getBorrowedBooks appelé');\r\n    return [];\r\n  }\r\n\r\n  async getBorrowHistory(filter?: HistoryFilter): Promise<BorrowHistory[]> {\r\n    console.log('getBorrowHistory appelé avec filter:', filter);\r\n    return [];\r\n  }\r\n\r\n  // Authors and Categories - Méthodes simplifiées\r\n  async getAuthors(): Promise<Author[]> {\r\n    console.log('getAuthors appelé');\r\n    return [];\r\n  }\r\n\r\n  async addAuthor(author: Omit<Author, 'id'>): Promise<number> {\r\n    console.log('addAuthor appelé avec:', author);\r\n    return 1;\r\n  }\r\n\r\n  async getCategories(): Promise<Category[]> {\r\n    console.log('getCategories appelé');\r\n    return [];\r\n  }\r\n\r\n  async addCategory(category: Omit<Category, 'id'>): Promise<number> {\r\n    console.log('addCategory appelé avec:', category);\r\n    return 1;\r\n  }\r\n\r\n  // Statistics - Méthodes simplifiées\r\n  async getStats(): Promise<Stats> {\r\n    console.log('getStats appelé');\r\n    return {\r\n      totalBooks: 0,\r\n      borrowedBooks: 0,\r\n      availableBooks: 0,\r\n      totalAuthors: 0,\r\n      totalCategories: 0,\r\n      totalBorrowers: 0,\r\n      totalStudents: 0,\r\n      totalStaff: 0,\r\n      overdueBooks: 0\r\n    };\r\n  }\r\n\r\n  // Getters\r\n  getCurrentUser(): User | null {\r\n    return this.currentUser;\r\n  }\r\n\r\n  getCurrentInstitution(): Institution | null {\r\n    return this.currentInstitution;\r\n  }\r\n\r\n  // Utility methods\r\n  isAuthenticated(): boolean {\r\n    return this.currentUser !== null;\r\n  }\r\n\r\n  async switchInstitution(institutionCode: string): Promise<boolean> {\r\n    try {\r\n      const institution = await this.getInstitutionByCode(institutionCode);\r\n      if (!institution) return false;\r\n\r\n      // Vérifier que l'utilisateur a accès à cette institution\r\n      if (this.currentUser && this.currentUser.institution_id !== institution.id) {\r\n        // Seuls les super_admin peuvent changer d'institution\r\n        if (this.currentUser.role !== 'super_admin') {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      this.currentInstitution = institution;\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Erreur lors du changement d\\'institution:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  async clearAllData(): Promise<boolean> {\r\n    console.log('clearAllData appelé');\r\n    return true;\r\n  }\r\n\r\n  // Méthodes CRUD supplémentaires pour la compatibilité\r\n  async createDocument(document: Omit<Document, 'id'>): Promise<Document | null> {\r\n    console.log('createDocument appelé avec:', document);\r\n    return null;\r\n  }\r\n\r\n  async updateDocument(document: Document): Promise<boolean> {\r\n    console.log('updateDocument appelé avec:', document);\r\n    return true;\r\n  }\r\n\r\n  async deleteDocument(id: string): Promise<boolean> {\r\n    console.log('deleteDocument appelé avec ID:', id);\r\n    return true;\r\n  }\r\n\r\n  async createAuthor(author: Omit<Author, 'id'>): Promise<Author | null> {\r\n    console.log('createAuthor appelé avec:', author);\r\n    return null;\r\n  }\r\n\r\n  async updateAuthor(author: Author): Promise<boolean> {\r\n    console.log('updateAuthor appelé avec:', author);\r\n    return true;\r\n  }\r\n\r\n  async deleteAuthor(id: string): Promise<boolean> {\r\n    console.log('deleteAuthor appelé avec ID:', id);\r\n    return true;\r\n  }\r\n\r\n  async createCategory(category: Omit<Category, 'id'>): Promise<Category | null> {\r\n    console.log('createCategory appelé avec:', category);\r\n    return null;\r\n  }\r\n\r\n  async updateCategory(category: Category): Promise<boolean> {\r\n    console.log('updateCategory appelé avec:', category);\r\n    return true;\r\n  }\r\n\r\n  async deleteCategory(id: string): Promise<boolean> {\r\n    console.log('deleteCategory appelé avec ID:', id);\r\n    return true;\r\n  }\r\n\r\n  async createBorrower(borrower: Omit<Borrower, 'id'>): Promise<Borrower | null> {\r\n    console.log('createBorrower appelé avec:', borrower);\r\n    return null;\r\n  }\r\n\r\n  async createBorrowHistory(borrowHistory: Omit<BorrowHistory, 'id'>): Promise<BorrowHistory | null> {\r\n    console.log('createBorrowHistory appelé avec:', borrowHistory);\r\n    return null;\r\n  }\r\n\r\n  async updateBorrowHistory(borrowHistory: BorrowHistory): Promise<boolean> {\r\n    console.log('updateBorrowHistory appelé avec:', borrowHistory);\r\n    return true;\r\n  }\r\n\r\n  async deleteBorrowHistory(id: string): Promise<boolean> {\r\n    console.log('deleteBorrowHistory appelé avec ID:', id);\r\n    return true;\r\n  }\r\n}\r\n","module.exports = require(\"electron\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"main\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = global[\"webpackChunkbibliotheque_app\"] = global[\"webpackChunkbibliotheque_app\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendors\"], () => (__webpack_require__(\"./src/renderer/index.tsx\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":[],"sourceRoot":""}