{"version":3,"file":"preload.js","mappings":"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","sources":["webpack://bibliosilio/./src/preload.ts","webpack://bibliosilio/external node-commonjs \"electron\"","webpack://bibliosilio/webpack/bootstrap","webpack://bibliosilio/webpack/before-startup","webpack://bibliosilio/webpack/startup","webpack://bibliosilio/webpack/after-startup"],"sourcesContent":["// src/preload.ts - Version corrigée pour Electron\r\ndeclare global {\r\n  interface Window {\r\n    electronAPI: typeof electronAPI;\r\n  }\r\n}\r\n\r\nimport { contextBridge, ipcRenderer } from 'electron';\r\n\r\n// Debug amélioré\r\nconsole.log('=== Preload Script Debug ===');\r\nconsole.log('Process type:', process?.type);\r\nconsole.log('Process versions:', process?.versions);\r\nconsole.log('contextBridge available:', typeof contextBridge !== 'undefined');\r\nconsole.log('ipcRenderer available:', typeof ipcRenderer !== 'undefined');\r\nconsole.log('sandbox:', process?.sandboxed);\r\n\r\n// Vérification plus robuste du contexte\r\nif (typeof contextBridge === 'undefined') {\r\n  console.error('❌ contextBridge is undefined');\r\n  console.error('Current context:', {\r\n    nodeIntegration: process?.env?.ELECTRON_ENABLE_NODE_INTEGRATION,\r\n    contextIsolation: process?.env?.ELECTRON_CONTEXT_ISOLATION,\r\n    sandbox: process?.sandboxed,\r\n    type: process?.type\r\n  });\r\n  \r\n  // Ne pas lancer d'erreur fatale, permettre de continuer\r\n  console.warn('⚠️ Running without contextBridge - this may indicate a configuration issue');\r\n} else {\r\n  console.log('✅ contextBridge is available');\r\n}\r\n\r\nif (typeof ipcRenderer === 'undefined') {\r\n  console.error('❌ ipcRenderer is undefined');\r\n} else {\r\n  console.log('✅ ipcRenderer is available');\r\n}\r\n\r\nexport interface Document {\r\n  id?: number;\r\n  // Champs principaux requis\r\n  auteur: string;           // AUTEUR\r\n  titre: string;            // TITRE  \r\n  editeur: string;          // EDITEUR\r\n  lieuEdition: string;      // LIEU D'EDITION\r\n  annee: string;            // ANNEE\r\n  descripteurs: string;     // DESCRIPTEURS (mots-clés séparés par des virgules)\r\n  cote: string;             // COTE (référence de classification)\r\n  type?: 'book' | 'mémoire' | 'thèse' | 'rapport' | 'article' | 'autre'; // TYPE DE DOCUMENT\r\n  \r\n  // Champs optionnels\r\n  isbn?: string;\r\n  description?: string;\r\n  couverture?: string;      // URL de la couverture\r\n  \r\n  // Statut d'emprunt\r\n  estEmprunte: boolean;\r\n  emprunteurId?: number;\r\n  dateEmprunt?: string;\r\n  dateRetourPrevu?: string;\r\n  dateRetour?: string;\r\n  nomEmprunteur?: string;\r\n  \r\n  // Métadonnées de synchronisation\r\n  localId?: string;         // ID unique local pour la sync\r\n  remoteId?: string;        // ID sur le serveur distant\r\n  syncStatus: 'synced' | 'pending' | 'conflict' | 'error';\r\n  lastModified: string;     // Timestamp de dernière modification\r\n  version: number;          // Version pour gérer les conflits\r\n  deletedAt?: string;       // Soft delete\r\n  createdAt?: string;\r\n}\r\n\r\n// Alias pour compatibilité ascendante - NOUVEAU MODÈLE\r\nexport interface Book extends Document {\r\n  // Propriétés de compatibilité (mappées automatiquement)\r\n  get title(): string;\r\n  get author(): string;\r\n  get category(): string;\r\n  get publishedDate(): string;\r\n  get coverUrl(): string | undefined;\r\n  get isBorrowed(): boolean;\r\n  get borrowerId(): number | undefined;\r\n  get borrowDate(): string | undefined;\r\n  get expectedReturnDate(): string | undefined;\r\n  get returnDate(): string | undefined;\r\n  get borrowerName(): string | undefined;\r\n}\r\n\r\nexport interface Author {\r\n  id?: number;\r\n  name: string;\r\n  biography?: string;\r\n  birthDate?: string;\r\n  nationality?: string;\r\n  // Synchronisation\r\n  localId?: string;\r\n  remoteId?: string;\r\n  syncStatus: 'synced' | 'pending' | 'conflict' | 'error';\r\n  lastModified: string;\r\n  version: number;\r\n  deletedAt?: string;\r\n  createdAt?: string;\r\n}\r\n\r\nexport interface Category {\r\n  id?: number;\r\n  name: string;\r\n  description?: string;\r\n  color?: string;\r\n  // Synchronisation\r\n  localId?: string;\r\n  remoteId?: string;\r\n  syncStatus: 'synced' | 'pending' | 'conflict' | 'error';\r\n  lastModified: string;\r\n  version: number;\r\n  deletedAt?: string;\r\n  createdAt?: string;\r\n}\r\n\r\nexport interface Borrower {\r\n  id?: number;\r\n  type: 'student' | 'staff';\r\n  firstName: string;\r\n  lastName: string;\r\n  matricule: string;\r\n  // Spécifique aux étudiants\r\n  classe?: string;\r\n  // Spécifique au personnel\r\n  cniNumber?: string;\r\n  position?: string;\r\n  email?: string;\r\n  phone?: string;\r\n  // Synchronisation\r\n  localId?: string;\r\n  remoteId?: string;\r\n  syncStatus: 'synced' | 'pending' | 'conflict' | 'error';\r\n  lastModified: string;\r\n  version: number;\r\n  deletedAt?: string;\r\n  createdAt?: string;\r\n}\r\n\r\nexport interface BorrowHistory {\r\n  id?: number;\r\n  documentId: number;\r\n  borrowerId: number;\r\n  borrowDate: string;\r\n  expectedReturnDate: string;\r\n  actualReturnDate?: string;\r\n  status: 'active' | 'returned' | 'overdue';\r\n  notes?: string;\r\n  // Synchronisation\r\n  localId?: string;\r\n  remoteId?: string;\r\n  syncStatus: 'synced' | 'pending' | 'conflict' | 'error';\r\n  lastModified: string;\r\n  version: number;\r\n  deletedAt?: string;\r\n  createdAt?: string;\r\n  // Relations\r\n  document?: Document;\r\n  borrower?: Borrower;\r\n}\r\n\r\nexport interface Stats {\r\n  totalDocuments: number;\r\n  borrowedDocuments: number;\r\n  availableDocuments: number;\r\n  totalAuthors: number;\r\n  totalCategories: number;\r\n  totalBorrowers: number;\r\n  totalStudents: number;\r\n  totalStaff: number;\r\n  overdueDocuments: number;\r\n}\r\n\r\nexport interface HistoryFilter {\r\n  startDate?: string;\r\n  endDate?: string;\r\n  borrowerType?: 'all' | 'student' | 'staff';\r\n  status?: 'all' | 'active' | 'returned' | 'overdue';\r\n  borrowerId?: number;\r\n  documentId?: number;\r\n}\r\n\r\n// Interfaces pour les paramètres\r\nexport interface InstitutionSettings {\r\n  name: string;\r\n  address: string;\r\n  city: string;\r\n  country: string;\r\n  phone: string;\r\n  email: string;\r\n  website: string;\r\n  logo: string;\r\n  description: string;\r\n}\r\n\r\nexport interface BackupSettings {\r\n  autoBackup: boolean;\r\n  backupFrequency: 'daily' | 'weekly' | 'monthly';\r\n  lastBackup: string;\r\n  cloudSync: boolean;\r\n  cloudProvider: 'google' | 'dropbox' | 'onedrive';\r\n}\r\n\r\nexport interface SecuritySettings {\r\n  requireAuth: boolean;\r\n  sessionTimeout: number;\r\n  passwordPolicy: {\r\n    minLength: number;\r\n    requireNumbers: boolean;\r\n    requireSymbols: boolean;\r\n  };\r\n}\r\n\r\nexport interface ApplicationSettings {\r\n  institution: InstitutionSettings;\r\n  backup: BackupSettings;\r\n  security: SecuritySettings;\r\n}\r\n\r\n// Interface pour l'authentification\r\nexport interface AuthCredentials {\r\n  username: string;\r\n  password: string;\r\n}\r\n\r\nexport interface AuthResponse {\r\n  success: boolean;\r\n  user?: {\r\n    id: number;\r\n    username: string;\r\n    role: string;\r\n    lastLogin: string;\r\n  };\r\n  error?: string;\r\n}\r\n\r\n// Interfaces pour la synchronisation\r\nexport interface SyncStatus {\r\n  isOnline: boolean;\r\n  lastSync: string | null;\r\n  pendingOperations: number;\r\n  syncInProgress: boolean;\r\n  errors: SyncError[];\r\n}\r\n\r\nexport interface SyncError {\r\n  id: string;\r\n  type: 'document' | 'author' | 'category' | 'borrower' | 'history';\r\n  operation: 'create' | 'update' | 'delete';\r\n  entityId: string;\r\n  error: string;\r\n  timestamp: string;\r\n  retryCount: number;\r\n}\r\n\r\nexport interface SyncOperation {\r\n  id: string;\r\n  type: 'document' | 'author' | 'category' | 'borrower' | 'history';\r\n  operation: 'create' | 'update' | 'delete';\r\n  data: any;\r\n  timestamp: string;\r\n  retryCount: number;\r\n  maxRetries: number;\r\n}\r\n\r\nexport interface NetworkStatus {\r\n  isOnline: boolean;\r\n  connectionType: 'wifi' | 'ethernet' | 'cellular' | 'none';\r\n  speed?: 'slow' | 'medium' | 'fast';\r\n  lastChecked: string;\r\n}\r\n\r\nexport interface ConflictResolution {\r\n  entityType: 'document' | 'author' | 'category' | 'borrower' | 'history';\r\n  entityId: string;\r\n  localVersion: any;\r\n  remoteVersion: any;\r\n  resolution: 'use_local' | 'use_remote' | 'merge' | 'manual';\r\n  resolvedData?: any;\r\n}\r\n\r\n// Fonctions utilitaires pour la compatibilité Book/Document\r\nexport const createBookFromDocument = (document: Document): Book => {\r\n  const book = { ...document } as any;\r\n  \r\n  // Ajouter les getters pour la compatibilité\r\n  Object.defineProperties(book, {\r\n    title: {\r\n      get: function() { return this.titre; },\r\n      enumerable: true\r\n    },\r\n    author: {\r\n      get: function() { return this.auteur; },\r\n      enumerable: true\r\n    },\r\n    category: {\r\n      get: function() { return this.descripteurs.split(',')[0]?.trim() || ''; },\r\n      enumerable: true\r\n    },\r\n    publishedDate: {\r\n      get: function() { return this.annee; },\r\n      enumerable: true\r\n    },\r\n    coverUrl: {\r\n      get: function() { return this.couverture; },\r\n      enumerable: true\r\n    },\r\n    isBorrowed: {\r\n      get: function() { return this.estEmprunte; },\r\n      enumerable: true\r\n    },\r\n    borrowerId: {\r\n      get: function() { return this.emprunteurId; },\r\n      enumerable: true\r\n    },\r\n    borrowDate: {\r\n      get: function() { return this.dateEmprunt; },\r\n      enumerable: true\r\n    },\r\n    expectedReturnDate: {\r\n      get: function() { return this.dateRetourPrevu; },\r\n      enumerable: true\r\n    },\r\n    returnDate: {\r\n      get: function() { return this.dateRetour; },\r\n      enumerable: true\r\n    },\r\n    borrowerName: {\r\n      get: function() { return this.nomEmprunteur; },\r\n      enumerable: true\r\n    }\r\n  });\r\n  \r\n  return book as Book;\r\n};\r\n\r\nexport const createDocumentFromBook = (book: Partial<Book>): Omit<Document, 'id'> => {\r\n  const now = new Date().toISOString();\r\n  \r\n  return {\r\n    auteur: (book as any).author || book.auteur || '',\r\n    titre: (book as any).title || book.titre || '',\r\n    editeur: book.editeur || 'Non spécifié',\r\n    lieuEdition: book.lieuEdition || 'Non spécifié',\r\n    annee: (book as any).publishedDate || book.annee || new Date().getFullYear().toString(),\r\n    descripteurs: (book as any).category || book.descripteurs || 'Général',\r\n    cote: book.cote || `GEN-${Math.random().toString(36).substr(2, 6).toUpperCase()}`,\r\n    isbn: book.isbn,\r\n    description: book.description,\r\n    couverture: (book as any).coverUrl || book.couverture,\r\n    estEmprunte: (book as any).isBorrowed || book.estEmprunte || false,\r\n    emprunteurId: (book as any).borrowerId || book.emprunteurId,\r\n    dateEmprunt: (book as any).borrowDate || book.dateEmprunt,\r\n    dateRetourPrevu: (book as any).expectedReturnDate || book.dateRetourPrevu,\r\n    dateRetour: (book as any).returnDate || book.dateRetour,\r\n    nomEmprunteur: (book as any).borrowerName || book.nomEmprunteur,\r\n    localId: book.localId,\r\n    remoteId: book.remoteId,\r\n    syncStatus: book.syncStatus || 'pending',\r\n    lastModified: book.lastModified || now,\r\n    version: book.version || 1,\r\n    deletedAt: book.deletedAt,\r\n    createdAt: book.createdAt || now\r\n  };\r\n};\r\n\r\n// API Definition\r\nconst electronAPI = {\r\n  // Window controls\r\n  minimizeWindow: () => ipcRenderer?.invoke('window-controls:minimize'),\r\n  maximizeWindow: () => ipcRenderer?.invoke('window-controls:maximize'),\r\n  closeWindow: () => ipcRenderer?.invoke('window-controls:close'),\r\n\r\n  // Authentication\r\n  getAuthStatus: (): Promise<boolean> => ipcRenderer?.invoke('auth:status') || Promise.resolve(false),\r\n  login: (credentials: AuthCredentials): Promise<AuthResponse> => ipcRenderer?.invoke('auth:login', credentials) || Promise.resolve({ success: false, error: 'IPC not available' }),\r\n  logout: (): Promise<void> => ipcRenderer?.invoke('auth:logout') || Promise.resolve(),\r\n\r\n  // Configuration\r\n  getSupabaseConfig: (): Promise<{url: string; key: string} | null> => ipcRenderer?.invoke('config:getSupabaseConfig') || Promise.resolve(null),\r\n\r\n  // Database operations - Books (avec compatibilité Document)\r\n  getBooks: (): Promise<Book[]> => \r\n    ipcRenderer?.invoke('db:getBooks').then((documents: Document[]) => \r\n      documents.map(createBookFromDocument)\r\n    ) || Promise.resolve([]),\r\n  addBook: (book: Omit<Book, 'id'>): Promise<number> => \r\n    ipcRenderer?.invoke('db:addBook', createDocumentFromBook(book)) || Promise.resolve(0),\r\n  updateBook: (book: Book): Promise<boolean> => \r\n    ipcRenderer?.invoke('db:updateBook', { ...createDocumentFromBook(book), id: book.id }) || Promise.resolve(false),\r\n  deleteBook: (id: number): Promise<boolean> => ipcRenderer?.invoke('db:deleteBook', id) || Promise.resolve(false),\r\n  searchBooks: (query: string): Promise<Book[]> => \r\n    ipcRenderer?.invoke('db:searchBooks', query).then((documents: Document[]) => \r\n      documents.map(createBookFromDocument)\r\n    ) || Promise.resolve([]),\r\n  \r\n  // Database operations - Documents (nouveau)\r\n  getDocuments: (institutionCode?: string): Promise<Document[]> => ipcRenderer?.invoke('db:getDocuments', institutionCode) || Promise.resolve([]),\r\n  addDocument: (document: Omit<Document, 'id'>, institutionCode?: string): Promise<number> => ipcRenderer?.invoke('db:addDocument', document, institutionCode) || Promise.resolve(0),\r\n  updateDocument: (document: Document, institutionCode?: string): Promise<boolean> => ipcRenderer?.invoke('db:updateDocument', document, institutionCode) || Promise.resolve(false),\r\n  deleteDocument: (id: number, institutionCode?: string): Promise<boolean> => ipcRenderer?.invoke('db:deleteDocument', id, institutionCode) || Promise.resolve(false),\r\n  searchDocuments: (query: string, institutionCode?: string): Promise<Document[]> => ipcRenderer?.invoke('db:searchDocuments', query, institutionCode) || Promise.resolve([]),\r\n  \r\n  // Database operations - Authors\r\n  getAuthors: (institutionCode?: string): Promise<Author[]> => ipcRenderer?.invoke('db:getAuthors', institutionCode) || Promise.resolve([]),\r\n  addAuthor: (author: Omit<Author, 'id'>, institutionCode?: string): Promise<number> => ipcRenderer?.invoke('db:addAuthor', {\r\n    ...author,\r\n    localId: author.localId || `author_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n    syncStatus: author.syncStatus || 'pending',\r\n    lastModified: author.lastModified || new Date().toISOString(),\r\n    version: author.version || 1,\r\n    createdAt: author.createdAt || new Date().toISOString()\r\n  }, institutionCode) || Promise.resolve(0),\r\n  \r\n  // Database operations - Categories\r\n  getCategories: (institutionCode?: string): Promise<Category[]> => ipcRenderer?.invoke('db:getCategories', institutionCode) || Promise.resolve([]),\r\n  addCategory: (category: Omit<Category, 'id'>, institutionCode?: string): Promise<number> => ipcRenderer?.invoke('db:addCategory', {\r\n    ...category,\r\n    localId: category.localId || `category_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n    syncStatus: category.syncStatus || 'pending',\r\n    lastModified: category.lastModified || new Date().toISOString(),\r\n    version: category.version || 1,\r\n    createdAt: category.createdAt || new Date().toISOString()\r\n  }, institutionCode) || Promise.resolve(0),\r\n  \r\n  // Database operations - Borrowers\r\n  getBorrowers: (institutionCode?: string): Promise<Borrower[]> => ipcRenderer?.invoke('db:getBorrowers', institutionCode) || Promise.resolve([]),\r\n  addBorrower: (borrower: Omit<Borrower, 'id'>, institutionCode?: string): Promise<number> => ipcRenderer?.invoke('db:addBorrower', {\r\n    ...borrower,\r\n    localId: borrower.localId || `borrower_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n    syncStatus: borrower.syncStatus || 'pending',\r\n    lastModified: borrower.lastModified || new Date().toISOString(),\r\n    version: borrower.version || 1,\r\n    createdAt: borrower.createdAt || new Date().toISOString()\r\n  }, institutionCode) || Promise.resolve(0),\r\n  updateBorrower: (borrower: Borrower, institutionCode?: string): Promise<boolean> => ipcRenderer?.invoke('db:updateBorrower', {\r\n    ...borrower,\r\n    lastModified: new Date().toISOString(),\r\n    version: (borrower.version || 1) + 1,\r\n    syncStatus: 'pending'\r\n  }, institutionCode) || Promise.resolve(false),\r\n  deleteBorrower: (id: number, institutionCode?: string): Promise<boolean> => ipcRenderer?.invoke('db:deleteBorrower', id, institutionCode) || Promise.resolve(false),\r\n  searchBorrowers: (query: string, institutionCode?: string): Promise<Borrower[]> => ipcRenderer?.invoke('db:searchBorrowers', query, institutionCode) || Promise.resolve([]),\r\n  \r\n  // Borrow operations\r\n  getBorrowedDocuments: (institutionCode?: string): Promise<BorrowHistory[]> => ipcRenderer?.invoke('db:getBorrowedDocuments', institutionCode) || Promise.resolve([]),\r\n  // Compatibility method\r\n  getBorrowedBooks: (institutionCode?: string): Promise<BorrowHistory[]> => ipcRenderer?.invoke('db:getBorrowedDocuments', institutionCode) || Promise.resolve([]),\r\n  borrowDocument: (documentId: number, borrowerId: number, expectedReturnDate: string, institutionCode?: string): Promise<number> => \r\n    ipcRenderer?.invoke('db:borrowDocument', documentId, borrowerId, expectedReturnDate, institutionCode) || Promise.resolve(0),\r\n  // Compatibility method\r\n  borrowBook: (documentId: number, borrowerId: number, expectedReturnDate: string, institutionCode?: string): Promise<number> => \r\n    ipcRenderer?.invoke('db:borrowDocument', documentId, borrowerId, expectedReturnDate, institutionCode) || Promise.resolve(0),\r\n  returnBook: (borrowHistoryId: number, notes?: string, institutionCode?: string): Promise<boolean> => \r\n    ipcRenderer?.invoke('db:returnBook', borrowHistoryId, notes, institutionCode) || Promise.resolve(false),\r\n  getBorrowHistory: (filter?: HistoryFilter, institutionCode?: string): Promise<BorrowHistory[]> => \r\n    ipcRenderer?.invoke('db:getBorrowHistory', filter, institutionCode) || Promise.resolve([]),\r\n  \r\n  // Institution info\r\n  saveInstitutionInfo: (info: any): Promise<{ success: boolean }> => \r\n    ipcRenderer?.invoke('db:saveInstitutionInfo', info) || Promise.resolve({ success: false }),\r\n  getInstitutionInfo: (institutionCode: string): Promise<any> => \r\n    ipcRenderer?.invoke('db:getInstitutionInfo', institutionCode) || Promise.resolve(null),\r\n  \r\n  // Statistics\r\n  getStats: (institutionCode?: string): Promise<Stats> => ipcRenderer?.invoke('db:getStats', institutionCode) || Promise.resolve({\r\n    totalDocuments: 0,\r\n    borrowedDocuments: 0,\r\n    availableDocuments: 0,\r\n    totalAuthors: 0,\r\n    totalCategories: 0,\r\n    totalBorrowers: 0,\r\n    totalStudents: 0,\r\n    totalStaff: 0,\r\n    overdueBooks: 0\r\n  }),\r\n  getAdvancedStats: (institutionCode?: string): Promise<any> => ipcRenderer?.invoke('stats:advanced', institutionCode) || Promise.resolve({}),\r\n\r\n  // Recent Activity\r\n  getRecentActivity: (limit?: number, institutionCode?: string): Promise<any[]> => \r\n    ipcRenderer?.invoke('db:getRecentActivity', limit, institutionCode) || Promise.resolve([]),\r\n  \r\n  // Database operations - Orphan data management\r\n  getOrphanDataCount: (): Promise<{ documents: number; authors: number; categories: number; borrowers: number; borrowHistory: number }> => \r\n    ipcRenderer?.invoke('db:getOrphanDataCount') || Promise.resolve({ documents: 0, authors: 0, categories: 0, borrowers: 0, borrowHistory: 0 }),\r\n  \r\n  assignOrphanDataToInstitution: (institutionCode: string): Promise<{ documents: number; authors: number; categories: number; borrowers: number; borrowHistory: number }> => \r\n    ipcRenderer?.invoke('db:assignOrphanDataToInstitution', institutionCode) || Promise.resolve({ documents: 0, authors: 0, categories: 0, borrowers: 0, borrowHistory: 0 }),\r\n  \r\n  // Settings management\r\n  getSettings: (): Promise<ApplicationSettings | null> => ipcRenderer?.invoke('settings:get') || Promise.resolve(null),\r\n  saveSettings: (settings: ApplicationSettings): Promise<boolean> => ipcRenderer?.invoke('settings:save', settings) || Promise.resolve(false),\r\n  \r\n  // Backup and restore operations (complet)\r\n  createBackup: (name?: string, description?: string): Promise<{success: boolean; path?: string; error?: string}> => \r\n    ipcRenderer?.invoke('backup:create', name, description) || Promise.resolve({success: false, error: 'IPC not available'}),\r\n  getBackupList: (): Promise<{success: boolean; backups: any[]; error?: string}> => \r\n    ipcRenderer?.invoke('backup:getList') || Promise.resolve({success: false, backups: [], error: 'IPC not available'}),\r\n  restoreBackup: (backupFilePath: string): Promise<{success: boolean; error?: string}> => \r\n    ipcRenderer?.invoke('backup:restore', backupFilePath) || Promise.resolve({success: false, error: 'IPC not available'}),\r\n  deleteBackup: (backupFilePath: string): Promise<{success: boolean; error?: string}> => \r\n    ipcRenderer?.invoke('backup:delete', backupFilePath) || Promise.resolve({success: false, error: 'IPC not available'}),\r\n  validateBackup: (backupFilePath: string): Promise<{success: boolean; isValid: boolean; error?: string}> => \r\n    ipcRenderer?.invoke('backup:validate', backupFilePath) || Promise.resolve({success: false, isValid: false, error: 'IPC not available'}),\r\n  cleanOldBackups: (keepCount?: number): Promise<{success: boolean; deletedCount: number; error?: string}> => \r\n    ipcRenderer?.invoke('backup:cleanOld', keepCount) || Promise.resolve({success: false, deletedCount: 0, error: 'IPC not available'}),\r\n  getBackupStats: (): Promise<{success: boolean; stats?: any; error?: string}> => \r\n    ipcRenderer?.invoke('backup:getStats') || Promise.resolve({success: false, error: 'IPC not available'}),\r\n  selectBackupFile: (): Promise<{success: boolean; filePath?: string; error?: string}> => \r\n    ipcRenderer?.invoke('backup:selectFile') || Promise.resolve({success: false, error: 'IPC not available'}),\r\n  clearAllData: (): Promise<boolean> => ipcRenderer?.invoke('db:clearAll') || Promise.resolve(false),\r\n  \r\n  // Export/Import operations (enhanced)\r\n  exportDatabase: (): Promise<{success: boolean; path?: string; error?: string}> => \r\n    ipcRenderer?.invoke('backup:exportDatabase') || Promise.resolve({success: false, error: 'IPC not available'}),\r\n  importDatabase: (): Promise<{success: boolean; path?: string; error?: string}> => \r\n    ipcRenderer?.invoke('backup:importDatabase') || Promise.resolve({success: false, error: 'IPC not available'}),\r\n  \r\n  // Print operations\r\n  printInventory: (data: any): Promise<boolean> => ipcRenderer?.invoke('print:inventory', data) || Promise.resolve(false),\r\n  printAvailableBooks: (data: any): Promise<boolean> => ipcRenderer?.invoke('print:available-books', data) || Promise.resolve(false),\r\n  printBorrowedBooks: (data: any): Promise<boolean> => ipcRenderer?.invoke('print:borrowed-books', data) || Promise.resolve(false),\r\n  printBorrowHistory: (data: any): Promise<boolean> => ipcRenderer?.invoke('print:borrow-history', data) || Promise.resolve(false),\r\n  \r\n  // Export operations\r\n  exportCSV: (data: any): Promise<string | null> => ipcRenderer?.invoke('export:csv', data) || Promise.resolve(null),\r\n  exportAdvanced: (config: any, institutionCode?: string): Promise<{ success: boolean; path?: string; error?: string; cancelled?: boolean }> => \r\n    ipcRenderer?.invoke('export:advanced', config, institutionCode) || Promise.resolve({ success: false, error: 'IPC not available' }),\r\n  \r\n  // File operations\r\n  selectFile: (options?: any): Promise<string | null> => ipcRenderer?.invoke('file:select', options) || Promise.resolve(null),\r\n  selectDirectory: (): Promise<string | null> => ipcRenderer?.invoke('file:selectDirectory') || Promise.resolve(null),\r\n  \r\n  // Notification operations\r\n  showNotification: (title: string, body: string): Promise<void> => \r\n    ipcRenderer?.invoke('notification:show', title, body) || Promise.resolve(),\r\n  \r\n  // System information\r\n  getSystemInfo: (): Promise<any> => ipcRenderer?.invoke('system:info') || Promise.resolve({}),\r\n  \r\n  // Application updates\r\n  checkForUpdates: (): Promise<any> => ipcRenderer?.invoke('system:checkUpdates') || Promise.resolve({}),\r\n  \r\n  // Theme operations\r\n  setTheme: (theme: string): Promise<void> => ipcRenderer?.invoke('theme:set', theme) || Promise.resolve(),\r\n  getTheme: (): Promise<string> => ipcRenderer?.invoke('theme:get') || Promise.resolve('light'),\r\n  \r\n  // Synchronization operations\r\n  getSyncStatus: (): Promise<SyncStatus> => ipcRenderer?.invoke('sync:getStatus') || Promise.resolve({\r\n    isOnline: false,\r\n    lastSync: null,\r\n    pendingOperations: 0,\r\n    syncInProgress: false,\r\n    errors: []\r\n  }),\r\n  triggerSync: (): Promise<boolean> => ipcRenderer?.invoke('sync:trigger') || Promise.resolve(false),\r\n  clearSyncErrors: (): Promise<boolean> => ipcRenderer?.invoke('sync:clearErrors') || Promise.resolve(false),\r\n  retrySyncOperation: (operationId: string): Promise<boolean> => ipcRenderer?.invoke('sync:retry', operationId) || Promise.resolve(false)\r\n};\r\n\r\n// Type guard pour vérifier si nous sommes dans un environnement qui a accès à la fenêtre\r\nfunction hasWindowAccess(): boolean {\r\n  try {\r\n    return typeof globalThis !== 'undefined' && \r\n           'window' in globalThis && \r\n           (globalThis as any).window !== undefined;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\n// Exposer l'API seulement si contextBridge est disponible\r\nif (typeof contextBridge !== 'undefined' && typeof ipcRenderer !== 'undefined') {\r\n  try {\r\n    contextBridge.exposeInMainWorld('electronAPI', electronAPI);\r\n    console.log('✅ electronAPI exposed via contextBridge');\r\n  } catch (error) {\r\n    console.error('❌ Failed to expose electronAPI:', error);\r\n    // Fallback: exposer directement sur globalThis si disponible\r\n    if (hasWindowAccess()) {\r\n      (globalThis as any).window.electronAPI = electronAPI;\r\n      console.log('⚠️ electronAPI exposed directly on window (fallback)');\r\n    }\r\n  }\r\n} else {\r\n  console.warn('⚠️ contextBridge or ipcRenderer not available, using fallback');\r\n  // Fallback pour les environnements où contextBridge n'est pas disponible\r\n  if (hasWindowAccess()) {\r\n    (globalThis as any).window.electronAPI = electronAPI;\r\n    console.log('⚠️ electronAPI exposed directly on window (no contextBridge)');\r\n  } else {\r\n    console.error('❌ Window object not available');\r\n  }\r\n}","module.exports = require(\"electron\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/preload.ts\");\n",""],"names":[],"sourceRoot":""}